(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(factory());
}(this, (function () { 'use strict';

	var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

	function unwrapExports (x) {
		return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
	}

	function createCommonjsModule(fn, module) {
		return module = { exports: {} }, fn(module, module.exports), module.exports;
	}

	/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
	/* eslint-disable no-unused-vars */

	var getOwnPropertySymbols = Object.getOwnPropertySymbols;
	var hasOwnProperty = Object.prototype.hasOwnProperty;
	var propIsEnumerable = Object.prototype.propertyIsEnumerable;

	function toObject(val) {
		if (val === null || val === undefined) {
			throw new TypeError('Object.assign cannot be called with null or undefined');
		}

		return Object(val);
	}

	function shouldUseNative() {
		try {
			if (!Object.assign) {
				return false;
			}

			// Detect buggy property enumeration order in older V8 versions.

			// https://bugs.chromium.org/p/v8/issues/detail?id=4118
			var test1 = new String('abc'); // eslint-disable-line no-new-wrappers
			test1[5] = 'de';
			if (Object.getOwnPropertyNames(test1)[0] === '5') {
				return false;
			}

			// https://bugs.chromium.org/p/v8/issues/detail?id=3056
			var test2 = {};
			for (var i = 0; i < 10; i++) {
				test2['_' + String.fromCharCode(i)] = i;
			}
			var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
				return test2[n];
			});
			if (order2.join('') !== '0123456789') {
				return false;
			}

			// https://bugs.chromium.org/p/v8/issues/detail?id=3056
			var test3 = {};
			'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
				test3[letter] = letter;
			});
			if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {
				return false;
			}

			return true;
		} catch (err) {
			// We don't expect any of the above to throw, but better to be safe.
			return false;
		}
	}

	var objectAssign = shouldUseNative() ? Object.assign : function (target, source) {
		var from;
		var to = toObject(target);
		var symbols;

		for (var s = 1; s < arguments.length; s++) {
			from = Object(arguments[s]);

			for (var key in from) {
				if (hasOwnProperty.call(from, key)) {
					to[key] = from[key];
				}
			}

			if (getOwnPropertySymbols) {
				symbols = getOwnPropertySymbols(from);
				for (var i = 0; i < symbols.length; i++) {
					if (propIsEnumerable.call(from, symbols[i])) {
						to[symbols[i]] = from[symbols[i]];
					}
				}
			}
		}

		return to;
	};

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 *
	 */

	function invariant(condition, format, a, b, c, d, e, f) {

	  if (!condition) {
	    var error;
	    if (format === undefined) {
	      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');
	    } else {
	      var args = [a, b, c, d, e, f];
	      var argIndex = 0;
	      error = new Error(format.replace(/%s/g, function () {
	        return args[argIndex++];
	      }));
	      error.name = 'Invariant Violation';
	    }

	    error.framesToPop = 1; // we don't care about invariant's own frame
	    throw error;
	  }
	}

	var invariant_1 = invariant;

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 *
	 */

	var emptyObject = {};

	var emptyObject_1 = emptyObject;

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 *
	 * 
	 */

	function makeEmptyFunction(arg) {
	  return function () {
	    return arg;
	  };
	}

	/**
	 * This function accepts and discards inputs; it has no side effects. This is
	 * primarily useful idiomatically for overridable function endpoints which
	 * always need to be callable, since JS lacks a null-call idiom ala Cocoa.
	 */
	var emptyFunction = function emptyFunction() {};

	emptyFunction.thatReturns = makeEmptyFunction;
	emptyFunction.thatReturnsFalse = makeEmptyFunction(false);
	emptyFunction.thatReturnsTrue = makeEmptyFunction(true);
	emptyFunction.thatReturnsNull = makeEmptyFunction(null);
	emptyFunction.thatReturnsThis = function () {
	  return this;
	};
	emptyFunction.thatReturnsArgument = function (arg) {
	  return arg;
	};

	var emptyFunction_1 = emptyFunction;

	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
	  return typeof obj;
	} : function (obj) {
	  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
	};

	var classCallCheck = function (instance, Constructor) {
	  if (!(instance instanceof Constructor)) {
	    throw new TypeError("Cannot call a class as a function");
	  }
	};

	var createClass = function () {
	  function defineProperties(target, props) {
	    for (var i = 0; i < props.length; i++) {
	      var descriptor = props[i];
	      descriptor.enumerable = descriptor.enumerable || false;
	      descriptor.configurable = true;
	      if ("value" in descriptor) descriptor.writable = true;
	      Object.defineProperty(target, descriptor.key, descriptor);
	    }
	  }

	  return function (Constructor, protoProps, staticProps) {
	    if (protoProps) defineProperties(Constructor.prototype, protoProps);
	    if (staticProps) defineProperties(Constructor, staticProps);
	    return Constructor;
	  };
	}();

	var defineProperty = function (obj, key, value) {
	  if (key in obj) {
	    Object.defineProperty(obj, key, {
	      value: value,
	      enumerable: true,
	      configurable: true,
	      writable: true
	    });
	  } else {
	    obj[key] = value;
	  }

	  return obj;
	};

	var _extends = Object.assign || function (target) {
	  for (var i = 1; i < arguments.length; i++) {
	    var source = arguments[i];

	    for (var key in source) {
	      if (Object.prototype.hasOwnProperty.call(source, key)) {
	        target[key] = source[key];
	      }
	    }
	  }

	  return target;
	};

	var inherits = function (subClass, superClass) {
	  if (typeof superClass !== "function" && superClass !== null) {
	    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
	  }

	  subClass.prototype = Object.create(superClass && superClass.prototype, {
	    constructor: {
	      value: subClass,
	      enumerable: false,
	      writable: true,
	      configurable: true
	    }
	  });
	  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	};

	var objectWithoutProperties = function (obj, keys) {
	  var target = {};

	  for (var i in obj) {
	    if (keys.indexOf(i) >= 0) continue;
	    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;
	    target[i] = obj[i];
	  }

	  return target;
	};

	var possibleConstructorReturn = function (self, call) {
	  if (!self) {
	    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
	  }

	  return call && (typeof call === "object" || typeof call === "function") ? call : self;
	};

	var slicedToArray = function () {
	  function sliceIterator(arr, i) {
	    var _arr = [];
	    var _n = true;
	    var _d = false;
	    var _e = undefined;

	    try {
	      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
	        _arr.push(_s.value);

	        if (i && _arr.length === i) break;
	      }
	    } catch (err) {
	      _d = true;
	      _e = err;
	    } finally {
	      try {
	        if (!_n && _i["return"]) _i["return"]();
	      } finally {
	        if (_d) throw _e;
	      }
	    }

	    return _arr;
	  }

	  return function (arr, i) {
	    if (Array.isArray(arr)) {
	      return arr;
	    } else if (Symbol.iterator in Object(arr)) {
	      return sliceIterator(arr, i);
	    } else {
	      throw new TypeError("Invalid attempt to destructure non-iterable instance");
	    }
	  };
	}();

	var r = "function" === typeof Symbol && Symbol.for,
	    t = r ? Symbol.for("react.element") : 60103,
	    u = r ? Symbol.for("react.portal") : 60106,
	    v = r ? Symbol.for("react.fragment") : 60107,
	    w = r ? Symbol.for("react.strict_mode") : 60108,
	    x = r ? Symbol.for("react.profiler") : 60114,
	    y = r ? Symbol.for("react.provider") : 60109,
	    z = r ? Symbol.for("react.context") : 60110,
	    A = r ? Symbol.for("react.async_mode") : 60111,
	    B = r ? Symbol.for("react.forward_ref") : 60112;var C = "function" === typeof Symbol && Symbol.iterator;function D(a) {
	  for (var b = arguments.length - 1, e = "https://reactjs.org/docs/error-decoder.html?invariant=" + a, c = 0; c < b; c++) {
	    e += "&args[]=" + encodeURIComponent(arguments[c + 1]);
	  }invariant_1(!1, "Minified React error #" + a + "; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ", e);
	}
	var E = { isMounted: function isMounted() {
	    return !1;
	  }, enqueueForceUpdate: function enqueueForceUpdate() {}, enqueueReplaceState: function enqueueReplaceState() {}, enqueueSetState: function enqueueSetState() {} };function F(a, b, e) {
	  this.props = a;this.context = b;this.refs = emptyObject_1;this.updater = e || E;
	}F.prototype.isReactComponent = {};F.prototype.setState = function (a, b) {
	  "object" !== (typeof a === 'undefined' ? 'undefined' : _typeof(a)) && "function" !== typeof a && null != a ? D("85") : void 0;this.updater.enqueueSetState(this, a, b, "setState");
	};F.prototype.forceUpdate = function (a) {
	  this.updater.enqueueForceUpdate(this, a, "forceUpdate");
	};function G() {}
	G.prototype = F.prototype;function H(a, b, e) {
	  this.props = a;this.context = b;this.refs = emptyObject_1;this.updater = e || E;
	}var I = H.prototype = new G();I.constructor = H;objectAssign(I, F.prototype);I.isPureReactComponent = !0;var J = { current: null },
	    K = Object.prototype.hasOwnProperty,
	    L = { key: !0, ref: !0, __self: !0, __source: !0 };
	function M(a, b, e) {
	  var c = void 0,
	      d = {},
	      g = null,
	      h = null;if (null != b) for (c in void 0 !== b.ref && (h = b.ref), void 0 !== b.key && (g = "" + b.key), b) {
	    K.call(b, c) && !L.hasOwnProperty(c) && (d[c] = b[c]);
	  }var f = arguments.length - 2;if (1 === f) d.children = e;else if (1 < f) {
	    for (var l = Array(f), m = 0; m < f; m++) {
	      l[m] = arguments[m + 2];
	    }d.children = l;
	  }if (a && a.defaultProps) for (c in f = a.defaultProps, f) {
	    void 0 === d[c] && (d[c] = f[c]);
	  }return { $$typeof: t, type: a, key: g, ref: h, props: d, _owner: J.current };
	}
	function N(a) {
	  return "object" === (typeof a === 'undefined' ? 'undefined' : _typeof(a)) && null !== a && a.$$typeof === t;
	}function escape(a) {
	  var b = { "=": "=0", ":": "=2" };return "$" + ("" + a).replace(/[=:]/g, function (a) {
	    return b[a];
	  });
	}var O = /\/+/g,
	    P = [];function Q(a, b, e, c) {
	  if (P.length) {
	    var d = P.pop();d.result = a;d.keyPrefix = b;d.func = e;d.context = c;d.count = 0;return d;
	  }return { result: a, keyPrefix: b, func: e, context: c, count: 0 };
	}function R(a) {
	  a.result = null;a.keyPrefix = null;a.func = null;a.context = null;a.count = 0;10 > P.length && P.push(a);
	}
	function S(a, b, e, c) {
	  var d = typeof a === 'undefined' ? 'undefined' : _typeof(a);if ("undefined" === d || "boolean" === d) a = null;var g = !1;if (null === a) g = !0;else switch (d) {case "string":case "number":
	      g = !0;break;case "object":
	      switch (a.$$typeof) {case t:case u:
	          g = !0;}}if (g) return e(c, a, "" === b ? "." + T(a, 0) : b), 1;g = 0;b = "" === b ? "." : b + ":";if (Array.isArray(a)) for (var h = 0; h < a.length; h++) {
	    d = a[h];var f = b + T(d, h);g += S(d, f, e, c);
	  } else if (null === a || "undefined" === typeof a ? f = null : (f = C && a[C] || a["@@iterator"], f = "function" === typeof f ? f : null), "function" === typeof f) for (a = f.call(a), h = 0; !(d = a.next()).done;) {
	    d = d.value, f = b + T(d, h++), g += S(d, f, e, c);
	  } else "object" === d && (e = "" + a, D("31", "[object Object]" === e ? "object with keys {" + Object.keys(a).join(", ") + "}" : e, ""));return g;
	}function T(a, b) {
	  return "object" === (typeof a === 'undefined' ? 'undefined' : _typeof(a)) && null !== a && null != a.key ? escape(a.key) : b.toString(36);
	}function U(a, b) {
	  a.func.call(a.context, b, a.count++);
	}
	function V(a, b, e) {
	  var c = a.result,
	      d = a.keyPrefix;a = a.func.call(a.context, b, a.count++);Array.isArray(a) ? W(a, c, e, emptyFunction_1.thatReturnsArgument) : null != a && (N(a) && (b = d + (!a.key || b && b.key === a.key ? "" : ("" + a.key).replace(O, "$&/") + "/") + e, a = { $$typeof: t, type: a.type, key: b, ref: a.ref, props: a.props, _owner: a._owner }), c.push(a));
	}function W(a, b, e, c, d) {
	  var g = "";null != e && (g = ("" + e).replace(O, "$&/") + "/");b = Q(b, g, c, d);null == a || S(a, "", V, b);R(b);
	}
	var X = { Children: { map: function map(a, b, e) {
	      if (null == a) return a;var c = [];W(a, c, null, b, e);return c;
	    }, forEach: function forEach(a, b, e) {
	      if (null == a) return a;b = Q(null, null, b, e);null == a || S(a, "", U, b);R(b);
	    }, count: function count(a) {
	      return null == a ? 0 : S(a, "", emptyFunction_1.thatReturnsNull, null);
	    }, toArray: function toArray$$1(a) {
	      var b = [];W(a, b, null, emptyFunction_1.thatReturnsArgument);return b;
	    }, only: function only(a) {
	      N(a) ? void 0 : D("143");return a;
	    } }, createRef: function createRef() {
	    return { current: null };
	  }, Component: F, PureComponent: H, createContext: function createContext(a, b) {
	    void 0 === b && (b = null);a = { $$typeof: z,
	      _calculateChangedBits: b, _defaultValue: a, _currentValue: a, _currentValue2: a, _changedBits: 0, _changedBits2: 0, Provider: null, Consumer: null };a.Provider = { $$typeof: y, _context: a };return a.Consumer = a;
	  }, forwardRef: function forwardRef(a) {
	    return { $$typeof: B, render: a };
	  }, Fragment: v, StrictMode: w, unstable_AsyncMode: A, unstable_Profiler: x, createElement: M, cloneElement: function cloneElement(a, b, e) {
	    null === a || void 0 === a ? D("267", a) : void 0;var c = void 0,
	        d = objectAssign({}, a.props),
	        g = a.key,
	        h = a.ref,
	        f = a._owner;if (null != b) {
	      void 0 !== b.ref && (h = b.ref, f = J.current);void 0 !== b.key && (g = "" + b.key);var l = void 0;a.type && a.type.defaultProps && (l = a.type.defaultProps);for (c in b) {
	        K.call(b, c) && !L.hasOwnProperty(c) && (d[c] = void 0 === b[c] && void 0 !== l ? l[c] : b[c]);
	      }
	    }c = arguments.length - 2;if (1 === c) d.children = e;else if (1 < c) {
	      l = Array(c);for (var m = 0; m < c; m++) {
	        l[m] = arguments[m + 2];
	      }d.children = l;
	    }return { $$typeof: t, type: a.type, key: g, ref: h, props: d, _owner: f };
	  }, createFactory: function createFactory(a) {
	    var b = M.bind(null, a);b.type = a;return b;
	  }, isValidElement: N, version: "16.4.1", __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: { ReactCurrentOwner: J,
	    assign: objectAssign } },
	    Y = { default: X },
	    Z = Y && X || Y;var react_production_min = Z.default ? Z.default : Z;

	/**
	 * Similar to invariant but only logs a warning if the condition is not met.
	 * This can be used to log issues in development environments in critical
	 * paths. Removing the logging code for production environments will keep the
	 * same logic and follow the same code paths.
	 */

	var warning = emptyFunction_1;



	var warning_1 = warning;

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */

	var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

	var ReactPropTypesSecret_1 = ReactPropTypesSecret;

	var react_development = createCommonjsModule(function (module) {
	});

	var react = createCommonjsModule(function (module) {

	  {
	    module.exports = react_production_min;
	  }
	});
	var react_1 = react.Children;
	var react_2 = react.Component;
	var react_3 = react.PropTypes;
	var react_4 = react.createElement;
	var react_5 = react.cloneElement;
	var react_6 = react.isValidElement;
	var react_7 = react.createContext;
	var react_8 = react.createRef;

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 *
	 */

	var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);

	/**
	 * Simple, lightweight module assisting with the detection and context of
	 * Worker. Helps avoid circular dependencies and allows code to reason about
	 * whether or not they are in a Worker, even if they never include the main
	 * `ReactWorker` dependency.
	 */
	var ExecutionEnvironment = {

	  canUseDOM: canUseDOM,

	  canUseWorkers: typeof Worker !== 'undefined',

	  canUseEventListeners: canUseDOM && !!(window.addEventListener || window.attachEvent),

	  canUseViewport: canUseDOM && !!window.screen,

	  isInWorker: !canUseDOM // For now, this is true - might change in the future.

	};

	var ExecutionEnvironment_1 = ExecutionEnvironment;

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 *
	 * @typechecks
	 */

	/* eslint-disable fb-www/typeof-undefined */

	/**
	 * Same as document.activeElement but wraps in a try-catch block. In IE it is
	 * not safe to call document.activeElement if there is nothing focused.
	 *
	 * The activeElement will be null only if the document or document body is not
	 * yet defined.
	 *
	 * @param {?DOMDocument} doc Defaults to current document.
	 * @return {?DOMElement}
	 */

	function getActiveElement(doc) /*?DOMElement*/{
	  doc = doc || (typeof document !== 'undefined' ? document : undefined);
	  if (typeof doc === 'undefined') {
	    return null;
	  }
	  try {
	    return doc.activeElement || doc.body;
	  } catch (e) {
	    return doc.body;
	  }
	}

	var getActiveElement_1 = getActiveElement;

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 *
	 * @typechecks
	 * 
	 */

	var hasOwnProperty$1 = Object.prototype.hasOwnProperty;

	/**
	 * inlined Object.is polyfill to avoid requiring consumers ship their own
	 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
	 */
	function is(x, y) {
	  // SameValue algorithm
	  if (x === y) {
	    // Steps 1-5, 7-10
	    // Steps 6.b-6.e: +0 != -0
	    // Added the nonzero y check to make Flow happy, but it is redundant
	    return x !== 0 || y !== 0 || 1 / x === 1 / y;
	  } else {
	    // Step 6.a: NaN == NaN
	    return x !== x && y !== y;
	  }
	}

	/**
	 * Performs equality by iterating through keys on an object and returning false
	 * when any key has values which are not strictly equal between the arguments.
	 * Returns true when the values of all keys are strictly equal.
	 */
	function shallowEqual(objA, objB) {
	  if (is(objA, objB)) {
	    return true;
	  }

	  if ((typeof objA === 'undefined' ? 'undefined' : _typeof(objA)) !== 'object' || objA === null || (typeof objB === 'undefined' ? 'undefined' : _typeof(objB)) !== 'object' || objB === null) {
	    return false;
	  }

	  var keysA = Object.keys(objA);
	  var keysB = Object.keys(objB);

	  if (keysA.length !== keysB.length) {
	    return false;
	  }

	  // Test for A's keys different from B.
	  for (var i = 0; i < keysA.length; i++) {
	    if (!hasOwnProperty$1.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {
	      return false;
	    }
	  }

	  return true;
	}

	var shallowEqual_1 = shallowEqual;

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 *
	 * @typechecks
	 */

	/**
	 * @param {*} object The object to check.
	 * @return {boolean} Whether or not the object is a DOM node.
	 */

	function isNode(object) {
	  var doc = object ? object.ownerDocument || object : document;
	  var defaultView = doc.defaultView || window;
	  return !!(object && (typeof defaultView.Node === 'function' ? object instanceof defaultView.Node : (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string'));
	}

	var isNode_1 = isNode;

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 *
	 * @typechecks
	 */

	/**
	 * @param {*} object The object to check.
	 * @return {boolean} Whether or not the object is a DOM text node.
	 */
	function isTextNode(object) {
	  return isNode_1(object) && object.nodeType == 3;
	}

	var isTextNode_1 = isTextNode;

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 *
	 * 
	 */

	/*eslint-disable no-bitwise */

	/**
	 * Checks if a given DOM node contains or is another DOM node.
	 */
	function containsNode(outerNode, innerNode) {
	  if (!outerNode || !innerNode) {
	    return false;
	  } else if (outerNode === innerNode) {
	    return true;
	  } else if (isTextNode_1(outerNode)) {
	    return false;
	  } else if (isTextNode_1(innerNode)) {
	    return containsNode(outerNode, innerNode.parentNode);
	  } else if ('contains' in outerNode) {
	    return outerNode.contains(innerNode);
	  } else if (outerNode.compareDocumentPosition) {
	    return !!(outerNode.compareDocumentPosition(innerNode) & 16);
	  } else {
	    return false;
	  }
	}

	var containsNode_1 = containsNode;

	function A$1(a) {
	  for (var b = arguments.length - 1, c = "https://reactjs.org/docs/error-decoder.html?invariant=" + a, d = 0; d < b; d++) {
	    c += "&args[]=" + encodeURIComponent(arguments[d + 1]);
	  }invariant_1(!1, "Minified React error #" + a + "; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ", c);
	}react ? void 0 : A$1("227");
	function ia(a, b, c, d, e, f, g, h, k) {
	  this._hasCaughtError = !1;this._caughtError = null;var n = Array.prototype.slice.call(arguments, 3);try {
	    b.apply(c, n);
	  } catch (r) {
	    this._caughtError = r, this._hasCaughtError = !0;
	  }
	}
	var B$1 = { _caughtError: null, _hasCaughtError: !1, _rethrowError: null, _hasRethrowError: !1, invokeGuardedCallback: function invokeGuardedCallback(a, b, c, d, e, f, g, h, k) {
	    ia.apply(B$1, arguments);
	  }, invokeGuardedCallbackAndCatchFirstError: function invokeGuardedCallbackAndCatchFirstError(a, b, c, d, e, f, g, h, k) {
	    B$1.invokeGuardedCallback.apply(this, arguments);if (B$1.hasCaughtError()) {
	      var n = B$1.clearCaughtError();B$1._hasRethrowError || (B$1._hasRethrowError = !0, B$1._rethrowError = n);
	    }
	  }, rethrowCaughtError: function rethrowCaughtError() {
	    return ka.apply(B$1, arguments);
	  }, hasCaughtError: function hasCaughtError() {
	    return B$1._hasCaughtError;
	  }, clearCaughtError: function clearCaughtError() {
	    if (B$1._hasCaughtError) {
	      var a = B$1._caughtError;B$1._caughtError = null;B$1._hasCaughtError = !1;return a;
	    }A$1("198");
	  } };function ka() {
	  if (B$1._hasRethrowError) {
	    var a = B$1._rethrowError;B$1._rethrowError = null;B$1._hasRethrowError = !1;throw a;
	  }
	}var la = null,
	    ma = {};
	function na() {
	  if (la) for (var a in ma) {
	    var b = ma[a],
	        c = la.indexOf(a);-1 < c ? void 0 : A$1("96", a);if (!oa[c]) {
	      b.extractEvents ? void 0 : A$1("97", a);oa[c] = b;c = b.eventTypes;for (var d in c) {
	        var e = void 0;var f = c[d],
	            g = b,
	            h = d;pa.hasOwnProperty(h) ? A$1("99", h) : void 0;pa[h] = f;var k = f.phasedRegistrationNames;if (k) {
	          for (e in k) {
	            k.hasOwnProperty(e) && qa(k[e], g, h);
	          }e = !0;
	        } else f.registrationName ? (qa(f.registrationName, g, h), e = !0) : e = !1;e ? void 0 : A$1("98", d, a);
	      }
	    }
	  }
	}
	function qa(a, b, c) {
	  ra[a] ? A$1("100", a) : void 0;ra[a] = b;sa[a] = b.eventTypes[c].dependencies;
	}var oa = [],
	    pa = {},
	    ra = {},
	    sa = {};function ta(a) {
	  la ? A$1("101") : void 0;la = Array.prototype.slice.call(a);na();
	}function ua(a) {
	  var b = !1,
	      c;for (c in a) {
	    if (a.hasOwnProperty(c)) {
	      var d = a[c];ma.hasOwnProperty(c) && ma[c] === d || (ma[c] ? A$1("102", c) : void 0, ma[c] = d, b = !0);
	    }
	  }b && na();
	}
	var va = { plugins: oa, eventNameDispatchConfigs: pa, registrationNameModules: ra, registrationNameDependencies: sa, possibleRegistrationNames: null, injectEventPluginOrder: ta, injectEventPluginsByName: ua },
	    wa = null,
	    xa = null,
	    ya = null;function za(a, b, c, d) {
	  b = a.type || "unknown-event";a.currentTarget = ya(d);B$1.invokeGuardedCallbackAndCatchFirstError(b, c, void 0, a);a.currentTarget = null;
	}
	function Aa(a, b) {
	  null == b ? A$1("30") : void 0;if (null == a) return b;if (Array.isArray(a)) {
	    if (Array.isArray(b)) return a.push.apply(a, b), a;a.push(b);return a;
	  }return Array.isArray(b) ? [a].concat(b) : [a, b];
	}function Ba(a, b, c) {
	  Array.isArray(a) ? a.forEach(b, c) : a && b.call(c, a);
	}var Ca = null;
	function Da(a, b) {
	  if (a) {
	    var c = a._dispatchListeners,
	        d = a._dispatchInstances;if (Array.isArray(c)) for (var e = 0; e < c.length && !a.isPropagationStopped(); e++) {
	      za(a, b, c[e], d[e]);
	    } else c && za(a, b, c, d);a._dispatchListeners = null;a._dispatchInstances = null;a.isPersistent() || a.constructor.release(a);
	  }
	}function Ea(a) {
	  return Da(a, !0);
	}function Fa(a) {
	  return Da(a, !1);
	}var Ga = { injectEventPluginOrder: ta, injectEventPluginsByName: ua };
	function Ha(a, b) {
	  var c = a.stateNode;if (!c) return null;var d = wa(c);if (!d) return null;c = d[b];a: switch (b) {case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":
	      (d = !d.disabled) || (a = a.type, d = !("button" === a || "input" === a || "select" === a || "textarea" === a));a = !d;break a;default:
	      a = !1;}if (a) return null;c && "function" !== typeof c ? A$1("231", b, typeof c === 'undefined' ? 'undefined' : _typeof(c)) : void 0;
	  return c;
	}function Ia(a, b) {
	  null !== a && (Ca = Aa(Ca, a));a = Ca;Ca = null;a && (b ? Ba(a, Ea) : Ba(a, Fa), Ca ? A$1("95") : void 0, B$1.rethrowCaughtError());
	}function Ja(a, b, c, d) {
	  for (var e = null, f = 0; f < oa.length; f++) {
	    var g = oa[f];g && (g = g.extractEvents(a, b, c, d)) && (e = Aa(e, g));
	  }Ia(e, !1);
	}var Ka = { injection: Ga, getListener: Ha, runEventsInBatch: Ia, runExtractedEventsInBatch: Ja },
	    La = Math.random().toString(36).slice(2),
	    C$1 = "__reactInternalInstance$" + La,
	    Ma = "__reactEventHandlers$" + La;
	function Na(a) {
	  if (a[C$1]) return a[C$1];for (; !a[C$1];) {
	    if (a.parentNode) a = a.parentNode;else return null;
	  }a = a[C$1];return 5 === a.tag || 6 === a.tag ? a : null;
	}function Oa(a) {
	  if (5 === a.tag || 6 === a.tag) return a.stateNode;A$1("33");
	}function Pa(a) {
	  return a[Ma] || null;
	}var Qa = { precacheFiberNode: function precacheFiberNode(a, b) {
	    b[C$1] = a;
	  }, getClosestInstanceFromNode: Na, getInstanceFromNode: function getInstanceFromNode(a) {
	    a = a[C$1];return !a || 5 !== a.tag && 6 !== a.tag ? null : a;
	  }, getNodeFromInstance: Oa, getFiberCurrentPropsFromNode: Pa, updateFiberProps: function updateFiberProps(a, b) {
	    a[Ma] = b;
	  } };
	function F$1(a) {
	  do {
	    a = a.return;
	  } while (a && 5 !== a.tag);return a ? a : null;
	}function Ra(a, b, c) {
	  for (var d = []; a;) {
	    d.push(a), a = F$1(a);
	  }for (a = d.length; 0 < a--;) {
	    b(d[a], "captured", c);
	  }for (a = 0; a < d.length; a++) {
	    b(d[a], "bubbled", c);
	  }
	}function Sa(a, b, c) {
	  if (b = Ha(a, c.dispatchConfig.phasedRegistrationNames[b])) c._dispatchListeners = Aa(c._dispatchListeners, b), c._dispatchInstances = Aa(c._dispatchInstances, a);
	}function Ta(a) {
	  a && a.dispatchConfig.phasedRegistrationNames && Ra(a._targetInst, Sa, a);
	}
	function Ua(a) {
	  if (a && a.dispatchConfig.phasedRegistrationNames) {
	    var b = a._targetInst;b = b ? F$1(b) : null;Ra(b, Sa, a);
	  }
	}function Va(a, b, c) {
	  a && c && c.dispatchConfig.registrationName && (b = Ha(a, c.dispatchConfig.registrationName)) && (c._dispatchListeners = Aa(c._dispatchListeners, b), c._dispatchInstances = Aa(c._dispatchInstances, a));
	}function Xa(a) {
	  a && a.dispatchConfig.registrationName && Va(a._targetInst, null, a);
	}function Ya(a) {
	  Ba(a, Ta);
	}
	function Za(a, b, c, d) {
	  if (c && d) a: {
	    var e = c;for (var f = d, g = 0, h = e; h; h = F$1(h)) {
	      g++;
	    }h = 0;for (var k = f; k; k = F$1(k)) {
	      h++;
	    }for (; 0 < g - h;) {
	      e = F$1(e), g--;
	    }for (; 0 < h - g;) {
	      f = F$1(f), h--;
	    }for (; g--;) {
	      if (e === f || e === f.alternate) break a;e = F$1(e);f = F$1(f);
	    }e = null;
	  } else e = null;f = e;for (e = []; c && c !== f;) {
	    g = c.alternate;if (null !== g && g === f) break;e.push(c);c = F$1(c);
	  }for (c = []; d && d !== f;) {
	    g = d.alternate;if (null !== g && g === f) break;c.push(d);d = F$1(d);
	  }for (d = 0; d < e.length; d++) {
	    Va(e[d], "bubbled", a);
	  }for (a = c.length; 0 < a--;) {
	    Va(c[a], "captured", b);
	  }
	}
	var $a = { accumulateTwoPhaseDispatches: Ya, accumulateTwoPhaseDispatchesSkipTarget: function accumulateTwoPhaseDispatchesSkipTarget(a) {
	    Ba(a, Ua);
	  }, accumulateEnterLeaveDispatches: Za, accumulateDirectDispatches: function accumulateDirectDispatches(a) {
	    Ba(a, Xa);
	  } };function ab(a, b) {
	  var c = {};c[a.toLowerCase()] = b.toLowerCase();c["Webkit" + a] = "webkit" + b;c["Moz" + a] = "moz" + b;c["ms" + a] = "MS" + b;c["O" + a] = "o" + b.toLowerCase();return c;
	}
	var bb = { animationend: ab("Animation", "AnimationEnd"), animationiteration: ab("Animation", "AnimationIteration"), animationstart: ab("Animation", "AnimationStart"), transitionend: ab("Transition", "TransitionEnd") },
	    cb = {},
	    db = {};ExecutionEnvironment_1.canUseDOM && (db = document.createElement("div").style, "AnimationEvent" in window || (delete bb.animationend.animation, delete bb.animationiteration.animation, delete bb.animationstart.animation), "TransitionEvent" in window || delete bb.transitionend.transition);
	function eb(a) {
	  if (cb[a]) return cb[a];if (!bb[a]) return a;var b = bb[a],
	      c;for (c in b) {
	    if (b.hasOwnProperty(c) && c in db) return cb[a] = b[c];
	  }return a;
	}var fb = eb("animationend"),
	    gb = eb("animationiteration"),
	    hb = eb("animationstart"),
	    ib = eb("transitionend"),
	    jb = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
	    kb = null;
	function lb() {
	  !kb && ExecutionEnvironment_1.canUseDOM && (kb = "textContent" in document.documentElement ? "textContent" : "innerText");return kb;
	}var G$1 = { _root: null, _startText: null, _fallbackText: null };function mb() {
	  if (G$1._fallbackText) return G$1._fallbackText;var a,
	      b = G$1._startText,
	      c = b.length,
	      d,
	      e = nb(),
	      f = e.length;for (a = 0; a < c && b[a] === e[a]; a++) {}var g = c - a;for (d = 1; d <= g && b[c - d] === e[f - d]; d++) {}G$1._fallbackText = e.slice(a, 1 < d ? 1 - d : void 0);return G$1._fallbackText;
	}function nb() {
	  return "value" in G$1._root ? G$1._root.value : G$1._root[lb()];
	}
	var ob = "dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),
	    pb = { type: null, target: null, currentTarget: emptyFunction_1.thatReturnsNull, eventPhase: null, bubbles: null, cancelable: null, timeStamp: function timeStamp(a) {
	    return a.timeStamp || Date.now();
	  }, defaultPrevented: null, isTrusted: null };
	function H$1(a, b, c, d) {
	  this.dispatchConfig = a;this._targetInst = b;this.nativeEvent = c;a = this.constructor.Interface;for (var e in a) {
	    a.hasOwnProperty(e) && ((b = a[e]) ? this[e] = b(c) : "target" === e ? this.target = d : this[e] = c[e]);
	  }this.isDefaultPrevented = (null != c.defaultPrevented ? c.defaultPrevented : !1 === c.returnValue) ? emptyFunction_1.thatReturnsTrue : emptyFunction_1.thatReturnsFalse;this.isPropagationStopped = emptyFunction_1.thatReturnsFalse;return this;
	}
	objectAssign(H$1.prototype, { preventDefault: function preventDefault() {
	    this.defaultPrevented = !0;var a = this.nativeEvent;a && (a.preventDefault ? a.preventDefault() : "unknown" !== typeof a.returnValue && (a.returnValue = !1), this.isDefaultPrevented = emptyFunction_1.thatReturnsTrue);
	  }, stopPropagation: function stopPropagation() {
	    var a = this.nativeEvent;a && (a.stopPropagation ? a.stopPropagation() : "unknown" !== typeof a.cancelBubble && (a.cancelBubble = !0), this.isPropagationStopped = emptyFunction_1.thatReturnsTrue);
	  }, persist: function persist() {
	    this.isPersistent = emptyFunction_1.thatReturnsTrue;
	  }, isPersistent: emptyFunction_1.thatReturnsFalse,
	  destructor: function destructor() {
	    var a = this.constructor.Interface,
	        b;for (b in a) {
	      this[b] = null;
	    }for (a = 0; a < ob.length; a++) {
	      this[ob[a]] = null;
	    }
	  } });H$1.Interface = pb;H$1.extend = function (a) {
	  function b() {}function c() {
	    return d.apply(this, arguments);
	  }var d = this;b.prototype = d.prototype;var e = new b();objectAssign(e, c.prototype);c.prototype = e;c.prototype.constructor = c;c.Interface = objectAssign({}, d.Interface, a);c.extend = d.extend;qb(c);return c;
	};qb(H$1);
	function rb(a, b, c, d) {
	  if (this.eventPool.length) {
	    var e = this.eventPool.pop();this.call(e, a, b, c, d);return e;
	  }return new this(a, b, c, d);
	}function sb(a) {
	  a instanceof this ? void 0 : A$1("223");a.destructor();10 > this.eventPool.length && this.eventPool.push(a);
	}function qb(a) {
	  a.eventPool = [];a.getPooled = rb;a.release = sb;
	}var tb = H$1.extend({ data: null }),
	    ub = H$1.extend({ data: null }),
	    vb = [9, 13, 27, 32],
	    wb = ExecutionEnvironment_1.canUseDOM && "CompositionEvent" in window,
	    xb = null;ExecutionEnvironment_1.canUseDOM && "documentMode" in document && (xb = document.documentMode);
	var yb = ExecutionEnvironment_1.canUseDOM && "TextEvent" in window && !xb,
	    zb = ExecutionEnvironment_1.canUseDOM && (!wb || xb && 8 < xb && 11 >= xb),
	    Ab = String.fromCharCode(32),
	    Bb = { beforeInput: { phasedRegistrationNames: { bubbled: "onBeforeInput", captured: "onBeforeInputCapture" }, dependencies: ["compositionend", "keypress", "textInput", "paste"] }, compositionEnd: { phasedRegistrationNames: { bubbled: "onCompositionEnd", captured: "onCompositionEndCapture" }, dependencies: "blur compositionend keydown keypress keyup mousedown".split(" ") }, compositionStart: { phasedRegistrationNames: { bubbled: "onCompositionStart",
	      captured: "onCompositionStartCapture" }, dependencies: "blur compositionstart keydown keypress keyup mousedown".split(" ") }, compositionUpdate: { phasedRegistrationNames: { bubbled: "onCompositionUpdate", captured: "onCompositionUpdateCapture" }, dependencies: "blur compositionupdate keydown keypress keyup mousedown".split(" ") } },
	    Cb = !1;
	function Db(a, b) {
	  switch (a) {case "keyup":
	      return -1 !== vb.indexOf(b.keyCode);case "keydown":
	      return 229 !== b.keyCode;case "keypress":case "mousedown":case "blur":
	      return !0;default:
	      return !1;}
	}function Eb(a) {
	  a = a.detail;return "object" === (typeof a === 'undefined' ? 'undefined' : _typeof(a)) && "data" in a ? a.data : null;
	}var Fb = !1;function Gb(a, b) {
	  switch (a) {case "compositionend":
	      return Eb(b);case "keypress":
	      if (32 !== b.which) return null;Cb = !0;return Ab;case "textInput":
	      return a = b.data, a === Ab && Cb ? null : a;default:
	      return null;}
	}
	function Hb(a, b) {
	  if (Fb) return "compositionend" === a || !wb && Db(a, b) ? (a = mb(), G$1._root = null, G$1._startText = null, G$1._fallbackText = null, Fb = !1, a) : null;switch (a) {case "paste":
	      return null;case "keypress":
	      if (!(b.ctrlKey || b.altKey || b.metaKey) || b.ctrlKey && b.altKey) {
	        if (b.char && 1 < b.char.length) return b.char;if (b.which) return String.fromCharCode(b.which);
	      }return null;case "compositionend":
	      return zb ? null : b.data;default:
	      return null;}
	}
	var Ib = { eventTypes: Bb, extractEvents: function extractEvents(a, b, c, d) {
	    var e = void 0;var f = void 0;if (wb) b: {
	      switch (a) {case "compositionstart":
	          e = Bb.compositionStart;break b;case "compositionend":
	          e = Bb.compositionEnd;break b;case "compositionupdate":
	          e = Bb.compositionUpdate;break b;}e = void 0;
	    } else Fb ? Db(a, c) && (e = Bb.compositionEnd) : "keydown" === a && 229 === c.keyCode && (e = Bb.compositionStart);e ? (zb && (Fb || e !== Bb.compositionStart ? e === Bb.compositionEnd && Fb && (f = mb()) : (G$1._root = d, G$1._startText = nb(), Fb = !0)), e = tb.getPooled(e, b, c, d), f ? e.data = f : (f = Eb(c), null !== f && (e.data = f)), Ya(e), f = e) : f = null;(a = yb ? Gb(a, c) : Hb(a, c)) ? (b = ub.getPooled(Bb.beforeInput, b, c, d), b.data = a, Ya(b)) : b = null;return null === f ? b : null === b ? f : [f, b];
	  } },
	    Jb = null,
	    Kb = { injectFiberControlledHostComponent: function injectFiberControlledHostComponent(a) {
	    Jb = a;
	  } },
	    Lb = null,
	    Mb = null;function Nb(a) {
	  if (a = xa(a)) {
	    Jb && "function" === typeof Jb.restoreControlledState ? void 0 : A$1("194");var b = wa(a.stateNode);Jb.restoreControlledState(a.stateNode, a.type, b);
	  }
	}function Ob(a) {
	  Lb ? Mb ? Mb.push(a) : Mb = [a] : Lb = a;
	}
	function Pb() {
	  return null !== Lb || null !== Mb;
	}function Qb() {
	  if (Lb) {
	    var a = Lb,
	        b = Mb;Mb = Lb = null;Nb(a);if (b) for (a = 0; a < b.length; a++) {
	      Nb(b[a]);
	    }
	  }
	}var Rb = { injection: Kb, enqueueStateRestore: Ob, needsStateRestore: Pb, restoreStateIfNeeded: Qb };function Sb(a, b) {
	  return a(b);
	}function Tb(a, b, c) {
	  return a(b, c);
	}function Ub() {}var Vb = !1;function Wb(a, b) {
	  if (Vb) return a(b);Vb = !0;try {
	    return Sb(a, b);
	  } finally {
	    Vb = !1, Pb() && (Ub(), Qb());
	  }
	}
	var Xb = { color: !0, date: !0, datetime: !0, "datetime-local": !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 };function Yb(a) {
	  var b = a && a.nodeName && a.nodeName.toLowerCase();return "input" === b ? !!Xb[a.type] : "textarea" === b ? !0 : !1;
	}function Zb(a) {
	  a = a.target || a.srcElement || window;a.correspondingUseElement && (a = a.correspondingUseElement);return 3 === a.nodeType ? a.parentNode : a;
	}
	function $b(a, b) {
	  if (!ExecutionEnvironment_1.canUseDOM || b && !("addEventListener" in document)) return !1;a = "on" + a;b = a in document;b || (b = document.createElement("div"), b.setAttribute(a, "return;"), b = "function" === typeof b[a]);return b;
	}function ac(a) {
	  var b = a.type;return (a = a.nodeName) && "input" === a.toLowerCase() && ("checkbox" === b || "radio" === b);
	}
	function bc(a) {
	  var b = ac(a) ? "checked" : "value",
	      c = Object.getOwnPropertyDescriptor(a.constructor.prototype, b),
	      d = "" + a[b];if (!a.hasOwnProperty(b) && "undefined" !== typeof c && "function" === typeof c.get && "function" === typeof c.set) {
	    var e = c.get,
	        f = c.set;Object.defineProperty(a, b, { configurable: !0, get: function get$$1() {
	        return e.call(this);
	      }, set: function set$$1(a) {
	        d = "" + a;f.call(this, a);
	      } });Object.defineProperty(a, b, { enumerable: c.enumerable });return { getValue: function getValue() {
	        return d;
	      }, setValue: function setValue(a) {
	        d = "" + a;
	      }, stopTracking: function stopTracking() {
	        a._valueTracker = null;delete a[b];
	      } };
	  }
	}function cc(a) {
	  a._valueTracker || (a._valueTracker = bc(a));
	}function dc(a) {
	  if (!a) return !1;var b = a._valueTracker;if (!b) return !0;var c = b.getValue();var d = "";a && (d = ac(a) ? a.checked ? "true" : "false" : a.value);a = d;return a !== c ? (b.setValue(a), !0) : !1;
	}
	var ec = react.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
	    fc = "function" === typeof Symbol && Symbol.for,
	    gc = fc ? Symbol.for("react.element") : 60103,
	    hc = fc ? Symbol.for("react.portal") : 60106,
	    ic = fc ? Symbol.for("react.fragment") : 60107,
	    jc = fc ? Symbol.for("react.strict_mode") : 60108,
	    kc = fc ? Symbol.for("react.profiler") : 60114,
	    lc = fc ? Symbol.for("react.provider") : 60109,
	    mc = fc ? Symbol.for("react.context") : 60110,
	    pc = fc ? Symbol.for("react.async_mode") : 60111,
	    qc = fc ? Symbol.for("react.forward_ref") : 60112,
	    rc = fc ? Symbol.for("react.timeout") : 60113,
	    sc = "function" === typeof Symbol && Symbol.iterator;function tc(a) {
	  if (null === a || "undefined" === typeof a) return null;a = sc && a[sc] || a["@@iterator"];return "function" === typeof a ? a : null;
	}
	function uc(a) {
	  var b = a.type;if ("function" === typeof b) return b.displayName || b.name;if ("string" === typeof b) return b;switch (b) {case pc:
	      return "AsyncMode";case mc:
	      return "Context.Consumer";case ic:
	      return "ReactFragment";case hc:
	      return "ReactPortal";case kc:
	      return "Profiler(" + a.pendingProps.id + ")";case lc:
	      return "Context.Provider";case jc:
	      return "StrictMode";case rc:
	      return "Timeout";}if ("object" === (typeof b === 'undefined' ? 'undefined' : _typeof(b)) && null !== b) switch (b.$$typeof) {case qc:
	      return a = b.render.displayName || b.render.name || "", "" !== a ? "ForwardRef(" + a + ")" : "ForwardRef";}return null;
	}function vc(a) {
	  var b = "";do {
	    a: switch (a.tag) {case 0:case 1:case 2:case 5:
	        var c = a._debugOwner,
	            d = a._debugSource;var e = uc(a);var f = null;c && (f = uc(c));c = d;e = "\n    in " + (e || "Unknown") + (c ? " (at " + c.fileName.replace(/^.*[\\\/]/, "") + ":" + c.lineNumber + ")" : f ? " (created by " + f + ")" : "");break a;default:
	        e = "";}b += e;a = a.return;
	  } while (a);return b;
	}
	var wc = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
	    xc = {},
	    zc = {};function Ac(a) {
	  if (zc.hasOwnProperty(a)) return !0;if (xc.hasOwnProperty(a)) return !1;if (wc.test(a)) return zc[a] = !0;xc[a] = !0;return !1;
	}
	function Bc(a, b, c, d) {
	  if (null !== c && 0 === c.type) return !1;switch (typeof b === 'undefined' ? 'undefined' : _typeof(b)) {case "function":case "symbol":
	      return !0;case "boolean":
	      if (d) return !1;if (null !== c) return !c.acceptsBooleans;a = a.toLowerCase().slice(0, 5);return "data-" !== a && "aria-" !== a;default:
	      return !1;}
	}function Cc(a, b, c, d) {
	  if (null === b || "undefined" === typeof b || Bc(a, b, c, d)) return !0;if (d) return !1;if (null !== c) switch (c.type) {case 3:
	      return !b;case 4:
	      return !1 === b;case 5:
	      return isNaN(b);case 6:
	      return isNaN(b) || 1 > b;}return !1;
	}
	function I$1(a, b, c, d, e) {
	  this.acceptsBooleans = 2 === b || 3 === b || 4 === b;this.attributeName = d;this.attributeNamespace = e;this.mustUseProperty = c;this.propertyName = a;this.type = b;
	}var J$1 = {};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function (a) {
	  J$1[a] = new I$1(a, 0, !1, a, null);
	});
	[["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function (a) {
	  var b = a[0];J$1[b] = new I$1(b, 1, !1, a[1], null);
	});["contentEditable", "draggable", "spellCheck", "value"].forEach(function (a) {
	  J$1[a] = new I$1(a, 2, !1, a.toLowerCase(), null);
	});["autoReverse", "externalResourcesRequired", "preserveAlpha"].forEach(function (a) {
	  J$1[a] = new I$1(a, 2, !1, a, null);
	});
	"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function (a) {
	  J$1[a] = new I$1(a, 3, !1, a.toLowerCase(), null);
	});["checked", "multiple", "muted", "selected"].forEach(function (a) {
	  J$1[a] = new I$1(a, 3, !0, a.toLowerCase(), null);
	});["capture", "download"].forEach(function (a) {
	  J$1[a] = new I$1(a, 4, !1, a.toLowerCase(), null);
	});
	["cols", "rows", "size", "span"].forEach(function (a) {
	  J$1[a] = new I$1(a, 6, !1, a.toLowerCase(), null);
	});["rowSpan", "start"].forEach(function (a) {
	  J$1[a] = new I$1(a, 5, !1, a.toLowerCase(), null);
	});var Dc = /[\-:]([a-z])/g;function Ec(a) {
	  return a[1].toUpperCase();
	}
	"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function (a) {
	  var b = a.replace(Dc, Ec);J$1[b] = new I$1(b, 1, !1, a, null);
	});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function (a) {
	  var b = a.replace(Dc, Ec);J$1[b] = new I$1(b, 1, !1, a, "http://www.w3.org/1999/xlink");
	});["xml:base", "xml:lang", "xml:space"].forEach(function (a) {
	  var b = a.replace(Dc, Ec);J$1[b] = new I$1(b, 1, !1, a, "http://www.w3.org/XML/1998/namespace");
	});J$1.tabIndex = new I$1("tabIndex", 1, !1, "tabindex", null);
	function Fc(a, b, c, d) {
	  var e = J$1.hasOwnProperty(b) ? J$1[b] : null;var f = null !== e ? 0 === e.type : d ? !1 : !(2 < b.length) || "o" !== b[0] && "O" !== b[0] || "n" !== b[1] && "N" !== b[1] ? !1 : !0;f || (Cc(b, c, e, d) && (c = null), d || null === e ? Ac(b) && (null === c ? a.removeAttribute(b) : a.setAttribute(b, "" + c)) : e.mustUseProperty ? a[e.propertyName] = null === c ? 3 === e.type ? !1 : "" : c : (b = e.attributeName, d = e.attributeNamespace, null === c ? a.removeAttribute(b) : (e = e.type, c = 3 === e || 4 === e && !0 === c ? "" : "" + c, d ? a.setAttributeNS(d, b, c) : a.setAttribute(b, c))));
	}
	function Gc(a, b) {
	  var c = b.checked;return objectAssign({}, b, { defaultChecked: void 0, defaultValue: void 0, value: void 0, checked: null != c ? c : a._wrapperState.initialChecked });
	}function Hc(a, b) {
	  var c = null == b.defaultValue ? "" : b.defaultValue,
	      d = null != b.checked ? b.checked : b.defaultChecked;c = Ic(null != b.value ? b.value : c);a._wrapperState = { initialChecked: d, initialValue: c, controlled: "checkbox" === b.type || "radio" === b.type ? null != b.checked : null != b.value };
	}function Jc(a, b) {
	  b = b.checked;null != b && Fc(a, "checked", b, !1);
	}
	function Kc(a, b) {
	  Jc(a, b);var c = Ic(b.value);if (null != c) if ("number" === b.type) {
	    if (0 === c && "" === a.value || a.value != c) a.value = "" + c;
	  } else a.value !== "" + c && (a.value = "" + c);b.hasOwnProperty("value") ? Lc(a, b.type, c) : b.hasOwnProperty("defaultValue") && Lc(a, b.type, Ic(b.defaultValue));null == b.checked && null != b.defaultChecked && (a.defaultChecked = !!b.defaultChecked);
	}
	function Mc(a, b, c) {
	  if (b.hasOwnProperty("value") || b.hasOwnProperty("defaultValue")) {
	    b = "" + a._wrapperState.initialValue;var d = a.value;c || b === d || (a.value = b);a.defaultValue = b;
	  }c = a.name;"" !== c && (a.name = "");a.defaultChecked = !a.defaultChecked;a.defaultChecked = !a.defaultChecked;"" !== c && (a.name = c);
	}function Lc(a, b, c) {
	  if ("number" !== b || a.ownerDocument.activeElement !== a) null == c ? a.defaultValue = "" + a._wrapperState.initialValue : a.defaultValue !== "" + c && (a.defaultValue = "" + c);
	}
	function Ic(a) {
	  switch (typeof a === 'undefined' ? 'undefined' : _typeof(a)) {case "boolean":case "number":case "object":case "string":case "undefined":
	      return a;default:
	      return "";}
	}var Nc = { change: { phasedRegistrationNames: { bubbled: "onChange", captured: "onChangeCapture" }, dependencies: "blur change click focus input keydown keyup selectionchange".split(" ") } };function Oc(a, b, c) {
	  a = H$1.getPooled(Nc.change, a, b, c);a.type = "change";Ob(c);Ya(a);return a;
	}var Pc = null,
	    Qc = null;function Rc(a) {
	  Ia(a, !1);
	}function Sc(a) {
	  var b = Oa(a);if (dc(b)) return a;
	}
	function Tc(a, b) {
	  if ("change" === a) return b;
	}var Uc = !1;ExecutionEnvironment_1.canUseDOM && (Uc = $b("input") && (!document.documentMode || 9 < document.documentMode));function Vc() {
	  Pc && (Pc.detachEvent("onpropertychange", Wc), Qc = Pc = null);
	}function Wc(a) {
	  "value" === a.propertyName && Sc(Qc) && (a = Oc(Qc, a, Zb(a)), Wb(Rc, a));
	}function Xc(a, b, c) {
	  "focus" === a ? (Vc(), Pc = b, Qc = c, Pc.attachEvent("onpropertychange", Wc)) : "blur" === a && Vc();
	}function Yc(a) {
	  if ("selectionchange" === a || "keyup" === a || "keydown" === a) return Sc(Qc);
	}
	function Zc(a, b) {
	  if ("click" === a) return Sc(b);
	}function $c(a, b) {
	  if ("input" === a || "change" === a) return Sc(b);
	}
	var ad = { eventTypes: Nc, _isInputEventSupported: Uc, extractEvents: function extractEvents(a, b, c, d) {
	    var e = b ? Oa(b) : window,
	        f = void 0,
	        g = void 0,
	        h = e.nodeName && e.nodeName.toLowerCase();"select" === h || "input" === h && "file" === e.type ? f = Tc : Yb(e) ? Uc ? f = $c : (f = Yc, g = Xc) : (h = e.nodeName) && "input" === h.toLowerCase() && ("checkbox" === e.type || "radio" === e.type) && (f = Zc);if (f && (f = f(a, b))) return Oc(f, c, d);g && g(a, e, b);"blur" === a && (a = e._wrapperState) && a.controlled && "number" === e.type && Lc(e, "number", e.value);
	  } },
	    bd = H$1.extend({ view: null, detail: null }),
	    cd = { Alt: "altKey",
	  Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" };function dd(a) {
	  var b = this.nativeEvent;return b.getModifierState ? b.getModifierState(a) : (a = cd[a]) ? !!b[a] : !1;
	}function ed() {
	  return dd;
	}
	var fd = bd.extend({ screenX: null, screenY: null, clientX: null, clientY: null, pageX: null, pageY: null, ctrlKey: null, shiftKey: null, altKey: null, metaKey: null, getModifierState: ed, button: null, buttons: null, relatedTarget: function relatedTarget(a) {
	    return a.relatedTarget || (a.fromElement === a.srcElement ? a.toElement : a.fromElement);
	  } }),
	    gd = fd.extend({ pointerId: null, width: null, height: null, pressure: null, tiltX: null, tiltY: null, pointerType: null, isPrimary: null }),
	    hd = { mouseEnter: { registrationName: "onMouseEnter", dependencies: ["mouseout", "mouseover"] },
	  mouseLeave: { registrationName: "onMouseLeave", dependencies: ["mouseout", "mouseover"] }, pointerEnter: { registrationName: "onPointerEnter", dependencies: ["pointerout", "pointerover"] }, pointerLeave: { registrationName: "onPointerLeave", dependencies: ["pointerout", "pointerover"] } },
	    id = { eventTypes: hd, extractEvents: function extractEvents(a, b, c, d) {
	    var e = "mouseover" === a || "pointerover" === a,
	        f = "mouseout" === a || "pointerout" === a;if (e && (c.relatedTarget || c.fromElement) || !f && !e) return null;e = d.window === d ? d : (e = d.ownerDocument) ? e.defaultView || e.parentWindow : window;f ? (f = b, b = (b = c.relatedTarget || c.toElement) ? Na(b) : null) : f = null;if (f === b) return null;var g = void 0,
	        h = void 0,
	        k = void 0,
	        n = void 0;if ("mouseout" === a || "mouseover" === a) g = fd, h = hd.mouseLeave, k = hd.mouseEnter, n = "mouse";else if ("pointerout" === a || "pointerover" === a) g = gd, h = hd.pointerLeave, k = hd.pointerEnter, n = "pointer";a = null == f ? e : Oa(f);e = null == b ? e : Oa(b);h = g.getPooled(h, f, c, d);h.type = n + "leave";h.target = a;h.relatedTarget = e;c = g.getPooled(k, b, c, d);c.type = n + "enter";c.target = e;c.relatedTarget = a;Za(h, c, f, b);return [h, c];
	  } };function jd(a) {
	  var b = a;if (a.alternate) for (; b.return;) {
	    b = b.return;
	  } else {
	    if (0 !== (b.effectTag & 2)) return 1;for (; b.return;) {
	      if (b = b.return, 0 !== (b.effectTag & 2)) return 1;
	    }
	  }return 3 === b.tag ? 2 : 3;
	}function kd(a) {
	  2 !== jd(a) ? A$1("188") : void 0;
	}
	function ld(a) {
	  var b = a.alternate;if (!b) return b = jd(a), 3 === b ? A$1("188") : void 0, 1 === b ? null : a;for (var c = a, d = b;;) {
	    var e = c.return,
	        f = e ? e.alternate : null;if (!e || !f) break;if (e.child === f.child) {
	      for (var g = e.child; g;) {
	        if (g === c) return kd(e), a;if (g === d) return kd(e), b;g = g.sibling;
	      }A$1("188");
	    }if (c.return !== d.return) c = e, d = f;else {
	      g = !1;for (var h = e.child; h;) {
	        if (h === c) {
	          g = !0;c = e;d = f;break;
	        }if (h === d) {
	          g = !0;d = e;c = f;break;
	        }h = h.sibling;
	      }if (!g) {
	        for (h = f.child; h;) {
	          if (h === c) {
	            g = !0;c = f;d = e;break;
	          }if (h === d) {
	            g = !0;d = f;c = e;break;
	          }h = h.sibling;
	        }g ? void 0 : A$1("189");
	      }
	    }c.alternate !== d ? A$1("190") : void 0;
	  }3 !== c.tag ? A$1("188") : void 0;return c.stateNode.current === c ? a : b;
	}function md(a) {
	  a = ld(a);if (!a) return null;for (var b = a;;) {
	    if (5 === b.tag || 6 === b.tag) return b;if (b.child) b.child.return = b, b = b.child;else {
	      if (b === a) break;for (; !b.sibling;) {
	        if (!b.return || b.return === a) return null;b = b.return;
	      }b.sibling.return = b.return;b = b.sibling;
	    }
	  }return null;
	}
	function nd(a) {
	  a = ld(a);if (!a) return null;for (var b = a;;) {
	    if (5 === b.tag || 6 === b.tag) return b;if (b.child && 4 !== b.tag) b.child.return = b, b = b.child;else {
	      if (b === a) break;for (; !b.sibling;) {
	        if (!b.return || b.return === a) return null;b = b.return;
	      }b.sibling.return = b.return;b = b.sibling;
	    }
	  }return null;
	}var od = H$1.extend({ animationName: null, elapsedTime: null, pseudoElement: null }),
	    pd = H$1.extend({ clipboardData: function clipboardData(a) {
	    return "clipboardData" in a ? a.clipboardData : window.clipboardData;
	  } }),
	    qd = bd.extend({ relatedTarget: null });
	function rd(a) {
	  var b = a.keyCode;"charCode" in a ? (a = a.charCode, 0 === a && 13 === b && (a = 13)) : a = b;10 === a && (a = 13);return 32 <= a || 13 === a ? a : 0;
	}
	var sd = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" },
	    td = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4",
	  116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" },
	    ud = bd.extend({ key: function key(a) {
	    if (a.key) {
	      var b = sd[a.key] || a.key;if ("Unidentified" !== b) return b;
	    }return "keypress" === a.type ? (a = rd(a), 13 === a ? "Enter" : String.fromCharCode(a)) : "keydown" === a.type || "keyup" === a.type ? td[a.keyCode] || "Unidentified" : "";
	  }, location: null, ctrlKey: null, shiftKey: null, altKey: null, metaKey: null, repeat: null, locale: null, getModifierState: ed, charCode: function charCode(a) {
	    return "keypress" === a.type ? rd(a) : 0;
	  }, keyCode: function keyCode(a) {
	    return "keydown" === a.type || "keyup" === a.type ? a.keyCode : 0;
	  }, which: function which(a) {
	    return "keypress" === a.type ? rd(a) : "keydown" === a.type || "keyup" === a.type ? a.keyCode : 0;
	  } }),
	    vd = fd.extend({ dataTransfer: null }),
	    wd = bd.extend({ touches: null, targetTouches: null, changedTouches: null, altKey: null, metaKey: null, ctrlKey: null, shiftKey: null, getModifierState: ed }),
	    xd = H$1.extend({ propertyName: null, elapsedTime: null, pseudoElement: null }),
	    yd = fd.extend({ deltaX: function deltaX(a) {
	    return "deltaX" in a ? a.deltaX : "wheelDeltaX" in a ? -a.wheelDeltaX : 0;
	  }, deltaY: function deltaY(a) {
	    return "deltaY" in a ? a.deltaY : "wheelDeltaY" in a ? -a.wheelDeltaY : "wheelDelta" in a ? -a.wheelDelta : 0;
	  }, deltaZ: null, deltaMode: null }),
	    zd = [["abort", "abort"], [fb, "animationEnd"], [gb, "animationIteration"], [hb, "animationStart"], ["canplay", "canPlay"], ["canplaythrough", "canPlayThrough"], ["drag", "drag"], ["dragenter", "dragEnter"], ["dragexit", "dragExit"], ["dragleave", "dragLeave"], ["dragover", "dragOver"], ["durationchange", "durationChange"], ["emptied", "emptied"], ["encrypted", "encrypted"], ["ended", "ended"], ["error", "error"], ["gotpointercapture", "gotPointerCapture"], ["load", "load"], ["loadeddata", "loadedData"], ["loadedmetadata", "loadedMetadata"], ["loadstart", "loadStart"], ["lostpointercapture", "lostPointerCapture"], ["mousemove", "mouseMove"], ["mouseout", "mouseOut"], ["mouseover", "mouseOver"], ["playing", "playing"], ["pointermove", "pointerMove"], ["pointerout", "pointerOut"], ["pointerover", "pointerOver"], ["progress", "progress"], ["scroll", "scroll"], ["seeking", "seeking"], ["stalled", "stalled"], ["suspend", "suspend"], ["timeupdate", "timeUpdate"], ["toggle", "toggle"], ["touchmove", "touchMove"], [ib, "transitionEnd"], ["waiting", "waiting"], ["wheel", "wheel"]],
	    Ad = {},
	    Bd = {};function Cd(a, b) {
	  var c = a[0];a = a[1];var d = "on" + (a[0].toUpperCase() + a.slice(1));b = { phasedRegistrationNames: { bubbled: d, captured: d + "Capture" }, dependencies: [c], isInteractive: b };Ad[a] = b;Bd[c] = b;
	}
	[["blur", "blur"], ["cancel", "cancel"], ["click", "click"], ["close", "close"], ["contextmenu", "contextMenu"], ["copy", "copy"], ["cut", "cut"], ["dblclick", "doubleClick"], ["dragend", "dragEnd"], ["dragstart", "dragStart"], ["drop", "drop"], ["focus", "focus"], ["input", "input"], ["invalid", "invalid"], ["keydown", "keyDown"], ["keypress", "keyPress"], ["keyup", "keyUp"], ["mousedown", "mouseDown"], ["mouseup", "mouseUp"], ["paste", "paste"], ["pause", "pause"], ["play", "play"], ["pointercancel", "pointerCancel"], ["pointerdown", "pointerDown"], ["pointerup", "pointerUp"], ["ratechange", "rateChange"], ["reset", "reset"], ["seeked", "seeked"], ["submit", "submit"], ["touchcancel", "touchCancel"], ["touchend", "touchEnd"], ["touchstart", "touchStart"], ["volumechange", "volumeChange"]].forEach(function (a) {
	  Cd(a, !0);
	});zd.forEach(function (a) {
	  Cd(a, !1);
	});
	var Dd = { eventTypes: Ad, isInteractiveTopLevelEventType: function isInteractiveTopLevelEventType(a) {
	    a = Bd[a];return void 0 !== a && !0 === a.isInteractive;
	  }, extractEvents: function extractEvents(a, b, c, d) {
	    var e = Bd[a];if (!e) return null;switch (a) {case "keypress":
	        if (0 === rd(c)) return null;case "keydown":case "keyup":
	        a = ud;break;case "blur":case "focus":
	        a = qd;break;case "click":
	        if (2 === c.button) return null;case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":
	        a = fd;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":
	        a = vd;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":
	        a = wd;break;case fb:case gb:case hb:
	        a = od;break;case ib:
	        a = xd;break;case "scroll":
	        a = bd;break;case "wheel":
	        a = yd;break;case "copy":case "cut":case "paste":
	        a = pd;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":
	        a = gd;break;default:
	        a = H$1;}b = a.getPooled(e, b, c, d);Ya(b);return b;
	  } },
	    Ed = Dd.isInteractiveTopLevelEventType,
	    Fd = [];function Gd(a) {
	  var b = a.targetInst;do {
	    if (!b) {
	      a.ancestors.push(b);break;
	    }var c;for (c = b; c.return;) {
	      c = c.return;
	    }c = 3 !== c.tag ? null : c.stateNode.containerInfo;if (!c) break;a.ancestors.push(b);b = Na(c);
	  } while (b);for (c = 0; c < a.ancestors.length; c++) {
	    b = a.ancestors[c], Ja(a.topLevelType, b, a.nativeEvent, Zb(a.nativeEvent));
	  }
	}var Hd = !0;function Id(a) {
	  Hd = !!a;
	}function K$1(a, b) {
	  if (!b) return null;var c = (Ed(a) ? Kd : Ld).bind(null, a);b.addEventListener(a, c, !1);
	}
	function Md(a, b) {
	  if (!b) return null;var c = (Ed(a) ? Kd : Ld).bind(null, a);b.addEventListener(a, c, !0);
	}function Kd(a, b) {
	  Tb(Ld, a, b);
	}function Ld(a, b) {
	  if (Hd) {
	    var c = Zb(b);c = Na(c);null === c || "number" !== typeof c.tag || 2 === jd(c) || (c = null);if (Fd.length) {
	      var d = Fd.pop();d.topLevelType = a;d.nativeEvent = b;d.targetInst = c;a = d;
	    } else a = { topLevelType: a, nativeEvent: b, targetInst: c, ancestors: [] };try {
	      Wb(Gd, a);
	    } finally {
	      a.topLevelType = null, a.nativeEvent = null, a.targetInst = null, a.ancestors.length = 0, 10 > Fd.length && Fd.push(a);
	    }
	  }
	}
	var Nd = { get _enabled() {
	    return Hd;
	  }, setEnabled: Id, isEnabled: function isEnabled() {
	    return Hd;
	  }, trapBubbledEvent: K$1, trapCapturedEvent: Md, dispatchEvent: Ld },
	    Od = {},
	    Pd = 0,
	    Qd = "_reactListenersID" + ("" + Math.random()).slice(2);function Rd(a) {
	  Object.prototype.hasOwnProperty.call(a, Qd) || (a[Qd] = Pd++, Od[a[Qd]] = {});return Od[a[Qd]];
	}function Sd(a) {
	  for (; a && a.firstChild;) {
	    a = a.firstChild;
	  }return a;
	}
	function Td(a, b) {
	  var c = Sd(a);a = 0;for (var d; c;) {
	    if (3 === c.nodeType) {
	      d = a + c.textContent.length;if (a <= b && d >= b) return { node: c, offset: b - a };a = d;
	    }a: {
	      for (; c;) {
	        if (c.nextSibling) {
	          c = c.nextSibling;break a;
	        }c = c.parentNode;
	      }c = void 0;
	    }c = Sd(c);
	  }
	}function Ud(a) {
	  var b = a && a.nodeName && a.nodeName.toLowerCase();return b && ("input" === b && ("text" === a.type || "search" === a.type || "tel" === a.type || "url" === a.type || "password" === a.type) || "textarea" === b || "true" === a.contentEditable);
	}
	var Vd = ExecutionEnvironment_1.canUseDOM && "documentMode" in document && 11 >= document.documentMode,
	    Wd = { select: { phasedRegistrationNames: { bubbled: "onSelect", captured: "onSelectCapture" }, dependencies: "blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ") } },
	    Xd = null,
	    Yd = null,
	    Zd = null,
	    $d = !1;
	function ae(a, b) {
	  if ($d || null == Xd || Xd !== getActiveElement_1()) return null;var c = Xd;"selectionStart" in c && Ud(c) ? c = { start: c.selectionStart, end: c.selectionEnd } : window.getSelection ? (c = window.getSelection(), c = { anchorNode: c.anchorNode, anchorOffset: c.anchorOffset, focusNode: c.focusNode, focusOffset: c.focusOffset }) : c = void 0;return Zd && shallowEqual_1(Zd, c) ? null : (Zd = c, a = H$1.getPooled(Wd.select, Yd, a, b), a.type = "select", a.target = Xd, Ya(a), a);
	}
	var be = { eventTypes: Wd, extractEvents: function extractEvents(a, b, c, d) {
	    var e = d.window === d ? d.document : 9 === d.nodeType ? d : d.ownerDocument,
	        f;if (!(f = !e)) {
	      a: {
	        e = Rd(e);f = sa.onSelect;for (var g = 0; g < f.length; g++) {
	          var h = f[g];if (!e.hasOwnProperty(h) || !e[h]) {
	            e = !1;break a;
	          }
	        }e = !0;
	      }f = !e;
	    }if (f) return null;e = b ? Oa(b) : window;switch (a) {case "focus":
	        if (Yb(e) || "true" === e.contentEditable) Xd = e, Yd = b, Zd = null;break;case "blur":
	        Zd = Yd = Xd = null;break;case "mousedown":
	        $d = !0;break;case "contextmenu":case "mouseup":
	        return $d = !1, ae(c, d);case "selectionchange":
	        if (Vd) break;
	      case "keydown":case "keyup":
	        return ae(c, d);}return null;
	  } };Ga.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));wa = Qa.getFiberCurrentPropsFromNode;xa = Qa.getInstanceFromNode;ya = Qa.getNodeFromInstance;Ga.injectEventPluginsByName({ SimpleEventPlugin: Dd, EnterLeaveEventPlugin: id, ChangeEventPlugin: ad, SelectEventPlugin: be, BeforeInputEventPlugin: Ib });
	var ce = "function" === typeof requestAnimationFrame ? requestAnimationFrame : void 0,
	    de = Date,
	    ee = setTimeout,
	    fe = clearTimeout,
	    ge = void 0;if ("object" === (typeof performance === 'undefined' ? 'undefined' : _typeof(performance)) && "function" === typeof performance.now) {
	  var he = performance;ge = function ge() {
	    return he.now();
	  };
	} else ge = function ge() {
	  return de.now();
	};var ie = void 0,
	    je = void 0;
	if (ExecutionEnvironment_1.canUseDOM) {
	  var ke = "function" === typeof ce ? ce : function () {
	    A$1("276");
	  },
	      L$1 = null,
	      le = null,
	      me = -1,
	      ne = !1,
	      oe = !1,
	      pe = 0,
	      qe = 33,
	      re = 33,
	      se = { didTimeout: !1, timeRemaining: function timeRemaining() {
	      var a = pe - ge();return 0 < a ? a : 0;
	    } },
	      ue = function ue(a, b) {
	    var c = a.scheduledCallback,
	        d = !1;try {
	      c(b), d = !0;
	    } finally {
	      je(a), d || (ne = !0, window.postMessage(te, "*"));
	    }
	  },
	      te = "__reactIdleCallback$" + Math.random().toString(36).slice(2);window.addEventListener("message", function (a) {
	    if (a.source === window && a.data === te && (ne = !1, null !== L$1)) {
	      if (null !== L$1) {
	        var b = ge();if (!(-1 === me || me > b)) {
	          a = -1;for (var c = [], d = L$1; null !== d;) {
	            var e = d.timeoutTime;-1 !== e && e <= b ? c.push(d) : -1 !== e && (-1 === a || e < a) && (a = e);d = d.next;
	          }if (0 < c.length) for (se.didTimeout = !0, b = 0, d = c.length; b < d; b++) {
	            ue(c[b], se);
	          }me = a;
	        }
	      }for (a = ge(); 0 < pe - a && null !== L$1;) {
	        a = L$1, se.didTimeout = !1, ue(a, se), a = ge();
	      }null === L$1 || oe || (oe = !0, ke(ve));
	    }
	  }, !1);var ve = function ve(a) {
	    oe = !1;var b = a - pe + re;b < re && qe < re ? (8 > b && (b = 8), re = b < qe ? qe : b) : qe = b;pe = a + re;ne || (ne = !0, window.postMessage(te, "*"));
	  };ie = function ie(a, b) {
	    var c = -1;null != b && "number" === typeof b.timeout && (c = ge() + b.timeout);if (-1 === me || -1 !== c && c < me) me = c;a = { scheduledCallback: a, timeoutTime: c, prev: null, next: null };null === L$1 ? L$1 = a : (b = a.prev = le, null !== b && (b.next = a));le = a;oe || (oe = !0, ke(ve));return a;
	  };je = function je(a) {
	    if (null !== a.prev || L$1 === a) {
	      var b = a.next,
	          c = a.prev;a.next = null;a.prev = null;null !== b ? null !== c ? (c.next = b, b.prev = c) : (b.prev = null, L$1 = b) : null !== c ? (c.next = null, le = c) : le = L$1 = null;
	    }
	  };
	} else {
	  var we = new Map();ie = function ie(a) {
	    var b = { scheduledCallback: a, timeoutTime: 0, next: null, prev: null },
	        c = ee(function () {
	      a({ timeRemaining: function timeRemaining() {
	          return Infinity;
	        },
	        didTimeout: !1 });
	    });we.set(a, c);return b;
	  };je = function je(a) {
	    var b = we.get(a.scheduledCallback);we.delete(a);fe(b);
	  };
	}function xe(a) {
	  var b = "";react.Children.forEach(a, function (a) {
	    null == a || "string" !== typeof a && "number" !== typeof a || (b += a);
	  });return b;
	}function ye(a, b) {
	  a = objectAssign({ children: void 0 }, b);if (b = xe(b.children)) a.children = b;return a;
	}
	function ze(a, b, c, d) {
	  a = a.options;if (b) {
	    b = {};for (var e = 0; e < c.length; e++) {
	      b["$" + c[e]] = !0;
	    }for (c = 0; c < a.length; c++) {
	      e = b.hasOwnProperty("$" + a[c].value), a[c].selected !== e && (a[c].selected = e), e && d && (a[c].defaultSelected = !0);
	    }
	  } else {
	    c = "" + c;b = null;for (e = 0; e < a.length; e++) {
	      if (a[e].value === c) {
	        a[e].selected = !0;d && (a[e].defaultSelected = !0);return;
	      }null !== b || a[e].disabled || (b = a[e]);
	    }null !== b && (b.selected = !0);
	  }
	}
	function Ae(a, b) {
	  var c = b.value;a._wrapperState = { initialValue: null != c ? c : b.defaultValue, wasMultiple: !!b.multiple };
	}function Be(a, b) {
	  null != b.dangerouslySetInnerHTML ? A$1("91") : void 0;return objectAssign({}, b, { value: void 0, defaultValue: void 0, children: "" + a._wrapperState.initialValue });
	}function Ce(a, b) {
	  var c = b.value;null == c && (c = b.defaultValue, b = b.children, null != b && (null != c ? A$1("92") : void 0, Array.isArray(b) && (1 >= b.length ? void 0 : A$1("93"), b = b[0]), c = "" + b), null == c && (c = ""));a._wrapperState = { initialValue: "" + c };
	}
	function De(a, b) {
	  var c = b.value;null != c && (c = "" + c, c !== a.value && (a.value = c), null == b.defaultValue && (a.defaultValue = c));null != b.defaultValue && (a.defaultValue = b.defaultValue);
	}function Ee(a) {
	  var b = a.textContent;b === a._wrapperState.initialValue && (a.value = b);
	}var Fe = { html: "http://www.w3.org/1999/xhtml", mathml: "http://www.w3.org/1998/Math/MathML", svg: "http://www.w3.org/2000/svg" };
	function Ge(a) {
	  switch (a) {case "svg":
	      return "http://www.w3.org/2000/svg";case "math":
	      return "http://www.w3.org/1998/Math/MathML";default:
	      return "http://www.w3.org/1999/xhtml";}
	}function He(a, b) {
	  return null == a || "http://www.w3.org/1999/xhtml" === a ? Ge(b) : "http://www.w3.org/2000/svg" === a && "foreignObject" === b ? "http://www.w3.org/1999/xhtml" : a;
	}
	var Ie = void 0,
	    Je = function (a) {
	  return "undefined" !== typeof MSApp && MSApp.execUnsafeLocalFunction ? function (b, c, d, e) {
	    MSApp.execUnsafeLocalFunction(function () {
	      return a(b, c, d, e);
	    });
	  } : a;
	}(function (a, b) {
	  if (a.namespaceURI !== Fe.svg || "innerHTML" in a) a.innerHTML = b;else {
	    Ie = Ie || document.createElement("div");Ie.innerHTML = "<svg>" + b + "</svg>";for (b = Ie.firstChild; a.firstChild;) {
	      a.removeChild(a.firstChild);
	    }for (; b.firstChild;) {
	      a.appendChild(b.firstChild);
	    }
	  }
	});
	function Ke(a, b) {
	  if (b) {
	    var c = a.firstChild;if (c && c === a.lastChild && 3 === c.nodeType) {
	      c.nodeValue = b;return;
	    }
	  }a.textContent = b;
	}
	var Le = { animationIterationCount: !0, borderImageOutset: !0, borderImageSlice: !0, borderImageWidth: !0, boxFlex: !0, boxFlexGroup: !0, boxOrdinalGroup: !0, columnCount: !0, columns: !0, flex: !0, flexGrow: !0, flexPositive: !0, flexShrink: !0, flexNegative: !0, flexOrder: !0, gridRow: !0, gridRowEnd: !0, gridRowSpan: !0, gridRowStart: !0, gridColumn: !0, gridColumnEnd: !0, gridColumnSpan: !0, gridColumnStart: !0, fontWeight: !0, lineClamp: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, tabSize: !0, widows: !0, zIndex: !0, zoom: !0, fillOpacity: !0, floodOpacity: !0,
	  stopOpacity: !0, strokeDasharray: !0, strokeDashoffset: !0, strokeMiterlimit: !0, strokeOpacity: !0, strokeWidth: !0 },
	    Me = ["Webkit", "ms", "Moz", "O"];Object.keys(Le).forEach(function (a) {
	  Me.forEach(function (b) {
	    b = b + a.charAt(0).toUpperCase() + a.substring(1);Le[b] = Le[a];
	  });
	});
	function Ne(a, b) {
	  a = a.style;for (var c in b) {
	    if (b.hasOwnProperty(c)) {
	      var d = 0 === c.indexOf("--");var e = c;var f = b[c];e = null == f || "boolean" === typeof f || "" === f ? "" : d || "number" !== typeof f || 0 === f || Le.hasOwnProperty(e) && Le[e] ? ("" + f).trim() : f + "px";"float" === c && (c = "cssFloat");d ? a.setProperty(c, e) : a[c] = e;
	    }
	  }
	}var Oe = objectAssign({ menuitem: !0 }, { area: !0, base: !0, br: !0, col: !0, embed: !0, hr: !0, img: !0, input: !0, keygen: !0, link: !0, meta: !0, param: !0, source: !0, track: !0, wbr: !0 });
	function Pe(a, b, c) {
	  b && (Oe[a] && (null != b.children || null != b.dangerouslySetInnerHTML ? A$1("137", a, c()) : void 0), null != b.dangerouslySetInnerHTML && (null != b.children ? A$1("60") : void 0, "object" === _typeof(b.dangerouslySetInnerHTML) && "__html" in b.dangerouslySetInnerHTML ? void 0 : A$1("61")), null != b.style && "object" !== _typeof(b.style) ? A$1("62", c()) : void 0);
	}
	function Qe(a, b) {
	  if (-1 === a.indexOf("-")) return "string" === typeof b.is;switch (a) {case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":
	      return !1;default:
	      return !0;}
	}var Re = emptyFunction_1.thatReturns("");
	function Se(a, b) {
	  a = 9 === a.nodeType || 11 === a.nodeType ? a : a.ownerDocument;var c = Rd(a);b = sa[b];for (var d = 0; d < b.length; d++) {
	    var e = b[d];if (!c.hasOwnProperty(e) || !c[e]) {
	      switch (e) {case "scroll":
	          Md("scroll", a);break;case "focus":case "blur":
	          Md("focus", a);Md("blur", a);c.blur = !0;c.focus = !0;break;case "cancel":case "close":
	          $b(e, !0) && Md(e, a);break;case "invalid":case "submit":case "reset":
	          break;default:
	          -1 === jb.indexOf(e) && K$1(e, a);}c[e] = !0;
	    }
	  }
	}
	function Te(a, b, c, d) {
	  c = 9 === c.nodeType ? c : c.ownerDocument;d === Fe.html && (d = Ge(a));d === Fe.html ? "script" === a ? (a = c.createElement("div"), a.innerHTML = "<script>\x3c/script>", a = a.removeChild(a.firstChild)) : a = "string" === typeof b.is ? c.createElement(a, { is: b.is }) : c.createElement(a) : a = c.createElementNS(d, a);return a;
	}function Ue(a, b) {
	  return (9 === b.nodeType ? b : b.ownerDocument).createTextNode(a);
	}
	function Ve(a, b, c, d) {
	  var e = Qe(b, c);switch (b) {case "iframe":case "object":
	      K$1("load", a);var f = c;break;case "video":case "audio":
	      for (f = 0; f < jb.length; f++) {
	        K$1(jb[f], a);
	      }f = c;break;case "source":
	      K$1("error", a);f = c;break;case "img":case "image":case "link":
	      K$1("error", a);K$1("load", a);f = c;break;case "form":
	      K$1("reset", a);K$1("submit", a);f = c;break;case "details":
	      K$1("toggle", a);f = c;break;case "input":
	      Hc(a, c);f = Gc(a, c);K$1("invalid", a);Se(d, "onChange");break;case "option":
	      f = ye(a, c);break;case "select":
	      Ae(a, c);f = objectAssign({}, c, { value: void 0 });
	      K$1("invalid", a);Se(d, "onChange");break;case "textarea":
	      Ce(a, c);f = Be(a, c);K$1("invalid", a);Se(d, "onChange");break;default:
	      f = c;}Pe(b, f, Re);var g = f,
	      h;for (h in g) {
	    if (g.hasOwnProperty(h)) {
	      var k = g[h];"style" === h ? Ne(a, k, Re) : "dangerouslySetInnerHTML" === h ? (k = k ? k.__html : void 0, null != k && Je(a, k)) : "children" === h ? "string" === typeof k ? ("textarea" !== b || "" !== k) && Ke(a, k) : "number" === typeof k && Ke(a, "" + k) : "suppressContentEditableWarning" !== h && "suppressHydrationWarning" !== h && "autoFocus" !== h && (ra.hasOwnProperty(h) ? null != k && Se(d, h) : null != k && Fc(a, h, k, e));
	    }
	  }switch (b) {case "input":
	      cc(a);Mc(a, c, !1);break;case "textarea":
	      cc(a);Ee(a, c);break;case "option":
	      null != c.value && a.setAttribute("value", c.value);break;case "select":
	      a.multiple = !!c.multiple;b = c.value;null != b ? ze(a, !!c.multiple, b, !1) : null != c.defaultValue && ze(a, !!c.multiple, c.defaultValue, !0);break;default:
	      "function" === typeof f.onClick && (a.onclick = emptyFunction_1);}
	}
	function We(a, b, c, d, e) {
	  var f = null;switch (b) {case "input":
	      c = Gc(a, c);d = Gc(a, d);f = [];break;case "option":
	      c = ye(a, c);d = ye(a, d);f = [];break;case "select":
	      c = objectAssign({}, c, { value: void 0 });d = objectAssign({}, d, { value: void 0 });f = [];break;case "textarea":
	      c = Be(a, c);d = Be(a, d);f = [];break;default:
	      "function" !== typeof c.onClick && "function" === typeof d.onClick && (a.onclick = emptyFunction_1);}Pe(b, d, Re);b = a = void 0;var g = null;for (a in c) {
	    if (!d.hasOwnProperty(a) && c.hasOwnProperty(a) && null != c[a]) if ("style" === a) {
	      var h = c[a];for (b in h) {
	        h.hasOwnProperty(b) && (g || (g = {}), g[b] = "");
	      }
	    } else "dangerouslySetInnerHTML" !== a && "children" !== a && "suppressContentEditableWarning" !== a && "suppressHydrationWarning" !== a && "autoFocus" !== a && (ra.hasOwnProperty(a) ? f || (f = []) : (f = f || []).push(a, null));
	  }for (a in d) {
	    var k = d[a];h = null != c ? c[a] : void 0;if (d.hasOwnProperty(a) && k !== h && (null != k || null != h)) if ("style" === a) {
	      if (h) {
	        for (b in h) {
	          !h.hasOwnProperty(b) || k && k.hasOwnProperty(b) || (g || (g = {}), g[b] = "");
	        }for (b in k) {
	          k.hasOwnProperty(b) && h[b] !== k[b] && (g || (g = {}), g[b] = k[b]);
	        }
	      } else g || (f || (f = []), f.push(a, g)), g = k;
	    } else "dangerouslySetInnerHTML" === a ? (k = k ? k.__html : void 0, h = h ? h.__html : void 0, null != k && h !== k && (f = f || []).push(a, "" + k)) : "children" === a ? h === k || "string" !== typeof k && "number" !== typeof k || (f = f || []).push(a, "" + k) : "suppressContentEditableWarning" !== a && "suppressHydrationWarning" !== a && (ra.hasOwnProperty(a) ? (null != k && Se(e, a), f || h === k || (f = [])) : (f = f || []).push(a, k));
	  }g && (f = f || []).push("style", g);return f;
	}
	function Xe(a, b, c, d, e) {
	  "input" === c && "radio" === e.type && null != e.name && Jc(a, e);Qe(c, d);d = Qe(c, e);for (var f = 0; f < b.length; f += 2) {
	    var g = b[f],
	        h = b[f + 1];"style" === g ? Ne(a, h, Re) : "dangerouslySetInnerHTML" === g ? Je(a, h) : "children" === g ? Ke(a, h) : Fc(a, g, h, d);
	  }switch (c) {case "input":
	      Kc(a, e);break;case "textarea":
	      De(a, e);break;case "select":
	      a._wrapperState.initialValue = void 0, b = a._wrapperState.wasMultiple, a._wrapperState.wasMultiple = !!e.multiple, c = e.value, null != c ? ze(a, !!e.multiple, c, !1) : b !== !!e.multiple && (null != e.defaultValue ? ze(a, !!e.multiple, e.defaultValue, !0) : ze(a, !!e.multiple, e.multiple ? [] : "", !1));}
	}
	function Ye(a, b, c, d, e) {
	  switch (b) {case "iframe":case "object":
	      K$1("load", a);break;case "video":case "audio":
	      for (d = 0; d < jb.length; d++) {
	        K$1(jb[d], a);
	      }break;case "source":
	      K$1("error", a);break;case "img":case "image":case "link":
	      K$1("error", a);K$1("load", a);break;case "form":
	      K$1("reset", a);K$1("submit", a);break;case "details":
	      K$1("toggle", a);break;case "input":
	      Hc(a, c);K$1("invalid", a);Se(e, "onChange");break;case "select":
	      Ae(a, c);K$1("invalid", a);Se(e, "onChange");break;case "textarea":
	      Ce(a, c), K$1("invalid", a), Se(e, "onChange");}Pe(b, c, Re);d = null;for (var f in c) {
	    if (c.hasOwnProperty(f)) {
	      var g = c[f];"children" === f ? "string" === typeof g ? a.textContent !== g && (d = ["children", g]) : "number" === typeof g && a.textContent !== "" + g && (d = ["children", "" + g]) : ra.hasOwnProperty(f) && null != g && Se(e, f);
	    }
	  }switch (b) {case "input":
	      cc(a);Mc(a, c, !0);break;case "textarea":
	      cc(a);Ee(a, c);break;case "select":case "option":
	      break;default:
	      "function" === typeof c.onClick && (a.onclick = emptyFunction_1);}return d;
	}function Ze(a, b) {
	  return a.nodeValue !== b;
	}
	var $e = { createElement: Te, createTextNode: Ue, setInitialProperties: Ve, diffProperties: We, updateProperties: Xe, diffHydratedProperties: Ye, diffHydratedText: Ze, warnForUnmatchedText: function warnForUnmatchedText() {}, warnForDeletedHydratableElement: function warnForDeletedHydratableElement() {}, warnForDeletedHydratableText: function warnForDeletedHydratableText() {}, warnForInsertedHydratedElement: function warnForInsertedHydratedElement() {}, warnForInsertedHydratedText: function warnForInsertedHydratedText() {}, restoreControlledState: function restoreControlledState(a, b, c) {
	    switch (b) {case "input":
	        Kc(a, c);b = c.name;if ("radio" === c.type && null != b) {
	          for (c = a; c.parentNode;) {
	            c = c.parentNode;
	          }c = c.querySelectorAll("input[name=" + JSON.stringify("" + b) + '][type="radio"]');for (b = 0; b < c.length; b++) {
	            var d = c[b];if (d !== a && d.form === a.form) {
	              var e = Pa(d);e ? void 0 : A$1("90");dc(d);Kc(d, e);
	            }
	          }
	        }break;case "textarea":
	        De(a, c);break;case "select":
	        b = c.value, null != b && ze(a, !!c.multiple, b, !1);}
	  } },
	    af = null,
	    bf = null;function cf(a, b) {
	  switch (a) {case "button":case "input":case "select":case "textarea":
	      return !!b.autoFocus;}return !1;
	}
	function df(a, b) {
	  return "textarea" === a || "string" === typeof b.children || "number" === typeof b.children || "object" === _typeof(b.dangerouslySetInnerHTML) && null !== b.dangerouslySetInnerHTML && "string" === typeof b.dangerouslySetInnerHTML.__html;
	}var ef = ge,
	    ff = ie,
	    gf = je;function hf(a) {
	  for (a = a.nextSibling; a && 1 !== a.nodeType && 3 !== a.nodeType;) {
	    a = a.nextSibling;
	  }return a;
	}function jf(a) {
	  for (a = a.firstChild; a && 1 !== a.nodeType && 3 !== a.nodeType;) {
	    a = a.nextSibling;
	  }return a;
	}var kf = [],
	    lf = -1;function mf(a) {
	  return { current: a };
	}
	function M$1(a) {
	  0 > lf || (a.current = kf[lf], kf[lf] = null, lf--);
	}function N$1(a, b) {
	  lf++;kf[lf] = a.current;a.current = b;
	}var nf = mf(emptyObject_1),
	    O$1 = mf(!1),
	    of = emptyObject_1;function pf(a) {
	  return qf(a) ? of : nf.current;
	}
	function rf(a, b) {
	  var c = a.type.contextTypes;if (!c) return emptyObject_1;var d = a.stateNode;if (d && d.__reactInternalMemoizedUnmaskedChildContext === b) return d.__reactInternalMemoizedMaskedChildContext;var e = {},
	      f;for (f in c) {
	    e[f] = b[f];
	  }d && (a = a.stateNode, a.__reactInternalMemoizedUnmaskedChildContext = b, a.__reactInternalMemoizedMaskedChildContext = e);return e;
	}function qf(a) {
	  return 2 === a.tag && null != a.type.childContextTypes;
	}function sf(a) {
	  qf(a) && (M$1(O$1, a), M$1(nf, a));
	}function tf(a) {
	  M$1(O$1, a);M$1(nf, a);
	}
	function uf(a, b, c) {
	  nf.current !== emptyObject_1 ? A$1("168") : void 0;N$1(nf, b, a);N$1(O$1, c, a);
	}function vf(a, b) {
	  var c = a.stateNode,
	      d = a.type.childContextTypes;if ("function" !== typeof c.getChildContext) return b;c = c.getChildContext();for (var e in c) {
	    e in d ? void 0 : A$1("108", uc(a) || "Unknown", e);
	  }return objectAssign({}, b, c);
	}function wf(a) {
	  if (!qf(a)) return !1;var b = a.stateNode;b = b && b.__reactInternalMemoizedMergedChildContext || emptyObject_1;of = nf.current;N$1(nf, b, a);N$1(O$1, O$1.current, a);return !0;
	}
	function xf(a, b) {
	  var c = a.stateNode;c ? void 0 : A$1("169");if (b) {
	    var d = vf(a, of);c.__reactInternalMemoizedMergedChildContext = d;M$1(O$1, a);M$1(nf, a);N$1(nf, d, a);
	  } else M$1(O$1, a);N$1(O$1, b, a);
	}
	function yf(a, b, c, d) {
	  this.tag = a;this.key = c;this.sibling = this.child = this.return = this.stateNode = this.type = null;this.index = 0;this.ref = null;this.pendingProps = b;this.memoizedState = this.updateQueue = this.memoizedProps = null;this.mode = d;this.effectTag = 0;this.lastEffect = this.firstEffect = this.nextEffect = null;this.expirationTime = 0;this.alternate = null;
	}
	function zf(a, b, c) {
	  var d = a.alternate;null === d ? (d = new yf(a.tag, b, a.key, a.mode), d.type = a.type, d.stateNode = a.stateNode, d.alternate = a, a.alternate = d) : (d.pendingProps = b, d.effectTag = 0, d.nextEffect = null, d.firstEffect = null, d.lastEffect = null);d.expirationTime = c;d.child = a.child;d.memoizedProps = a.memoizedProps;d.memoizedState = a.memoizedState;d.updateQueue = a.updateQueue;d.sibling = a.sibling;d.index = a.index;d.ref = a.ref;return d;
	}
	function Af(a, b, c) {
	  var d = a.type,
	      e = a.key;a = a.props;if ("function" === typeof d) var f = d.prototype && d.prototype.isReactComponent ? 2 : 0;else if ("string" === typeof d) f = 5;else switch (d) {case ic:
	      return Bf(a.children, b, c, e);case pc:
	      f = 11;b |= 3;break;case jc:
	      f = 11;b |= 2;break;case kc:
	      return d = new yf(15, a, e, b | 4), d.type = kc, d.expirationTime = c, d;case rc:
	      f = 16;b |= 2;break;default:
	      a: {
	        switch ("object" === (typeof d === 'undefined' ? 'undefined' : _typeof(d)) && null !== d ? d.$$typeof : null) {case lc:
	            f = 13;break a;case mc:
	            f = 12;break a;case qc:
	            f = 14;break a;default:
	            A$1("130", null == d ? d : typeof d === 'undefined' ? 'undefined' : _typeof(d), "");}f = void 0;
	      }}b = new yf(f, a, e, b);b.type = d;b.expirationTime = c;return b;
	}function Bf(a, b, c, d) {
	  a = new yf(10, a, d, b);a.expirationTime = c;return a;
	}function Cf(a, b, c) {
	  a = new yf(6, a, null, b);a.expirationTime = c;return a;
	}function Df(a, b, c) {
	  b = new yf(4, null !== a.children ? a.children : [], a.key, b);b.expirationTime = c;b.stateNode = { containerInfo: a.containerInfo, pendingChildren: null, implementation: a.implementation };return b;
	}
	function Ef(a, b, c) {
	  b = new yf(3, null, null, b ? 3 : 0);a = { current: b, containerInfo: a, pendingChildren: null, earliestPendingTime: 0, latestPendingTime: 0, earliestSuspendedTime: 0, latestSuspendedTime: 0, latestPingedTime: 0, pendingCommitExpirationTime: 0, finishedWork: null, context: null, pendingContext: null, hydrate: c, remainingExpirationTime: 0, firstBatch: null, nextScheduledRoot: null };return b.stateNode = a;
	}var Ff = null,
	    Gf = null;function Hf(a) {
	  return function (b) {
	    try {
	      return a(b);
	    } catch (c) {}
	  };
	}
	function If(a) {
	  if ("undefined" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) return !1;var b = __REACT_DEVTOOLS_GLOBAL_HOOK__;if (b.isDisabled || !b.supportsFiber) return !0;try {
	    var c = b.inject(a);Ff = Hf(function (a) {
	      return b.onCommitFiberRoot(c, a);
	    });Gf = Hf(function (a) {
	      return b.onCommitFiberUnmount(c, a);
	    });
	  } catch (d) {}return !0;
	}function Jf(a) {
	  "function" === typeof Ff && Ff(a);
	}function Kf(a) {
	  "function" === typeof Gf && Gf(a);
	}var Lf = !1;
	function Mf(a) {
	  return { expirationTime: 0, baseState: a, firstUpdate: null, lastUpdate: null, firstCapturedUpdate: null, lastCapturedUpdate: null, firstEffect: null, lastEffect: null, firstCapturedEffect: null, lastCapturedEffect: null };
	}function Nf(a) {
	  return { expirationTime: a.expirationTime, baseState: a.baseState, firstUpdate: a.firstUpdate, lastUpdate: a.lastUpdate, firstCapturedUpdate: null, lastCapturedUpdate: null, firstEffect: null, lastEffect: null, firstCapturedEffect: null, lastCapturedEffect: null };
	}
	function Of(a) {
	  return { expirationTime: a, tag: 0, payload: null, callback: null, next: null, nextEffect: null };
	}function Pf(a, b, c) {
	  null === a.lastUpdate ? a.firstUpdate = a.lastUpdate = b : (a.lastUpdate.next = b, a.lastUpdate = b);if (0 === a.expirationTime || a.expirationTime > c) a.expirationTime = c;
	}
	function Qf(a, b, c) {
	  var d = a.alternate;if (null === d) {
	    var e = a.updateQueue;var f = null;null === e && (e = a.updateQueue = Mf(a.memoizedState));
	  } else e = a.updateQueue, f = d.updateQueue, null === e ? null === f ? (e = a.updateQueue = Mf(a.memoizedState), f = d.updateQueue = Mf(d.memoizedState)) : e = a.updateQueue = Nf(f) : null === f && (f = d.updateQueue = Nf(e));null === f || e === f ? Pf(e, b, c) : null === e.lastUpdate || null === f.lastUpdate ? (Pf(e, b, c), Pf(f, b, c)) : (Pf(e, b, c), f.lastUpdate = b);
	}
	function Rf(a, b, c) {
	  var d = a.updateQueue;d = null === d ? a.updateQueue = Mf(a.memoizedState) : Sf(a, d);null === d.lastCapturedUpdate ? d.firstCapturedUpdate = d.lastCapturedUpdate = b : (d.lastCapturedUpdate.next = b, d.lastCapturedUpdate = b);if (0 === d.expirationTime || d.expirationTime > c) d.expirationTime = c;
	}function Sf(a, b) {
	  var c = a.alternate;null !== c && b === c.updateQueue && (b = a.updateQueue = Nf(b));return b;
	}
	function Tf(a, b, c, d, e, f) {
	  switch (c.tag) {case 1:
	      return a = c.payload, "function" === typeof a ? a.call(f, d, e) : a;case 3:
	      a.effectTag = a.effectTag & -1025 | 64;case 0:
	      a = c.payload;e = "function" === typeof a ? a.call(f, d, e) : a;if (null === e || void 0 === e) break;return objectAssign({}, d, e);case 2:
	      Lf = !0;}return d;
	}
	function Uf(a, b, c, d, e) {
	  Lf = !1;if (!(0 === b.expirationTime || b.expirationTime > e)) {
	    b = Sf(a, b);for (var f = b.baseState, g = null, h = 0, k = b.firstUpdate, n = f; null !== k;) {
	      var r = k.expirationTime;if (r > e) {
	        if (null === g && (g = k, f = n), 0 === h || h > r) h = r;
	      } else n = Tf(a, b, k, n, c, d), null !== k.callback && (a.effectTag |= 32, k.nextEffect = null, null === b.lastEffect ? b.firstEffect = b.lastEffect = k : (b.lastEffect.nextEffect = k, b.lastEffect = k));k = k.next;
	    }r = null;for (k = b.firstCapturedUpdate; null !== k;) {
	      var w = k.expirationTime;if (w > e) {
	        if (null === r && (r = k, null === g && (f = n)), 0 === h || h > w) h = w;
	      } else n = Tf(a, b, k, n, c, d), null !== k.callback && (a.effectTag |= 32, k.nextEffect = null, null === b.lastCapturedEffect ? b.firstCapturedEffect = b.lastCapturedEffect = k : (b.lastCapturedEffect.nextEffect = k, b.lastCapturedEffect = k));k = k.next;
	    }null === g && (b.lastUpdate = null);null === r ? b.lastCapturedUpdate = null : a.effectTag |= 32;null === g && null === r && (f = n);b.baseState = f;b.firstUpdate = g;b.firstCapturedUpdate = r;b.expirationTime = h;a.memoizedState = n;
	  }
	}
	function Vf(a, b) {
	  "function" !== typeof a ? A$1("191", a) : void 0;a.call(b);
	}
	function Wf(a, b, c) {
	  null !== b.firstCapturedUpdate && (null !== b.lastUpdate && (b.lastUpdate.next = b.firstCapturedUpdate, b.lastUpdate = b.lastCapturedUpdate), b.firstCapturedUpdate = b.lastCapturedUpdate = null);a = b.firstEffect;for (b.firstEffect = b.lastEffect = null; null !== a;) {
	    var d = a.callback;null !== d && (a.callback = null, Vf(d, c));a = a.nextEffect;
	  }a = b.firstCapturedEffect;for (b.firstCapturedEffect = b.lastCapturedEffect = null; null !== a;) {
	    b = a.callback, null !== b && (a.callback = null, Vf(b, c)), a = a.nextEffect;
	  }
	}
	function Xf(a, b) {
	  return { value: a, source: b, stack: vc(b) };
	}var Yf = mf(null),
	    Zf = mf(null),
	    $f = mf(0);function ag(a) {
	  var b = a.type._context;N$1($f, b._changedBits, a);N$1(Zf, b._currentValue, a);N$1(Yf, a, a);b._currentValue = a.pendingProps.value;b._changedBits = a.stateNode;
	}function bg(a) {
	  var b = $f.current,
	      c = Zf.current;M$1(Yf, a);M$1(Zf, a);M$1($f, a);a = a.type._context;a._currentValue = c;a._changedBits = b;
	}var cg = {},
	    dg = mf(cg),
	    eg = mf(cg),
	    fg = mf(cg);function gg(a) {
	  a === cg ? A$1("174") : void 0;return a;
	}
	function ig(a, b) {
	  N$1(fg, b, a);N$1(eg, a, a);N$1(dg, cg, a);var c = b.nodeType;switch (c) {case 9:case 11:
	      b = (b = b.documentElement) ? b.namespaceURI : He(null, "");break;default:
	      c = 8 === c ? b.parentNode : b, b = c.namespaceURI || null, c = c.tagName, b = He(b, c);}M$1(dg, a);N$1(dg, b, a);
	}function jg(a) {
	  M$1(dg, a);M$1(eg, a);M$1(fg, a);
	}function kg(a) {
	  eg.current === a && (M$1(dg, a), M$1(eg, a));
	}function lg(a, b, c) {
	  var d = a.memoizedState;b = b(c, d);d = null === b || void 0 === b ? d : objectAssign({}, d, b);a.memoizedState = d;a = a.updateQueue;null !== a && 0 === a.expirationTime && (a.baseState = d);
	}
	var pg = { isMounted: function isMounted(a) {
	    return (a = a._reactInternalFiber) ? 2 === jd(a) : !1;
	  }, enqueueSetState: function enqueueSetState(a, b, c) {
	    a = a._reactInternalFiber;var d = mg();d = ng(d, a);var e = Of(d);e.payload = b;void 0 !== c && null !== c && (e.callback = c);Qf(a, e, d);og(a, d);
	  }, enqueueReplaceState: function enqueueReplaceState(a, b, c) {
	    a = a._reactInternalFiber;var d = mg();d = ng(d, a);var e = Of(d);e.tag = 1;e.payload = b;void 0 !== c && null !== c && (e.callback = c);Qf(a, e, d);og(a, d);
	  }, enqueueForceUpdate: function enqueueForceUpdate(a, b) {
	    a = a._reactInternalFiber;var c = mg();c = ng(c, a);var d = Of(c);d.tag = 2;void 0 !== b && null !== b && (d.callback = b);Qf(a, d, c);og(a, c);
	  } };function qg(a, b, c, d, e, f) {
	  var g = a.stateNode;a = a.type;return "function" === typeof g.shouldComponentUpdate ? g.shouldComponentUpdate(c, e, f) : a.prototype && a.prototype.isPureReactComponent ? !shallowEqual_1(b, c) || !shallowEqual_1(d, e) : !0;
	}
	function rg(a, b, c, d) {
	  a = b.state;"function" === typeof b.componentWillReceiveProps && b.componentWillReceiveProps(c, d);"function" === typeof b.UNSAFE_componentWillReceiveProps && b.UNSAFE_componentWillReceiveProps(c, d);b.state !== a && pg.enqueueReplaceState(b, b.state, null);
	}
	function sg(a, b) {
	  var c = a.type,
	      d = a.stateNode,
	      e = a.pendingProps,
	      f = pf(a);d.props = e;d.state = a.memoizedState;d.refs = emptyObject_1;d.context = rf(a, f);f = a.updateQueue;null !== f && (Uf(a, f, e, d, b), d.state = a.memoizedState);f = a.type.getDerivedStateFromProps;"function" === typeof f && (lg(a, f, e), d.state = a.memoizedState);"function" === typeof c.getDerivedStateFromProps || "function" === typeof d.getSnapshotBeforeUpdate || "function" !== typeof d.UNSAFE_componentWillMount && "function" !== typeof d.componentWillMount || (c = d.state, "function" === typeof d.componentWillMount && d.componentWillMount(), "function" === typeof d.UNSAFE_componentWillMount && d.UNSAFE_componentWillMount(), c !== d.state && pg.enqueueReplaceState(d, d.state, null), f = a.updateQueue, null !== f && (Uf(a, f, e, d, b), d.state = a.memoizedState));"function" === typeof d.componentDidMount && (a.effectTag |= 4);
	}var tg = Array.isArray;
	function ug(a, b, c) {
	  a = c.ref;if (null !== a && "function" !== typeof a && "object" !== (typeof a === 'undefined' ? 'undefined' : _typeof(a))) {
	    if (c._owner) {
	      c = c._owner;var d = void 0;c && (2 !== c.tag ? A$1("110") : void 0, d = c.stateNode);d ? void 0 : A$1("147", a);var e = "" + a;if (null !== b && null !== b.ref && "function" === typeof b.ref && b.ref._stringRef === e) return b.ref;b = function b(a) {
	        var b = d.refs === emptyObject_1 ? d.refs = {} : d.refs;null === a ? delete b[e] : b[e] = a;
	      };b._stringRef = e;return b;
	    }"string" !== typeof a ? A$1("148") : void 0;c._owner ? void 0 : A$1("254", a);
	  }return a;
	}
	function vg(a, b) {
	  "textarea" !== a.type && A$1("31", "[object Object]" === Object.prototype.toString.call(b) ? "object with keys {" + Object.keys(b).join(", ") + "}" : b, "");
	}
	function wg(a) {
	  function b(b, c) {
	    if (a) {
	      var d = b.lastEffect;null !== d ? (d.nextEffect = c, b.lastEffect = c) : b.firstEffect = b.lastEffect = c;c.nextEffect = null;c.effectTag = 8;
	    }
	  }function c(c, d) {
	    if (!a) return null;for (; null !== d;) {
	      b(c, d), d = d.sibling;
	    }return null;
	  }function d(a, b) {
	    for (a = new Map(); null !== b;) {
	      null !== b.key ? a.set(b.key, b) : a.set(b.index, b), b = b.sibling;
	    }return a;
	  }function e(a, b, c) {
	    a = zf(a, b, c);a.index = 0;a.sibling = null;return a;
	  }function f(b, c, d) {
	    b.index = d;if (!a) return c;d = b.alternate;if (null !== d) return d = d.index, d < c ? (b.effectTag = 2, c) : d;b.effectTag = 2;return c;
	  }function g(b) {
	    a && null === b.alternate && (b.effectTag = 2);return b;
	  }function h(a, b, c, d) {
	    if (null === b || 6 !== b.tag) return b = Cf(c, a.mode, d), b.return = a, b;b = e(b, c, d);b.return = a;return b;
	  }function k(a, b, c, d) {
	    if (null !== b && b.type === c.type) return d = e(b, c.props, d), d.ref = ug(a, b, c), d.return = a, d;d = Af(c, a.mode, d);d.ref = ug(a, b, c);d.return = a;return d;
	  }function n(a, b, c, d) {
	    if (null === b || 4 !== b.tag || b.stateNode.containerInfo !== c.containerInfo || b.stateNode.implementation !== c.implementation) return b = Df(c, a.mode, d), b.return = a, b;b = e(b, c.children || [], d);b.return = a;return b;
	  }function r(a, b, c, d, f) {
	    if (null === b || 10 !== b.tag) return b = Bf(c, a.mode, d, f), b.return = a, b;b = e(b, c, d);b.return = a;return b;
	  }function w(a, b, c) {
	    if ("string" === typeof b || "number" === typeof b) return b = Cf("" + b, a.mode, c), b.return = a, b;if ("object" === (typeof b === 'undefined' ? 'undefined' : _typeof(b)) && null !== b) {
	      switch (b.$$typeof) {case gc:
	          return c = Af(b, a.mode, c), c.ref = ug(a, null, b), c.return = a, c;case hc:
	          return b = Df(b, a.mode, c), b.return = a, b;}if (tg(b) || tc(b)) return b = Bf(b, a.mode, c, null), b.return = a, b;vg(a, b);
	    }return null;
	  }function P(a, b, c, d) {
	    var e = null !== b ? b.key : null;if ("string" === typeof c || "number" === typeof c) return null !== e ? null : h(a, b, "" + c, d);if ("object" === (typeof c === 'undefined' ? 'undefined' : _typeof(c)) && null !== c) {
	      switch (c.$$typeof) {case gc:
	          return c.key === e ? c.type === ic ? r(a, b, c.props.children, d, e) : k(a, b, c, d) : null;case hc:
	          return c.key === e ? n(a, b, c, d) : null;}if (tg(c) || tc(c)) return null !== e ? null : r(a, b, c, d, null);vg(a, c);
	    }return null;
	  }function nc(a, b, c, d, e) {
	    if ("string" === typeof d || "number" === typeof d) return a = a.get(c) || null, h(b, a, "" + d, e);
	    if ("object" === (typeof d === 'undefined' ? 'undefined' : _typeof(d)) && null !== d) {
	      switch (d.$$typeof) {case gc:
	          return a = a.get(null === d.key ? c : d.key) || null, d.type === ic ? r(b, a, d.props.children, e, d.key) : k(b, a, d, e);case hc:
	          return a = a.get(null === d.key ? c : d.key) || null, n(b, a, d, e);}if (tg(d) || tc(d)) return a = a.get(c) || null, r(b, a, d, e, null);vg(b, d);
	    }return null;
	  }function Jd(e, g, h, k) {
	    for (var u = null, x = null, t = g, q = g = 0, n = null; null !== t && q < h.length; q++) {
	      t.index > q ? (n = t, t = null) : n = t.sibling;var l = P(e, t, h[q], k);if (null === l) {
	        null === t && (t = n);break;
	      }a && t && null === l.alternate && b(e, t);g = f(l, g, q);null === x ? u = l : x.sibling = l;x = l;t = n;
	    }if (q === h.length) return c(e, t), u;if (null === t) {
	      for (; q < h.length; q++) {
	        if (t = w(e, h[q], k)) g = f(t, g, q), null === x ? u = t : x.sibling = t, x = t;
	      }return u;
	    }for (t = d(e, t); q < h.length; q++) {
	      if (n = nc(t, e, q, h[q], k)) a && null !== n.alternate && t.delete(null === n.key ? q : n.key), g = f(n, g, q), null === x ? u = n : x.sibling = n, x = n;
	    }a && t.forEach(function (a) {
	      return b(e, a);
	    });return u;
	  }function E(e, g, h, k) {
	    var u = tc(h);"function" !== typeof u ? A$1("150") : void 0;h = u.call(h);null == h ? A$1("151") : void 0;for (var t = u = null, n = g, x = g = 0, y = null, l = h.next(); null !== n && !l.done; x++, l = h.next()) {
	      n.index > x ? (y = n, n = null) : y = n.sibling;var r = P(e, n, l.value, k);if (null === r) {
	        n || (n = y);break;
	      }a && n && null === r.alternate && b(e, n);g = f(r, g, x);null === t ? u = r : t.sibling = r;t = r;n = y;
	    }if (l.done) return c(e, n), u;if (null === n) {
	      for (; !l.done; x++, l = h.next()) {
	        l = w(e, l.value, k), null !== l && (g = f(l, g, x), null === t ? u = l : t.sibling = l, t = l);
	      }return u;
	    }for (n = d(e, n); !l.done; x++, l = h.next()) {
	      l = nc(n, e, x, l.value, k), null !== l && (a && null !== l.alternate && n.delete(null === l.key ? x : l.key), g = f(l, g, x), null === t ? u = l : t.sibling = l, t = l);
	    }a && n.forEach(function (a) {
	      return b(e, a);
	    });return u;
	  }return function (a, d, f, h) {
	    var k = "object" === (typeof f === 'undefined' ? 'undefined' : _typeof(f)) && null !== f && f.type === ic && null === f.key;k && (f = f.props.children);var n = "object" === (typeof f === 'undefined' ? 'undefined' : _typeof(f)) && null !== f;if (n) switch (f.$$typeof) {case gc:
	        a: {
	          n = f.key;for (k = d; null !== k;) {
	            if (k.key === n) {
	              if (10 === k.tag ? f.type === ic : k.type === f.type) {
	                c(a, k.sibling);d = e(k, f.type === ic ? f.props.children : f.props, h);d.ref = ug(a, k, f);d.return = a;a = d;break a;
	              } else {
	                c(a, k);break;
	              }
	            } else b(a, k);k = k.sibling;
	          }f.type === ic ? (d = Bf(f.props.children, a.mode, h, f.key), d.return = a, a = d) : (h = Af(f, a.mode, h), h.ref = ug(a, d, f), h.return = a, a = h);
	        }return g(a);case hc:
	        a: {
	          for (k = f.key; null !== d;) {
	            if (d.key === k) {
	              if (4 === d.tag && d.stateNode.containerInfo === f.containerInfo && d.stateNode.implementation === f.implementation) {
	                c(a, d.sibling);d = e(d, f.children || [], h);d.return = a;a = d;break a;
	              } else {
	                c(a, d);break;
	              }
	            } else b(a, d);d = d.sibling;
	          }d = Df(f, a.mode, h);d.return = a;a = d;
	        }return g(a);}if ("string" === typeof f || "number" === typeof f) return f = "" + f, null !== d && 6 === d.tag ? (c(a, d.sibling), d = e(d, f, h), d.return = a, a = d) : (c(a, d), d = Cf(f, a.mode, h), d.return = a, a = d), g(a);if (tg(f)) return Jd(a, d, f, h);if (tc(f)) return E(a, d, f, h);n && vg(a, f);if ("undefined" === typeof f && !k) switch (a.tag) {case 2:case 1:
	        h = a.type, A$1("152", h.displayName || h.name || "Component");}return c(a, d);
	  };
	}var xg = wg(!0),
	    yg = wg(!1),
	    zg = null,
	    Ag = null,
	    Bg = !1;function Cg(a, b) {
	  var c = new yf(5, null, null, 0);c.type = "DELETED";c.stateNode = b;c.return = a;c.effectTag = 8;null !== a.lastEffect ? (a.lastEffect.nextEffect = c, a.lastEffect = c) : a.firstEffect = a.lastEffect = c;
	}
	function Dg(a, b) {
	  switch (a.tag) {case 5:
	      var c = a.type;b = 1 !== b.nodeType || c.toLowerCase() !== b.nodeName.toLowerCase() ? null : b;return null !== b ? (a.stateNode = b, !0) : !1;case 6:
	      return b = "" === a.pendingProps || 3 !== b.nodeType ? null : b, null !== b ? (a.stateNode = b, !0) : !1;default:
	      return !1;}
	}function Eg(a) {
	  if (Bg) {
	    var b = Ag;if (b) {
	      var c = b;if (!Dg(a, b)) {
	        b = hf(c);if (!b || !Dg(a, b)) {
	          a.effectTag |= 2;Bg = !1;zg = a;return;
	        }Cg(zg, c);
	      }zg = a;Ag = jf(b);
	    } else a.effectTag |= 2, Bg = !1, zg = a;
	  }
	}
	function Fg(a) {
	  for (a = a.return; null !== a && 5 !== a.tag && 3 !== a.tag;) {
	    a = a.return;
	  }zg = a;
	}function Gg(a) {
	  if (a !== zg) return !1;if (!Bg) return Fg(a), Bg = !0, !1;var b = a.type;if (5 !== a.tag || "head" !== b && "body" !== b && !df(b, a.memoizedProps)) for (b = Ag; b;) {
	    Cg(a, b), b = hf(b);
	  }Fg(a);Ag = zg ? hf(a.stateNode) : null;return !0;
	}function Hg() {
	  Ag = zg = null;Bg = !1;
	}function Q$1(a, b, c) {
	  Ig(a, b, c, b.expirationTime);
	}function Ig(a, b, c, d) {
	  b.child = null === a ? yg(b, null, c, d) : xg(b, a.child, c, d);
	}
	function Jg(a, b) {
	  var c = b.ref;if (null === a && null !== c || null !== a && a.ref !== c) b.effectTag |= 128;
	}function Kg(a, b, c, d, e) {
	  Jg(a, b);var f = 0 !== (b.effectTag & 64);if (!c && !f) return d && xf(b, !1), R$1(a, b);c = b.stateNode;ec.current = b;var g = f ? null : c.render();b.effectTag |= 1;f && (Ig(a, b, null, e), b.child = null);Ig(a, b, g, e);b.memoizedState = c.state;b.memoizedProps = c.props;d && xf(b, !0);return b.child;
	}
	function Lg(a) {
	  var b = a.stateNode;b.pendingContext ? uf(a, b.pendingContext, b.pendingContext !== b.context) : b.context && uf(a, b.context, !1);ig(a, b.containerInfo);
	}
	function Mg(a, b, c, d) {
	  var e = a.child;null !== e && (e.return = a);for (; null !== e;) {
	    switch (e.tag) {case 12:
	        var f = e.stateNode | 0;if (e.type === b && 0 !== (f & c)) {
	          for (f = e; null !== f;) {
	            var g = f.alternate;if (0 === f.expirationTime || f.expirationTime > d) f.expirationTime = d, null !== g && (0 === g.expirationTime || g.expirationTime > d) && (g.expirationTime = d);else if (null !== g && (0 === g.expirationTime || g.expirationTime > d)) g.expirationTime = d;else break;f = f.return;
	          }f = null;
	        } else f = e.child;break;case 13:
	        f = e.type === a.type ? null : e.child;break;default:
	        f = e.child;}if (null !== f) f.return = e;else for (f = e; null !== f;) {
	      if (f === a) {
	        f = null;break;
	      }e = f.sibling;if (null !== e) {
	        e.return = f.return;f = e;break;
	      }f = f.return;
	    }e = f;
	  }
	}
	function Qg(a, b, c) {
	  var d = b.type._context,
	      e = b.pendingProps,
	      f = b.memoizedProps,
	      g = !0;if (O$1.current) g = !1;else if (f === e) return b.stateNode = 0, ag(b), R$1(a, b);var h = e.value;b.memoizedProps = e;if (null === f) h = 1073741823;else if (f.value === e.value) {
	    if (f.children === e.children && g) return b.stateNode = 0, ag(b), R$1(a, b);h = 0;
	  } else {
	    var k = f.value;if (k === h && (0 !== k || 1 / k === 1 / h) || k !== k && h !== h) {
	      if (f.children === e.children && g) return b.stateNode = 0, ag(b), R$1(a, b);h = 0;
	    } else if (h = "function" === typeof d._calculateChangedBits ? d._calculateChangedBits(k, h) : 1073741823, h |= 0, 0 === h) {
	      if (f.children === e.children && g) return b.stateNode = 0, ag(b), R$1(a, b);
	    } else Mg(b, d, h, c);
	  }b.stateNode = h;ag(b);Q$1(a, b, e.children);return b.child;
	}function R$1(a, b) {
	  null !== a && b.child !== a.child ? A$1("153") : void 0;if (null !== b.child) {
	    a = b.child;var c = zf(a, a.pendingProps, a.expirationTime);b.child = c;for (c.return = b; null !== a.sibling;) {
	      a = a.sibling, c = c.sibling = zf(a, a.pendingProps, a.expirationTime), c.return = b;
	    }c.sibling = null;
	  }return b.child;
	}
	function Rg(a, b, c) {
	  if (0 === b.expirationTime || b.expirationTime > c) {
	    switch (b.tag) {case 3:
	        Lg(b);break;case 2:
	        wf(b);break;case 4:
	        ig(b, b.stateNode.containerInfo);break;case 13:
	        ag(b);}return null;
	  }switch (b.tag) {case 0:
	      null !== a ? A$1("155") : void 0;var d = b.type,
	          e = b.pendingProps,
	          f = pf(b);f = rf(b, f);d = d(e, f);b.effectTag |= 1;"object" === (typeof d === 'undefined' ? 'undefined' : _typeof(d)) && null !== d && "function" === typeof d.render && void 0 === d.$$typeof ? (f = b.type, b.tag = 2, b.memoizedState = null !== d.state && void 0 !== d.state ? d.state : null, f = f.getDerivedStateFromProps, "function" === typeof f && lg(b, f, e), e = wf(b), d.updater = pg, b.stateNode = d, d._reactInternalFiber = b, sg(b, c), a = Kg(a, b, !0, e, c)) : (b.tag = 1, Q$1(a, b, d), b.memoizedProps = e, a = b.child);return a;case 1:
	      return e = b.type, c = b.pendingProps, O$1.current || b.memoizedProps !== c ? (d = pf(b), d = rf(b, d), e = e(c, d), b.effectTag |= 1, Q$1(a, b, e), b.memoizedProps = c, a = b.child) : a = R$1(a, b), a;case 2:
	      e = wf(b);if (null === a) {
	        if (null === b.stateNode) {
	          var g = b.pendingProps,
	              h = b.type;d = pf(b);var k = 2 === b.tag && null != b.type.contextTypes;f = k ? rf(b, d) : emptyObject_1;g = new h(g, f);b.memoizedState = null !== g.state && void 0 !== g.state ? g.state : null;g.updater = pg;b.stateNode = g;g._reactInternalFiber = b;k && (k = b.stateNode, k.__reactInternalMemoizedUnmaskedChildContext = d, k.__reactInternalMemoizedMaskedChildContext = f);sg(b, c);d = !0;
	        } else {
	          h = b.type;d = b.stateNode;k = b.memoizedProps;f = b.pendingProps;d.props = k;var n = d.context;g = pf(b);g = rf(b, g);var r = h.getDerivedStateFromProps;(h = "function" === typeof r || "function" === typeof d.getSnapshotBeforeUpdate) || "function" !== typeof d.UNSAFE_componentWillReceiveProps && "function" !== typeof d.componentWillReceiveProps || (k !== f || n !== g) && rg(b, d, f, g);Lf = !1;var w = b.memoizedState;n = d.state = w;var P = b.updateQueue;null !== P && (Uf(b, P, f, d, c), n = b.memoizedState);k !== f || w !== n || O$1.current || Lf ? ("function" === typeof r && (lg(b, r, f), n = b.memoizedState), (k = Lf || qg(b, k, f, w, n, g)) ? (h || "function" !== typeof d.UNSAFE_componentWillMount && "function" !== typeof d.componentWillMount || ("function" === typeof d.componentWillMount && d.componentWillMount(), "function" === typeof d.UNSAFE_componentWillMount && d.UNSAFE_componentWillMount()), "function" === typeof d.componentDidMount && (b.effectTag |= 4)) : ("function" === typeof d.componentDidMount && (b.effectTag |= 4), b.memoizedProps = f, b.memoizedState = n), d.props = f, d.state = n, d.context = g, d = k) : ("function" === typeof d.componentDidMount && (b.effectTag |= 4), d = !1);
	        }
	      } else h = b.type, d = b.stateNode, f = b.memoizedProps, k = b.pendingProps, d.props = f, n = d.context, g = pf(b), g = rf(b, g), r = h.getDerivedStateFromProps, (h = "function" === typeof r || "function" === typeof d.getSnapshotBeforeUpdate) || "function" !== typeof d.UNSAFE_componentWillReceiveProps && "function" !== typeof d.componentWillReceiveProps || (f !== k || n !== g) && rg(b, d, k, g), Lf = !1, n = b.memoizedState, w = d.state = n, P = b.updateQueue, null !== P && (Uf(b, P, k, d, c), w = b.memoizedState), f !== k || n !== w || O$1.current || Lf ? ("function" === typeof r && (lg(b, r, k), w = b.memoizedState), (r = Lf || qg(b, f, k, n, w, g)) ? (h || "function" !== typeof d.UNSAFE_componentWillUpdate && "function" !== typeof d.componentWillUpdate || ("function" === typeof d.componentWillUpdate && d.componentWillUpdate(k, w, g), "function" === typeof d.UNSAFE_componentWillUpdate && d.UNSAFE_componentWillUpdate(k, w, g)), "function" === typeof d.componentDidUpdate && (b.effectTag |= 4), "function" === typeof d.getSnapshotBeforeUpdate && (b.effectTag |= 256)) : ("function" !== typeof d.componentDidUpdate || f === a.memoizedProps && n === a.memoizedState || (b.effectTag |= 4), "function" !== typeof d.getSnapshotBeforeUpdate || f === a.memoizedProps && n === a.memoizedState || (b.effectTag |= 256), b.memoizedProps = k, b.memoizedState = w), d.props = k, d.state = w, d.context = g, d = r) : ("function" !== typeof d.componentDidUpdate || f === a.memoizedProps && n === a.memoizedState || (b.effectTag |= 4), "function" !== typeof d.getSnapshotBeforeUpdate || f === a.memoizedProps && n === a.memoizedState || (b.effectTag |= 256), d = !1);return Kg(a, b, d, e, c);case 3:
	      Lg(b);e = b.updateQueue;if (null !== e) {
	        if (d = b.memoizedState, d = null !== d ? d.element : null, Uf(b, e, b.pendingProps, null, c), e = b.memoizedState.element, e === d) Hg(), a = R$1(a, b);else {
	          d = b.stateNode;if (d = (null === a || null === a.child) && d.hydrate) Ag = jf(b.stateNode.containerInfo), zg = b, d = Bg = !0;d ? (b.effectTag |= 2, b.child = yg(b, null, e, c)) : (Hg(), Q$1(a, b, e));a = b.child;
	        }
	      } else Hg(), a = R$1(a, b);return a;case 5:
	      a: {
	        gg(fg.current);e = gg(dg.current);d = He(e, b.type);e !== d && (N$1(eg, b, b), N$1(dg, d, b));null === a && Eg(b);e = b.type;k = b.memoizedProps;d = b.pendingProps;f = null !== a ? a.memoizedProps : null;if (!O$1.current && k === d) {
	          if (k = b.mode & 1 && !!d.hidden) b.expirationTime = 1073741823;if (!k || 1073741823 !== c) {
	            a = R$1(a, b);break a;
	          }
	        }k = d.children;df(e, d) ? k = null : f && df(e, f) && (b.effectTag |= 16);Jg(a, b);1073741823 !== c && b.mode & 1 && d.hidden ? (b.expirationTime = 1073741823, b.memoizedProps = d, a = null) : (Q$1(a, b, k), b.memoizedProps = d, a = b.child);
	      }return a;case 6:
	      return null === a && Eg(b), b.memoizedProps = b.pendingProps, null;case 16:
	      return null;case 4:
	      return ig(b, b.stateNode.containerInfo), e = b.pendingProps, O$1.current || b.memoizedProps !== e ? (null === a ? b.child = xg(b, null, e, c) : Q$1(a, b, e), b.memoizedProps = e, a = b.child) : a = R$1(a, b), a;case 14:
	      return e = b.type.render, c = b.pendingProps, d = b.ref, O$1.current || b.memoizedProps !== c || d !== (null !== a ? a.ref : null) ? (e = e(c, d), Q$1(a, b, e), b.memoizedProps = c, a = b.child) : a = R$1(a, b), a;case 10:
	      return c = b.pendingProps, O$1.current || b.memoizedProps !== c ? (Q$1(a, b, c), b.memoizedProps = c, a = b.child) : a = R$1(a, b), a;case 11:
	      return c = b.pendingProps.children, O$1.current || null !== c && b.memoizedProps !== c ? (Q$1(a, b, c), b.memoizedProps = c, a = b.child) : a = R$1(a, b), a;case 15:
	      return c = b.pendingProps, b.memoizedProps === c ? a = R$1(a, b) : (Q$1(a, b, c.children), b.memoizedProps = c, a = b.child), a;case 13:
	      return Qg(a, b, c);case 12:
	      a: if (d = b.type, f = b.pendingProps, k = b.memoizedProps, e = d._currentValue, g = d._changedBits, O$1.current || 0 !== g || k !== f) {
	        b.memoizedProps = f;h = f.unstable_observedBits;if (void 0 === h || null === h) h = 1073741823;b.stateNode = h;if (0 !== (g & h)) Mg(b, d, g, c);else if (k === f) {
	          a = R$1(a, b);break a;
	        }c = f.children;c = c(e);b.effectTag |= 1;Q$1(a, b, c);a = b.child;
	      } else a = R$1(a, b);return a;default:
	      A$1("156");}
	}function Sg(a) {
	  a.effectTag |= 4;
	}var Tg = void 0,
	    Ug = void 0,
	    Vg = void 0;Tg = function Tg() {};Ug = function Ug(a, b, c) {
	  (b.updateQueue = c) && Sg(b);
	};Vg = function Vg(a, b, c, d) {
	  c !== d && Sg(b);
	};
	function Wg(a, b) {
	  var c = b.pendingProps;switch (b.tag) {case 1:
	      return null;case 2:
	      return sf(b), null;case 3:
	      jg(b);tf(b);var d = b.stateNode;d.pendingContext && (d.context = d.pendingContext, d.pendingContext = null);if (null === a || null === a.child) Gg(b), b.effectTag &= -3;Tg(b);return null;case 5:
	      kg(b);d = gg(fg.current);var e = b.type;if (null !== a && null != b.stateNode) {
	        var f = a.memoizedProps,
	            g = b.stateNode,
	            h = gg(dg.current);g = We(g, e, f, c, d);Ug(a, b, g, e, f, c, d, h);a.ref !== b.ref && (b.effectTag |= 128);
	      } else {
	        if (!c) return null === b.stateNode ? A$1("166") : void 0, null;a = gg(dg.current);if (Gg(b)) c = b.stateNode, e = b.type, f = b.memoizedProps, c[C$1] = b, c[Ma] = f, d = Ye(c, e, f, a, d), b.updateQueue = d, null !== d && Sg(b);else {
	          a = Te(e, c, d, a);a[C$1] = b;a[Ma] = c;a: for (f = b.child; null !== f;) {
	            if (5 === f.tag || 6 === f.tag) a.appendChild(f.stateNode);else if (4 !== f.tag && null !== f.child) {
	              f.child.return = f;f = f.child;continue;
	            }if (f === b) break;for (; null === f.sibling;) {
	              if (null === f.return || f.return === b) break a;f = f.return;
	            }f.sibling.return = f.return;f = f.sibling;
	          }Ve(a, e, c, d);cf(e, c) && Sg(b);b.stateNode = a;
	        }null !== b.ref && (b.effectTag |= 128);
	      }return null;case 6:
	      if (a && null != b.stateNode) Vg(a, b, a.memoizedProps, c);else {
	        if ("string" !== typeof c) return null === b.stateNode ? A$1("166") : void 0, null;d = gg(fg.current);gg(dg.current);Gg(b) ? (d = b.stateNode, c = b.memoizedProps, d[C$1] = b, Ze(d, c) && Sg(b)) : (d = Ue(c, d), d[C$1] = b, b.stateNode = d);
	      }return null;case 14:
	      return null;case 16:
	      return null;case 10:
	      return null;case 11:
	      return null;case 15:
	      return null;case 4:
	      return jg(b), Tg(b), null;case 13:
	      return bg(b), null;case 12:
	      return null;case 0:
	      A$1("167");
	    default:
	      A$1("156");}
	}function Xg(a, b) {
	  var c = b.source;null === b.stack && null !== c && vc(c);null !== c && uc(c);b = b.value;null !== a && 2 === a.tag && uc(a);try {
	    b && b.suppressReactErrorLogging || console.error(b);
	  } catch (d) {
	    d && d.suppressReactErrorLogging || console.error(d);
	  }
	}function Yg(a) {
	  var b = a.ref;if (null !== b) if ("function" === typeof b) try {
	    b(null);
	  } catch (c) {
	    Zg(a, c);
	  } else b.current = null;
	}
	function $g(a) {
	  "function" === typeof Kf && Kf(a);switch (a.tag) {case 2:
	      Yg(a);var b = a.stateNode;if ("function" === typeof b.componentWillUnmount) try {
	        b.props = a.memoizedProps, b.state = a.memoizedState, b.componentWillUnmount();
	      } catch (c) {
	        Zg(a, c);
	      }break;case 5:
	      Yg(a);break;case 4:
	      ah(a);}
	}function bh(a) {
	  return 5 === a.tag || 3 === a.tag || 4 === a.tag;
	}
	function ch(a) {
	  a: {
	    for (var b = a.return; null !== b;) {
	      if (bh(b)) {
	        var c = b;break a;
	      }b = b.return;
	    }A$1("160");c = void 0;
	  }var d = b = void 0;switch (c.tag) {case 5:
	      b = c.stateNode;d = !1;break;case 3:
	      b = c.stateNode.containerInfo;d = !0;break;case 4:
	      b = c.stateNode.containerInfo;d = !0;break;default:
	      A$1("161");}c.effectTag & 16 && (Ke(b, ""), c.effectTag &= -17);a: b: for (c = a;;) {
	    for (; null === c.sibling;) {
	      if (null === c.return || bh(c.return)) {
	        c = null;break a;
	      }c = c.return;
	    }c.sibling.return = c.return;for (c = c.sibling; 5 !== c.tag && 6 !== c.tag;) {
	      if (c.effectTag & 2) continue b;
	      if (null === c.child || 4 === c.tag) continue b;else c.child.return = c, c = c.child;
	    }if (!(c.effectTag & 2)) {
	      c = c.stateNode;break a;
	    }
	  }for (var e = a;;) {
	    if (5 === e.tag || 6 === e.tag) {
	      if (c) {
	        if (d) {
	          var f = b,
	              g = e.stateNode,
	              h = c;8 === f.nodeType ? f.parentNode.insertBefore(g, h) : f.insertBefore(g, h);
	        } else b.insertBefore(e.stateNode, c);
	      } else d ? (f = b, g = e.stateNode, 8 === f.nodeType ? f.parentNode.insertBefore(g, f) : f.appendChild(g)) : b.appendChild(e.stateNode);
	    } else if (4 !== e.tag && null !== e.child) {
	      e.child.return = e;e = e.child;continue;
	    }if (e === a) break;for (; null === e.sibling;) {
	      if (null === e.return || e.return === a) return;e = e.return;
	    }e.sibling.return = e.return;e = e.sibling;
	  }
	}
	function ah(a) {
	  for (var b = a, c = !1, d = void 0, e = void 0;;) {
	    if (!c) {
	      c = b.return;a: for (;;) {
	        null === c ? A$1("160") : void 0;switch (c.tag) {case 5:
	            d = c.stateNode;e = !1;break a;case 3:
	            d = c.stateNode.containerInfo;e = !0;break a;case 4:
	            d = c.stateNode.containerInfo;e = !0;break a;}c = c.return;
	      }c = !0;
	    }if (5 === b.tag || 6 === b.tag) {
	      a: for (var f = b, g = f;;) {
	        if ($g(g), null !== g.child && 4 !== g.tag) g.child.return = g, g = g.child;else {
	          if (g === f) break;for (; null === g.sibling;) {
	            if (null === g.return || g.return === f) break a;g = g.return;
	          }g.sibling.return = g.return;g = g.sibling;
	        }
	      }e ? (f = d, g = b.stateNode, 8 === f.nodeType ? f.parentNode.removeChild(g) : f.removeChild(g)) : d.removeChild(b.stateNode);
	    } else if (4 === b.tag ? d = b.stateNode.containerInfo : $g(b), null !== b.child) {
	      b.child.return = b;b = b.child;continue;
	    }if (b === a) break;for (; null === b.sibling;) {
	      if (null === b.return || b.return === a) return;b = b.return;4 === b.tag && (c = !1);
	    }b.sibling.return = b.return;b = b.sibling;
	  }
	}
	function dh(a, b) {
	  switch (b.tag) {case 2:
	      break;case 5:
	      var c = b.stateNode;if (null != c) {
	        var d = b.memoizedProps;a = null !== a ? a.memoizedProps : d;var e = b.type,
	            f = b.updateQueue;b.updateQueue = null;null !== f && (c[Ma] = d, Xe(c, f, e, a, d));
	      }break;case 6:
	      null === b.stateNode ? A$1("162") : void 0;b.stateNode.nodeValue = b.memoizedProps;break;case 3:
	      break;case 15:
	      break;case 16:
	      break;default:
	      A$1("163");}
	}function eh(a, b, c) {
	  c = Of(c);c.tag = 3;c.payload = { element: null };var d = b.value;c.callback = function () {
	    fh(d);Xg(a, b);
	  };return c;
	}
	function gh(a, b, c) {
	  c = Of(c);c.tag = 3;var d = a.stateNode;null !== d && "function" === typeof d.componentDidCatch && (c.callback = function () {
	    null === hh ? hh = new Set([this]) : hh.add(this);var c = b.value,
	        d = b.stack;Xg(a, b);this.componentDidCatch(c, { componentStack: null !== d ? d : "" });
	  });return c;
	}
	function ih(a, b, c, d, e, f) {
	  c.effectTag |= 512;c.firstEffect = c.lastEffect = null;d = Xf(d, c);a = b;do {
	    switch (a.tag) {case 3:
	        a.effectTag |= 1024;d = eh(a, d, f);Rf(a, d, f);return;case 2:
	        if (b = d, c = a.stateNode, 0 === (a.effectTag & 64) && null !== c && "function" === typeof c.componentDidCatch && (null === hh || !hh.has(c))) {
	          a.effectTag |= 1024;d = gh(a, b, f);Rf(a, d, f);return;
	        }}a = a.return;
	  } while (null !== a);
	}
	function jh(a) {
	  switch (a.tag) {case 2:
	      sf(a);var b = a.effectTag;return b & 1024 ? (a.effectTag = b & -1025 | 64, a) : null;case 3:
	      return jg(a), tf(a), b = a.effectTag, b & 1024 ? (a.effectTag = b & -1025 | 64, a) : null;case 5:
	      return kg(a), null;case 16:
	      return b = a.effectTag, b & 1024 ? (a.effectTag = b & -1025 | 64, a) : null;case 4:
	      return jg(a), null;case 13:
	      return bg(a), null;default:
	      return null;}
	}var kh = ef(),
	    lh = 2,
	    mh = kh,
	    nh = 0,
	    oh = 0,
	    ph = !1,
	    S$1 = null,
	    qh = null,
	    T$1 = 0,
	    rh = -1,
	    sh = !1,
	    U$1 = null,
	    th = !1,
	    uh = !1,
	    hh = null;
	function vh() {
	  if (null !== S$1) for (var a = S$1.return; null !== a;) {
	    var b = a;switch (b.tag) {case 2:
	        sf(b);break;case 3:
	        jg(b);tf(b);break;case 5:
	        kg(b);break;case 4:
	        jg(b);break;case 13:
	        bg(b);}a = a.return;
	  }qh = null;T$1 = 0;rh = -1;sh = !1;S$1 = null;uh = !1;
	}
	function wh(a) {
	  for (;;) {
	    var b = a.alternate,
	        c = a.return,
	        d = a.sibling;if (0 === (a.effectTag & 512)) {
	      b = Wg(b, a, T$1);var e = a;if (1073741823 === T$1 || 1073741823 !== e.expirationTime) {
	        var f = 0;switch (e.tag) {case 3:case 2:
	            var g = e.updateQueue;null !== g && (f = g.expirationTime);}for (g = e.child; null !== g;) {
	          0 !== g.expirationTime && (0 === f || f > g.expirationTime) && (f = g.expirationTime), g = g.sibling;
	        }e.expirationTime = f;
	      }if (null !== b) return b;null !== c && 0 === (c.effectTag & 512) && (null === c.firstEffect && (c.firstEffect = a.firstEffect), null !== a.lastEffect && (null !== c.lastEffect && (c.lastEffect.nextEffect = a.firstEffect), c.lastEffect = a.lastEffect), 1 < a.effectTag && (null !== c.lastEffect ? c.lastEffect.nextEffect = a : c.firstEffect = a, c.lastEffect = a));if (null !== d) return d;if (null !== c) a = c;else {
	        uh = !0;break;
	      }
	    } else {
	      a = jh(a, sh, T$1);if (null !== a) return a.effectTag &= 511, a;null !== c && (c.firstEffect = c.lastEffect = null, c.effectTag |= 512);if (null !== d) return d;if (null !== c) a = c;else break;
	    }
	  }return null;
	}
	function xh(a) {
	  var b = Rg(a.alternate, a, T$1);null === b && (b = wh(a));ec.current = null;return b;
	}
	function yh(a, b, c) {
	  ph ? A$1("243") : void 0;ph = !0;if (b !== T$1 || a !== qh || null === S$1) vh(), qh = a, T$1 = b, rh = -1, S$1 = zf(qh.current, null, T$1), a.pendingCommitExpirationTime = 0;var d = !1;sh = !c || T$1 <= lh;do {
	    try {
	      if (c) for (; null !== S$1 && !zh();) {
	        S$1 = xh(S$1);
	      } else for (; null !== S$1;) {
	        S$1 = xh(S$1);
	      }
	    } catch (f) {
	      if (null === S$1) d = !0, fh(f);else {
	        null === S$1 ? A$1("271") : void 0;c = S$1;var e = c.return;if (null === e) {
	          d = !0;fh(f);break;
	        }ih(a, e, c, f, sh, T$1, mh);S$1 = wh(c);
	      }
	    }break;
	  } while (1);ph = !1;if (d) return null;if (null === S$1) {
	    if (uh) return a.pendingCommitExpirationTime = b, a.current.alternate;sh ? A$1("262") : void 0;0 <= rh && setTimeout(function () {
	      var b = a.current.expirationTime;0 !== b && (0 === a.remainingExpirationTime || a.remainingExpirationTime < b) && Ah(a, b);
	    }, rh);Bh(a.current.expirationTime);
	  }return null;
	}
	function Zg(a, b) {
	  var c;a: {
	    ph && !th ? A$1("263") : void 0;for (c = a.return; null !== c;) {
	      switch (c.tag) {case 2:
	          var d = c.stateNode;if ("function" === typeof c.type.getDerivedStateFromCatch || "function" === typeof d.componentDidCatch && (null === hh || !hh.has(d))) {
	            a = Xf(b, a);a = gh(c, a, 1);Qf(c, a, 1);og(c, 1);c = void 0;break a;
	          }break;case 3:
	          a = Xf(b, a);a = eh(c, a, 1);Qf(c, a, 1);og(c, 1);c = void 0;break a;}c = c.return;
	    }3 === a.tag && (c = Xf(b, a), c = eh(a, c, 1), Qf(a, c, 1), og(a, 1));c = void 0;
	  }return c;
	}
	function Ch() {
	  var a = 2 + 25 * (((mg() - 2 + 500) / 25 | 0) + 1);a <= nh && (a = nh + 1);return nh = a;
	}function ng(a, b) {
	  a = 0 !== oh ? oh : ph ? th ? 1 : T$1 : b.mode & 1 ? Dh ? 2 + 10 * (((a - 2 + 15) / 10 | 0) + 1) : 2 + 25 * (((a - 2 + 500) / 25 | 0) + 1) : 1;Dh && (0 === Eh || a > Eh) && (Eh = a);return a;
	}
	function og(a, b) {
	  for (; null !== a;) {
	    if (0 === a.expirationTime || a.expirationTime > b) a.expirationTime = b;null !== a.alternate && (0 === a.alternate.expirationTime || a.alternate.expirationTime > b) && (a.alternate.expirationTime = b);if (null === a.return) if (3 === a.tag) {
	      var c = a.stateNode;!ph && 0 !== T$1 && b < T$1 && vh();var d = c.current.expirationTime;ph && !th && qh === c || Ah(c, d);Fh > Gh && A$1("185");
	    } else break;a = a.return;
	  }
	}function mg() {
	  mh = ef() - kh;return lh = (mh / 10 | 0) + 2;
	}
	function Hh(a) {
	  var b = oh;oh = 2 + 25 * (((mg() - 2 + 500) / 25 | 0) + 1);try {
	    return a();
	  } finally {
	    oh = b;
	  }
	}function Ih(a, b, c, d, e) {
	  var f = oh;oh = 1;try {
	    return a(b, c, d, e);
	  } finally {
	    oh = f;
	  }
	}var Jh = null,
	    V$1 = null,
	    Kh = 0,
	    Lh = void 0,
	    W$1 = !1,
	    X$1 = null,
	    Y$1 = 0,
	    Eh = 0,
	    Mh = !1,
	    Nh = !1,
	    Oh = null,
	    Ph = null,
	    Z$1 = !1,
	    Qh = !1,
	    Dh = !1,
	    Rh = null,
	    Gh = 1E3,
	    Fh = 0,
	    Sh = 1;function Th(a) {
	  if (0 !== Kh) {
	    if (a > Kh) return;null !== Lh && gf(Lh);
	  }var b = ef() - kh;Kh = a;Lh = ff(Uh, { timeout: 10 * (a - 2) - b });
	}
	function Ah(a, b) {
	  if (null === a.nextScheduledRoot) a.remainingExpirationTime = b, null === V$1 ? (Jh = V$1 = a, a.nextScheduledRoot = a) : (V$1 = V$1.nextScheduledRoot = a, V$1.nextScheduledRoot = Jh);else {
	    var c = a.remainingExpirationTime;if (0 === c || b < c) a.remainingExpirationTime = b;
	  }W$1 || (Z$1 ? Qh && (X$1 = a, Y$1 = 1, Vh(a, 1, !1)) : 1 === b ? Wh() : Th(b));
	}
	function Xh() {
	  var a = 0,
	      b = null;if (null !== V$1) for (var c = V$1, d = Jh; null !== d;) {
	    var e = d.remainingExpirationTime;if (0 === e) {
	      null === c || null === V$1 ? A$1("244") : void 0;if (d === d.nextScheduledRoot) {
	        Jh = V$1 = d.nextScheduledRoot = null;break;
	      } else if (d === Jh) Jh = e = d.nextScheduledRoot, V$1.nextScheduledRoot = e, d.nextScheduledRoot = null;else if (d === V$1) {
	        V$1 = c;V$1.nextScheduledRoot = Jh;d.nextScheduledRoot = null;break;
	      } else c.nextScheduledRoot = d.nextScheduledRoot, d.nextScheduledRoot = null;d = c.nextScheduledRoot;
	    } else {
	      if (0 === a || e < a) a = e, b = d;if (d === V$1) break;
	      c = d;d = d.nextScheduledRoot;
	    }
	  }c = X$1;null !== c && c === b && 1 === a ? Fh++ : Fh = 0;X$1 = b;Y$1 = a;
	}function Uh(a) {
	  Yh(0, !0, a);
	}function Wh() {
	  Yh(1, !1, null);
	}function Yh(a, b, c) {
	  Ph = c;Xh();if (b) for (; null !== X$1 && 0 !== Y$1 && (0 === a || a >= Y$1) && (!Mh || mg() >= Y$1);) {
	    mg(), Vh(X$1, Y$1, !Mh), Xh();
	  } else for (; null !== X$1 && 0 !== Y$1 && (0 === a || a >= Y$1);) {
	    Vh(X$1, Y$1, !1), Xh();
	  }null !== Ph && (Kh = 0, Lh = null);0 !== Y$1 && Th(Y$1);Ph = null;Mh = !1;Zh();
	}function $h(a, b) {
	  W$1 ? A$1("253") : void 0;X$1 = a;Y$1 = b;Vh(a, b, !1);Wh();Zh();
	}
	function Zh() {
	  Fh = 0;if (null !== Rh) {
	    var a = Rh;Rh = null;for (var b = 0; b < a.length; b++) {
	      var c = a[b];try {
	        c._onComplete();
	      } catch (d) {
	        Nh || (Nh = !0, Oh = d);
	      }
	    }
	  }if (Nh) throw a = Oh, Oh = null, Nh = !1, a;
	}function Vh(a, b, c) {
	  W$1 ? A$1("245") : void 0;W$1 = !0;c ? (c = a.finishedWork, null !== c ? ai(a, c, b) : (c = yh(a, b, !0), null !== c && (zh() ? a.finishedWork = c : ai(a, c, b)))) : (c = a.finishedWork, null !== c ? ai(a, c, b) : (c = yh(a, b, !1), null !== c && ai(a, c, b)));W$1 = !1;
	}
	function ai(a, b, c) {
	  var d = a.firstBatch;if (null !== d && d._expirationTime <= c && (null === Rh ? Rh = [d] : Rh.push(d), d._defer)) {
	    a.finishedWork = b;a.remainingExpirationTime = 0;return;
	  }a.finishedWork = null;th = ph = !0;c = b.stateNode;c.current === b ? A$1("177") : void 0;d = c.pendingCommitExpirationTime;0 === d ? A$1("261") : void 0;c.pendingCommitExpirationTime = 0;mg();ec.current = null;if (1 < b.effectTag) {
	    if (null !== b.lastEffect) {
	      b.lastEffect.nextEffect = b;var e = b.firstEffect;
	    } else e = b;
	  } else e = b.firstEffect;af = Hd;var f = getActiveElement_1();if (Ud(f)) {
	    if ("selectionStart" in f) var g = { start: f.selectionStart, end: f.selectionEnd };else a: {
	      var h = window.getSelection && window.getSelection();if (h && 0 !== h.rangeCount) {
	        g = h.anchorNode;var k = h.anchorOffset,
	            n = h.focusNode;h = h.focusOffset;try {
	          g.nodeType, n.nodeType;
	        } catch (Wa) {
	          g = null;break a;
	        }var r = 0,
	            w = -1,
	            P = -1,
	            nc = 0,
	            Jd = 0,
	            E = f,
	            t = null;b: for (;;) {
	          for (var x;;) {
	            E !== g || 0 !== k && 3 !== E.nodeType || (w = r + k);E !== n || 0 !== h && 3 !== E.nodeType || (P = r + h);3 === E.nodeType && (r += E.nodeValue.length);if (null === (x = E.firstChild)) break;t = E;E = x;
	          }for (;;) {
	            if (E === f) break b;t === g && ++nc === k && (w = r);t === n && ++Jd === h && (P = r);if (null !== (x = E.nextSibling)) break;E = t;t = E.parentNode;
	          }E = x;
	        }g = -1 === w || -1 === P ? null : { start: w, end: P };
	      } else g = null;
	    }g = g || { start: 0, end: 0 };
	  } else g = null;bf = { focusedElem: f, selectionRange: g };Id(!1);for (U$1 = e; null !== U$1;) {
	    f = !1;g = void 0;try {
	      for (; null !== U$1;) {
	        if (U$1.effectTag & 256) {
	          var u = U$1.alternate;k = U$1;switch (k.tag) {case 2:
	              if (k.effectTag & 256 && null !== u) {
	                var y = u.memoizedProps,
	                    D = u.memoizedState,
	                    ja = k.stateNode;ja.props = k.memoizedProps;ja.state = k.memoizedState;var mi = ja.getSnapshotBeforeUpdate(y, D);ja.__reactInternalSnapshotBeforeUpdate = mi;
	              }break;case 3:case 5:case 6:case 4:
	              break;default:
	              A$1("163");}
	        }U$1 = U$1.nextEffect;
	      }
	    } catch (Wa) {
	      f = !0, g = Wa;
	    }f && (null === U$1 ? A$1("178") : void 0, Zg(U$1, g), null !== U$1 && (U$1 = U$1.nextEffect));
	  }for (U$1 = e; null !== U$1;) {
	    u = !1;y = void 0;try {
	      for (; null !== U$1;) {
	        var q = U$1.effectTag;q & 16 && Ke(U$1.stateNode, "");if (q & 128) {
	          var z = U$1.alternate;if (null !== z) {
	            var l = z.ref;null !== l && ("function" === typeof l ? l(null) : l.current = null);
	          }
	        }switch (q & 14) {case 2:
	            ch(U$1);U$1.effectTag &= -3;break;case 6:
	            ch(U$1);U$1.effectTag &= -3;dh(U$1.alternate, U$1);break;case 4:
	            dh(U$1.alternate, U$1);break;case 8:
	            D = U$1, ah(D), D.return = null, D.child = null, D.alternate && (D.alternate.child = null, D.alternate.return = null);}U$1 = U$1.nextEffect;
	      }
	    } catch (Wa) {
	      u = !0, y = Wa;
	    }u && (null === U$1 ? A$1("178") : void 0, Zg(U$1, y), null !== U$1 && (U$1 = U$1.nextEffect));
	  }l = bf;z = getActiveElement_1();q = l.focusedElem;u = l.selectionRange;if (z !== q && containsNode_1(document.documentElement, q)) {
	    null !== u && Ud(q) && (z = u.start, l = u.end, void 0 === l && (l = z), "selectionStart" in q ? (q.selectionStart = z, q.selectionEnd = Math.min(l, q.value.length)) : window.getSelection && (z = window.getSelection(), y = q[lb()].length, l = Math.min(u.start, y), u = void 0 === u.end ? l : Math.min(u.end, y), !z.extend && l > u && (y = u, u = l, l = y), y = Td(q, l), D = Td(q, u), y && D && (1 !== z.rangeCount || z.anchorNode !== y.node || z.anchorOffset !== y.offset || z.focusNode !== D.node || z.focusOffset !== D.offset) && (ja = document.createRange(), ja.setStart(y.node, y.offset), z.removeAllRanges(), l > u ? (z.addRange(ja), z.extend(D.node, D.offset)) : (ja.setEnd(D.node, D.offset), z.addRange(ja)))));z = [];for (l = q; l = l.parentNode;) {
	      1 === l.nodeType && z.push({ element: l, left: l.scrollLeft,
	        top: l.scrollTop });
	    }"function" === typeof q.focus && q.focus();for (q = 0; q < z.length; q++) {
	      l = z[q], l.element.scrollLeft = l.left, l.element.scrollTop = l.top;
	    }
	  }bf = null;Id(af);af = null;c.current = b;for (U$1 = e; null !== U$1;) {
	    e = !1;q = void 0;try {
	      for (z = d; null !== U$1;) {
	        var hg = U$1.effectTag;if (hg & 36) {
	          var oc = U$1.alternate;l = U$1;u = z;switch (l.tag) {case 2:
	              var ca = l.stateNode;if (l.effectTag & 4) if (null === oc) ca.props = l.memoizedProps, ca.state = l.memoizedState, ca.componentDidMount();else {
	                var wi = oc.memoizedProps,
	                    xi = oc.memoizedState;ca.props = l.memoizedProps;
	                ca.state = l.memoizedState;ca.componentDidUpdate(wi, xi, ca.__reactInternalSnapshotBeforeUpdate);
	              }var Ng = l.updateQueue;null !== Ng && (ca.props = l.memoizedProps, ca.state = l.memoizedState, Wf(l, Ng, ca, u));break;case 3:
	              var Og = l.updateQueue;if (null !== Og) {
	                y = null;if (null !== l.child) switch (l.child.tag) {case 5:
	                    y = l.child.stateNode;break;case 2:
	                    y = l.child.stateNode;}Wf(l, Og, y, u);
	              }break;case 5:
	              var yi = l.stateNode;null === oc && l.effectTag & 4 && cf(l.type, l.memoizedProps) && yi.focus();break;case 6:
	              break;case 4:
	              break;case 15:
	              break;case 16:
	              break;
	            default:
	              A$1("163");}
	        }if (hg & 128) {
	          l = void 0;var yc = U$1.ref;if (null !== yc) {
	            var Pg = U$1.stateNode;switch (U$1.tag) {case 5:
	                l = Pg;break;default:
	                l = Pg;}"function" === typeof yc ? yc(l) : yc.current = l;
	          }
	        }var zi = U$1.nextEffect;U$1.nextEffect = null;U$1 = zi;
	      }
	    } catch (Wa) {
	      e = !0, q = Wa;
	    }e && (null === U$1 ? A$1("178") : void 0, Zg(U$1, q), null !== U$1 && (U$1 = U$1.nextEffect));
	  }ph = th = !1;"function" === typeof Jf && Jf(b.stateNode);b = c.current.expirationTime;0 === b && (hh = null);a.remainingExpirationTime = b;
	}function zh() {
	  return null === Ph || Ph.timeRemaining() > Sh ? !1 : Mh = !0;
	}
	function fh(a) {
	  null === X$1 ? A$1("246") : void 0;X$1.remainingExpirationTime = 0;Nh || (Nh = !0, Oh = a);
	}function Bh(a) {
	  null === X$1 ? A$1("246") : void 0;X$1.remainingExpirationTime = a;
	}function bi(a, b) {
	  var c = Z$1;Z$1 = !0;try {
	    return a(b);
	  } finally {
	    (Z$1 = c) || W$1 || Wh();
	  }
	}function ci(a, b) {
	  if (Z$1 && !Qh) {
	    Qh = !0;try {
	      return a(b);
	    } finally {
	      Qh = !1;
	    }
	  }return a(b);
	}function di(a, b) {
	  W$1 ? A$1("187") : void 0;var c = Z$1;Z$1 = !0;try {
	    return Ih(a, b);
	  } finally {
	    Z$1 = c, Wh();
	  }
	}
	function ei(a, b, c) {
	  if (Dh) return a(b, c);Z$1 || W$1 || 0 === Eh || (Yh(Eh, !1, null), Eh = 0);var d = Dh,
	      e = Z$1;Z$1 = Dh = !0;try {
	    return a(b, c);
	  } finally {
	    Dh = d, (Z$1 = e) || W$1 || Wh();
	  }
	}function fi(a) {
	  var b = Z$1;Z$1 = !0;try {
	    Ih(a);
	  } finally {
	    (Z$1 = b) || W$1 || Yh(1, !1, null);
	  }
	}
	function gi(a, b, c, d, e) {
	  var f = b.current;if (c) {
	    c = c._reactInternalFiber;var g;b: {
	      2 === jd(c) && 2 === c.tag ? void 0 : A$1("170");for (g = c; 3 !== g.tag;) {
	        if (qf(g)) {
	          g = g.stateNode.__reactInternalMemoizedMergedChildContext;break b;
	        }(g = g.return) ? void 0 : A$1("171");
	      }g = g.stateNode.context;
	    }c = qf(c) ? vf(c, g) : g;
	  } else c = emptyObject_1;null === b.context ? b.context = c : b.pendingContext = c;b = e;e = Of(d);e.payload = { element: a };b = void 0 === b ? null : b;null !== b && (e.callback = b);Qf(f, e, d);og(f, d);return d;
	}
	function hi(a) {
	  var b = a._reactInternalFiber;void 0 === b && ("function" === typeof a.render ? A$1("188") : A$1("268", Object.keys(a)));a = md(b);return null === a ? null : a.stateNode;
	}function ii(a, b, c, d) {
	  var e = b.current,
	      f = mg();e = ng(f, e);return gi(a, b, c, e, d);
	}function ji(a) {
	  a = a.current;if (!a.child) return null;switch (a.child.tag) {case 5:
	      return a.child.stateNode;default:
	      return a.child.stateNode;}
	}
	function ki(a) {
	  var b = a.findFiberByHostInstance;return If(objectAssign({}, a, { findHostInstanceByFiber: function findHostInstanceByFiber(a) {
	      a = md(a);return null === a ? null : a.stateNode;
	    }, findFiberByHostInstance: function findFiberByHostInstance(a) {
	      return b ? b(a) : null;
	    } }));
	}
	var li = { updateContainerAtExpirationTime: gi, createContainer: function createContainer(a, b, c) {
	    return Ef(a, b, c);
	  }, updateContainer: ii, flushRoot: $h, requestWork: Ah, computeUniqueAsyncExpiration: Ch, batchedUpdates: bi, unbatchedUpdates: ci, deferredUpdates: Hh, syncUpdates: Ih, interactiveUpdates: ei, flushInteractiveUpdates: function flushInteractiveUpdates() {
	    W$1 || 0 === Eh || (Yh(Eh, !1, null), Eh = 0);
	  }, flushControlled: fi, flushSync: di, getPublicRootInstance: ji, findHostInstance: hi, findHostInstanceWithNoPortals: function findHostInstanceWithNoPortals(a) {
	    a = nd(a);return null === a ? null : a.stateNode;
	  }, injectIntoDevTools: ki };
	function ni(a, b, c) {
	  var d = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;return { $$typeof: hc, key: null == d ? null : "" + d, children: a, containerInfo: b, implementation: c };
	}Kb.injectFiberControlledHostComponent($e);function oi(a) {
	  this._expirationTime = Ch();this._root = a;this._callbacks = this._next = null;this._hasChildren = this._didComplete = !1;this._children = null;this._defer = !0;
	}
	oi.prototype.render = function (a) {
	  this._defer ? void 0 : A$1("250");this._hasChildren = !0;this._children = a;var b = this._root._internalRoot,
	      c = this._expirationTime,
	      d = new pi();gi(a, b, null, c, d._onCommit);return d;
	};oi.prototype.then = function (a) {
	  if (this._didComplete) a();else {
	    var b = this._callbacks;null === b && (b = this._callbacks = []);b.push(a);
	  }
	};
	oi.prototype.commit = function () {
	  var a = this._root._internalRoot,
	      b = a.firstBatch;this._defer && null !== b ? void 0 : A$1("251");if (this._hasChildren) {
	    var c = this._expirationTime;if (b !== this) {
	      this._hasChildren && (c = this._expirationTime = b._expirationTime, this.render(this._children));for (var d = null, e = b; e !== this;) {
	        d = e, e = e._next;
	      }null === d ? A$1("251") : void 0;d._next = e._next;this._next = b;a.firstBatch = this;
	    }this._defer = !1;$h(a, c);b = this._next;this._next = null;b = a.firstBatch = b;null !== b && b._hasChildren && b.render(b._children);
	  } else this._next = null, this._defer = !1;
	};oi.prototype._onComplete = function () {
	  if (!this._didComplete) {
	    this._didComplete = !0;var a = this._callbacks;if (null !== a) for (var b = 0; b < a.length; b++) {
	      (0, a[b])();
	    }
	  }
	};function pi() {
	  this._callbacks = null;this._didCommit = !1;this._onCommit = this._onCommit.bind(this);
	}pi.prototype.then = function (a) {
	  if (this._didCommit) a();else {
	    var b = this._callbacks;null === b && (b = this._callbacks = []);b.push(a);
	  }
	};
	pi.prototype._onCommit = function () {
	  if (!this._didCommit) {
	    this._didCommit = !0;var a = this._callbacks;if (null !== a) for (var b = 0; b < a.length; b++) {
	      var c = a[b];"function" !== typeof c ? A$1("191", c) : void 0;c();
	    }
	  }
	};function qi(a, b, c) {
	  this._internalRoot = Ef(a, b, c);
	}qi.prototype.render = function (a, b) {
	  var c = this._internalRoot,
	      d = new pi();b = void 0 === b ? null : b;null !== b && d.then(b);ii(a, c, null, d._onCommit);return d;
	};
	qi.prototype.unmount = function (a) {
	  var b = this._internalRoot,
	      c = new pi();a = void 0 === a ? null : a;null !== a && c.then(a);ii(null, b, null, c._onCommit);return c;
	};qi.prototype.legacy_renderSubtreeIntoContainer = function (a, b, c) {
	  var d = this._internalRoot,
	      e = new pi();c = void 0 === c ? null : c;null !== c && e.then(c);ii(b, d, a, e._onCommit);return e;
	};
	qi.prototype.createBatch = function () {
	  var a = new oi(this),
	      b = a._expirationTime,
	      c = this._internalRoot,
	      d = c.firstBatch;if (null === d) c.firstBatch = a, a._next = null;else {
	    for (c = null; null !== d && d._expirationTime <= b;) {
	      c = d, d = d._next;
	    }a._next = d;null !== c && (c._next = a);
	  }return a;
	};function ri(a) {
	  return !(!a || 1 !== a.nodeType && 9 !== a.nodeType && 11 !== a.nodeType && (8 !== a.nodeType || " react-mount-point-unstable " !== a.nodeValue));
	}Sb = li.batchedUpdates;Tb = li.interactiveUpdates;Ub = li.flushInteractiveUpdates;
	function si(a, b) {
	  b || (b = a ? 9 === a.nodeType ? a.documentElement : a.firstChild : null, b = !(!b || 1 !== b.nodeType || !b.hasAttribute("data-reactroot")));if (!b) for (var c; c = a.lastChild;) {
	    a.removeChild(c);
	  }return new qi(a, !1, b);
	}
	function ti(a, b, c, d, e) {
	  ri(c) ? void 0 : A$1("200");var f = c._reactRootContainer;if (f) {
	    if ("function" === typeof e) {
	      var g = e;e = function e() {
	        var a = ji(f._internalRoot);g.call(a);
	      };
	    }null != a ? f.legacy_renderSubtreeIntoContainer(a, b, e) : f.render(b, e);
	  } else {
	    f = c._reactRootContainer = si(c, d);if ("function" === typeof e) {
	      var h = e;e = function e() {
	        var a = ji(f._internalRoot);h.call(a);
	      };
	    }ci(function () {
	      null != a ? f.legacy_renderSubtreeIntoContainer(a, b, e) : f.render(b, e);
	    });
	  }return ji(f._internalRoot);
	}
	function ui(a, b) {
	  var c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;ri(b) ? void 0 : A$1("200");return ni(a, b, null, c);
	}
	var vi = { createPortal: ui, findDOMNode: function findDOMNode(a) {
	    return null == a ? null : 1 === a.nodeType ? a : hi(a);
	  }, hydrate: function hydrate(a, b, c) {
	    return ti(null, a, b, !0, c);
	  }, render: function render(a, b, c) {
	    return ti(null, a, b, !1, c);
	  }, unstable_renderSubtreeIntoContainer: function unstable_renderSubtreeIntoContainer(a, b, c, d) {
	    null == a || void 0 === a._reactInternalFiber ? A$1("38") : void 0;return ti(a, b, c, !1, d);
	  }, unmountComponentAtNode: function unmountComponentAtNode(a) {
	    ri(a) ? void 0 : A$1("40");return a._reactRootContainer ? (ci(function () {
	      ti(null, null, a, !1, function () {
	        a._reactRootContainer = null;
	      });
	    }), !0) : !1;
	  }, unstable_createPortal: function unstable_createPortal() {
	    return ui.apply(void 0, arguments);
	  }, unstable_batchedUpdates: bi, unstable_deferredUpdates: Hh, unstable_interactiveUpdates: ei, flushSync: di, unstable_flushControlled: fi, __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: { EventPluginHub: Ka, EventPluginRegistry: va, EventPropagators: $a, ReactControlledComponent: Rb, ReactDOMComponentTree: Qa, ReactDOMEventListener: Nd }, unstable_createRoot: function unstable_createRoot(a, b) {
	    return new qi(a, !0, null != b && !0 === b.hydrate);
	  } };ki({ findFiberByHostInstance: Na, bundleType: 0, version: "16.4.1", rendererPackageName: "react-dom" });
	var Ai = { default: vi },
	    Bi = Ai && vi || Ai;var reactDom_production_min = Bi.default ? Bi.default : Bi;

	var reactDom_development=createCommonjsModule(function(module){});

	var reactDom = createCommonjsModule(function (module) {

	  function checkDCE() {
	    /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */
	    if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function') {
	      return;
	    }
	    try {
	      // Verify that the code above has been dead code eliminated (DCE'd).
	      __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);
	    } catch (err) {
	      // DevTools shouldn't crash React, no matter what.
	      // We should still report in case we break this code.
	      console.error(err);
	    }
	  }

	  {
	    // DCE check should happen before ReactDOM bundle executes so that
	    // DevTools can report bad minification during injection.
	    checkDCE();
	    module.exports = reactDom_production_min;
	  }
	});
	var reactDom_1 = reactDom.render;

	function emptyFunction$1() {}

	var factoryWithThrowingShims = function factoryWithThrowingShims() {
	  function shim(props, propName, componentName, location, propFullName, secret) {
	    if (secret === ReactPropTypesSecret_1) {
	      // It is still safe when called from React.
	      return;
	    }
	    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');
	    err.name = 'Invariant Violation';
	    throw err;
	  }  shim.isRequired = shim;
	  function getShim() {
	    return shim;
	  }  // Important!
	  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.
	  var ReactPropTypes = {
	    array: shim,
	    bool: shim,
	    func: shim,
	    number: shim,
	    object: shim,
	    string: shim,
	    symbol: shim,

	    any: shim,
	    arrayOf: getShim,
	    element: shim,
	    instanceOf: getShim,
	    node: shim,
	    objectOf: getShim,
	    oneOf: getShim,
	    oneOfType: getShim,
	    shape: getShim,
	    exact: getShim
	  };

	  ReactPropTypes.checkPropTypes = emptyFunction$1;
	  ReactPropTypes.PropTypes = ReactPropTypes;

	  return ReactPropTypes;
	};

	var propTypes = createCommonjsModule(function (module) {
	  /**
	   * Copyright (c) 2013-present, Facebook, Inc.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   */

	  {
	    // By explicitly using `prop-types` you are opting into new production behavior.
	    // http://fb.me/prop-types-in-prod
	    module.exports = factoryWithThrowingShims();
	  }
	});

	var key = '__global_unique_id__';

	var gud = function gud() {
	  return commonjsGlobal[key] = (commonjsGlobal[key] || 0) + 1;
	};

	var implementation = createCommonjsModule(function (module, exports) {

	  exports.__esModule = true;

	  var _react2 = _interopRequireDefault(react);

	  var _propTypes2 = _interopRequireDefault(propTypes);

	  var _gud2 = _interopRequireDefault(gud);

	  var _warning2 = _interopRequireDefault(warning_1);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  function _classCallCheck(instance, Constructor) {
	    if (!(instance instanceof Constructor)) {
	      throw new TypeError("Cannot call a class as a function");
	    }
	  }

	  function _possibleConstructorReturn(self, call) {
	    if (!self) {
	      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
	    }return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === "object" || typeof call === "function") ? call : self;
	  }

	  function _inherits(subClass, superClass) {
	    if (typeof superClass !== "function" && superClass !== null) {
	      throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));
	    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	  }

	  var MAX_SIGNED_31_BIT_INT = 1073741823;

	  // Inlined Object.is polyfill.
	  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
	  function objectIs(x, y) {
	    if (x === y) {
	      return x !== 0 || 1 / x === 1 / y;
	    } else {
	      return x !== x && y !== y;
	    }
	  }

	  function createEventEmitter(value) {
	    var handlers = [];
	    return {
	      on: function on(handler) {
	        handlers.push(handler);
	      },
	      off: function off(handler) {
	        handlers = handlers.filter(function (h) {
	          return h !== handler;
	        });
	      },
	      get: function get$$1() {
	        return value;
	      },
	      set: function set$$1(newValue, changedBits) {
	        value = newValue;
	        handlers.forEach(function (handler) {
	          return handler(value, changedBits);
	        });
	      }
	    };
	  }

	  function onlyChild(children) {
	    return Array.isArray(children) ? children[0] : children;
	  }

	  function createReactContext(defaultValue, calculateChangedBits) {
	    var _Provider$childContex, _Consumer$contextType;

	    var contextProp = '__create-react-context-' + (0, _gud2.default)() + '__';

	    var Provider = function (_Component) {
	      _inherits(Provider, _Component);

	      function Provider() {
	        var _temp, _this, _ret;

	        _classCallCheck(this, Provider);

	        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
	          args[_key] = arguments[_key];
	        }

	        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.emitter = createEventEmitter(_this.props.value), _temp), _possibleConstructorReturn(_this, _ret);
	      }

	      Provider.prototype.getChildContext = function getChildContext() {
	        var _ref;

	        return _ref = {}, _ref[contextProp] = this.emitter, _ref;
	      };

	      Provider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
	        if (this.props.value !== nextProps.value) {
	          var oldValue = this.props.value;
	          var newValue = nextProps.value;
	          var changedBits = void 0;

	          if (objectIs(oldValue, newValue)) {
	            changedBits = 0; // No change
	          } else {
	            changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;

	            changedBits |= 0;

	            if (changedBits !== 0) {
	              this.emitter.set(nextProps.value, changedBits);
	            }
	          }
	        }
	      };

	      Provider.prototype.render = function render() {
	        return this.props.children;
	      };

	      return Provider;
	    }(react.Component);

	    Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = _propTypes2.default.object.isRequired, _Provider$childContex);

	    var Consumer = function (_Component2) {
	      _inherits(Consumer, _Component2);

	      function Consumer() {
	        var _temp2, _this2, _ret2;

	        _classCallCheck(this, Consumer);

	        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
	          args[_key2] = arguments[_key2];
	        }

	        return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, _Component2.call.apply(_Component2, [this].concat(args))), _this2), _this2.state = {
	          value: _this2.getValue()
	        }, _this2.onUpdate = function (newValue, changedBits) {
	          var observedBits = _this2.observedBits | 0;
	          if ((observedBits & changedBits) !== 0) {
	            _this2.setState({ value: _this2.getValue() });
	          }
	        }, _temp2), _possibleConstructorReturn(_this2, _ret2);
	      }

	      Consumer.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
	        var observedBits = nextProps.observedBits;

	        this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default
	        : observedBits;
	      };

	      Consumer.prototype.componentDidMount = function componentDidMount() {
	        if (this.context[contextProp]) {
	          this.context[contextProp].on(this.onUpdate);
	        }
	        var observedBits = this.props.observedBits;

	        this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default
	        : observedBits;
	      };

	      Consumer.prototype.componentWillUnmount = function componentWillUnmount() {
	        if (this.context[contextProp]) {
	          this.context[contextProp].off(this.onUpdate);
	        }
	      };

	      Consumer.prototype.getValue = function getValue() {
	        if (this.context[contextProp]) {
	          return this.context[contextProp].get();
	        } else {
	          return defaultValue;
	        }
	      };

	      Consumer.prototype.render = function render() {
	        return onlyChild(this.props.children)(this.state.value);
	      };

	      return Consumer;
	    }(react.Component);

	    Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = _propTypes2.default.object, _Consumer$contextType);

	    return {
	      Provider: Provider,
	      Consumer: Consumer
	    };
	  }

	  exports.default = createReactContext;
	  module.exports = exports['default'];
	});

	unwrapExports(implementation);

	var lib = createCommonjsModule(function (module, exports) {

	  exports.__esModule = true;

	  var _react2 = _interopRequireDefault(react);

	  var _implementation2 = _interopRequireDefault(implementation);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  exports.default = _react2.default.createContext || _implementation2.default;
	  module.exports = exports['default'];
	});

	var createReactContext = unwrapExports(lib);

	function _inheritsLoose(subClass, superClass) {
	  subClass.prototype = Object.create(superClass.prototype);subClass.prototype.constructor = subClass;subClass.__proto__ = superClass;
	}

	var StyletronContext = createReactContext();
	var HydrationContext = createReactContext(false);
	var DebugEngineContext = createReactContext();

	var DevProvider =
	/*#__PURE__*/
	function (_Component) {
	  _inheritsLoose(DevProvider, _Component);

	  function DevProvider(props) {
	    var _this;

	    _this = _Component.call(this) || this;
	    _this.state = {
	      hydrating: Boolean(props.debugAfterHydration)
	    };
	    return _this;
	  }

	  var _proto = DevProvider.prototype;

	  _proto.componentDidMount = function componentDidMount() {
	    {
	      if (this.state.hydrating === true) {
	        this.setState({
	          hydrating: false
	        });
	      }
	    }
	  };

	  _proto.render = function render() {
	    return react.createElement(StyletronContext.Provider, {
	      value: this.props.value
	    }, react.createElement(DebugEngineContext.Provider, {
	      value: this.props.debug
	    }, react.createElement(HydrationContext.Provider, {
	      value: this.state.hydrating
	    }, this.props.children)));
	  };

	  return DevProvider;
	}(react_2);

	var Provider = StyletronContext.Provider;
	var Consumer = StyletronContext.Consumer;
	function createStyled(_ref) {
	  var getInitialStyle = _ref.getInitialStyle,
	      driver = _ref.driver,
	      wrapper = _ref.wrapper;
	  return function styled(base, styleArg) {
	    var baseStyletron = {
	      reducers: [],
	      // TODO: use typed generic instead of coercion once
	      // https://github.com/facebook/flow/issues/6157 is resolved
	      base: base,
	      driver: driver,
	      getInitialStyle: getInitialStyle,
	      wrapper: wrapper
	    };

	    return createStyledElementComponent(autoComposeShallow(baseStyletron, styleArg));
	  };
	}
	function autoComposeShallow(styletron, styleArg) {
	  if (typeof styleArg === "function") {
	    return dynamicComposeShallow(styletron, styleArg);
	  } // TODO: investigate how to eliminate this casting


	  return staticComposeShallow(styletron, styleArg);
	}
	function staticComposeShallow(styletron, style) {
	  return composeStatic(styletron, {
	    reducer: createShallowMergeReducer(style),
	    assignCommutative: true
	  });
	}
	function dynamicComposeShallow(styletron, styleFn) {
	  return composeDynamic(styletron, {
	    assignCommutative: false,
	    reducer: toMergeReducer(styleFn, shallowMerge)
	  });
	}
	function toMergeReducer(fn, mergeFn) {
	  return function (style, props) {
	    return mergeFn(style, fn(props));
	  };
	}
	function createShallowMergeReducer(style) {
	  // TODO: make this casting unnecessary
	  function shallowMergeReducer(inputStyle) {
	    return shallowMerge(inputStyle, style);
	  }

	  shallowMergeReducer.factory = createShallowMergeReducer;
	  shallowMergeReducer.style = style;
	  return shallowMergeReducer;
	}
	function composeStatic(styletron, reducer) {
	  if (styletron.reducers.length === 0) {
	    // TODO: remove this casting
	    var _style = reducer.reducer(styletron.getInitialStyle(), {});

	    return {
	      reducers: styletron.reducers,
	      base: styletron.base,
	      driver: styletron.driver,
	      debugStackIndex: styletron.debugStackIndex,
	      debugStackInfo: styletron.debugStackInfo,
	      wrapper: styletron.wrapper,
	      getInitialStyle: function getInitialStyle() {
	        return _style;
	      }
	    };
	  } else {
	    var last = styletron.reducers[0];

	    if (last.assignCommutative === true && reducer.assignCommutative === true) {
	      // TODO: remove prop argument for static reducers
	      var composed = reducer.reducer(last.reducer.style, {});
	      return {
	        getInitialStyle: styletron.getInitialStyle,
	        base: styletron.base,
	        debugStackIndex: styletron.debugStackIndex,
	        debugStackInfo: styletron.debugStackInfo,
	        driver: styletron.driver,
	        wrapper: styletron.wrapper,
	        reducers: [{
	          assignCommutative: true,
	          reducer: last.reducer.factory(composed)
	        }].concat(styletron.reducers.slice(1))
	      };
	    }

	    return composeDynamic(styletron, reducer);
	  }
	}
	function composeDynamic(styletron, reducer) {
	  return {
	    getInitialStyle: styletron.getInitialStyle,
	    base: styletron.base,
	    debugStackIndex: styletron.debugStackIndex,
	    debugStackInfo: styletron.debugStackInfo,
	    driver: styletron.driver,
	    wrapper: styletron.wrapper,
	    reducers: [reducer].concat(styletron.reducers)
	  };
	}
	function createStyledElementComponent(_ref2) {
	  var reducers = _ref2.reducers,
	      base = _ref2.base,
	      driver = _ref2.driver,
	      debugStackInfo = _ref2.debugStackInfo,
	      debugStackIndex = _ref2.debugStackIndex,
	      wrapper = _ref2.wrapper,
	      getInitialStyle = _ref2.getInitialStyle;

	  // TODO: make casting not necessary
	  function omitPrefixedKeys(source) {
	    var result = {};

	    for (var key in source) {
	      if (key[0] !== "$") {
	        result[key] = source[key];
	      }
	    }

	    return result;
	  }

	  

	  function StyledElement(props) {
	    return react.createElement(Consumer, null, function (styletron, debugEngine, hydrating) {
	      var elementProps = omitPrefixedKeys(props);
	      var style = resolveStyle(getInitialStyle, reducers, props);
	      var styleClassString = driver(style, styletron);
	      var element = props.$as ? props.$as : base;
	      elementProps.className = props.className ? props.className + " " + styleClassString : styleClassString;

	      

	      if (props.$ref) {
	        elementProps.ref = props.$ref;
	      }

	      return react_4(element, elementProps);
	    });
	  }

	  var Wrapped = wrapper(StyledElement);
	  Wrapped.__STYLETRON__ = {
	    base: base,
	    reducers: reducers,
	    driver: driver,
	    wrapper: wrapper,
	    getInitialStyle: getInitialStyle
	  };

	  

	  return Wrapped;
	}
	function resolveStyle(getInitialStyle, reducers, props) {
	  var result = getInitialStyle();
	  var i = reducers.length;

	  while (i--) {
	    result = reducers[i].reducer(result, props);
	  }

	  return result;
	}
	function shallowMerge(a, b) {
	  // TODO: make this casting unecessary
	  return assign(assign({}, a), b);
	}
	function assign(target, source) {
	  for (var key in source) {
	    target[key] = source[key];
	  }

	  return target;
	}

	function _typeof$2(obj) {
	  if (typeof Symbol === "function" && _typeof(Symbol.iterator) === "symbol") {
	    _typeof$2 = function _typeof$$1(obj) {
	      return typeof obj === "undefined" ? "undefined" : _typeof(obj);
	    };
	  } else {
	    _typeof$2 = function _typeof$$1(obj) {
	      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);
	    };
	  }return _typeof$2(obj);
	}

	// TODO: investigate why $Shape is needed
	function driver(style, styletron) {
	  var tx = renderDeclarativeRules(style, styletron);
	  return styletron.renderStyle(tx);
	}
	function getInitialStyle() {
	  return {};
	}

	function renderDeclarativeRules(style, styletron) {
	  for (var key in style) {
	    var val = style[key];

	    if (key === "animationName" && typeof val !== "string") {
	      style.animationName = styletron.renderKeyframes(val);
	      continue;
	    }

	    if (key === "fontFamily" && typeof val !== "string") {
	      style.fontFamily = styletron.renderFontFace(val);
	      continue;
	    }

	    if (_typeof$2(val) === "object" && val !== null) {
	      renderDeclarativeRules(val, styletron);
	    }
	  } // TODO avoid type casting


	  return style;
	}

	// color constants
	var primary50 = '#EDF3FE';
	var primary100 = '#D2E0FC';
	var primary200 = '#9CBCF8';
	var primary300 = '#548BF4';
	var primary400 = '#1E66F0';
	var primary500 = '#174EB6';
	var primary600 = '#123D90';
	var primary700 = '#0C2960';

	var negative50 = '#FDF0EF';
	var negative100 = '#FADBD7';
	var negative200 = '#F4AFA7';
	var negative300 = '#EB7567';
	var negative400 = '#E54937';
	var negative500 = '#AE372A';
	var negative600 = '#892C21';
	var negative700 = '#5C1D16';

	var warning50 = '#FEF3EC';
	var warning100 = '#FBE2CF';
	var warning200 = '#F6BA8B';
	var warning300 = '#F19248';
	var warning400 = '#ED6F0E';
	var warning500 = '#B4540B';
	var warning600 = '#8E4308';
	var warning700 = '#5F2C06';

	var positive50 = '#EBF8F2';
	var positive100 = '#CDEDDE';
	var positive200 = '#88D3B0';
	var positive300 = '#43B982';
	var positive400 = '#07A35A';
	var positive500 = '#057C44';
	var positive600 = '#046236';
	var positive700 = '#034124';

	var mono100 = '#FFFFFF';
	var mono200 = '#F7F7F7';
	var mono300 = '#F0F0F0';
	var mono400 = '#E5E5E5';
	var mono500 = '#CCCCCC';
	var mono600 = '#B3B3B3';
	var mono700 = '#999999';
	var mono800 = '#666666';
	var mono900 = '#333333';
	var mono1000 = '#000000';

	// font constants
	var primaryFontFamily = '"Helvetica Neue", arial, sans-serif';

	var LIGHT_THEME = {
	  colors: {
	    // Primary Palette
	    primary50: primary50,
	    primary100: primary100,
	    primary200: primary200,
	    primary300: primary300,
	    primary400: primary400,
	    primary: primary400,
	    primary500: primary500,
	    primary600: primary600,
	    primary700: primary700,

	    // Negative Palette
	    negative50: negative50,
	    negative100: negative100,
	    negative200: negative200,
	    negative300: negative300,
	    negative400: negative400,
	    negative: negative400,
	    negative500: negative500,
	    negative600: negative600,
	    negative700: negative700,

	    // Warning Palette
	    warning50: warning50,
	    warning100: warning100,
	    warning200: warning200,
	    warning300: warning300,
	    warning400: warning400,
	    warning: warning400,
	    warning500: warning500,
	    warning600: warning600,
	    warning700: warning700,

	    // Positive Palette
	    positive50: positive50,
	    positive100: positive100,
	    positive200: positive200,
	    positive300: positive300,
	    positive400: positive400,
	    positive: positive400,
	    positive500: positive500,
	    positive600: positive600,
	    positive700: positive700,

	    // Monochrome Palette
	    white: mono100,
	    mono100: mono100,
	    mono200: mono200,
	    mono300: mono300,
	    mono400: mono400,
	    mono500: mono500,
	    mono600: mono600,
	    mono700: mono700,
	    mono800: mono800,
	    mono900: mono900,
	    mono1000: mono1000,
	    black: mono1000,

	    // Semantic Colors

	    // Background
	    background: mono100,
	    backgroundAlt: mono800,
	    backgroundInv: mono100,

	    // Foreground
	    foreground: mono1000,
	    foregroundAlt: mono800,
	    foregroundInv: mono100,

	    // Borders
	    border: mono500,
	    borderAlt: mono600,
	    borderFocus: primary400,
	    borderError: negative400,

	    // Buttons
	    buttonPrimaryFill: primary400,
	    buttonPrimaryText: mono100,
	    buttonPrimaryHover: primary600,
	    buttonPrimaryActive: primary700,
	    buttonSecondaryFill: primary50,
	    buttonSecondaryText: primary500,
	    buttonTertiaryFill: mono200,
	    buttonTertiaryText: primary400,
	    buttonMinimalFill: mono100,
	    buttonMinimalText: primary400,
	    buttonDisabledFill: mono300,
	    buttonDisabledText: mono600,

	    // Links
	    linkText: primary400,
	    linkVisited: primary500,
	    linkHover: primary600,

	    // Shadow
	    shadowFocus: 'rgba(39, 110, 241, 0.32)',
	    shadowError: 'rgba(229, 73, 55, 0.32)'
	  },
	  typography: {
	    font100: {
	      fontFamily: primaryFontFamily,
	      fontSize: '11px',
	      fontWeight: 'normal',
	      lineHeight: '16px'
	    },
	    font200: {
	      fontFamily: primaryFontFamily,
	      fontSize: '12px',
	      fontWeight: 'normal',
	      lineHeight: '20px'
	    },
	    font250: {
	      fontFamily: primaryFontFamily,
	      fontSize: '12px',
	      fontWeight: 'bold',
	      lineHeight: '20px'
	    },
	    font300: {
	      fontFamily: primaryFontFamily,
	      fontSize: '14px',
	      fontWeight: 'normal',
	      lineHeight: '24px'
	    },
	    font350: {
	      fontFamily: primaryFontFamily,
	      fontSize: '14px',
	      fontWeight: 'bold',
	      lineHeight: '24px'
	    },
	    font400: {
	      fontFamily: primaryFontFamily,
	      fontSize: '16px',
	      fontWeight: 'normal',
	      lineHeight: '28px'
	    },
	    font450: {
	      fontFamily: primaryFontFamily,
	      fontSize: '16px',
	      fontWeight: 'bold',
	      lineHeight: '28px'
	    },
	    font500: {
	      fontFamily: primaryFontFamily,
	      fontSize: '20px',
	      fontWeight: 'bold',
	      lineHeight: '28px',
	      letterSpacing: '-2%'
	    },
	    font600: {
	      fontFamily: primaryFontFamily,
	      fontSize: '24px',
	      fontWeight: 'bold',
	      lineHeight: '36px',
	      letterSpacing: '-2%'
	    },
	    font700: {
	      fontFamily: primaryFontFamily,
	      fontSize: '28px',
	      fontWeight: 'bold',
	      lineHeight: '40px',
	      letterSpacing: '-2%'
	    },
	    font800: {
	      fontFamily: primaryFontFamily,
	      fontSize: '32px',
	      fontWeight: 'bold',
	      lineHeight: '48px',
	      // TODO: move the letter spacing in an Uber specific theme
	      letterSpacing: '-2%'
	    },
	    font900: {
	      fontFamily: primaryFontFamily,
	      fontSize: '40px',
	      fontWeight: 'bold',
	      lineHeight: '56px',
	      // TODO: move the letter spacing in an Uber specific theme
	      letterSpacing: '-2%'
	    },
	    font1000: {
	      fontFamily: primaryFontFamily,
	      fontSize: '56px',
	      fontWeight: 'normal',
	      lineHeight: '80px',
	      // TODO: move the letter spacing in an Uber specific theme
	      letterSpacing: '-2%'
	    }
	  },
	  sizing: {
	    scale0: '2px',
	    scale100: '4px',
	    scale200: '6px',
	    scale300: '8px',
	    scale400: '10px',
	    scale500: '12px',
	    scale600: '16px',
	    scale700: '20px',
	    scale800: '24px',
	    scale900: '32px',
	    scale1000: '40px',
	    scale1200: '48px',
	    scale1400: '56px',
	    scale1600: '64px',
	    scale2400: '96px',
	    scale3200: '128px',
	    scale4800: '192px'
	  },
	  lighting: {
	    shadow400: '0 1px 4px hsla(0, 0%, 0%, 0.16)',
	    shadow500: '0 2px 8px hsla(0, 0%, 0%, 0.16)',
	    shadow600: '0 4px 16px hsla(0, 0%, 0%, 0.16)',
	    shadow700: '0 8px 24px hsla(0, 0%, 0%, 0.16)',
	    overlay0: 'inset 0 0 0 1000px hsla(0, 0%, 0%, 0)',
	    overlay100: 'inset 0 0 0 1000px hsla(0, 0%, 0%, 0.04)',
	    overlay200: 'inset 0 0 0 1000px hsla(0, 0%, 0%, 0.08)',
	    overlay300: 'inset 0 0 0 1000px hsla(0, 0%, 0%, 0.12)',
	    overlay400: 'inset 0 0 0 1000px hsla(0, 0%, 0%, 0.16)',
	    overlay500: 'inset 0 0 0 1000px hsla(0, 0%, 0%, 0.2)',
	    overlay600: 'inset 0 0 0 1000px hsla(0, 0%, 0%, 0.24)'
	  },
	  borders: {
	    useRoundedCorners: true,
	    radius100: '2px',
	    radius200: '4px',
	    radius300: '8px'
	  },
	  animation: {
	    timing100: '0.25s',
	    timing400: '0.4s',
	    timing700: '0.6s',
	    easeOutCurve: 'cubic-bezier(.2, .8, .4, 1)',
	    easeInCurve: 'cubic-bezier(.8, .2, .6, 1)',
	    easeInOutCurve: 'cubic-bezier(0.4, 0, 0.2, 1)'
	  }
	};

	var ThemeContext = react_7(LIGHT_THEME);

	var ThemeProvider = function ThemeProvider(props) {
	  var theme = props.theme,
	      children = props.children;

	  return react_4(
	    ThemeContext.Provider,
	    { value: theme },
	    children
	  );
	};

	var getInitialStyle$1 = function getInitialStyle$$1() {
	  return {};
	};

	var wrapper = function wrapper(StyledComponent) {
	  return function withThemeHOC(props) {
	    return react_4(
	      ThemeContext.Consumer,
	      null,
	      function (theme) {
	        return react_4(StyledComponent, _extends({}, props, { $theme: theme }));
	      }
	    );
	  };
	};

	var styled = createStyled({ wrapper: wrapper, getInitialStyle: getInitialStyle$1, driver: driver });

	var ARROW_SIZE = 6;

	var POPOVER_MARGIN = 6;

	var PLACEMENT = {
	  auto: 'auto',
	  topLeft: 'topLeft',
	  top: 'top',
	  topRight: 'topRight',
	  rightTop: 'rightTop',
	  right: 'right',
	  rightBottom: 'rightBottom',
	  bottomRight: 'bottomRight',
	  bottom: 'bottom',
	  bottomLeft: 'bottomLeft',
	  leftBottom: 'leftBottom',
	  left: 'left',
	  leftTop: 'leftTop'
	};

	var TRIGGER_TYPE = {
	  click: 'click',
	  hover: 'hover'
	};

	var STATE_CHANGE_TYPE = {
	  open: 'open',
	  close: 'close'
	};

	var ACCESSIBILITY_TYPE = {
	  none: 'none',
	  menu: 'menu',
	  tooltip: 'tooltip'
	};

	var baseDefaultProps = {
	  accessibilityType: ACCESSIBILITY_TYPE.menu,
	  components: {},
	  onMouseEnterDelay: 200,
	  onMouseLeaveDelay: 200,
	  placement: PLACEMENT.auto,
	  showArrow: false,
	  triggerType: TRIGGER_TYPE.click
	};

	var defaultStateReducer = function defaultStateReducer(type, nextState) {
	  return nextState;
	};

	var StatefulContainer = function (_React$Component) {
	  inherits(StatefulContainer, _React$Component);

	  function StatefulContainer() {
	    var _ref;

	    var _temp, _this, _ret;

	    classCallCheck(this, StatefulContainer);

	    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
	      args[_key] = arguments[_key];
	    }

	    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = StatefulContainer.__proto__ || Object.getPrototypeOf(StatefulContainer)).call.apply(_ref, [this].concat(args))), _this), _this.state = _extends({
	      isOpen: false
	    }, _this.props.initialState), _this.onBlur = function () {
	      _this.close();
	    }, _this.onClick = function () {
	      if (_this.state.isOpen) {
	        _this.close();
	      } else {
	        _this.open();
	      }
	    }, _this.onClickOutside = function () {
	      _this.close();
	    }, _this.onEsc = function () {
	      _this.close();
	    }, _this.onFocus = function () {
	      _this.open();
	    }, _this.onMouseEnter = function () {
	      _this.open();
	    }, _this.onMouseLeave = function () {
	      _this.close();
	    }, _this.onContentClose = function () {
	      _this.close();
	    }, _this.renderContent = function () {
	      var content = _this.props.content;

	      if (typeof content === 'function') {
	        return content({ close: _this.onContentClose });
	      }
	      return content;
	    }, _temp), possibleConstructorReturn(_this, _ret);
	  }

	  createClass(StatefulContainer, [{
	    key: 'open',
	    value: function open() {
	      this.internalSetState(STATE_CHANGE_TYPE.open, {
	        isOpen: true
	      });
	    }
	  }, {
	    key: 'close',
	    value: function close() {
	      this.internalSetState(STATE_CHANGE_TYPE.close, {
	        isOpen: false
	      });
	    }
	  }, {
	    key: 'internalSetState',
	    value: function internalSetState(type, changes) {
	      var stateReducer = this.props.stateReducer;

	      if (typeof stateReducer !== 'function') {
	        this.setState(changes);
	        return;
	      }
	      this.setState(function (prevState) {
	        return stateReducer(type, changes, prevState);
	      });
	    }

	    /**
	     * If user passed a content render prop, we want to give them a
	     * callback to close the Popover. This is useful in any case where
	     * a dev wants to manually close the popover based on some action.
	     *
	     * One simple example is a Popover with a "Dismiss" button in it:
	     * <StatefulPopover content={({close}) => <button onClick={close}>Dismiss</button>}>
	     *  Click me
	     * </StatefulPopover>
	     */

	  }, {
	    key: 'render',
	    value: function render() {
	      var _props = this.props,
	          accessibilityType = _props.accessibilityType,
	          dismissOnClickOutside = _props.dismissOnClickOutside,
	          dismissOnEsc = _props.dismissOnEsc,
	          components = _props.components,
	          onMouseEnterDelay = _props.onMouseEnterDelay,
	          onMouseLeaveDelay = _props.onMouseLeaveDelay,
	          placement = _props.placement,
	          showArrow = _props.showArrow,
	          triggerType = _props.triggerType;


	      var popoverProps = {
	        accessibilityType: accessibilityType,
	        isOpen: this.state.isOpen,
	        components: components,
	        content: this.renderContent,
	        onMouseEnterDelay: onMouseEnterDelay,
	        onMouseLeaveDelay: onMouseLeaveDelay,
	        placement: placement,
	        showArrow: showArrow,
	        triggerType: triggerType
	      };

	      if (dismissOnClickOutside) {
	        popoverProps.onClickOutside = this.onClickOutside;
	      }
	      if (dismissOnEsc) {
	        popoverProps.onEsc = this.onEsc;
	      }
	      if (triggerType === TRIGGER_TYPE.hover) {
	        popoverProps.onBlur = this.onBlur;
	        popoverProps.onFocus = this.onFocus;
	        popoverProps.onMouseEnter = this.onMouseEnter;
	        popoverProps.onMouseLeave = this.onMouseLeave;
	      } else {
	        popoverProps.onClick = this.onClick;
	      }

	      return this.props.children(popoverProps);
	    }
	  }]);
	  return StatefulContainer;
	}(react_2);

	StatefulContainer.defaultProps = _extends({}, baseDefaultProps, {
	  dismissOnClickOutside: true,
	  dismissOnEsc: true,
	  stateReducer: defaultStateReducer
	});

	var empty = {};

	var empty$1 = /*#__PURE__*/Object.freeze({
		default: empty
	});

	var minDoc = ( empty$1 && empty ) || empty$1;

	var topLevel = typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : typeof window !== 'undefined' ? window : {};

	var doccy;

	if (typeof document !== 'undefined') {
	    doccy = document;
	} else {
	    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];

	    if (!doccy) {
	        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;
	    }
	}

	var document_1 = doccy;

	/**!
	 * @fileOverview Kickass library to create and place poppers near their reference elements.
	 * @version 1.14.3
	 * @license
	 * Copyright (c) 2016 Federico Zivolo and contributors
	 *
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 *
	 * The above copyright notice and this permission notice shall be included in all
	 * copies or substantial portions of the Software.
	 *
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 * SOFTWARE.
	 */
	var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';

	var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];
	var timeoutDuration = 0;
	for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {
	  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {
	    timeoutDuration = 1;
	    break;
	  }
	}

	function microtaskDebounce(fn) {
	  var called = false;
	  return function () {
	    if (called) {
	      return;
	    }
	    called = true;
	    window.Promise.resolve().then(function () {
	      called = false;
	      fn();
	    });
	  };
	}

	function taskDebounce(fn) {
	  var scheduled = false;
	  return function () {
	    if (!scheduled) {
	      scheduled = true;
	      setTimeout(function () {
	        scheduled = false;
	        fn();
	      }, timeoutDuration);
	    }
	  };
	}

	var supportsMicroTasks = isBrowser && window.Promise;

	/**
	* Create a debounced version of a method, that's asynchronously deferred
	* but called in the minimum time possible.
	*
	* @method
	* @memberof Popper.Utils
	* @argument {Function} fn
	* @returns {Function}
	*/
	var debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;

	/**
	 * Check if the given variable is a function
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Any} functionToCheck - variable to check
	 * @returns {Boolean} answer to: is a function?
	 */
	function isFunction(functionToCheck) {
	  var getType = {};
	  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';
	}

	/**
	 * Get CSS computed property of the given element
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Eement} element
	 * @argument {String} property
	 */
	function getStyleComputedProperty(element, property) {
	  if (element.nodeType !== 1) {
	    return [];
	  }
	  // NOTE: 1 DOM access here
	  var css = getComputedStyle(element, null);
	  return property ? css[property] : css;
	}

	/**
	 * Returns the parentNode or the host of the element
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} element
	 * @returns {Element} parent
	 */
	function getParentNode(element) {
	  if (element.nodeName === 'HTML') {
	    return element;
	  }
	  return element.parentNode || element.host;
	}

	/**
	 * Returns the scrolling parent of the given element
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} element
	 * @returns {Element} scroll parent
	 */
	function getScrollParent(element) {
	  // Return body, `getScroll` will take care to get the correct `scrollTop` from it
	  if (!element) {
	    return document.body;
	  }

	  switch (element.nodeName) {
	    case 'HTML':
	    case 'BODY':
	      return element.ownerDocument.body;
	    case '#document':
	      return element.body;
	  }

	  // Firefox want us to check `-x` and `-y` variations as well

	  var _getStyleComputedProp = getStyleComputedProperty(element),
	      overflow = _getStyleComputedProp.overflow,
	      overflowX = _getStyleComputedProp.overflowX,
	      overflowY = _getStyleComputedProp.overflowY;

	  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {
	    return element;
	  }

	  return getScrollParent(getParentNode(element));
	}

	var isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);
	var isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);

	/**
	 * Determines if the browser is Internet Explorer
	 * @method
	 * @memberof Popper.Utils
	 * @param {Number} version to check
	 * @returns {Boolean} isIE
	 */
	function isIE(version) {
	  if (version === 11) {
	    return isIE11;
	  }
	  if (version === 10) {
	    return isIE10;
	  }
	  return isIE11 || isIE10;
	}

	/**
	 * Returns the offset parent of the given element
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} element
	 * @returns {Element} offset parent
	 */
	function getOffsetParent(element) {
	  if (!element) {
	    return document.documentElement;
	  }

	  var noOffsetParent = isIE(10) ? document.body : null;

	  // NOTE: 1 DOM access here
	  var offsetParent = element.offsetParent;
	  // Skip hidden elements which don't have an offsetParent
	  while (offsetParent === noOffsetParent && element.nextElementSibling) {
	    offsetParent = (element = element.nextElementSibling).offsetParent;
	  }

	  var nodeName = offsetParent && offsetParent.nodeName;

	  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {
	    return element ? element.ownerDocument.documentElement : document.documentElement;
	  }

	  // .offsetParent will return the closest TD or TABLE in case
	  // no offsetParent is present, I hate this job...
	  if (['TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {
	    return getOffsetParent(offsetParent);
	  }

	  return offsetParent;
	}

	function isOffsetContainer(element) {
	  var nodeName = element.nodeName;

	  if (nodeName === 'BODY') {
	    return false;
	  }
	  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;
	}

	/**
	 * Finds the root node (document, shadowDOM root) of the given element
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} node
	 * @returns {Element} root node
	 */
	function getRoot(node) {
	  if (node.parentNode !== null) {
	    return getRoot(node.parentNode);
	  }

	  return node;
	}

	/**
	 * Finds the offset parent common to the two provided nodes
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} element1
	 * @argument {Element} element2
	 * @returns {Element} common offset parent
	 */
	function findCommonOffsetParent(element1, element2) {
	  // This check is needed to avoid errors in case one of the elements isn't defined for any reason
	  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {
	    return document.documentElement;
	  }

	  // Here we make sure to give as "start" the element that comes first in the DOM
	  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;
	  var start = order ? element1 : element2;
	  var end = order ? element2 : element1;

	  // Get common ancestor container
	  var range = document.createRange();
	  range.setStart(start, 0);
	  range.setEnd(end, 0);
	  var commonAncestorContainer = range.commonAncestorContainer;

	  // Both nodes are inside #document

	  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {
	    if (isOffsetContainer(commonAncestorContainer)) {
	      return commonAncestorContainer;
	    }

	    return getOffsetParent(commonAncestorContainer);
	  }

	  // one of the nodes is inside shadowDOM, find which one
	  var element1root = getRoot(element1);
	  if (element1root.host) {
	    return findCommonOffsetParent(element1root.host, element2);
	  } else {
	    return findCommonOffsetParent(element1, getRoot(element2).host);
	  }
	}

	/**
	 * Gets the scroll value of the given element in the given side (top and left)
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} element
	 * @argument {String} side `top` or `left`
	 * @returns {number} amount of scrolled pixels
	 */
	function getScroll(element) {
	  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';

	  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';
	  var nodeName = element.nodeName;

	  if (nodeName === 'BODY' || nodeName === 'HTML') {
	    var html = element.ownerDocument.documentElement;
	    var scrollingElement = element.ownerDocument.scrollingElement || html;
	    return scrollingElement[upperSide];
	  }

	  return element[upperSide];
	}

	/*
	 * Sum or subtract the element scroll values (left and top) from a given rect object
	 * @method
	 * @memberof Popper.Utils
	 * @param {Object} rect - Rect object you want to change
	 * @param {HTMLElement} element - The element from the function reads the scroll values
	 * @param {Boolean} subtract - set to true if you want to subtract the scroll values
	 * @return {Object} rect - The modifier rect object
	 */
	function includeScroll(rect, element) {
	  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

	  var scrollTop = getScroll(element, 'top');
	  var scrollLeft = getScroll(element, 'left');
	  var modifier = subtract ? -1 : 1;
	  rect.top += scrollTop * modifier;
	  rect.bottom += scrollTop * modifier;
	  rect.left += scrollLeft * modifier;
	  rect.right += scrollLeft * modifier;
	  return rect;
	}

	/*
	 * Helper to detect borders of a given element
	 * @method
	 * @memberof Popper.Utils
	 * @param {CSSStyleDeclaration} styles
	 * Result of `getStyleComputedProperty` on the given element
	 * @param {String} axis - `x` or `y`
	 * @return {number} borders - The borders size of the given axis
	 */

	function getBordersSize(styles, axis) {
	  var sideA = axis === 'x' ? 'Left' : 'Top';
	  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';

	  return parseFloat(styles['border' + sideA + 'Width'], 10) + parseFloat(styles['border' + sideB + 'Width'], 10);
	}

	function getSize(axis, body, html, computedStyle) {
	  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? html['offset' + axis] + computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')] + computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')] : 0);
	}

	function getWindowSizes() {
	  var body = document.body;
	  var html = document.documentElement;
	  var computedStyle = isIE(10) && getComputedStyle(html);

	  return {
	    height: getSize('Height', body, html, computedStyle),
	    width: getSize('Width', body, html, computedStyle)
	  };
	}

	var classCallCheck$1 = function classCallCheck(instance, Constructor) {
	  if (!(instance instanceof Constructor)) {
	    throw new TypeError("Cannot call a class as a function");
	  }
	};

	var createClass$1 = function () {
	  function defineProperties(target, props) {
	    for (var i = 0; i < props.length; i++) {
	      var descriptor = props[i];
	      descriptor.enumerable = descriptor.enumerable || false;
	      descriptor.configurable = true;
	      if ("value" in descriptor) descriptor.writable = true;
	      Object.defineProperty(target, descriptor.key, descriptor);
	    }
	  }

	  return function (Constructor, protoProps, staticProps) {
	    if (protoProps) defineProperties(Constructor.prototype, protoProps);
	    if (staticProps) defineProperties(Constructor, staticProps);
	    return Constructor;
	  };
	}();

	var defineProperty$1 = function defineProperty(obj, key, value) {
	  if (key in obj) {
	    Object.defineProperty(obj, key, {
	      value: value,
	      enumerable: true,
	      configurable: true,
	      writable: true
	    });
	  } else {
	    obj[key] = value;
	  }

	  return obj;
	};

	var _extends$1 = Object.assign || function (target) {
	  for (var i = 1; i < arguments.length; i++) {
	    var source = arguments[i];

	    for (var key in source) {
	      if (Object.prototype.hasOwnProperty.call(source, key)) {
	        target[key] = source[key];
	      }
	    }
	  }

	  return target;
	};

	/**
	 * Given element offsets, generate an output similar to getBoundingClientRect
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Object} offsets
	 * @returns {Object} ClientRect like output
	 */
	function getClientRect(offsets) {
	  return _extends$1({}, offsets, {
	    right: offsets.left + offsets.width,
	    bottom: offsets.top + offsets.height
	  });
	}

	/**
	 * Get bounding client rect of given element
	 * @method
	 * @memberof Popper.Utils
	 * @param {HTMLElement} element
	 * @return {Object} client rect
	 */
	function getBoundingClientRect(element) {
	  var rect = {};

	  // IE10 10 FIX: Please, don't ask, the element isn't
	  // considered in DOM in some circumstances...
	  // This isn't reproducible in IE10 compatibility mode of IE11
	  try {
	    if (isIE(10)) {
	      rect = element.getBoundingClientRect();
	      var scrollTop = getScroll(element, 'top');
	      var scrollLeft = getScroll(element, 'left');
	      rect.top += scrollTop;
	      rect.left += scrollLeft;
	      rect.bottom += scrollTop;
	      rect.right += scrollLeft;
	    } else {
	      rect = element.getBoundingClientRect();
	    }
	  } catch (e) {}

	  var result = {
	    left: rect.left,
	    top: rect.top,
	    width: rect.right - rect.left,
	    height: rect.bottom - rect.top
	  };

	  // subtract scrollbar size from sizes
	  var sizes = element.nodeName === 'HTML' ? getWindowSizes() : {};
	  var width = sizes.width || element.clientWidth || result.right - result.left;
	  var height = sizes.height || element.clientHeight || result.bottom - result.top;

	  var horizScrollbar = element.offsetWidth - width;
	  var vertScrollbar = element.offsetHeight - height;

	  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`
	  // we make this check conditional for performance reasons
	  if (horizScrollbar || vertScrollbar) {
	    var styles = getStyleComputedProperty(element);
	    horizScrollbar -= getBordersSize(styles, 'x');
	    vertScrollbar -= getBordersSize(styles, 'y');

	    result.width -= horizScrollbar;
	    result.height -= vertScrollbar;
	  }

	  return getClientRect(result);
	}

	function getOffsetRectRelativeToArbitraryNode(children, parent) {
	  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

	  var isIE10 = isIE(10);
	  var isHTML = parent.nodeName === 'HTML';
	  var childrenRect = getBoundingClientRect(children);
	  var parentRect = getBoundingClientRect(parent);
	  var scrollParent = getScrollParent(children);

	  var styles = getStyleComputedProperty(parent);
	  var borderTopWidth = parseFloat(styles.borderTopWidth, 10);
	  var borderLeftWidth = parseFloat(styles.borderLeftWidth, 10);

	  // In cases where the parent is fixed, we must ignore negative scroll in offset calc
	  if (fixedPosition && parent.nodeName === 'HTML') {
	    parentRect.top = Math.max(parentRect.top, 0);
	    parentRect.left = Math.max(parentRect.left, 0);
	  }
	  var offsets = getClientRect({
	    top: childrenRect.top - parentRect.top - borderTopWidth,
	    left: childrenRect.left - parentRect.left - borderLeftWidth,
	    width: childrenRect.width,
	    height: childrenRect.height
	  });
	  offsets.marginTop = 0;
	  offsets.marginLeft = 0;

	  // Subtract margins of documentElement in case it's being used as parent
	  // we do this only on HTML because it's the only element that behaves
	  // differently when margins are applied to it. The margins are included in
	  // the box of the documentElement, in the other cases not.
	  if (!isIE10 && isHTML) {
	    var marginTop = parseFloat(styles.marginTop, 10);
	    var marginLeft = parseFloat(styles.marginLeft, 10);

	    offsets.top -= borderTopWidth - marginTop;
	    offsets.bottom -= borderTopWidth - marginTop;
	    offsets.left -= borderLeftWidth - marginLeft;
	    offsets.right -= borderLeftWidth - marginLeft;

	    // Attach marginTop and marginLeft because in some circumstances we may need them
	    offsets.marginTop = marginTop;
	    offsets.marginLeft = marginLeft;
	  }

	  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {
	    offsets = includeScroll(offsets, parent);
	  }

	  return offsets;
	}

	function getViewportOffsetRectRelativeToArtbitraryNode(element) {
	  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

	  var html = element.ownerDocument.documentElement;
	  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);
	  var width = Math.max(html.clientWidth, window.innerWidth || 0);
	  var height = Math.max(html.clientHeight, window.innerHeight || 0);

	  var scrollTop = !excludeScroll ? getScroll(html) : 0;
	  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;

	  var offset = {
	    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,
	    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,
	    width: width,
	    height: height
	  };

	  return getClientRect(offset);
	}

	/**
	 * Check if the given element is fixed or is inside a fixed parent
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} element
	 * @argument {Element} customContainer
	 * @returns {Boolean} answer to "isFixed?"
	 */
	function isFixed(element) {
	  var nodeName = element.nodeName;
	  if (nodeName === 'BODY' || nodeName === 'HTML') {
	    return false;
	  }
	  if (getStyleComputedProperty(element, 'position') === 'fixed') {
	    return true;
	  }
	  return isFixed(getParentNode(element));
	}

	/**
	 * Finds the first parent of an element that has a transformed property defined
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} element
	 * @returns {Element} first transformed parent or documentElement
	 */

	function getFixedPositionOffsetParent(element) {
	  // This check is needed to avoid errors in case one of the elements isn't defined for any reason
	  if (!element || !element.parentElement || isIE()) {
	    return document.documentElement;
	  }
	  var el = element.parentElement;
	  while (el && getStyleComputedProperty(el, 'transform') === 'none') {
	    el = el.parentElement;
	  }
	  return el || document.documentElement;
	}

	/**
	 * Computed the boundaries limits and return them
	 * @method
	 * @memberof Popper.Utils
	 * @param {HTMLElement} popper
	 * @param {HTMLElement} reference
	 * @param {number} padding
	 * @param {HTMLElement} boundariesElement - Element used to define the boundaries
	 * @param {Boolean} fixedPosition - Is in fixed position mode
	 * @returns {Object} Coordinates of the boundaries
	 */
	function getBoundaries(popper, reference, padding, boundariesElement) {
	  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;

	  // NOTE: 1 DOM access here

	  var boundaries = { top: 0, left: 0 };
	  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);

	  // Handle viewport case
	  if (boundariesElement === 'viewport') {
	    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);
	  } else {
	    // Handle other cases based on DOM element used as boundaries
	    var boundariesNode = void 0;
	    if (boundariesElement === 'scrollParent') {
	      boundariesNode = getScrollParent(getParentNode(reference));
	      if (boundariesNode.nodeName === 'BODY') {
	        boundariesNode = popper.ownerDocument.documentElement;
	      }
	    } else if (boundariesElement === 'window') {
	      boundariesNode = popper.ownerDocument.documentElement;
	    } else {
	      boundariesNode = boundariesElement;
	    }

	    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);

	    // In case of HTML, we need a different computation
	    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {
	      var _getWindowSizes = getWindowSizes(),
	          height = _getWindowSizes.height,
	          width = _getWindowSizes.width;

	      boundaries.top += offsets.top - offsets.marginTop;
	      boundaries.bottom = height + offsets.top;
	      boundaries.left += offsets.left - offsets.marginLeft;
	      boundaries.right = width + offsets.left;
	    } else {
	      // for all the other DOM elements, this one is good
	      boundaries = offsets;
	    }
	  }

	  // Add paddings
	  boundaries.left += padding;
	  boundaries.top += padding;
	  boundaries.right -= padding;
	  boundaries.bottom -= padding;

	  return boundaries;
	}

	function getArea(_ref) {
	  var width = _ref.width,
	      height = _ref.height;

	  return width * height;
	}

	/**
	 * Utility used to transform the `auto` placement to the placement with more
	 * available space.
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Object} data - The data object generated by update method
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {Object} The data object, properly modified
	 */
	function computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {
	  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;

	  if (placement.indexOf('auto') === -1) {
	    return placement;
	  }

	  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);

	  var rects = {
	    top: {
	      width: boundaries.width,
	      height: refRect.top - boundaries.top
	    },
	    right: {
	      width: boundaries.right - refRect.right,
	      height: boundaries.height
	    },
	    bottom: {
	      width: boundaries.width,
	      height: boundaries.bottom - refRect.bottom
	    },
	    left: {
	      width: refRect.left - boundaries.left,
	      height: boundaries.height
	    }
	  };

	  var sortedAreas = Object.keys(rects).map(function (key) {
	    return _extends$1({
	      key: key
	    }, rects[key], {
	      area: getArea(rects[key])
	    });
	  }).sort(function (a, b) {
	    return b.area - a.area;
	  });

	  var filteredAreas = sortedAreas.filter(function (_ref2) {
	    var width = _ref2.width,
	        height = _ref2.height;
	    return width >= popper.clientWidth && height >= popper.clientHeight;
	  });

	  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;

	  var variation = placement.split('-')[1];

	  return computedPlacement + (variation ? '-' + variation : '');
	}

	/**
	 * Get offsets to the reference element
	 * @method
	 * @memberof Popper.Utils
	 * @param {Object} state
	 * @param {Element} popper - the popper element
	 * @param {Element} reference - the reference element (the popper will be relative to this)
	 * @param {Element} fixedPosition - is in fixed position mode
	 * @returns {Object} An object containing the offsets which will be applied to the popper
	 */
	function getReferenceOffsets(state, popper, reference) {
	  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

	  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);
	  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);
	}

	/**
	 * Get the outer sizes of the given element (offset size + margins)
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} element
	 * @returns {Object} object containing width and height properties
	 */
	function getOuterSizes(element) {
	  var styles = getComputedStyle(element);
	  var x = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom);
	  var y = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight);
	  var result = {
	    width: element.offsetWidth + y,
	    height: element.offsetHeight + x
	  };
	  return result;
	}

	/**
	 * Get the opposite placement of the given one
	 * @method
	 * @memberof Popper.Utils
	 * @argument {String} placement
	 * @returns {String} flipped placement
	 */
	function getOppositePlacement(placement) {
	  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };
	  return placement.replace(/left|right|bottom|top/g, function (matched) {
	    return hash[matched];
	  });
	}

	/**
	 * Get offsets to the popper
	 * @method
	 * @memberof Popper.Utils
	 * @param {Object} position - CSS position the Popper will get applied
	 * @param {HTMLElement} popper - the popper element
	 * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)
	 * @param {String} placement - one of the valid placement options
	 * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper
	 */
	function getPopperOffsets(popper, referenceOffsets, placement) {
	  placement = placement.split('-')[0];

	  // Get popper node sizes
	  var popperRect = getOuterSizes(popper);

	  // Add position, width and height to our offsets object
	  var popperOffsets = {
	    width: popperRect.width,
	    height: popperRect.height
	  };

	  // depending by the popper placement we have to compute its offsets slightly differently
	  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;
	  var mainSide = isHoriz ? 'top' : 'left';
	  var secondarySide = isHoriz ? 'left' : 'top';
	  var measurement = isHoriz ? 'height' : 'width';
	  var secondaryMeasurement = !isHoriz ? 'height' : 'width';

	  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;
	  if (placement === secondarySide) {
	    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];
	  } else {
	    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];
	  }

	  return popperOffsets;
	}

	/**
	 * Mimics the `find` method of Array
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Array} arr
	 * @argument prop
	 * @argument value
	 * @returns index or -1
	 */
	function find(arr, check) {
	  // use native find if supported
	  if (Array.prototype.find) {
	    return arr.find(check);
	  }

	  // use `filter` to obtain the same behavior of `find`
	  return arr.filter(check)[0];
	}

	/**
	 * Return the index of the matching object
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Array} arr
	 * @argument prop
	 * @argument value
	 * @returns index or -1
	 */
	function findIndex(arr, prop, value) {
	  // use native findIndex if supported
	  if (Array.prototype.findIndex) {
	    return arr.findIndex(function (cur) {
	      return cur[prop] === value;
	    });
	  }

	  // use `find` + `indexOf` if `findIndex` isn't supported
	  var match = find(arr, function (obj) {
	    return obj[prop] === value;
	  });
	  return arr.indexOf(match);
	}

	/**
	 * Loop trough the list of modifiers and run them in order,
	 * each of them will then edit the data object.
	 * @method
	 * @memberof Popper.Utils
	 * @param {dataObject} data
	 * @param {Array} modifiers
	 * @param {String} ends - Optional modifier name used as stopper
	 * @returns {dataObject}
	 */
	function runModifiers(modifiers, data, ends) {
	  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));

	  modifiersToRun.forEach(function (modifier) {
	    if (modifier['function']) {
	      // eslint-disable-line dot-notation
	      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');
	    }
	    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation
	    if (modifier.enabled && isFunction(fn)) {
	      // Add properties to offsets to make them a complete clientRect object
	      // we do this before each modifier to make sure the previous one doesn't
	      // mess with these values
	      data.offsets.popper = getClientRect(data.offsets.popper);
	      data.offsets.reference = getClientRect(data.offsets.reference);

	      data = fn(data, modifier);
	    }
	  });

	  return data;
	}

	/**
	 * Updates the position of the popper, computing the new offsets and applying
	 * the new style.<br />
	 * Prefer `scheduleUpdate` over `update` because of performance reasons.
	 * @method
	 * @memberof Popper
	 */
	function update() {
	  // if popper is destroyed, don't perform any further update
	  if (this.state.isDestroyed) {
	    return;
	  }

	  var data = {
	    instance: this,
	    styles: {},
	    arrowStyles: {},
	    attributes: {},
	    flipped: false,
	    offsets: {}
	  };

	  // compute reference element offsets
	  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);

	  // compute auto placement, store placement inside the data object,
	  // modifiers will be able to edit `placement` if needed
	  // and refer to originalPlacement to know the original value
	  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);

	  // store the computed placement inside `originalPlacement`
	  data.originalPlacement = data.placement;

	  data.positionFixed = this.options.positionFixed;

	  // compute the popper offsets
	  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);

	  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';

	  // run the modifiers
	  data = runModifiers(this.modifiers, data);

	  // the first `update` will call `onCreate` callback
	  // the other ones will call `onUpdate` callback
	  if (!this.state.isCreated) {
	    this.state.isCreated = true;
	    this.options.onCreate(data);
	  } else {
	    this.options.onUpdate(data);
	  }
	}

	/**
	 * Helper used to know if the given modifier is enabled.
	 * @method
	 * @memberof Popper.Utils
	 * @returns {Boolean}
	 */
	function isModifierEnabled(modifiers, modifierName) {
	  return modifiers.some(function (_ref) {
	    var name = _ref.name,
	        enabled = _ref.enabled;
	    return enabled && name === modifierName;
	  });
	}

	/**
	 * Get the prefixed supported property name
	 * @method
	 * @memberof Popper.Utils
	 * @argument {String} property (camelCase)
	 * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)
	 */
	function getSupportedPropertyName(property) {
	  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];
	  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);

	  for (var i = 0; i < prefixes.length; i++) {
	    var prefix = prefixes[i];
	    var toCheck = prefix ? '' + prefix + upperProp : property;
	    if (typeof document.body.style[toCheck] !== 'undefined') {
	      return toCheck;
	    }
	  }
	  return null;
	}

	/**
	 * Destroy the popper
	 * @method
	 * @memberof Popper
	 */
	function destroy() {
	  this.state.isDestroyed = true;

	  // touch DOM only if `applyStyle` modifier is enabled
	  if (isModifierEnabled(this.modifiers, 'applyStyle')) {
	    this.popper.removeAttribute('x-placement');
	    this.popper.style.position = '';
	    this.popper.style.top = '';
	    this.popper.style.left = '';
	    this.popper.style.right = '';
	    this.popper.style.bottom = '';
	    this.popper.style.willChange = '';
	    this.popper.style[getSupportedPropertyName('transform')] = '';
	  }

	  this.disableEventListeners();

	  // remove the popper if user explicity asked for the deletion on destroy
	  // do not use `remove` because IE11 doesn't support it
	  if (this.options.removeOnDestroy) {
	    this.popper.parentNode.removeChild(this.popper);
	  }
	  return this;
	}

	/**
	 * Get the window associated with the element
	 * @argument {Element} element
	 * @returns {Window}
	 */
	function getWindow(element) {
	  var ownerDocument = element.ownerDocument;
	  return ownerDocument ? ownerDocument.defaultView : window;
	}

	function attachToScrollParents(scrollParent, event, callback, scrollParents) {
	  var isBody = scrollParent.nodeName === 'BODY';
	  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;
	  target.addEventListener(event, callback, { passive: true });

	  if (!isBody) {
	    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);
	  }
	  scrollParents.push(target);
	}

	/**
	 * Setup needed event listeners used to update the popper position
	 * @method
	 * @memberof Popper.Utils
	 * @private
	 */
	function setupEventListeners(reference, options, state, updateBound) {
	  // Resize event listener on window
	  state.updateBound = updateBound;
	  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });

	  // Scroll event listener on scroll parents
	  var scrollElement = getScrollParent(reference);
	  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);
	  state.scrollElement = scrollElement;
	  state.eventsEnabled = true;

	  return state;
	}

	/**
	 * It will add resize/scroll events and start recalculating
	 * position of the popper element when they are triggered.
	 * @method
	 * @memberof Popper
	 */
	function enableEventListeners() {
	  if (!this.state.eventsEnabled) {
	    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);
	  }
	}

	/**
	 * Remove event listeners used to update the popper position
	 * @method
	 * @memberof Popper.Utils
	 * @private
	 */
	function removeEventListeners(reference, state) {
	  // Remove resize event listener on window
	  getWindow(reference).removeEventListener('resize', state.updateBound);

	  // Remove scroll event listener on scroll parents
	  state.scrollParents.forEach(function (target) {
	    target.removeEventListener('scroll', state.updateBound);
	  });

	  // Reset state
	  state.updateBound = null;
	  state.scrollParents = [];
	  state.scrollElement = null;
	  state.eventsEnabled = false;
	  return state;
	}

	/**
	 * It will remove resize/scroll events and won't recalculate popper position
	 * when they are triggered. It also won't trigger onUpdate callback anymore,
	 * unless you call `update` method manually.
	 * @method
	 * @memberof Popper
	 */
	function disableEventListeners() {
	  if (this.state.eventsEnabled) {
	    cancelAnimationFrame(this.scheduleUpdate);
	    this.state = removeEventListeners(this.reference, this.state);
	  }
	}

	/**
	 * Tells if a given input is a number
	 * @method
	 * @memberof Popper.Utils
	 * @param {*} input to check
	 * @return {Boolean}
	 */
	function isNumeric(n) {
	  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);
	}

	/**
	 * Set the style to the given popper
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} element - Element to apply the style to
	 * @argument {Object} styles
	 * Object with a list of properties and values which will be applied to the element
	 */
	function setStyles(element, styles) {
	  Object.keys(styles).forEach(function (prop) {
	    var unit = '';
	    // add unit if the value is numeric and is one of the following
	    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {
	      unit = 'px';
	    }
	    element.style[prop] = styles[prop] + unit;
	  });
	}

	/**
	 * Set the attributes to the given popper
	 * @method
	 * @memberof Popper.Utils
	 * @argument {Element} element - Element to apply the attributes to
	 * @argument {Object} styles
	 * Object with a list of properties and values which will be applied to the element
	 */
	function setAttributes(element, attributes) {
	  Object.keys(attributes).forEach(function (prop) {
	    var value = attributes[prop];
	    if (value !== false) {
	      element.setAttribute(prop, attributes[prop]);
	    } else {
	      element.removeAttribute(prop);
	    }
	  });
	}

	/**
	 * @function
	 * @memberof Modifiers
	 * @argument {Object} data - The data object generated by `update` method
	 * @argument {Object} data.styles - List of style properties - values to apply to popper element
	 * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {Object} The same data object
	 */
	function applyStyle(data) {
	  // any property present in `data.styles` will be applied to the popper,
	  // in this way we can make the 3rd party modifiers add custom styles to it
	  // Be aware, modifiers could override the properties defined in the previous
	  // lines of this modifier!
	  setStyles(data.instance.popper, data.styles);

	  // any property present in `data.attributes` will be applied to the popper,
	  // they will be set as HTML attributes of the element
	  setAttributes(data.instance.popper, data.attributes);

	  // if arrowElement is defined and arrowStyles has some properties
	  if (data.arrowElement && Object.keys(data.arrowStyles).length) {
	    setStyles(data.arrowElement, data.arrowStyles);
	  }

	  return data;
	}

	/**
	 * Set the x-placement attribute before everything else because it could be used
	 * to add margins to the popper margins needs to be calculated to get the
	 * correct popper offsets.
	 * @method
	 * @memberof Popper.modifiers
	 * @param {HTMLElement} reference - The reference element used to position the popper
	 * @param {HTMLElement} popper - The HTML element used as popper
	 * @param {Object} options - Popper.js options
	 */
	function applyStyleOnLoad(reference, popper, options, modifierOptions, state) {
	  // compute reference element offsets
	  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);

	  // compute auto placement, store placement inside the data object,
	  // modifiers will be able to edit `placement` if needed
	  // and refer to originalPlacement to know the original value
	  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);

	  popper.setAttribute('x-placement', placement);

	  // Apply `position` to popper before anything else because
	  // without the position applied we can't guarantee correct computations
	  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });

	  return options;
	}

	/**
	 * @function
	 * @memberof Modifiers
	 * @argument {Object} data - The data object generated by `update` method
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {Object} The data object, properly modified
	 */
	function computeStyle(data, options) {
	  var x = options.x,
	      y = options.y;
	  var popper = data.offsets.popper;

	  // Remove this legacy support in Popper.js v2

	  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {
	    return modifier.name === 'applyStyle';
	  }).gpuAcceleration;
	  if (legacyGpuAccelerationOption !== undefined) {
	    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');
	  }
	  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;

	  var offsetParent = getOffsetParent(data.instance.popper);
	  var offsetParentRect = getBoundingClientRect(offsetParent);

	  // Styles
	  var styles = {
	    position: popper.position
	  };

	  // Avoid blurry text by using full pixel integers.
	  // For pixel-perfect positioning, top/bottom prefers rounded
	  // values, while left/right prefers floored values.
	  var offsets = {
	    left: Math.floor(popper.left),
	    top: Math.round(popper.top),
	    bottom: Math.round(popper.bottom),
	    right: Math.floor(popper.right)
	  };

	  var sideA = x === 'bottom' ? 'top' : 'bottom';
	  var sideB = y === 'right' ? 'left' : 'right';

	  // if gpuAcceleration is set to `true` and transform is supported,
	  //  we use `translate3d` to apply the position to the popper we
	  // automatically use the supported prefixed version if needed
	  var prefixedProperty = getSupportedPropertyName('transform');

	  // now, let's make a step back and look at this code closely (wtf?)
	  // If the content of the popper grows once it's been positioned, it
	  // may happen that the popper gets misplaced because of the new content
	  // overflowing its reference element
	  // To avoid this problem, we provide two options (x and y), which allow
	  // the consumer to define the offset origin.
	  // If we position a popper on top of a reference element, we can set
	  // `x` to `top` to make the popper grow towards its top instead of
	  // its bottom.
	  var left = void 0,
	      top = void 0;
	  if (sideA === 'bottom') {
	    top = -offsetParentRect.height + offsets.bottom;
	  } else {
	    top = offsets.top;
	  }
	  if (sideB === 'right') {
	    left = -offsetParentRect.width + offsets.right;
	  } else {
	    left = offsets.left;
	  }
	  if (gpuAcceleration && prefixedProperty) {
	    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';
	    styles[sideA] = 0;
	    styles[sideB] = 0;
	    styles.willChange = 'transform';
	  } else {
	    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties
	    var invertTop = sideA === 'bottom' ? -1 : 1;
	    var invertLeft = sideB === 'right' ? -1 : 1;
	    styles[sideA] = top * invertTop;
	    styles[sideB] = left * invertLeft;
	    styles.willChange = sideA + ', ' + sideB;
	  }

	  // Attributes
	  var attributes = {
	    'x-placement': data.placement
	  };

	  // Update `data` attributes, styles and arrowStyles
	  data.attributes = _extends$1({}, attributes, data.attributes);
	  data.styles = _extends$1({}, styles, data.styles);
	  data.arrowStyles = _extends$1({}, data.offsets.arrow, data.arrowStyles);

	  return data;
	}

	/**
	 * Helper used to know if the given modifier depends from another one.<br />
	 * It checks if the needed modifier is listed and enabled.
	 * @method
	 * @memberof Popper.Utils
	 * @param {Array} modifiers - list of modifiers
	 * @param {String} requestingName - name of requesting modifier
	 * @param {String} requestedName - name of requested modifier
	 * @returns {Boolean}
	 */
	function isModifierRequired(modifiers, requestingName, requestedName) {
	  var requesting = find(modifiers, function (_ref) {
	    var name = _ref.name;
	    return name === requestingName;
	  });

	  var isRequired = !!requesting && modifiers.some(function (modifier) {
	    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;
	  });

	  if (!isRequired) {
	    var _requesting = '`' + requestingName + '`';
	    var requested = '`' + requestedName + '`';
	    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');
	  }
	  return isRequired;
	}

	/**
	 * @function
	 * @memberof Modifiers
	 * @argument {Object} data - The data object generated by update method
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {Object} The data object, properly modified
	 */
	function arrow(data, options) {
	  var _data$offsets$arrow;

	  // arrow depends on keepTogether in order to work
	  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {
	    return data;
	  }

	  var arrowElement = options.element;

	  // if arrowElement is a string, suppose it's a CSS selector
	  if (typeof arrowElement === 'string') {
	    arrowElement = data.instance.popper.querySelector(arrowElement);

	    // if arrowElement is not found, don't run the modifier
	    if (!arrowElement) {
	      return data;
	    }
	  } else {
	    // if the arrowElement isn't a query selector we must check that the
	    // provided DOM node is child of its popper node
	    if (!data.instance.popper.contains(arrowElement)) {
	      console.warn('WARNING: `arrow.element` must be child of its popper element!');
	      return data;
	    }
	  }

	  var placement = data.placement.split('-')[0];
	  var _data$offsets = data.offsets,
	      popper = _data$offsets.popper,
	      reference = _data$offsets.reference;

	  var isVertical = ['left', 'right'].indexOf(placement) !== -1;

	  var len = isVertical ? 'height' : 'width';
	  var sideCapitalized = isVertical ? 'Top' : 'Left';
	  var side = sideCapitalized.toLowerCase();
	  var altSide = isVertical ? 'left' : 'top';
	  var opSide = isVertical ? 'bottom' : 'right';
	  var arrowElementSize = getOuterSizes(arrowElement)[len];

	  //
	  // extends keepTogether behavior making sure the popper and its
	  // reference have enough pixels in conjuction
	  //

	  // top/left side
	  if (reference[opSide] - arrowElementSize < popper[side]) {
	    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);
	  }
	  // bottom/right side
	  if (reference[side] + arrowElementSize > popper[opSide]) {
	    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];
	  }
	  data.offsets.popper = getClientRect(data.offsets.popper);

	  // compute center of the popper
	  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;

	  // Compute the sideValue using the updated popper offsets
	  // take popper margin in account because we don't have this info available
	  var css = getStyleComputedProperty(data.instance.popper);
	  var popperMarginSide = parseFloat(css['margin' + sideCapitalized], 10);
	  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width'], 10);
	  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;

	  // prevent arrowElement from being placed not contiguously to its popper
	  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);

	  data.arrowElement = arrowElement;
	  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty$1(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty$1(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);

	  return data;
	}

	/**
	 * Get the opposite placement variation of the given one
	 * @method
	 * @memberof Popper.Utils
	 * @argument {String} placement variation
	 * @returns {String} flipped placement variation
	 */
	function getOppositeVariation(variation) {
	  if (variation === 'end') {
	    return 'start';
	  } else if (variation === 'start') {
	    return 'end';
	  }
	  return variation;
	}

	/**
	 * List of accepted placements to use as values of the `placement` option.<br />
	 * Valid placements are:
	 * - `auto`
	 * - `top`
	 * - `right`
	 * - `bottom`
	 * - `left`
	 *
	 * Each placement can have a variation from this list:
	 * - `-start`
	 * - `-end`
	 *
	 * Variations are interpreted easily if you think of them as the left to right
	 * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`
	 * is right.<br />
	 * Vertically (`left` and `right`), `start` is top and `end` is bottom.
	 *
	 * Some valid examples are:
	 * - `top-end` (on top of reference, right aligned)
	 * - `right-start` (on right of reference, top aligned)
	 * - `bottom` (on bottom, centered)
	 * - `auto-right` (on the side with more space available, alignment depends by placement)
	 *
	 * @static
	 * @type {Array}
	 * @enum {String}
	 * @readonly
	 * @method placements
	 * @memberof Popper
	 */
	var placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];

	// Get rid of `auto` `auto-start` and `auto-end`
	var validPlacements = placements.slice(3);

	/**
	 * Given an initial placement, returns all the subsequent placements
	 * clockwise (or counter-clockwise).
	 *
	 * @method
	 * @memberof Popper.Utils
	 * @argument {String} placement - A valid placement (it accepts variations)
	 * @argument {Boolean} counter - Set to true to walk the placements counterclockwise
	 * @returns {Array} placements including their variations
	 */
	function clockwise(placement) {
	  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

	  var index = validPlacements.indexOf(placement);
	  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));
	  return counter ? arr.reverse() : arr;
	}

	var BEHAVIORS = {
	  FLIP: 'flip',
	  CLOCKWISE: 'clockwise',
	  COUNTERCLOCKWISE: 'counterclockwise'
	};

	/**
	 * @function
	 * @memberof Modifiers
	 * @argument {Object} data - The data object generated by update method
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {Object} The data object, properly modified
	 */
	function flip(data, options) {
	  // if `inner` modifier is enabled, we can't use the `flip` modifier
	  if (isModifierEnabled(data.instance.modifiers, 'inner')) {
	    return data;
	  }

	  if (data.flipped && data.placement === data.originalPlacement) {
	    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides
	    return data;
	  }

	  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);

	  var placement = data.placement.split('-')[0];
	  var placementOpposite = getOppositePlacement(placement);
	  var variation = data.placement.split('-')[1] || '';

	  var flipOrder = [];

	  switch (options.behavior) {
	    case BEHAVIORS.FLIP:
	      flipOrder = [placement, placementOpposite];
	      break;
	    case BEHAVIORS.CLOCKWISE:
	      flipOrder = clockwise(placement);
	      break;
	    case BEHAVIORS.COUNTERCLOCKWISE:
	      flipOrder = clockwise(placement, true);
	      break;
	    default:
	      flipOrder = options.behavior;
	  }

	  flipOrder.forEach(function (step, index) {
	    if (placement !== step || flipOrder.length === index + 1) {
	      return data;
	    }

	    placement = data.placement.split('-')[0];
	    placementOpposite = getOppositePlacement(placement);

	    var popperOffsets = data.offsets.popper;
	    var refOffsets = data.offsets.reference;

	    // using floor because the reference offsets may contain decimals we are not going to consider here
	    var floor = Math.floor;
	    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);

	    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);
	    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);
	    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);
	    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);

	    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;

	    // flip the variation if required
	    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;
	    var flippedVariation = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);

	    if (overlapsRef || overflowsBoundaries || flippedVariation) {
	      // this boolean to detect any flip loop
	      data.flipped = true;

	      if (overlapsRef || overflowsBoundaries) {
	        placement = flipOrder[index + 1];
	      }

	      if (flippedVariation) {
	        variation = getOppositeVariation(variation);
	      }

	      data.placement = placement + (variation ? '-' + variation : '');

	      // this object contains `position`, we want to preserve it along with
	      // any additional property we may add in the future
	      data.offsets.popper = _extends$1({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));

	      data = runModifiers(data.instance.modifiers, data, 'flip');
	    }
	  });
	  return data;
	}

	/**
	 * @function
	 * @memberof Modifiers
	 * @argument {Object} data - The data object generated by update method
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {Object} The data object, properly modified
	 */
	function keepTogether(data) {
	  var _data$offsets = data.offsets,
	      popper = _data$offsets.popper,
	      reference = _data$offsets.reference;

	  var placement = data.placement.split('-')[0];
	  var floor = Math.floor;
	  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;
	  var side = isVertical ? 'right' : 'bottom';
	  var opSide = isVertical ? 'left' : 'top';
	  var measurement = isVertical ? 'width' : 'height';

	  if (popper[side] < floor(reference[opSide])) {
	    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];
	  }
	  if (popper[opSide] > floor(reference[side])) {
	    data.offsets.popper[opSide] = floor(reference[side]);
	  }

	  return data;
	}

	/**
	 * Converts a string containing value + unit into a px value number
	 * @function
	 * @memberof {modifiers~offset}
	 * @private
	 * @argument {String} str - Value + unit string
	 * @argument {String} measurement - `height` or `width`
	 * @argument {Object} popperOffsets
	 * @argument {Object} referenceOffsets
	 * @returns {Number|String}
	 * Value in pixels, or original string if no values were extracted
	 */
	function toValue(str, measurement, popperOffsets, referenceOffsets) {
	  // separate value from unit
	  var split = str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);
	  var value = +split[1];
	  var unit = split[2];

	  // If it's not a number it's an operator, I guess
	  if (!value) {
	    return str;
	  }

	  if (unit.indexOf('%') === 0) {
	    var element = void 0;
	    switch (unit) {
	      case '%p':
	        element = popperOffsets;
	        break;
	      case '%':
	      case '%r':
	      default:
	        element = referenceOffsets;
	    }

	    var rect = getClientRect(element);
	    return rect[measurement] / 100 * value;
	  } else if (unit === 'vh' || unit === 'vw') {
	    // if is a vh or vw, we calculate the size based on the viewport
	    var size = void 0;
	    if (unit === 'vh') {
	      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
	    } else {
	      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
	    }
	    return size / 100 * value;
	  } else {
	    // if is an explicit pixel unit, we get rid of the unit and keep the value
	    // if is an implicit unit, it's px, and we return just the value
	    return value;
	  }
	}

	/**
	 * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.
	 * @function
	 * @memberof {modifiers~offset}
	 * @private
	 * @argument {String} offset
	 * @argument {Object} popperOffsets
	 * @argument {Object} referenceOffsets
	 * @argument {String} basePlacement
	 * @returns {Array} a two cells array with x and y offsets in numbers
	 */
	function parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {
	  var offsets = [0, 0];

	  // Use height if placement is left or right and index is 0 otherwise use width
	  // in this way the first offset will use an axis and the second one
	  // will use the other one
	  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;

	  // Split the offset string to obtain a list of values and operands
	  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)
	  var fragments = offset.split(/(\+|\-)/).map(function (frag) {
	    return frag.trim();
	  });

	  // Detect if the offset string contains a pair of values or a single one
	  // they could be separated by comma or space
	  var divider = fragments.indexOf(find(fragments, function (frag) {
	    return frag.search(/,|\s/) !== -1;
	  }));

	  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {
	    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');
	  }

	  // If divider is found, we divide the list of values and operands to divide
	  // them by ofset X and Y.
	  var splitRegex = /\s*,\s*|\s+/;
	  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];

	  // Convert the values with units to absolute pixels to allow our computations
	  ops = ops.map(function (op, index) {
	    // Most of the units rely on the orientation of the popper
	    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';
	    var mergeWithPrevious = false;
	    return op
	    // This aggregates any `+` or `-` sign that aren't considered operators
	    // e.g.: 10 + +5 => [10, +, +5]
	    .reduce(function (a, b) {
	      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {
	        a[a.length - 1] = b;
	        mergeWithPrevious = true;
	        return a;
	      } else if (mergeWithPrevious) {
	        a[a.length - 1] += b;
	        mergeWithPrevious = false;
	        return a;
	      } else {
	        return a.concat(b);
	      }
	    }, [])
	    // Here we convert the string values into number values (in px)
	    .map(function (str) {
	      return toValue(str, measurement, popperOffsets, referenceOffsets);
	    });
	  });

	  // Loop trough the offsets arrays and execute the operations
	  ops.forEach(function (op, index) {
	    op.forEach(function (frag, index2) {
	      if (isNumeric(frag)) {
	        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);
	      }
	    });
	  });
	  return offsets;
	}

	/**
	 * @function
	 * @memberof Modifiers
	 * @argument {Object} data - The data object generated by update method
	 * @argument {Object} options - Modifiers configuration and options
	 * @argument {Number|String} options.offset=0
	 * The offset value as described in the modifier description
	 * @returns {Object} The data object, properly modified
	 */
	function offset(data, _ref) {
	  var offset = _ref.offset;
	  var placement = data.placement,
	      _data$offsets = data.offsets,
	      popper = _data$offsets.popper,
	      reference = _data$offsets.reference;

	  var basePlacement = placement.split('-')[0];

	  var offsets = void 0;
	  if (isNumeric(+offset)) {
	    offsets = [+offset, 0];
	  } else {
	    offsets = parseOffset(offset, popper, reference, basePlacement);
	  }

	  if (basePlacement === 'left') {
	    popper.top += offsets[0];
	    popper.left -= offsets[1];
	  } else if (basePlacement === 'right') {
	    popper.top += offsets[0];
	    popper.left += offsets[1];
	  } else if (basePlacement === 'top') {
	    popper.left += offsets[0];
	    popper.top -= offsets[1];
	  } else if (basePlacement === 'bottom') {
	    popper.left += offsets[0];
	    popper.top += offsets[1];
	  }

	  data.popper = popper;
	  return data;
	}

	/**
	 * @function
	 * @memberof Modifiers
	 * @argument {Object} data - The data object generated by `update` method
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {Object} The data object, properly modified
	 */
	function preventOverflow(data, options) {
	  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);

	  // If offsetParent is the reference element, we really want to
	  // go one step up and use the next offsetParent as reference to
	  // avoid to make this modifier completely useless and look like broken
	  if (data.instance.reference === boundariesElement) {
	    boundariesElement = getOffsetParent(boundariesElement);
	  }

	  // NOTE: DOM access here
	  // resets the popper's position so that the document size can be calculated excluding
	  // the size of the popper element itself
	  var transformProp = getSupportedPropertyName('transform');
	  var popperStyles = data.instance.popper.style; // assignment to help minification
	  var top = popperStyles.top,
	      left = popperStyles.left,
	      transform = popperStyles[transformProp];

	  popperStyles.top = '';
	  popperStyles.left = '';
	  popperStyles[transformProp] = '';

	  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);

	  // NOTE: DOM access here
	  // restores the original style properties after the offsets have been computed
	  popperStyles.top = top;
	  popperStyles.left = left;
	  popperStyles[transformProp] = transform;

	  options.boundaries = boundaries;

	  var order = options.priority;
	  var popper = data.offsets.popper;

	  var check = {
	    primary: function primary(placement) {
	      var value = popper[placement];
	      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {
	        value = Math.max(popper[placement], boundaries[placement]);
	      }
	      return defineProperty$1({}, placement, value);
	    },
	    secondary: function secondary(placement) {
	      var mainSide = placement === 'right' ? 'left' : 'top';
	      var value = popper[mainSide];
	      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {
	        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));
	      }
	      return defineProperty$1({}, mainSide, value);
	    }
	  };

	  order.forEach(function (placement) {
	    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';
	    popper = _extends$1({}, popper, check[side](placement));
	  });

	  data.offsets.popper = popper;

	  return data;
	}

	/**
	 * @function
	 * @memberof Modifiers
	 * @argument {Object} data - The data object generated by `update` method
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {Object} The data object, properly modified
	 */
	function shift(data) {
	  var placement = data.placement;
	  var basePlacement = placement.split('-')[0];
	  var shiftvariation = placement.split('-')[1];

	  // if shift shiftvariation is specified, run the modifier
	  if (shiftvariation) {
	    var _data$offsets = data.offsets,
	        reference = _data$offsets.reference,
	        popper = _data$offsets.popper;

	    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;
	    var side = isVertical ? 'left' : 'top';
	    var measurement = isVertical ? 'width' : 'height';

	    var shiftOffsets = {
	      start: defineProperty$1({}, side, reference[side]),
	      end: defineProperty$1({}, side, reference[side] + reference[measurement] - popper[measurement])
	    };

	    data.offsets.popper = _extends$1({}, popper, shiftOffsets[shiftvariation]);
	  }

	  return data;
	}

	/**
	 * @function
	 * @memberof Modifiers
	 * @argument {Object} data - The data object generated by update method
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {Object} The data object, properly modified
	 */
	function hide(data) {
	  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {
	    return data;
	  }

	  var refRect = data.offsets.reference;
	  var bound = find(data.instance.modifiers, function (modifier) {
	    return modifier.name === 'preventOverflow';
	  }).boundaries;

	  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {
	    // Avoid unnecessary DOM access if visibility hasn't changed
	    if (data.hide === true) {
	      return data;
	    }

	    data.hide = true;
	    data.attributes['x-out-of-boundaries'] = '';
	  } else {
	    // Avoid unnecessary DOM access if visibility hasn't changed
	    if (data.hide === false) {
	      return data;
	    }

	    data.hide = false;
	    data.attributes['x-out-of-boundaries'] = false;
	  }

	  return data;
	}

	/**
	 * @function
	 * @memberof Modifiers
	 * @argument {Object} data - The data object generated by `update` method
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {Object} The data object, properly modified
	 */
	function inner(data) {
	  var placement = data.placement;
	  var basePlacement = placement.split('-')[0];
	  var _data$offsets = data.offsets,
	      popper = _data$offsets.popper,
	      reference = _data$offsets.reference;

	  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;

	  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;

	  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);

	  data.placement = getOppositePlacement(placement);
	  data.offsets.popper = getClientRect(popper);

	  return data;
	}

	/**
	 * Modifier function, each modifier can have a function of this type assigned
	 * to its `fn` property.<br />
	 * These functions will be called on each update, this means that you must
	 * make sure they are performant enough to avoid performance bottlenecks.
	 *
	 * @function ModifierFn
	 * @argument {dataObject} data - The data object generated by `update` method
	 * @argument {Object} options - Modifiers configuration and options
	 * @returns {dataObject} The data object, properly modified
	 */

	/**
	 * Modifiers are plugins used to alter the behavior of your poppers.<br />
	 * Popper.js uses a set of 9 modifiers to provide all the basic functionalities
	 * needed by the library.
	 *
	 * Usually you don't want to override the `order`, `fn` and `onLoad` props.
	 * All the other properties are configurations that could be tweaked.
	 * @namespace modifiers
	 */
	var modifiers = {
	  /**
	   * Modifier used to shift the popper on the start or end of its reference
	   * element.<br />
	   * It will read the variation of the `placement` property.<br />
	   * It can be one either `-end` or `-start`.
	   * @memberof modifiers
	   * @inner
	   */
	  shift: {
	    /** @prop {number} order=100 - Index used to define the order of execution */
	    order: 100,
	    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
	    enabled: true,
	    /** @prop {ModifierFn} */
	    fn: shift
	  },

	  /**
	   * The `offset` modifier can shift your popper on both its axis.
	   *
	   * It accepts the following units:
	   * - `px` or unitless, interpreted as pixels
	   * - `%` or `%r`, percentage relative to the length of the reference element
	   * - `%p`, percentage relative to the length of the popper element
	   * - `vw`, CSS viewport width unit
	   * - `vh`, CSS viewport height unit
	   *
	   * For length is intended the main axis relative to the placement of the popper.<br />
	   * This means that if the placement is `top` or `bottom`, the length will be the
	   * `width`. In case of `left` or `right`, it will be the height.
	   *
	   * You can provide a single value (as `Number` or `String`), or a pair of values
	   * as `String` divided by a comma or one (or more) white spaces.<br />
	   * The latter is a deprecated method because it leads to confusion and will be
	   * removed in v2.<br />
	   * Additionally, it accepts additions and subtractions between different units.
	   * Note that multiplications and divisions aren't supported.
	   *
	   * Valid examples are:
	   * ```
	   * 10
	   * '10%'
	   * '10, 10'
	   * '10%, 10'
	   * '10 + 10%'
	   * '10 - 5vh + 3%'
	   * '-10px + 5vh, 5px - 6%'
	   * ```
	   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap
	   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.
	   * > More on this [reading this issue](https://github.com/FezVrasta/popper.js/issues/373)
	   *
	   * @memberof modifiers
	   * @inner
	   */
	  offset: {
	    /** @prop {number} order=200 - Index used to define the order of execution */
	    order: 200,
	    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
	    enabled: true,
	    /** @prop {ModifierFn} */
	    fn: offset,
	    /** @prop {Number|String} offset=0
	     * The offset value as described in the modifier description
	     */
	    offset: 0
	  },

	  /**
	   * Modifier used to prevent the popper from being positioned outside the boundary.
	   *
	   * An scenario exists where the reference itself is not within the boundaries.<br />
	   * We can say it has "escaped the boundaries"  or just "escaped".<br />
	   * In this case we need to decide whether the popper should either:
	   *
	   * - detach from the reference and remain "trapped" in the boundaries, or
	   * - if it should ignore the boundary and "escape with its reference"
	   *
	   * When `escapeWithReference` is set to`true` and reference is completely
	   * outside its boundaries, the popper will overflow (or completely leave)
	   * the boundaries in order to remain attached to the edge of the reference.
	   *
	   * @memberof modifiers
	   * @inner
	   */
	  preventOverflow: {
	    /** @prop {number} order=300 - Index used to define the order of execution */
	    order: 300,
	    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
	    enabled: true,
	    /** @prop {ModifierFn} */
	    fn: preventOverflow,
	    /**
	     * @prop {Array} [priority=['left','right','top','bottom']]
	     * Popper will try to prevent overflow following these priorities by default,
	     * then, it could overflow on the left and on top of the `boundariesElement`
	     */
	    priority: ['left', 'right', 'top', 'bottom'],
	    /**
	     * @prop {number} padding=5
	     * Amount of pixel used to define a minimum distance between the boundaries
	     * and the popper this makes sure the popper has always a little padding
	     * between the edges of its container
	     */
	    padding: 5,
	    /**
	     * @prop {String|HTMLElement} boundariesElement='scrollParent'
	     * Boundaries used by the modifier, can be `scrollParent`, `window`,
	     * `viewport` or any DOM element.
	     */
	    boundariesElement: 'scrollParent'
	  },

	  /**
	   * Modifier used to make sure the reference and its popper stay near eachothers
	   * without leaving any gap between the two. Expecially useful when the arrow is
	   * enabled and you want to assure it to point to its reference element.
	   * It cares only about the first axis, you can still have poppers with margin
	   * between the popper and its reference element.
	   * @memberof modifiers
	   * @inner
	   */
	  keepTogether: {
	    /** @prop {number} order=400 - Index used to define the order of execution */
	    order: 400,
	    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
	    enabled: true,
	    /** @prop {ModifierFn} */
	    fn: keepTogether
	  },

	  /**
	   * This modifier is used to move the `arrowElement` of the popper to make
	   * sure it is positioned between the reference element and its popper element.
	   * It will read the outer size of the `arrowElement` node to detect how many
	   * pixels of conjuction are needed.
	   *
	   * It has no effect if no `arrowElement` is provided.
	   * @memberof modifiers
	   * @inner
	   */
	  arrow: {
	    /** @prop {number} order=500 - Index used to define the order of execution */
	    order: 500,
	    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
	    enabled: true,
	    /** @prop {ModifierFn} */
	    fn: arrow,
	    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */
	    element: '[x-arrow]'
	  },

	  /**
	   * Modifier used to flip the popper's placement when it starts to overlap its
	   * reference element.
	   *
	   * Requires the `preventOverflow` modifier before it in order to work.
	   *
	   * **NOTE:** this modifier will interrupt the current update cycle and will
	   * restart it if it detects the need to flip the placement.
	   * @memberof modifiers
	   * @inner
	   */
	  flip: {
	    /** @prop {number} order=600 - Index used to define the order of execution */
	    order: 600,
	    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
	    enabled: true,
	    /** @prop {ModifierFn} */
	    fn: flip,
	    /**
	     * @prop {String|Array} behavior='flip'
	     * The behavior used to change the popper's placement. It can be one of
	     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid
	     * placements (with optional variations).
	     */
	    behavior: 'flip',
	    /**
	     * @prop {number} padding=5
	     * The popper will flip if it hits the edges of the `boundariesElement`
	     */
	    padding: 5,
	    /**
	     * @prop {String|HTMLElement} boundariesElement='viewport'
	     * The element which will define the boundaries of the popper position,
	     * the popper will never be placed outside of the defined boundaries
	     * (except if keepTogether is enabled)
	     */
	    boundariesElement: 'viewport'
	  },

	  /**
	   * Modifier used to make the popper flow toward the inner of the reference element.
	   * By default, when this modifier is disabled, the popper will be placed outside
	   * the reference element.
	   * @memberof modifiers
	   * @inner
	   */
	  inner: {
	    /** @prop {number} order=700 - Index used to define the order of execution */
	    order: 700,
	    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */
	    enabled: false,
	    /** @prop {ModifierFn} */
	    fn: inner
	  },

	  /**
	   * Modifier used to hide the popper when its reference element is outside of the
	   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can
	   * be used to hide with a CSS selector the popper when its reference is
	   * out of boundaries.
	   *
	   * Requires the `preventOverflow` modifier before it in order to work.
	   * @memberof modifiers
	   * @inner
	   */
	  hide: {
	    /** @prop {number} order=800 - Index used to define the order of execution */
	    order: 800,
	    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
	    enabled: true,
	    /** @prop {ModifierFn} */
	    fn: hide
	  },

	  /**
	   * Computes the style that will be applied to the popper element to gets
	   * properly positioned.
	   *
	   * Note that this modifier will not touch the DOM, it just prepares the styles
	   * so that `applyStyle` modifier can apply it. This separation is useful
	   * in case you need to replace `applyStyle` with a custom implementation.
	   *
	   * This modifier has `850` as `order` value to maintain backward compatibility
	   * with previous versions of Popper.js. Expect the modifiers ordering method
	   * to change in future major versions of the library.
	   *
	   * @memberof modifiers
	   * @inner
	   */
	  computeStyle: {
	    /** @prop {number} order=850 - Index used to define the order of execution */
	    order: 850,
	    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
	    enabled: true,
	    /** @prop {ModifierFn} */
	    fn: computeStyle,
	    /**
	     * @prop {Boolean} gpuAcceleration=true
	     * If true, it uses the CSS 3d transformation to position the popper.
	     * Otherwise, it will use the `top` and `left` properties.
	     */
	    gpuAcceleration: true,
	    /**
	     * @prop {string} [x='bottom']
	     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.
	     * Change this if your popper should grow in a direction different from `bottom`
	     */
	    x: 'bottom',
	    /**
	     * @prop {string} [x='left']
	     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.
	     * Change this if your popper should grow in a direction different from `right`
	     */
	    y: 'right'
	  },

	  /**
	   * Applies the computed styles to the popper element.
	   *
	   * All the DOM manipulations are limited to this modifier. This is useful in case
	   * you want to integrate Popper.js inside a framework or view library and you
	   * want to delegate all the DOM manipulations to it.
	   *
	   * Note that if you disable this modifier, you must make sure the popper element
	   * has its position set to `absolute` before Popper.js can do its work!
	   *
	   * Just disable this modifier and define you own to achieve the desired effect.
	   *
	   * @memberof modifiers
	   * @inner
	   */
	  applyStyle: {
	    /** @prop {number} order=900 - Index used to define the order of execution */
	    order: 900,
	    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */
	    enabled: true,
	    /** @prop {ModifierFn} */
	    fn: applyStyle,
	    /** @prop {Function} */
	    onLoad: applyStyleOnLoad,
	    /**
	     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier
	     * @prop {Boolean} gpuAcceleration=true
	     * If true, it uses the CSS 3d transformation to position the popper.
	     * Otherwise, it will use the `top` and `left` properties.
	     */
	    gpuAcceleration: undefined
	  }
	};

	/**
	 * The `dataObject` is an object containing all the informations used by Popper.js
	 * this object get passed to modifiers and to the `onCreate` and `onUpdate` callbacks.
	 * @name dataObject
	 * @property {Object} data.instance The Popper.js instance
	 * @property {String} data.placement Placement applied to popper
	 * @property {String} data.originalPlacement Placement originally defined on init
	 * @property {Boolean} data.flipped True if popper has been flipped by flip modifier
	 * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper.
	 * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier
	 * @property {Object} data.styles Any CSS property defined here will be applied to the popper, it expects the JavaScript nomenclature (eg. `marginBottom`)
	 * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow, it expects the JavaScript nomenclature (eg. `marginBottom`)
	 * @property {Object} data.boundaries Offsets of the popper boundaries
	 * @property {Object} data.offsets The measurements of popper, reference and arrow elements.
	 * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values
	 * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values
	 * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0
	 */

	/**
	 * Default options provided to Popper.js constructor.<br />
	 * These can be overriden using the `options` argument of Popper.js.<br />
	 * To override an option, simply pass as 3rd argument an object with the same
	 * structure of this object, example:
	 * ```
	 * new Popper(ref, pop, {
	 *   modifiers: {
	 *     preventOverflow: { enabled: false }
	 *   }
	 * })
	 * ```
	 * @type {Object}
	 * @static
	 * @memberof Popper
	 */
	var Defaults = {
	  /**
	   * Popper's placement
	   * @prop {Popper.placements} placement='bottom'
	   */
	  placement: 'bottom',

	  /**
	   * Set this to true if you want popper to position it self in 'fixed' mode
	   * @prop {Boolean} positionFixed=false
	   */
	  positionFixed: false,

	  /**
	   * Whether events (resize, scroll) are initially enabled
	   * @prop {Boolean} eventsEnabled=true
	   */
	  eventsEnabled: true,

	  /**
	   * Set to true if you want to automatically remove the popper when
	   * you call the `destroy` method.
	   * @prop {Boolean} removeOnDestroy=false
	   */
	  removeOnDestroy: false,

	  /**
	   * Callback called when the popper is created.<br />
	   * By default, is set to no-op.<br />
	   * Access Popper.js instance with `data.instance`.
	   * @prop {onCreate}
	   */
	  onCreate: function onCreate() {},

	  /**
	   * Callback called when the popper is updated, this callback is not called
	   * on the initialization/creation of the popper, but only on subsequent
	   * updates.<br />
	   * By default, is set to no-op.<br />
	   * Access Popper.js instance with `data.instance`.
	   * @prop {onUpdate}
	   */
	  onUpdate: function onUpdate() {},

	  /**
	   * List of modifiers used to modify the offsets before they are applied to the popper.
	   * They provide most of the functionalities of Popper.js
	   * @prop {modifiers}
	   */
	  modifiers: modifiers
	};

	/**
	 * @callback onCreate
	 * @param {dataObject} data
	 */

	/**
	 * @callback onUpdate
	 * @param {dataObject} data
	 */

	// Utils
	// Methods
	var Popper = function () {
	  /**
	   * Create a new Popper.js instance
	   * @class Popper
	   * @param {HTMLElement|referenceObject} reference - The reference element used to position the popper
	   * @param {HTMLElement} popper - The HTML element used as popper.
	   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)
	   * @return {Object} instance - The generated Popper.js instance
	   */
	  function Popper(reference, popper) {
	    var _this = this;

	    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
	    classCallCheck$1(this, Popper);

	    this.scheduleUpdate = function () {
	      return requestAnimationFrame(_this.update);
	    };

	    // make update() debounced, so that it only runs at most once-per-tick
	    this.update = debounce(this.update.bind(this));

	    // with {} we create a new object with the options inside it
	    this.options = _extends$1({}, Popper.Defaults, options);

	    // init state
	    this.state = {
	      isDestroyed: false,
	      isCreated: false,
	      scrollParents: []
	    };

	    // get reference and popper elements (allow jQuery wrappers)
	    this.reference = reference && reference.jquery ? reference[0] : reference;
	    this.popper = popper && popper.jquery ? popper[0] : popper;

	    // Deep merge modifiers options
	    this.options.modifiers = {};
	    Object.keys(_extends$1({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {
	      _this.options.modifiers[name] = _extends$1({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});
	    });

	    // Refactoring modifiers' list (Object => Array)
	    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {
	      return _extends$1({
	        name: name
	      }, _this.options.modifiers[name]);
	    })
	    // sort the modifiers by order
	    .sort(function (a, b) {
	      return a.order - b.order;
	    });

	    // modifiers have the ability to execute arbitrary code when Popper.js get inited
	    // such code is executed in the same order of its modifier
	    // they could add new properties to their options configuration
	    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!
	    this.modifiers.forEach(function (modifierOptions) {
	      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {
	        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);
	      }
	    });

	    // fire the first update to position the popper in the right place
	    this.update();

	    var eventsEnabled = this.options.eventsEnabled;
	    if (eventsEnabled) {
	      // setup event listeners, they will take care of update the position in specific situations
	      this.enableEventListeners();
	    }

	    this.state.eventsEnabled = eventsEnabled;
	  }

	  // We can't use class properties because they don't get listed in the
	  // class prototype and break stuff like Sinon stubs


	  createClass$1(Popper, [{
	    key: 'update',
	    value: function update$$1() {
	      return update.call(this);
	    }
	  }, {
	    key: 'destroy',
	    value: function destroy$$1() {
	      return destroy.call(this);
	    }
	  }, {
	    key: 'enableEventListeners',
	    value: function enableEventListeners$$1() {
	      return enableEventListeners.call(this);
	    }
	  }, {
	    key: 'disableEventListeners',
	    value: function disableEventListeners$$1() {
	      return disableEventListeners.call(this);
	    }

	    /**
	     * Schedule an update, it will run on the next UI update available
	     * @method scheduleUpdate
	     * @memberof Popper
	     */

	    /**
	     * Collection of utilities useful when writing custom modifiers.
	     * Starting from version 1.7, this method is available only if you
	     * include `popper-utils.js` before `popper.js`.
	     *
	     * **DEPRECATION**: This way to access PopperUtils is deprecated
	     * and will be removed in v2! Use the PopperUtils module directly instead.
	     * Due to the high instability of the methods contained in Utils, we can't
	     * guarantee them to follow semver. Use them at your own risk!
	     * @static
	     * @private
	     * @type {Object}
	     * @deprecated since version 1.8
	     * @member Utils
	     * @memberof Popper
	     */

	  }]);
	  return Popper;
	}();

	/**
	 * The `referenceObject` is an object that provides an interface compatible with Popper.js
	 * and lets you use it as replacement of a real DOM node.<br />
	 * You can use this method to position a popper relatively to a set of coordinates
	 * in case you don't have a DOM node to use as reference.
	 *
	 * ```
	 * new Popper(referenceObject, popperNode);
	 * ```
	 *
	 * NB: This feature isn't supported in Internet Explorer 10
	 * @name referenceObject
	 * @property {Function} data.getBoundingClientRect
	 * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.
	 * @property {number} data.clientWidth
	 * An ES6 getter that will return the width of the virtual reference element.
	 * @property {number} data.clientHeight
	 * An ES6 getter that will return the height of the virtual reference element.
	 */

	Popper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;
	Popper.placements = placements;
	Popper.Defaults = Defaults;

	var isBrowser$1 = typeof document_1 !== 'undefined' && Boolean(document_1.createElement);

	/**
	 * For aria and other attributes like htmlFor, we often need
	 * to attach identifiers to elements. Making `id` a required
	 * prop in our components shifts this burden to our customers
	 * but it's nice to try to automatically provide these unique
	 * ids when possible.
	 *
	 * Generating unique IDs that match across server/client renders
	 * is a hard probablem that doesn't have any perfect solutions
	 * currently [1] [2]. UUIDs/Math.random will never match, whereas
	 * auto-incrementing IDs may work if server and client render
	 * exactly the same DOM, so that's what we'll use here. If this
	 * is insufficient for users they can apply ids manually.
	 *
	 * One other technique that we can use internally is to do a
	 * setState in componentDidMount or something similar, so that
	 * these ids are only used client-side, but this could of course
	 * have perf implications.
	 *
	 * [1] https://github.com/facebook/react/issues/5867
	 * [2] https://github.com/reactjs/rfcs/pull/32/files
	 */
	var id$1 = 0;

	function getBuiId() {
	  return "bui-" + ++id$1;
	}

	/* eslint-disable import/prefer-default-export */


	var OPPOSITE_POSITIONS = {
	  top: 'bottom',
	  bottom: 'top',
	  right: 'left',
	  left: 'right'
	};

	/**
	 * Returns the opposite of the specified position. Useful for tooltip
	 * positioning logic.
	 * Examples:
	 * top -> bottom
	 * left -> right
	 */
	function getOppositePosition(position) {
	  return OPPOSITE_POSITIONS[position];
	}

	/**
	 * Simple utility function for capitalizing the first letter of a string
	 */
	function capitalize(str) {
	  return str.charAt(0).toUpperCase() + str.slice(1);
	}

	/**
	 * Converts our placement prop to a Popper.js placement
	 * See docs: https://popper.js.org/popper-documentation.html
	 * auto, top, right, bottom, left are the same but things
	 * like 'rightTop' must be converted to 'right-start'
	 */
	function toPopperPlacement(placement) {
	  return placement.replace(/(Top|Left)$/, '-start').replace(/(Right|Bottom)$/, '-end');
	}

	/**
	 * Opposite of function above, converts from Popper.js placement
	 * to our placement prop
	 */
	function fromPopperPlacement(placement) {
	  var popoverPlacement = placement.replace(/(top|bottom)-start$/, '$1Left').replace(/(top|bottom)-end$/, '$1Right').replace(/(left|right)-start$/, '$1Top').replace(/(left|right)-end$/, '$1Bottom');
	  return PLACEMENT[popoverPlacement] || null;
	}

	/**
	 * Splits something like 'topLeft' to ['top', 'left'] for easier usage
	 */
	function splitPlacement(placement) {
	  var matches = placement.match(/^([a-z]+)([A-Z][a-z]+)?/) || [];
	  return matches.slice(1, 3).filter(Boolean).map(function (s) {
	    return s.toLowerCase();
	  });
	}

	/**
	 * Popper returns css style objects (for popover & arrow) with positioning
	 * information, but top/left don't have units. This helper function
	 * creates a new style object with units.
	 */
	function preparePopoverPositionStyles() {
	  var styles = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	  var left = styles.left,
	      top = styles.top,
	      restStyles = objectWithoutProperties(styles, ['left', 'top']);

	  return _extends({}, restStyles, {
	    // Convert top/left from number to string with unit
	    top: (styles.top || 0) + 'px',
	    left: (styles.left || 0) + 'px'
	  });
	}

	/**
	 * Returns the CSS rules necessary to position the arrow next to its anchor
	 * Popper.js provides us with a rule to align to the center of the anchor,
	 * but does not supply a rule to place the arrow on a specific side of the
	 * popover, so we add that ourselves based on the placement.
	 */
	function prepareArrowPositionStyles(popperArrowStyles, placement) {
	  if (!popperArrowStyles || !placement) {
	    return { left: '0px', top: '0px' };
	  }
	  var styles = {};

	  var _splitPlacement = splitPlacement(placement),
	      _splitPlacement2 = slicedToArray(_splitPlacement, 1),
	      position = _splitPlacement2[0];

	  // Use Popper's rule that aligns to center of anchor


	  if (position === 'top' || position === 'bottom') {
	    styles.left = (popperArrowStyles.left || 0) + 'px';
	  } else {
	    styles.top = (popperArrowStyles.top || 0) + 'px';
	  }

	  // And supply our own rule to show arrow on a specific side
	  styles[getOppositePosition(position)] = -(ARROW_SIZE - 1) + 'px';

	  return styles;
	}

	/**
	 * Converts popover placement to transform origin for animation
	 *
	 * When an arrow is being used, we want the transform origin to
	 * be the point of the arrow.
	 */
	function getTransformOrigin(placement) {
	  var arrowStyles = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

	  var _splitPlacement3 = splitPlacement(placement),
	      _splitPlacement4 = slicedToArray(_splitPlacement3, 2),
	      position = _splitPlacement4[0],
	      _splitPlacement4$ = _splitPlacement4[1],
	      alignment = _splitPlacement4$ === undefined ? 'center' : _splitPlacement4$;

	  var xOffset = void 0;
	  var yOffset = void 0;
	  if (position === 'top' || position === 'bottom') {
	    xOffset = arrowStyles.left || alignment;
	    yOffset = getOppositePosition(position);
	  } else {
	    xOffset = getOppositePosition(position);
	    yOffset = arrowStyles.top || alignment;
	  }
	  return xOffset + ' ' + yOffset;
	}

	/**
	 * Returns margin styles to add spacing between the popover
	 * and its anchor.
	 *
	 * We may eventually want to make margin a prop that can be overridden.
	 */
	function getPopoverMarginStyles(showArrow, placement) {
	  var _splitPlacement5 = splitPlacement(placement),
	      _splitPlacement6 = slicedToArray(_splitPlacement5, 1),
	      position = _splitPlacement6[0];

	  var opposite = getOppositePosition(position);
	  if (!opposite) {
	    return null;
	  }
	  var property = 'margin' + capitalize(opposite);
	  return defineProperty({}, property, (showArrow ? ARROW_SIZE : POPOVER_MARGIN) + 'px');
	}

	/**
	 * Since we use a 45-degree rotated div to render the arrow, the
	 * width/height of this div is different than the arrow size itself
	 *
	 * The arrow size is essentially half the diagonal of the rotated div,
	 * using pythagorean theorem:
	 *   width^2 + height^2 = (arrow_size * 2)^2
	 * In this case width = height so:
	 *   2 * width^2 = (arrow_size * 2)^2
	 * Simplifies to:
	 *   width = ((arrow_size * 2)^2 / 2)
	 */
	var ARROW_WIDTH = Math.floor(Math.sqrt(Math.pow(ARROW_SIZE * 2, 2) / 2));

	var ANIMATION_START_KEYFRAME = {
	  opacity: 0,
	  transform: 'scale(0.8)'
	};

	var ANIMATION_END_KEYFRAME = {
	  opacity: 1,
	  transform: 'scale(1)'
	};

	/**
	 * Main popover container element that gets positioned next to the anchor
	 */
	var Body = styled('div', function (props) {
	  var $isOpen = props.$isOpen,
	      $isAnimating = props.$isAnimating,
	      $placement = props.$placement,
	      $arrowStyles = props.$arrowStyles,
	      $positionStyles = props.$positionStyles,
	      $showArrow = props.$showArrow,
	      $theme = props.$theme;


	  return _extends({
	    position: 'absolute',
	    zIndex: 1050,
	    backgroundColor: $theme.colors.background,
	    borderRadius: $theme.borders.useRoundedCorners ? $theme.borders.radius300 : '0px',
	    boxShadow: $theme.lighting.shadow600,

	    // Animation-related styles
	    transformOrigin: getTransformOrigin($placement, $showArrow ? $arrowStyles : undefined),
	    animationDuration: '0.2s',
	    animationFillMode: 'both',
	    animationPlayState: $isAnimating ? 'running' : 'paused',
	    animationTimingFunction: 'cubic-bezier(0.08, 0.82, 0.17, 1)',
	    animationName: {
	      from: $isOpen ? ANIMATION_START_KEYFRAME : ANIMATION_END_KEYFRAME,
	      to: $isOpen ? ANIMATION_END_KEYFRAME : ANIMATION_START_KEYFRAME
	    }

	  }, getPopoverMarginStyles($showArrow, $placement), $positionStyles);
	});

	/**
	 * Arrow shown between the popover and the anchor element
	 */
	var Arrow = styled('div', function (props) {
	  return _extends({
	    backgroundColor: props.$theme.colors.background,
	    boxShadow: props.$theme.lighting.shadow600,
	    width: ARROW_WIDTH + 'px',
	    height: ARROW_WIDTH + 'px',
	    transform: 'rotate(45deg)',
	    position: 'absolute',
	    zIndex: 1 }, props.$arrowStyles);
	});

	/**
	 * Extra div that holds the popover content. This extra element
	 * is needed for the arrowthe arrow is just a 45deg rotated div,
	 * and rendering this extra element on top with a solid background
	 * clips the part of the arrow that extends into the popover.
	 */
	var Inner = styled('div', function (_ref) {
	  var $theme = _ref.$theme;
	  return {
	    backgroundColor: $theme.colors.background,
	    borderRadius: $theme.borders.useRoundedCorners ? $theme.borders.radius300 : '0px',
	    position: 'relative',
	    zIndex: 2 // Above PopoverArrow
	  };
	});

	/**
	 * A drop-in component that provides the recommended padding
	 * for popovers. Mostly a convenience for users so they don't
	 * have to define this themselves.
	 */
	var Padding = styled('div', {
	  padding: '12px'
	});

	var Popover = function (_React$Component) {
	  inherits(Popover, _React$Component);

	  function Popover() {
	    var _ref;

	    var _temp, _this, _ret;

	    classCallCheck(this, Popover);

	    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
	      args[_key] = arguments[_key];
	    }

	    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = Popover.__proto__ || Object.getPrototypeOf(Popover)).call.apply(_ref, [this].concat(args))), _this), _this.generatedId = '', _this.anchorRef = react_8(), _this.popperRef = react_8(), _this.arrowRef = react_8(), _this.state = _this.getDefaultState(_this.props), _this.animateIn = function () {
	      if (_this.props.isOpen) {
	        _this.setState({ isAnimating: true });
	      }
	    }, _this.animateOut = function () {
	      if (!_this.props.isOpen) {
	        _this.setState({ isAnimating: true });
	        // Remove the popover from the DOM after animation finishes
	        _this.animateOutCompleteTimer = setTimeout(function () {
	          _this.setState({ isAnimating: false });
	        }, 500);
	      }
	    }, _this.onAnchorClick = function (e) {
	      if (_this.props.onClick) {
	        _this.props.onClick(e);
	      }
	    }, _this.onAnchorMouseEnter = function () {
	      // First clear any existing close timers, this ensures that the user can
	      // move their mouse from the popover back to anchor without it hiding
	      if (_this.onMouseLeaveTimer) {
	        clearTimeout(_this.onMouseLeaveTimer);
	      }

	      _this.triggerOnMouseEnterWithDelay();
	    }, _this.onAnchorMouseLeave = function () {
	      _this.triggerOnMouseLeaveWithDelay();
	    }, _this.onPopoverMouseEnter = function () {
	      if (_this.onMouseLeaveTimer) {
	        clearTimeout(_this.onMouseLeaveTimer);
	      }
	    }, _this.onPopoverMouseLeave = function () {
	      _this.triggerOnMouseLeaveWithDelay();
	    }, _this.onKeyPress = function (evt) {
	      if (evt.key === 'Escape' && _this.props.onEsc) {
	        _this.props.onEsc();
	      }
	    }, _this.onPopperUpdate = function (data) {
	      var placement = fromPopperPlacement(data.placement) || PLACEMENT.top;
	      _this.setState({
	        arrowStyles: prepareArrowPositionStyles(data.arrowStyles, placement),
	        positionStyles: preparePopoverPositionStyles(data.styles),
	        placement: placement
	      });

	      // Now that element has been positioned, we can animate it in
	      _this.animateInTimer = setTimeout(_this.animateIn, 20);

	      return data;
	    }, _this.triggerOnMouseLeave = function () {
	      if (_this.props.onMouseLeave) {
	        _this.props.onMouseLeave();
	      }
	    }, _this.triggerOnMouseEnter = function () {
	      if (_this.props.onMouseEnter) {
	        _this.props.onMouseEnter();
	      }
	    }, _this.onDocumentClick = function (evt) {
	      var target = evt.target;
	      var popper = _this.popperRef.current;
	      var anchor = _this.anchorRef.current;
	      // Ignore document click if it came from popover or anchor
	      if (!popper || popper === target || popper.contains(target)) {
	        return;
	      }
	      if (!anchor || anchor === target || anchor.contains(target)) {
	        return;
	      }
	      if (_this.props.onClickOutside) {
	        _this.props.onClickOutside();
	      }
	    }, _temp), possibleConstructorReturn(_this, _ret);
	  }

	  /* eslint-disable react/sort-comp */

	  /* eslint-enable react/sort-comp */

	  /**
	   * Yes our "Stateless" popover still has state. This is private state that
	   * customers shouldn't have to manage themselves, such as positioning and
	   * other internal flags for managing animation states.
	   */


	  createClass(Popover, [{
	    key: 'componentDidMount',
	    value: function componentDidMount() {
	      if (this.props.isOpen) {
	        this.initializePopper();
	        this.addDomEvents();
	      }
	      this.generatedId = getBuiId();
	    }
	  }, {
	    key: 'componentDidUpdate',
	    value: function componentDidUpdate(prevProps) {
	      if (this.props.isOpen !== prevProps.isOpen) {
	        if (this.props.isOpen) {
	          // Opening
	          this.initializePopper();
	          this.addDomEvents();
	        } else {
	          // Closing
	          this.destroyPopover();
	          this.removeDomEvents();
	          this.animateOutTimer = setTimeout(this.animateOut, 20);
	        }
	      }
	    }
	  }, {
	    key: 'componentWillUnmount',
	    value: function componentWillUnmount() {
	      this.destroyPopover();
	      this.removeDomEvents();
	      this.clearTimers();
	    }
	  }, {
	    key: 'getDefaultState',
	    value: function getDefaultState(props) {
	      return {
	        isAnimating: false,
	        arrowStyles: { left: '0px', top: '0px' },
	        positionStyles: { left: '0px', top: '0px' },
	        placement: props.placement
	      };
	    }
	  }, {
	    key: 'initializePopper',
	    value: function initializePopper() {
	      var placement = this.state.placement;

	      this.popper = new Popper(this.anchorRef.current, this.popperRef.current, {
	        // Recommended placement (popper may ignore if it causes a viewport overflow, etc)
	        placement: toPopperPlacement(placement),
	        modifiers: {
	          // Passing the arrow ref will measure the arrow when calculating styles
	          arrow: {
	            element: this.arrowRef.current,
	            enabled: this.props.showArrow
	          },
	          computeStyle: {
	            // Make popper use top/left instead of transform translate, this is because
	            // we use transform for animations and we dont want them to conflict
	            gpuAcceleration: false
	          },
	          applyStyle: {
	            // Disable default styling modifier, we'll apply styles on our own
	            enabled: false
	          },
	          applyReactStyle: {
	            enabled: true,
	            fn: this.onPopperUpdate,
	            order: 900
	          }
	        }
	      });
	    }
	  }, {
	    key: 'clearTimers',
	    value: function clearTimers() {
	      [this.animateInTimer, this.animateOutTimer, this.animateOutCompleteTimer, this.onMouseEnterTimer, this.onMouseLeaveTimer].forEach(function (timerId) {
	        if (timerId) {
	          clearTimeout(timerId);
	        }
	      });
	    }
	  }, {
	    key: 'triggerOnMouseLeaveWithDelay',
	    value: function triggerOnMouseLeaveWithDelay() {
	      var onMouseLeaveDelay = this.props.onMouseLeaveDelay;

	      if (onMouseLeaveDelay) {
	        this.onMouseLeaveTimer = setTimeout(this.triggerOnMouseLeave, onMouseLeaveDelay);
	        return;
	      }
	      this.triggerOnMouseLeave();
	    }
	  }, {
	    key: 'triggerOnMouseEnterWithDelay',
	    value: function triggerOnMouseEnterWithDelay() {
	      var onMouseEnterDelay = this.props.onMouseEnterDelay;

	      if (onMouseEnterDelay) {
	        this.onMouseEnterTimer = setTimeout(this.triggerOnMouseEnter, onMouseEnterDelay);
	        return;
	      }
	      this.triggerOnMouseEnter();
	    }
	  }, {
	    key: 'addDomEvents',
	    value: function addDomEvents() {
	      if (!isBrowser$1) {
	        return;
	      }
	      document_1.addEventListener('mousedown', this.onDocumentClick);
	      document_1.addEventListener('keyup', this.onKeyPress);
	    }
	  }, {
	    key: 'removeDomEvents',
	    value: function removeDomEvents() {
	      if (!isBrowser$1) {
	        return;
	      }
	      document_1.removeEventListener('mousedown', this.onDocumentClick);
	      document_1.removeEventListener('keyup', this.onKeyPress);
	    }
	  }, {
	    key: 'destroyPopover',
	    value: function destroyPopover() {
	      if (this.popper) {
	        this.popper.destroy();
	        delete this.popper;
	      }
	      if (this.isClickTrigger()) {
	        this.removeDomEvents();
	      }
	    }
	  }, {
	    key: 'isClickTrigger',
	    value: function isClickTrigger() {
	      return this.props.triggerType === TRIGGER_TYPE.click;
	    }
	  }, {
	    key: 'isHoverTrigger',
	    value: function isHoverTrigger() {
	      return this.props.triggerType === TRIGGER_TYPE.hover;
	    }
	  }, {
	    key: 'isAccessiblityTypeMenu',
	    value: function isAccessiblityTypeMenu() {
	      return this.props.accessibilityType === ACCESSIBILITY_TYPE.menu;
	    }
	  }, {
	    key: 'isAccessiblityTypeTooltip',
	    value: function isAccessiblityTypeTooltip() {
	      return this.props.accessibilityType === ACCESSIBILITY_TYPE.tooltip;
	    }
	  }, {
	    key: 'getAnchorIdAttr',
	    value: function getAnchorIdAttr() {
	      var popoverId = this.getPopoverIdAttr();
	      return popoverId ? popoverId + '__anchor' : null;
	    }
	  }, {
	    key: 'getPopoverIdAttr',
	    value: function getPopoverIdAttr() {
	      return this.props.id || this.generatedId || null;
	    }
	  }, {
	    key: 'getAnchorProps',
	    value: function getAnchorProps(refKey) {
	      var _anchorProps;

	      var isOpen = this.props.isOpen;


	      var anchorProps = (_anchorProps = {
	        key: 'popover-anchor'
	      }, defineProperty(_anchorProps, refKey, this.anchorRef), defineProperty(_anchorProps, 'onClick', this.onAnchorClick), _anchorProps);

	      var anchorId = this.getAnchorIdAttr();
	      var popoverId = this.getPopoverIdAttr();
	      if (this.isAccessiblityTypeMenu()) {
	        anchorProps['aria-haspopup'] = 'true';
	        anchorProps['aria-expanded'] = isOpen ? 'true' : 'false';
	        var relationAttr = this.isClickTrigger() ? 'aria-controls' : 'aria-owns';
	        anchorProps[relationAttr] = isOpen ? popoverId : null;
	      } else if (this.isAccessiblityTypeTooltip()) {
	        anchorProps.id = anchorId;
	        anchorProps['aria-describedby'] = isOpen ? popoverId : null;
	      }

	      if (this.isHoverTrigger()) {
	        anchorProps.onMouseEnter = this.onAnchorMouseEnter;
	        anchorProps.onMouseLeave = this.onAnchorMouseLeave;

	        // Make it focusable too
	        anchorProps.onBlur = this.props.onBlur;
	        anchorProps.onFocus = this.props.onFocus;
	      }
	      return anchorProps;
	    }
	  }, {
	    key: 'getPopoverBodyProps',
	    value: function getPopoverBodyProps() {
	      var bodyProps = {};

	      var popoverId = this.getPopoverIdAttr();
	      if (this.isAccessiblityTypeMenu()) {
	        bodyProps.id = popoverId;
	      } else if (this.isAccessiblityTypeTooltip()) {
	        bodyProps.id = popoverId;
	        bodyProps.role = 'tooltip';
	      }
	      if (this.isHoverTrigger()) {
	        bodyProps.onMouseEnter = this.onPopoverMouseEnter;
	        bodyProps.onMouseLeave = this.onPopoverMouseLeave;
	      }

	      return bodyProps;
	    }
	  }, {
	    key: 'getSharedProps',
	    value: function getSharedProps() {
	      var _props = this.props,
	          isOpen = _props.isOpen,
	          showArrow = _props.showArrow;
	      var _state = this.state,
	          isAnimating = _state.isAnimating,
	          arrowStyles = _state.arrowStyles,
	          positionStyles = _state.positionStyles,
	          placement = _state.placement;

	      return {
	        $showArrow: showArrow,
	        $arrowStyles: arrowStyles,
	        $positionStyles: positionStyles,
	        $placement: placement,
	        $isAnimating: isAnimating,
	        $isOpen: isOpen
	      };
	    }
	  }, {
	    key: 'getAnchorFromChildren',
	    value: function getAnchorFromChildren() {
	      var children = this.props.children;

	      var childArray = react_1.toArray(children);
	      if (childArray.length !== 1) {
	        // eslint-disable-next-line no-console
	        console.error('[baseui] Exactly 1 child must be passed to Popover/Tooltip, found ' + childArray.length + ' children');
	      }
	      return childArray[0];
	    }
	  }, {
	    key: 'renderAnchor',
	    value: function renderAnchor() {
	      var anchor = this.getAnchorFromChildren();
	      if (!anchor) {
	        return null;
	      }

	      var isValidElement = react_6(anchor);
	      var isDomElement = (typeof anchor === 'undefined' ? 'undefined' : _typeof(anchor)) === 'object' && typeof anchor.type === 'string';

	      // Use $ref for complex components, ref for html elements
	      var refKey = isValidElement && !isDomElement ? '$ref' : 'ref';

	      var anchorProps = this.getAnchorProps(refKey);

	      if ((typeof anchor === 'undefined' ? 'undefined' : _typeof(anchor)) === 'object' && isValidElement) {
	        return react_5(anchor, anchorProps);
	      }
	      return react_4(
	        'span',
	        anchorProps,
	        anchor
	      );
	    }
	  }, {
	    key: 'renderPopover',
	    value: function renderPopover() {
	      var _props2 = this.props,
	          showArrow = _props2.showArrow,
	          _props2$components = _props2.components,
	          components = _props2$components === undefined ? {} : _props2$components,
	          content = _props2.content;
	      var _components$Arrow = components.Arrow,
	          Arrow$$1 = _components$Arrow === undefined ? Arrow : _components$Arrow,
	          _components$Body = components.Body,
	          Body$$1 = _components$Body === undefined ? Body : _components$Body,
	          _components$Inner = components.Inner,
	          Inner$$1 = _components$Inner === undefined ? Inner : _components$Inner;


	      var sharedProps = this.getSharedProps();
	      var bodyProps = this.getPopoverBodyProps();

	      return react_4(
	        Body$$1,
	        _extends({
	          key: 'popover-body',
	          $ref: this.popperRef
	        }, bodyProps, sharedProps),
	        showArrow ? react_4(Arrow$$1, _extends({ key: 'popover-arrow', $ref: this.arrowRef }, sharedProps)) : null,
	        react_4(
	          Inner$$1,
	          _extends({ key: 'popover-inner' }, sharedProps),
	          typeof content === 'function' ? content() : content
	        )
	      );
	    }
	  }, {
	    key: 'render',
	    value: function render() {
	      var rendered = [this.renderAnchor()];

	      // Only render popover on the browser (portals aren't supported server-side)
	      if (isBrowser$1 && (this.props.isOpen || this.state.isAnimating)) {
	        rendered.push(reactDom.createPortal(this.renderPopover(), document_1.body));
	      }
	      return rendered;
	    }
	  }]);
	  return Popover;
	}(react_2);

	Popover.defaultProps = baseDefaultProps;

	function StatefulPopover(props) {
	  var children = props.children,
	      restProps = objectWithoutProperties(props, ['children']);

	  return react_4(
	    StatefulContainer,
	    restProps,
	    function (popoverProps) {
	      return react_4(
	        Popover,
	        popoverProps,
	        children
	      );
	    }
	  );
	}

	StatefulPopover.defaultProps = StatefulContainer.defaultProps;

	function popoverContent() {
	  return react.createElement(
	    Padding,
	    null,
	    react.createElement(
	      'div',
	      null,
	      react.createElement(
	        'strong',
	        null,
	        'The quick brown fox'
	      )
	    ),
	    react.createElement(
	      'div',
	      null,
	      'Jumped over the lazy dog'
	    )
	  );
	}

	// TODO replace with real button when its available
	var Button = styled('button', function (_ref) {
	  var $theme = _ref.$theme;
	  return {
	    padding: $theme.sizing.scale200 + ' ' + $theme.sizing.scale400,
	    fontWeight: 'bold',
	    backgroundColor: $theme.colors.buttonPrimaryFill,
	    borderRadius: '3px',
	    border: 'none',
	    color: '#fff',
	    cursor: 'pointer',
	    transitionProperty: 'background-color',
	    transitionDuration: '0.2s',
	    fontSize: '14px',
	    ':hover': {
	      backgroundColor: $theme.colors.buttonPrimaryHover
	    },
	    ':focus': {
	      backgroundColor: $theme.colors.buttonPrimaryHover
	    },
	    ':active': {
	      backgroundColor: $theme.colors.buttonPrimaryActive
	    }
	  };
	});

	var Container = styled('div', {
	  position: 'relative',
	  display: 'flex',
	  flexDirection: 'column',
	  justifyContent: 'center'
	});

	var Grid = styled('div', {
	  display: 'grid',
	  gridTemplateColumns: '20% 20% 20% 20% 20%',
	  gridTemplateRows: '20% 20% 20% 20% 20%',
	  width: '380px',
	  height: '250px',
	  margin: '100px auto'
	});

	var GridItem = styled('div', function (_ref2) {
	  var row = _ref2.row,
	      col = _ref2.col;
	  return {
	    gridColumnStart: col,
	    gridRowStart: row,
	    textAlign: 'center'
	  };
	});

	var PopoverExamples = [react.createElement(
	  Popover,
	  { key: 'story1', isOpen: true, content: popoverContent },
	  react.createElement(
	    Button,
	    null,
	    'Open'
	  )
	), react.createElement(
	  StatefulPopover,
	  { key: 'story2', content: popoverContent },
	  react.createElement(
	    Button,
	    null,
	    'Press Me'
	  )
	), react.createElement(
	  StatefulPopover,
	  {
	    key: 'story3',
	    triggerType: TRIGGER_TYPE.hover,
	    content: popoverContent
	  },
	  react.createElement(
	    Button,
	    null,
	    'Hover Me'
	  )
	), react.createElement(
	  Container,
	  { key: 'story4' },
	  react.createElement(
	    Grid,
	    null,
	    react.createElement(
	      GridItem,
	      { row: 1, col: 2 },
	      react.createElement(
	        StatefulPopover,
	        { placement: PLACEMENT.topLeft, content: popoverContent },
	        react.createElement(
	          Button,
	          null,
	          'TL'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 1, col: 3 },
	      react.createElement(
	        StatefulPopover,
	        { placement: PLACEMENT.top, content: popoverContent },
	        react.createElement(
	          Button,
	          null,
	          'Top'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 1, col: 4 },
	      react.createElement(
	        StatefulPopover,
	        {
	          placement: PLACEMENT.topRight,
	          content: popoverContent
	        },
	        react.createElement(
	          Button,
	          null,
	          'TR'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 2, col: 1 },
	      react.createElement(
	        StatefulPopover,
	        { placement: PLACEMENT.leftTop, content: popoverContent },
	        react.createElement(
	          Button,
	          null,
	          'LT'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 3, col: 1 },
	      react.createElement(
	        StatefulPopover,
	        { placement: PLACEMENT.left, content: popoverContent },
	        react.createElement(
	          Button,
	          null,
	          'Left'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 4, col: 1 },
	      react.createElement(
	        StatefulPopover,
	        {
	          placement: PLACEMENT.leftBottom,
	          content: popoverContent
	        },
	        react.createElement(
	          Button,
	          null,
	          'LB'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 5, col: 2 },
	      react.createElement(
	        StatefulPopover,
	        {
	          placement: PLACEMENT.bottomLeft,
	          content: popoverContent
	        },
	        react.createElement(
	          Button,
	          null,
	          'BL'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 5, col: 3 },
	      react.createElement(
	        StatefulPopover,
	        { placement: PLACEMENT.bottom, content: popoverContent },
	        react.createElement(
	          Button,
	          null,
	          'Bottom'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 5, col: 4 },
	      react.createElement(
	        StatefulPopover,
	        {
	          placement: PLACEMENT.bottomRight,
	          content: popoverContent
	        },
	        react.createElement(
	          Button,
	          null,
	          'BR'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 2, col: 5 },
	      react.createElement(
	        StatefulPopover,
	        {
	          placement: PLACEMENT.rightTop,
	          content: popoverContent
	        },
	        react.createElement(
	          Button,
	          null,
	          'RT'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 3, col: 5 },
	      react.createElement(
	        StatefulPopover,
	        { placement: PLACEMENT.right, content: popoverContent },
	        react.createElement(
	          Button,
	          null,
	          'Right'
	        )
	      )
	    ),
	    react.createElement(
	      GridItem,
	      { row: 4, col: 5 },
	      react.createElement(
	        StatefulPopover,
	        {
	          placement: PLACEMENT.rightBottom,
	          content: popoverContent
	        },
	        react.createElement(
	          Button,
	          null,
	          'RB'
	        )
	      )
	    )
	  )
	), react.createElement(
	  StatefulPopover,
	  {
	    key: 'story5',
	    content: popoverContent,
	    showArrow: true,
	    triggerType: TRIGGER_TYPE.hover
	  },
	  react.createElement(
	    Button,
	    null,
	    'Hover Me'
	  )
	)];

	var styled$1 = createStyled({
	  wrapper: function wrapper(Component) {
	    return Component;
	  },
	  getInitialStyle: getInitialStyle,
	  driver: driver
	});

	var capitalizeString_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = capitalizeString;
	  function capitalizeString(str) {
	    return str.charAt(0).toUpperCase() + str.slice(1);
	  }
	  module.exports = exports["default"];
	});

	unwrapExports(capitalizeString_1);

	var prefixProperty_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = prefixProperty;

	  var _capitalizeString2 = _interopRequireDefault(capitalizeString_1);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  function prefixProperty(prefixProperties, property, style) {
	    if (prefixProperties.hasOwnProperty(property)) {
	      var newStyle = {};
	      var requiredPrefixes = prefixProperties[property];
	      var capitalizedProperty = (0, _capitalizeString2.default)(property);
	      var keys = Object.keys(style);
	      for (var i = 0; i < keys.length; i++) {
	        var styleProperty = keys[i];
	        if (styleProperty === property) {
	          for (var j = 0; j < requiredPrefixes.length; j++) {
	            newStyle[requiredPrefixes[j] + capitalizedProperty] = style[property];
	          }
	        }
	        newStyle[styleProperty] = style[styleProperty];
	      }
	      return newStyle;
	    }
	    return style;
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(prefixProperty_1);

	var prefixValue_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = prefixValue;
	  function prefixValue(plugins, property, value, style, metaData) {
	    for (var i = 0, len = plugins.length; i < len; ++i) {
	      var processedValue = plugins[i](property, value, style, metaData);

	      // we can stop processing if a value is returned
	      // as all plugin criteria are unique
	      if (processedValue) {
	        return processedValue;
	      }
	    }
	  }
	  module.exports = exports["default"];
	});

	unwrapExports(prefixValue_1);

	var addNewValuesOnly_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = addNewValuesOnly;
	  function addIfNew(list, value) {
	    if (list.indexOf(value) === -1) {
	      list.push(value);
	    }
	  }

	  function addNewValuesOnly(list, values) {
	    if (Array.isArray(values)) {
	      for (var i = 0, len = values.length; i < len; ++i) {
	        addIfNew(list, values[i]);
	      }
	    } else {
	      addIfNew(list, values);
	    }
	  }
	  module.exports = exports["default"];
	});

	unwrapExports(addNewValuesOnly_1);

	var isObject_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = isObject;
	  function isObject(value) {
	    return value instanceof Object && !Array.isArray(value);
	  }
	  module.exports = exports["default"];
	});

	unwrapExports(isObject_1);

	var createPrefixer_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = createPrefixer;

	  var _prefixProperty2 = _interopRequireDefault(prefixProperty_1);

	  var _prefixValue2 = _interopRequireDefault(prefixValue_1);

	  var _addNewValuesOnly2 = _interopRequireDefault(addNewValuesOnly_1);

	  var _isObject2 = _interopRequireDefault(isObject_1);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  function createPrefixer(_ref) {
	    var prefixMap = _ref.prefixMap,
	        plugins = _ref.plugins;

	    function prefixAll(style) {
	      for (var property in style) {
	        var value = style[property];

	        // handle nested objects
	        if ((0, _isObject2.default)(value)) {
	          style[property] = prefixAll(value);
	          // handle array values
	        } else if (Array.isArray(value)) {
	          var combinedValue = [];

	          for (var i = 0, len = value.length; i < len; ++i) {
	            var processedValue = (0, _prefixValue2.default)(plugins, property, value[i], style, prefixMap);
	            (0, _addNewValuesOnly2.default)(combinedValue, processedValue || value[i]);
	          }

	          // only modify the value if it was touched
	          // by any plugin to prevent unnecessary mutations
	          if (combinedValue.length > 0) {
	            style[property] = combinedValue;
	          }
	        } else {
	          var _processedValue = (0, _prefixValue2.default)(plugins, property, value, style, prefixMap);

	          // only modify the value if it was touched
	          // by any plugin to prevent unnecessary mutations
	          if (_processedValue) {
	            style[property] = _processedValue;
	          }

	          style = (0, _prefixProperty2.default)(prefixMap, property, style);
	        }
	      }

	      return style;
	    }

	    return prefixAll;
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(createPrefixer_1);

	var staticData = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });

	  var w = ["Webkit"];
	  var m = ["Moz"];
	  var ms = ["ms"];
	  var wm = ["Webkit", "Moz"];
	  var wms = ["Webkit", "ms"];
	  var wmms = ["Webkit", "Moz", "ms"];

	  exports.default = {
	    plugins: [],
	    prefixMap: { "appearance": wm, "textEmphasisPosition": w, "textEmphasis": w, "textEmphasisStyle": w, "textEmphasisColor": w, "boxDecorationBreak": w, "maskImage": w, "maskMode": w, "maskRepeat": w, "maskPosition": w, "maskClip": w, "maskOrigin": w, "maskSize": w, "maskComposite": w, "mask": w, "maskBorderSource": w, "maskBorderMode": w, "maskBorderSlice": w, "maskBorderWidth": w, "maskBorderOutset": w, "maskBorderRepeat": w, "maskBorder": w, "maskType": w, "textDecorationStyle": w, "textDecorationSkip": w, "textDecorationLine": w, "textDecorationColor": w, "userSelect": wmms, "backdropFilter": w, "fontKerning": w, "scrollSnapType": wms, "scrollSnapPointsX": wms, "scrollSnapPointsY": wms, "scrollSnapDestination": wms, "scrollSnapCoordinate": wms, "clipPath": w, "shapeImageThreshold": w, "shapeImageMargin": w, "shapeImageOutside": w, "filter": w, "hyphens": wms, "flowInto": wms, "flowFrom": wms, "breakBefore": wms, "breakAfter": wms, "breakInside": wms, "regionFragment": wms, "writingMode": wms, "textOrientation": w, "tabSize": m, "fontFeatureSettings": w, "columnCount": w, "columnFill": w, "columnGap": w, "columnRule": w, "columnRuleColor": w, "columnRuleStyle": w, "columnRuleWidth": w, "columns": w, "columnSpan": w, "columnWidth": w, "wrapFlow": ms, "wrapThrough": ms, "wrapMargin": ms, "gridTemplateColumns": ms, "gridTemplateRows": ms, "gridTemplateAreas": ms, "gridTemplate": ms, "gridAutoColumns": ms, "gridAutoRows": ms, "gridAutoFlow": ms, "grid": ms, "gridRowStart": ms, "gridColumnStart": ms, "gridRowEnd": ms, "gridRow": ms, "gridColumn": ms, "gridColumnEnd": ms, "gridColumnGap": ms, "gridRowGap": ms, "gridArea": ms, "gridGap": ms, "textSizeAdjust": wms }
	  };
	  module.exports = exports["default"];
	});

	unwrapExports(staticData);

	var cursor_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = cursor;
	  var prefixes = ['-webkit-', '-moz-', ''];

	  var values = {
	    'zoom-in': true,
	    'zoom-out': true,
	    grab: true,
	    grabbing: true
	  };

	  function cursor(property, value) {
	    if (property === 'cursor' && values.hasOwnProperty(value)) {
	      return prefixes.map(function (prefix) {
	        return prefix + value;
	      });
	    }
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(cursor_1);

	var isPrefixedValue_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = isPrefixedValue;
	  var regex = /-webkit-|-moz-|-ms-/;

	  function isPrefixedValue(value) {
	    return typeof value === 'string' && regex.test(value);
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(isPrefixedValue_1);

	var crossFade_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = crossFade;

	  var _isPrefixedValue2 = _interopRequireDefault(isPrefixedValue_1);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  // http://caniuse.com/#search=cross-fade
	  var prefixes = ['-webkit-', ''];
	  function crossFade(property, value) {
	    if (typeof value === 'string' && !(0, _isPrefixedValue2.default)(value) && value.indexOf('cross-fade(') > -1) {
	      return prefixes.map(function (prefix) {
	        return value.replace(/cross-fade\(/g, prefix + 'cross-fade(');
	      });
	    }
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(crossFade_1);

	var filter_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = filter;

	  var _isPrefixedValue2 = _interopRequireDefault(isPrefixedValue_1);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  // http://caniuse.com/#feat=css-filter-function
	  var prefixes = ['-webkit-', ''];
	  function filter(property, value) {
	    if (typeof value === 'string' && !(0, _isPrefixedValue2.default)(value) && value.indexOf('filter(') > -1) {
	      return prefixes.map(function (prefix) {
	        return value.replace(/filter\(/g, prefix + 'filter(');
	      });
	    }
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(filter_1);

	var flex_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = flex;
	  var values = {
	    flex: ['-webkit-box', '-moz-box', '-ms-flexbox', '-webkit-flex', 'flex'],
	    'inline-flex': ['-webkit-inline-box', '-moz-inline-box', '-ms-inline-flexbox', '-webkit-inline-flex', 'inline-flex']
	  };

	  function flex(property, value) {
	    if (property === 'display' && values.hasOwnProperty(value)) {
	      return values[value];
	    }
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(flex_1);

	var flexboxOld_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = flexboxOld;
	  var alternativeValues = {
	    'space-around': 'justify',
	    'space-between': 'justify',
	    'flex-start': 'start',
	    'flex-end': 'end',
	    'wrap-reverse': 'multiple',
	    wrap: 'multiple',
	    flex: 'box',
	    'inline-flex': 'inline-box'
	  };

	  var alternativeProps = {
	    alignItems: 'WebkitBoxAlign',
	    justifyContent: 'WebkitBoxPack',
	    flexWrap: 'WebkitBoxLines',
	    flexGrow: 'WebkitBoxFlex'
	  };

	  function flexboxOld(property, value, style) {
	    if (property === 'flexDirection' && typeof value === 'string') {
	      if (value.indexOf('column') > -1) {
	        style.WebkitBoxOrient = 'vertical';
	      } else {
	        style.WebkitBoxOrient = 'horizontal';
	      }
	      if (value.indexOf('reverse') > -1) {
	        style.WebkitBoxDirection = 'reverse';
	      } else {
	        style.WebkitBoxDirection = 'normal';
	      }
	    }
	    if (alternativeProps.hasOwnProperty(property)) {
	      style[alternativeProps[property]] = alternativeValues[value] || value;
	    }
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(flexboxOld_1);

	var gradient_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = gradient;

	  var _isPrefixedValue2 = _interopRequireDefault(isPrefixedValue_1);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  var prefixes = ['-webkit-', '-moz-', ''];

	  var values = /linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;

	  function gradient(property, value) {
	    if (typeof value === 'string' && !(0, _isPrefixedValue2.default)(value) && values.test(value)) {
	      return prefixes.map(function (prefix) {
	        return value.replace(values, function (grad) {
	          return prefix + grad;
	        });
	      });
	    }
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(gradient_1);

	var imageSet_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = imageSet;

	  var _isPrefixedValue2 = _interopRequireDefault(isPrefixedValue_1);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  // http://caniuse.com/#feat=css-image-set
	  var prefixes = ['-webkit-', ''];
	  function imageSet(property, value) {
	    if (typeof value === 'string' && !(0, _isPrefixedValue2.default)(value) && value.indexOf('image-set(') > -1) {
	      return prefixes.map(function (prefix) {
	        return value.replace(/image-set\(/g, prefix + 'image-set(');
	      });
	    }
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(imageSet_1);

	var position_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = position;
	  function position(property, value) {
	    if (property === 'position' && value === 'sticky') {
	      return ['-webkit-sticky', 'sticky'];
	    }
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(position_1);

	var sizing_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = sizing;
	  var prefixes = ['-webkit-', '-moz-', ''];

	  var properties = {
	    maxHeight: true,
	    maxWidth: true,
	    width: true,
	    height: true,
	    columnWidth: true,
	    minWidth: true,
	    minHeight: true
	  };
	  var values = {
	    'min-content': true,
	    'max-content': true,
	    'fill-available': true,
	    'fit-content': true,
	    'contain-floats': true
	  };

	  function sizing(property, value) {
	    if (properties.hasOwnProperty(property) && values.hasOwnProperty(value)) {
	      return prefixes.map(function (prefix) {
	        return prefix + value;
	      });
	    }
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(sizing_1);

	var uppercasePattern = /[A-Z]/g;
	var msPattern$2 = /^ms-/;
	var cache = {};

	function hyphenateStyleName$1(string) {
	  return string in cache ? cache[string] : cache[string] = string.replace(uppercasePattern, '-$&').toLowerCase().replace(msPattern$2, '-ms-');
	}

	var hyphenateStyleName_1$1 = hyphenateStyleName$1;

	var hyphenateProperty_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = hyphenateProperty;

	  var _hyphenateStyleName2 = _interopRequireDefault(hyphenateStyleName_1$1);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  function hyphenateProperty(property) {
	    return (0, _hyphenateStyleName2.default)(property);
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(hyphenateProperty_1);

	var transition_1 = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });
	  exports.default = transition;

	  var _hyphenateProperty2 = _interopRequireDefault(hyphenateProperty_1);

	  var _isPrefixedValue2 = _interopRequireDefault(isPrefixedValue_1);

	  var _capitalizeString2 = _interopRequireDefault(capitalizeString_1);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  var properties = {
	    transition: true,
	    transitionProperty: true,
	    WebkitTransition: true,
	    WebkitTransitionProperty: true,
	    MozTransition: true,
	    MozTransitionProperty: true
	  };

	  var prefixMapping = {
	    Webkit: '-webkit-',
	    Moz: '-moz-',
	    ms: '-ms-'
	  };

	  function prefixValue(value, propertyPrefixMap) {
	    if ((0, _isPrefixedValue2.default)(value)) {
	      return value;
	    }

	    // only split multi values, not cubic beziers
	    var multipleValues = value.split(/,(?![^()]*(?:\([^()]*\))?\))/g);

	    for (var i = 0, len = multipleValues.length; i < len; ++i) {
	      var singleValue = multipleValues[i];
	      var values = [singleValue];
	      for (var property in propertyPrefixMap) {
	        var dashCaseProperty = (0, _hyphenateProperty2.default)(property);

	        if (singleValue.indexOf(dashCaseProperty) > -1 && dashCaseProperty !== 'order') {
	          var prefixes = propertyPrefixMap[property];
	          for (var j = 0, pLen = prefixes.length; j < pLen; ++j) {
	            // join all prefixes and create a new value
	            values.unshift(singleValue.replace(dashCaseProperty, prefixMapping[prefixes[j]] + dashCaseProperty));
	          }
	        }
	      }

	      multipleValues[i] = values.join(',');
	    }

	    return multipleValues.join(',');
	  }

	  function transition(property, value, style, propertyPrefixMap) {
	    // also check for already prefixed transitions
	    if (typeof value === 'string' && properties.hasOwnProperty(property)) {
	      var outputValue = prefixValue(value, propertyPrefixMap);
	      // if the property is already prefixed
	      var webkitOutput = outputValue.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function (val) {
	        return !/-moz-|-ms-/.test(val);
	      }).join(',');

	      if (property.indexOf('Webkit') > -1) {
	        return webkitOutput;
	      }

	      var mozOutput = outputValue.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function (val) {
	        return !/-webkit-|-ms-/.test(val);
	      }).join(',');

	      if (property.indexOf('Moz') > -1) {
	        return mozOutput;
	      }

	      style['Webkit' + (0, _capitalizeString2.default)(property)] = webkitOutput;
	      style['Moz' + (0, _capitalizeString2.default)(property)] = mozOutput;
	      return outputValue;
	    }
	  }
	  module.exports = exports['default'];
	});

	unwrapExports(transition_1);

	var _static = createCommonjsModule(function (module, exports) {

	  Object.defineProperty(exports, "__esModule", {
	    value: true
	  });

	  var _createPrefixer2 = _interopRequireDefault(createPrefixer_1);

	  var _staticData2 = _interopRequireDefault(staticData);

	  var _cursor2 = _interopRequireDefault(cursor_1);

	  var _crossFade2 = _interopRequireDefault(crossFade_1);

	  var _filter2 = _interopRequireDefault(filter_1);

	  var _flex2 = _interopRequireDefault(flex_1);

	  var _flexboxOld2 = _interopRequireDefault(flexboxOld_1);

	  var _gradient2 = _interopRequireDefault(gradient_1);

	  var _imageSet2 = _interopRequireDefault(imageSet_1);

	  var _position2 = _interopRequireDefault(position_1);

	  var _sizing2 = _interopRequireDefault(sizing_1);

	  var _transition2 = _interopRequireDefault(transition_1);

	  function _interopRequireDefault(obj) {
	    return obj && obj.__esModule ? obj : { default: obj };
	  }

	  var plugins = [_crossFade2.default, _cursor2.default, _filter2.default, _flexboxOld2.default, _gradient2.default, _imageSet2.default, _position2.default, _sizing2.default, _transition2.default, _flex2.default];

	  exports.default = (0, _createPrefixer2.default)({
	    prefixMap: _staticData2.default.prefixMap,
	    plugins: plugins
	  });
	  module.exports = exports['default'];
	});

	var prefixAll = unwrapExports(_static);

	//  strict
	var SequentialIDGenerator =
	/*#__PURE__*/
	function () {
	  function SequentialIDGenerator(prefix) {
	    if (prefix === void 0) {
	      prefix = "";
	    }

	    // ensure start with "ae" so "ad" is never produced
	    this.prefix = prefix;
	    this.count = 0;
	    this.offset = 374;
	    this.msb = 1295;
	    this.power = 2;
	  }

	  var _proto = SequentialIDGenerator.prototype;

	  _proto.next = function next() {
	    var id = this.increment().toString(36);
	    return this.prefix ? "" + this.prefix + id : id;
	  };

	  _proto.increment = function increment() {
	    var id = this.count + this.offset;

	    if (id === this.msb) {
	      this.offset += (this.msb + 1) * 9;
	      this.msb = Math.pow(36, ++this.power) - 1;
	    }

	    this.count++;
	    return id;
	  };

	  return SequentialIDGenerator;
	}();

	//  strict
	var MultiCache =
	/*#__PURE__*/
	function () {
	  function MultiCache(idGenerator, onNewCache, onNewValue) {
	    this.idGenerator = idGenerator;
	    this.onNewCache = onNewCache;
	    this.onNewValue = onNewValue;
	    this.caches = {};
	  }

	  var _proto = MultiCache.prototype;

	  _proto.getCache = function getCache(key) {
	    if (!this.caches[key]) {
	      var _cache = new Cache(this.idGenerator, this.onNewValue);

	      _cache.key = key;
	      this.caches[key] = _cache;
	      this.onNewCache(key, _cache);
	    }

	    return this.caches[key];
	  };

	  return MultiCache;
	}();
	var Cache =
	/*#__PURE__*/
	function () {
	  function Cache(idGenerator, onNewValue) {
	    this.cache = {};
	    this.idGenerator = idGenerator;
	    this.onNewValue = onNewValue;
	  }

	  var _proto2 = Cache.prototype;

	  _proto2.addValue = function addValue(key, value) {
	    var cached = this.cache[key];

	    if (cached) {
	      return cached;
	    }

	    var id = this.idGenerator.next();
	    this.cache[key] = id;
	    this.onNewValue(this, id, value);
	    return id;
	  };

	  return Cache;
	}();

	var uppercasePattern$1 = /[A-Z]/g;
	var msPattern$3 = /^ms-/;
	var cache$1 = {};
	function hyphenateStyleName$2(prop) {
	  return prop in cache$1 ? cache$1[prop] : cache$1[prop] = prop.replace(uppercasePattern$1, "-$&").toLowerCase().replace(msPattern$3, "-ms-");
	}

	function _typeof$3(obj) {
	  if (typeof Symbol === "function" && _typeof(Symbol.iterator) === "symbol") {
	    _typeof$3 = function _typeof$$1(obj) {
	      return typeof obj === "undefined" ? "undefined" : _typeof(obj);
	    };
	  } else {
	    _typeof$3 = function _typeof$$1(obj) {
	      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);
	    };
	  }return _typeof$3(obj);
	}

	function injectStylePrefixed(styleCache, styles, media, pseudo) {
	  var cache = styleCache.getCache(media);
	  var classString = "";

	  for (var originalKey in styles) {
	    var originalVal = styles[originalKey];

	    if (_typeof$3(originalVal) !== "object") {

	      var propValPair = hyphenateStyleName$2(originalKey) + ":" + originalVal;
	      var key = "" + pseudo + propValPair;
	      var cachedId = cache.cache[key];

	      if (cachedId !== void 0) {
	        // cache hit
	        classString += " " + cachedId;
	        continue;
	      } else {
	        var _prefixAll;

	        // cache miss
	        var _block = "";
	        var prefixed = prefixAll((_prefixAll = {}, _prefixAll[originalKey] = originalVal, _prefixAll));

	        for (var prefixedKey in prefixed) {
	          var prefixedVal = prefixed[prefixedKey];

	          var prefixedValType = _typeof$3(prefixedVal);

	          if (prefixedValType === "string" || prefixedValType === "number") {
	            var prefixedPair = hyphenateStyleName$2(prefixedKey) + ":" + prefixedVal;

	            if (prefixedPair !== propValPair) {
	              _block += prefixedPair + ";";
	            }
	          } else if (Array.isArray(prefixedVal)) {
	            var hyphenated = hyphenateStyleName$2(prefixedKey);

	            for (var i = 0; i < prefixedVal.length; i++) {
	              var _prefixedPair = hyphenated + ":" + prefixedVal[i];

	              if (_prefixedPair !== propValPair) {
	                _block += _prefixedPair + ";";
	              }
	            }
	          }
	        }

	        _block += propValPair; // ensure original prop/val is last (for hydration)

	        var id = cache.addValue(key, {
	          pseudo: pseudo,
	          block: _block
	        });
	        classString += " " + id;
	      }
	    } else {
	      // Object value
	      if (originalKey[0] === ":") {
	        classString += " " + injectStylePrefixed(styleCache, originalVal, media, pseudo + originalKey);
	      } else if (originalKey.substring(0, 6) === "@media") {
	        classString += " " + injectStylePrefixed(styleCache, originalVal, originalKey.substr(7), pseudo);
	      }
	    }
	  }

	   // remove leading space


	  return classString.slice(1);
	}

	//  strict
	function atomicSelector(id, pseudo) {
	  var selector = "." + id;

	  if (pseudo) {
	    selector += pseudo;
	  }

	  return selector;
	}
	function keyframesToBlock(keyframes) {
	  var result = "";

	  for (var thing in keyframes) {
	    result += thing + "{" + declarationsToBlock(keyframes[thing]) + "}";
	  }

	  return result;
	}
	function declarationsToBlock(style) {
	  var css = "";

	  for (var prop in style) {
	    var val = style[prop];

	    if (typeof val === "string" || typeof val === "number") {
	      css += hyphenateStyleName$2(prop) + ":" + val + ";";
	    }
	  } // trim trailing semicolon


	  return css.slice(0, -1);
	}
	function keyframesBlockToRule(id, block) {
	  return "@keyframes " + id + "{" + block + "}";
	}
	function fontFaceBlockToRule(id, block) {
	  return "@font-face{font-family:" + id + ";" + block + "}";
	}
	function styleBlockToRule(selector, block) {
	  return selector + "{" + block + "}";
	}

	/* eslint-env browser */
	var STYLES_HYDRATOR = /\.([^{:]+)(:[^{]+)?{(?:[^}]*;)?([^}]*?)}/g;
	var KEYFRAMES_HYRDATOR = /@keyframes ([^{]+)\{((?:[^{]+\{[^}]*\})*)\}/g;
	var FONT_FACE_HYDRATOR = /@font-face\{font-family:([^;]+);([^}]*)\}/g;

	function hydrateStyles(cache, hydrator, css) {
	  var match;

	  while (match = hydrator.exec(css)) {
	    var _match = match,
	        id = _match[1],
	        _pseudo = _match[2],
	        key = _match[3];
	    var fullKey = _pseudo ? "" + _pseudo + key : key;
	    cache.cache[fullKey] = id; // set cache without triggering side effects

	    cache.idGenerator.increment(); // increment id
	  }
	}

	function hydrate(cache, hydrator, css) {
	  var match;

	  while (match = hydrator.exec(css)) {
	    var _match2 = match,
	        id = _match2[1],
	        key = _match2[2];
	    cache.cache[key] = id; // set cache without triggering side effects

	    cache.idGenerator.increment(); // increment id
	  }
	}

	var StyletronClient =
	/*#__PURE__*/
	function () {
	  function StyletronClient(opts) {
	    var _this = this;

	    if (opts === void 0) {
	      opts = {};
	    }

	    this.styleElements = {};
	    var styleIdGenerator = new SequentialIDGenerator(opts.prefix);

	    var onNewStyle = function onNewStyle(cache, id, value) {
	      var pseudo = value.pseudo,
	          block = value.block;
	      var sheet = _this.styleElements[cache.key].sheet;
	      sheet.insertRule(styleBlockToRule(atomicSelector(id, pseudo), block), sheet.cssRules.length);
	    }; // Setup style cache


	    this.styleCache = new MultiCache(styleIdGenerator, function (media) {
	      var styleElement = document.createElement("style");
	      styleElement.media = media;

	      _this.container.appendChild(styleElement);

	      _this.styleElements[media] = styleElement;
	    }, onNewStyle);
	    this.keyframesCache = new Cache(new SequentialIDGenerator(opts.prefix), function (cache, id, value) {
	      _this.styleCache.getCache("");

	      var sheet = _this.styleElements[""].sheet;
	      sheet.insertRule(keyframesBlockToRule(id, keyframesToBlock(value)), sheet.cssRules.length);
	    });
	    this.fontFaceCache = new Cache(new SequentialIDGenerator(opts.prefix), function (cache, id, value) {
	      _this.styleCache.getCache("");

	      var sheet = _this.styleElements[""].sheet;
	      sheet.insertRule(fontFaceBlockToRule(id, declarationsToBlock(value)), sheet.cssRules.length);
	    });

	    if (opts.container) {
	      this.container = opts.container;
	    } // Hydrate


	    if (opts.hydrate && opts.hydrate.length > 0) {
	      // infer container from parent element
	      if (!this.container) {
	        var parentElement = opts.hydrate[0].parentElement;

	        if (parentElement !== null && parentElement !== void 0) {
	          this.container = parentElement;
	        }
	      }

	      for (var i = 0; i < opts.hydrate.length; i++) {
	        var element = opts.hydrate[i];
	        var hydrateType = element.dataset.hydrate;

	        if (hydrateType === "font-face") {
	          hydrate(this.fontFaceCache, FONT_FACE_HYDRATOR, element.textContent);
	          continue;
	        }

	        if (hydrateType === "keyframes") {
	          hydrate(this.keyframesCache, KEYFRAMES_HYRDATOR, element.textContent);
	          continue;
	        }

	        var key = element.media ? element.media : "";
	        this.styleElements[key] = element;
	        var cache = new Cache(styleIdGenerator, onNewStyle);
	        cache.key = key;
	        hydrateStyles(cache, STYLES_HYDRATOR, element.textContent);
	        this.styleCache.caches[key] = cache;
	      }
	    }

	    if (!this.container) {
	      if (document.head === null) {
	        throw new Error("No container provided and `document.head` was null");
	      }

	      this.container = document.head;
	    }
	  }

	  var _proto = StyletronClient.prototype;

	  _proto.renderStyle = function renderStyle(style) {
	    return injectStylePrefixed(this.styleCache, style, "", "");
	  };

	  _proto.renderFontFace = function renderFontFace(fontFace) {
	    var key = declarationsToBlock(fontFace);
	    return this.fontFaceCache.addValue(key, fontFace);
	  };

	  _proto.renderKeyframes = function renderKeyframes(keyframes) {
	    var key = keyframesToBlock(keyframes);
	    return this.keyframesCache.addValue(key, keyframes);
	  };

	  return StyletronClient;
	}();

	var engine = new StyletronClient();

	var app = react.createElement(
	  Provider,
	  { value: engine },
	  react.createElement(
	    ThemeProvider,
	    { theme: LIGHT_THEME },
	    PopoverExamples.map(function (example, i) {
	      return react.createElement(
	        'div',
	        { key: 'example' + i, id: 'popover_story' + i },
	        example
	      );
	    })
	  )
	);

	reactDom.render(app, document_1.getElementById('root'));

})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eU9iamVjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eUZ1bmN0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5wcm9kdWN0aW9uLm1pbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi93YXJuaW5nLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZianMvbGliL3NoYWxsb3dFcXVhbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc05vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaXNUZXh0Tm9kZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9jb250YWluc05vZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20uZGV2ZWxvcG1lbnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZ3VkL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NyZWF0ZS1yZWFjdC1jb250ZXh0L2xpYi9pbXBsZW1lbnRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jcmVhdGUtcmVhY3QtY29udGV4dC9saWIvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGV0cm9uLXJlYWN0LWNvcmUvZGlzdC9icm93c2VyLmVzNS5lcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZXRyb24tc3RhbmRhcmQvZGlzdC9icm93c2VyLmVzNS5lcy5qcyIsIi4uLy4uL3NyYy90aGVtZXMvbGlnaHQtdGhlbWUuanMiLCIuLi8uLi9zcmMvc3R5bGVzL3RoZW1lLXByb3ZpZGVyLmpzIiwiLi4vLi4vc3JjL3N0eWxlcy9zdHlsZWQuanMiLCIuLi8uLi9zcmMvcG9wb3Zlci9jb25zdGFudHMuanMiLCIuLi8uLi9zcmMvcG9wb3Zlci9kZWZhdWx0LXByb3BzLmpzIiwiLi4vLi4vc3JjL3BvcG92ZXIvc3RhdGVmdWwtY29udGFpbmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1yZXNvbHZlL3NyYy9lbXB0eS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9nbG9iYWwvZG9jdW1lbnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcG9wcGVyLmpzL2Rpc3QvZXNtL3BvcHBlci5qcyIsIi4uLy4uL3NyYy91dGlscy9pcy1icm93c2VyLmpzIiwiLi4vLi4vc3JjL3V0aWxzL2dldC1idWktaWQuanMiLCIuLi8uLi9zcmMvcG9wb3Zlci91dGlscy5qcyIsIi4uLy4uL3NyYy9wb3BvdmVyL3N0eWxlZC1jb21wb25lbnRzLmpzIiwiLi4vLi4vc3JjL3BvcG92ZXIvcG9wb3Zlci5qcyIsIi4uLy4uL3NyYy9wb3BvdmVyL3N0YXRlZnVsLXBvcG92ZXIuanMiLCIuLi8uLi9zcmMvcG9wb3Zlci9leGFtcGxlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZXRyb24tcmVhY3QvZGlzdC9icm93c2VyLmVzNS5lcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZXRyb24tZW5naW5lLWF0b21pYy9ub2RlX21vZHVsZXMvaW5saW5lLXN0eWxlLXByZWZpeGVyL3V0aWxzL2NhcGl0YWxpemVTdHJpbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGV0cm9uLWVuZ2luZS1hdG9taWMvbm9kZV9tb2R1bGVzL2lubGluZS1zdHlsZS1wcmVmaXhlci91dGlscy9wcmVmaXhQcm9wZXJ0eS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZXRyb24tZW5naW5lLWF0b21pYy9ub2RlX21vZHVsZXMvaW5saW5lLXN0eWxlLXByZWZpeGVyL3V0aWxzL3ByZWZpeFZhbHVlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxldHJvbi1lbmdpbmUtYXRvbWljL25vZGVfbW9kdWxlcy9pbmxpbmUtc3R5bGUtcHJlZml4ZXIvdXRpbHMvYWRkTmV3VmFsdWVzT25seS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZXRyb24tZW5naW5lLWF0b21pYy9ub2RlX21vZHVsZXMvaW5saW5lLXN0eWxlLXByZWZpeGVyL3V0aWxzL2lzT2JqZWN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxldHJvbi1lbmdpbmUtYXRvbWljL25vZGVfbW9kdWxlcy9pbmxpbmUtc3R5bGUtcHJlZml4ZXIvc3RhdGljL2NyZWF0ZVByZWZpeGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxldHJvbi1lbmdpbmUtYXRvbWljL25vZGVfbW9kdWxlcy9pbmxpbmUtc3R5bGUtcHJlZml4ZXIvc3RhdGljL3N0YXRpY0RhdGEuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGV0cm9uLWVuZ2luZS1hdG9taWMvbm9kZV9tb2R1bGVzL2lubGluZS1zdHlsZS1wcmVmaXhlci9zdGF0aWMvcGx1Z2lucy9jdXJzb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWluLWpzLXV0aWxzL2xpYi9pc1ByZWZpeGVkVmFsdWUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGV0cm9uLWVuZ2luZS1hdG9taWMvbm9kZV9tb2R1bGVzL2lubGluZS1zdHlsZS1wcmVmaXhlci9zdGF0aWMvcGx1Z2lucy9jcm9zc0ZhZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGV0cm9uLWVuZ2luZS1hdG9taWMvbm9kZV9tb2R1bGVzL2lubGluZS1zdHlsZS1wcmVmaXhlci9zdGF0aWMvcGx1Z2lucy9maWx0ZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGV0cm9uLWVuZ2luZS1hdG9taWMvbm9kZV9tb2R1bGVzL2lubGluZS1zdHlsZS1wcmVmaXhlci9zdGF0aWMvcGx1Z2lucy9mbGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxldHJvbi1lbmdpbmUtYXRvbWljL25vZGVfbW9kdWxlcy9pbmxpbmUtc3R5bGUtcHJlZml4ZXIvc3RhdGljL3BsdWdpbnMvZmxleGJveE9sZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZXRyb24tZW5naW5lLWF0b21pYy9ub2RlX21vZHVsZXMvaW5saW5lLXN0eWxlLXByZWZpeGVyL3N0YXRpYy9wbHVnaW5zL2dyYWRpZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxldHJvbi1lbmdpbmUtYXRvbWljL25vZGVfbW9kdWxlcy9pbmxpbmUtc3R5bGUtcHJlZml4ZXIvc3RhdGljL3BsdWdpbnMvaW1hZ2VTZXQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGV0cm9uLWVuZ2luZS1hdG9taWMvbm9kZV9tb2R1bGVzL2lubGluZS1zdHlsZS1wcmVmaXhlci9zdGF0aWMvcGx1Z2lucy9wb3NpdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZXRyb24tZW5naW5lLWF0b21pYy9ub2RlX21vZHVsZXMvaW5saW5lLXN0eWxlLXByZWZpeGVyL3N0YXRpYy9wbHVnaW5zL3NpemluZy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9oeXBoZW5hdGUtc3R5bGUtbmFtZS9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtaW4tanMtdXRpbHMvbGliL2h5cGhlbmF0ZVByb3BlcnR5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxldHJvbi1lbmdpbmUtYXRvbWljL25vZGVfbW9kdWxlcy9pbmxpbmUtc3R5bGUtcHJlZml4ZXIvc3RhdGljL3BsdWdpbnMvdHJhbnNpdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZXRyb24tZW5naW5lLWF0b21pYy9ub2RlX21vZHVsZXMvaW5saW5lLXN0eWxlLXByZWZpeGVyL3N0YXRpYy9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZXRyb24tZW5naW5lLWF0b21pYy9kaXN0L2Jyb3dzZXIuZXM1LmVzLmpzIiwiLi4vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eU9iamVjdCA9IHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eU9iamVjdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuXG5mdW5jdGlvbiBtYWtlRW1wdHlGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG4gKiBwcmltYXJpbHkgdXNlZnVsIGlkaW9tYXRpY2FsbHkgZm9yIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGVuZHBvaW50cyB3aGljaFxuICogYWx3YXlzIG5lZWQgdG8gYmUgY2FsbGFibGUsIHNpbmNlIEpTIGxhY2tzIGEgbnVsbC1jYWxsIGlkaW9tIGFsYSBDb2NvYS5cbiAqL1xudmFyIGVtcHR5RnVuY3Rpb24gPSBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge307XG5cbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlID0gbWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW1wdHlGdW5jdGlvbjsiLCIvKiogQGxpY2Vuc2UgUmVhY3QgdjE2LjQuMVxuICogcmVhY3QucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7dmFyIGs9cmVxdWlyZShcIm9iamVjdC1hc3NpZ25cIiksbj1yZXF1aXJlKFwiZmJqcy9saWIvaW52YXJpYW50XCIpLHA9cmVxdWlyZShcImZianMvbGliL2VtcHR5T2JqZWN0XCIpLHE9cmVxdWlyZShcImZianMvbGliL2VtcHR5RnVuY3Rpb25cIikscj1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yLHQ9cj9TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKTo2MDEwMyx1PXI/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNix2PXI/U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpOjYwMTA3LHc9cj9TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIik6NjAxMDgseD1yP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCx5PXI/U3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpOjYwMTA5LHo9cj9TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKTo2MDExMCxBPXI/U3ltYm9sLmZvcihcInJlYWN0LmFzeW5jX21vZGVcIik6NjAxMTEsQj1cbnI/U3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpOjYwMTEyO3ImJlN5bWJvbC5mb3IoXCJyZWFjdC50aW1lb3V0XCIpO3ZhciBDPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcjtmdW5jdGlvbiBEKGEpe2Zvcih2YXIgYj1hcmd1bWVudHMubGVuZ3RoLTEsZT1cImh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50PVwiK2EsYz0wO2M8YjtjKyspZSs9XCImYXJnc1tdPVwiK2VuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbYysxXSk7bighMSxcIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIithK1wiOyB2aXNpdCAlcyBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuIFwiLGUpfVxudmFyIEU9e2lzTW91bnRlZDpmdW5jdGlvbigpe3JldHVybiExfSxlbnF1ZXVlRm9yY2VVcGRhdGU6ZnVuY3Rpb24oKXt9LGVucXVldWVSZXBsYWNlU3RhdGU6ZnVuY3Rpb24oKXt9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbigpe319O2Z1bmN0aW9uIEYoYSxiLGUpe3RoaXMucHJvcHM9YTt0aGlzLmNvbnRleHQ9Yjt0aGlzLnJlZnM9cDt0aGlzLnVwZGF0ZXI9ZXx8RX1GLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50PXt9O0YucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGEsYil7XCJvYmplY3RcIiE9PXR5cGVvZiBhJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgYSYmbnVsbCE9YT9EKFwiODVcIik6dm9pZCAwO3RoaXMudXBkYXRlci5lbnF1ZXVlU2V0U3RhdGUodGhpcyxhLGIsXCJzZXRTdGF0ZVwiKX07Ri5wcm90b3R5cGUuZm9yY2VVcGRhdGU9ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLGEsXCJmb3JjZVVwZGF0ZVwiKX07ZnVuY3Rpb24gRygpe31cbkcucHJvdG90eXBlPUYucHJvdG90eXBlO2Z1bmN0aW9uIEgoYSxiLGUpe3RoaXMucHJvcHM9YTt0aGlzLmNvbnRleHQ9Yjt0aGlzLnJlZnM9cDt0aGlzLnVwZGF0ZXI9ZXx8RX12YXIgST1ILnByb3RvdHlwZT1uZXcgRztJLmNvbnN0cnVjdG9yPUg7ayhJLEYucHJvdG90eXBlKTtJLmlzUHVyZVJlYWN0Q29tcG9uZW50PSEwO3ZhciBKPXtjdXJyZW50Om51bGx9LEs9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxMPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07XG5mdW5jdGlvbiBNKGEsYixlKXt2YXIgYz12b2lkIDAsZD17fSxnPW51bGwsaD1udWxsO2lmKG51bGwhPWIpZm9yKGMgaW4gdm9pZCAwIT09Yi5yZWYmJihoPWIucmVmKSx2b2lkIDAhPT1iLmtleSYmKGc9XCJcIitiLmtleSksYilLLmNhbGwoYixjKSYmIUwuaGFzT3duUHJvcGVydHkoYykmJihkW2NdPWJbY10pO3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgtMjtpZigxPT09ZilkLmNoaWxkcmVuPWU7ZWxzZSBpZigxPGYpe2Zvcih2YXIgbD1BcnJheShmKSxtPTA7bTxmO20rKylsW21dPWFyZ3VtZW50c1ttKzJdO2QuY2hpbGRyZW49bH1pZihhJiZhLmRlZmF1bHRQcm9wcylmb3IoYyBpbiBmPWEuZGVmYXVsdFByb3BzLGYpdm9pZCAwPT09ZFtjXSYmKGRbY109ZltjXSk7cmV0dXJueyQkdHlwZW9mOnQsdHlwZTphLGtleTpnLHJlZjpoLHByb3BzOmQsX293bmVyOkouY3VycmVudH19XG5mdW5jdGlvbiBOKGEpe3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJmEuJCR0eXBlb2Y9PT10fWZ1bmN0aW9uIGVzY2FwZShhKXt2YXIgYj17XCI9XCI6XCI9MFwiLFwiOlwiOlwiPTJcIn07cmV0dXJuXCIkXCIrKFwiXCIrYSkucmVwbGFjZSgvWz06XS9nLGZ1bmN0aW9uKGEpe3JldHVybiBiW2FdfSl9dmFyIE89L1xcLysvZyxQPVtdO2Z1bmN0aW9uIFEoYSxiLGUsYyl7aWYoUC5sZW5ndGgpe3ZhciBkPVAucG9wKCk7ZC5yZXN1bHQ9YTtkLmtleVByZWZpeD1iO2QuZnVuYz1lO2QuY29udGV4dD1jO2QuY291bnQ9MDtyZXR1cm4gZH1yZXR1cm57cmVzdWx0OmEsa2V5UHJlZml4OmIsZnVuYzplLGNvbnRleHQ6Yyxjb3VudDowfX1mdW5jdGlvbiBSKGEpe2EucmVzdWx0PW51bGw7YS5rZXlQcmVmaXg9bnVsbDthLmZ1bmM9bnVsbDthLmNvbnRleHQ9bnVsbDthLmNvdW50PTA7MTA+UC5sZW5ndGgmJlAucHVzaChhKX1cbmZ1bmN0aW9uIFMoYSxiLGUsYyl7dmFyIGQ9dHlwZW9mIGE7aWYoXCJ1bmRlZmluZWRcIj09PWR8fFwiYm9vbGVhblwiPT09ZClhPW51bGw7dmFyIGc9ITE7aWYobnVsbD09PWEpZz0hMDtlbHNlIHN3aXRjaChkKXtjYXNlIFwic3RyaW5nXCI6Y2FzZSBcIm51bWJlclwiOmc9ITA7YnJlYWs7Y2FzZSBcIm9iamVjdFwiOnN3aXRjaChhLiQkdHlwZW9mKXtjYXNlIHQ6Y2FzZSB1Omc9ITB9fWlmKGcpcmV0dXJuIGUoYyxhLFwiXCI9PT1iP1wiLlwiK1QoYSwwKTpiKSwxO2c9MDtiPVwiXCI9PT1iP1wiLlwiOmIrXCI6XCI7aWYoQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIGg9MDtoPGEubGVuZ3RoO2grKyl7ZD1hW2hdO3ZhciBmPWIrVChkLGgpO2crPVMoZCxmLGUsYyl9ZWxzZSBpZihudWxsPT09YXx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhP2Y9bnVsbDooZj1DJiZhW0NdfHxhW1wiQEBpdGVyYXRvclwiXSxmPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBmP2Y6bnVsbCksXCJmdW5jdGlvblwiPT09dHlwZW9mIGYpZm9yKGE9Zi5jYWxsKGEpLFxuaD0wOyEoZD1hLm5leHQoKSkuZG9uZTspZD1kLnZhbHVlLGY9YitUKGQsaCsrKSxnKz1TKGQsZixlLGMpO2Vsc2VcIm9iamVjdFwiPT09ZCYmKGU9XCJcIithLEQoXCIzMVwiLFwiW29iamVjdCBPYmplY3RdXCI9PT1lP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXMoYSkuam9pbihcIiwgXCIpK1wifVwiOmUsXCJcIikpO3JldHVybiBnfWZ1bmN0aW9uIFQoYSxiKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiZudWxsIT1hLmtleT9lc2NhcGUoYS5rZXkpOmIudG9TdHJpbmcoMzYpfWZ1bmN0aW9uIFUoYSxiKXthLmZ1bmMuY2FsbChhLmNvbnRleHQsYixhLmNvdW50KyspfVxuZnVuY3Rpb24gVihhLGIsZSl7dmFyIGM9YS5yZXN1bHQsZD1hLmtleVByZWZpeDthPWEuZnVuYy5jYWxsKGEuY29udGV4dCxiLGEuY291bnQrKyk7QXJyYXkuaXNBcnJheShhKT9XKGEsYyxlLHEudGhhdFJldHVybnNBcmd1bWVudCk6bnVsbCE9YSYmKE4oYSkmJihiPWQrKCFhLmtleXx8YiYmYi5rZXk9PT1hLmtleT9cIlwiOihcIlwiK2Eua2V5KS5yZXBsYWNlKE8sXCIkJi9cIikrXCIvXCIpK2UsYT17JCR0eXBlb2Y6dCx0eXBlOmEudHlwZSxrZXk6YixyZWY6YS5yZWYscHJvcHM6YS5wcm9wcyxfb3duZXI6YS5fb3duZXJ9KSxjLnB1c2goYSkpfWZ1bmN0aW9uIFcoYSxiLGUsYyxkKXt2YXIgZz1cIlwiO251bGwhPWUmJihnPShcIlwiK2UpLnJlcGxhY2UoTyxcIiQmL1wiKStcIi9cIik7Yj1RKGIsZyxjLGQpO251bGw9PWF8fFMoYSxcIlwiLFYsYik7UihiKX1cbnZhciBYPXtDaGlsZHJlbjp7bWFwOmZ1bmN0aW9uKGEsYixlKXtpZihudWxsPT1hKXJldHVybiBhO3ZhciBjPVtdO1coYSxjLG51bGwsYixlKTtyZXR1cm4gY30sZm9yRWFjaDpmdW5jdGlvbihhLGIsZSl7aWYobnVsbD09YSlyZXR1cm4gYTtiPVEobnVsbCxudWxsLGIsZSk7bnVsbD09YXx8UyhhLFwiXCIsVSxiKTtSKGIpfSxjb3VudDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8wOlMoYSxcIlwiLHEudGhhdFJldHVybnNOdWxsLG51bGwpfSx0b0FycmF5OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO1coYSxiLG51bGwscS50aGF0UmV0dXJuc0FyZ3VtZW50KTtyZXR1cm4gYn0sb25seTpmdW5jdGlvbihhKXtOKGEpP3ZvaWQgMDpEKFwiMTQzXCIpO3JldHVybiBhfX0sY3JlYXRlUmVmOmZ1bmN0aW9uKCl7cmV0dXJue2N1cnJlbnQ6bnVsbH19LENvbXBvbmVudDpGLFB1cmVDb21wb25lbnQ6SCxjcmVhdGVDb250ZXh0OmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9bnVsbCk7YT17JCR0eXBlb2Y6eixcbl9jYWxjdWxhdGVDaGFuZ2VkQml0czpiLF9kZWZhdWx0VmFsdWU6YSxfY3VycmVudFZhbHVlOmEsX2N1cnJlbnRWYWx1ZTI6YSxfY2hhbmdlZEJpdHM6MCxfY2hhbmdlZEJpdHMyOjAsUHJvdmlkZXI6bnVsbCxDb25zdW1lcjpudWxsfTthLlByb3ZpZGVyPXskJHR5cGVvZjp5LF9jb250ZXh0OmF9O3JldHVybiBhLkNvbnN1bWVyPWF9LGZvcndhcmRSZWY6ZnVuY3Rpb24oYSl7cmV0dXJueyQkdHlwZW9mOkIscmVuZGVyOmF9fSxGcmFnbWVudDp2LFN0cmljdE1vZGU6dyx1bnN0YWJsZV9Bc3luY01vZGU6QSx1bnN0YWJsZV9Qcm9maWxlcjp4LGNyZWF0ZUVsZW1lbnQ6TSxjbG9uZUVsZW1lbnQ6ZnVuY3Rpb24oYSxiLGUpe251bGw9PT1hfHx2b2lkIDA9PT1hP0QoXCIyNjdcIixhKTp2b2lkIDA7dmFyIGM9dm9pZCAwLGQ9ayh7fSxhLnByb3BzKSxnPWEua2V5LGg9YS5yZWYsZj1hLl9vd25lcjtpZihudWxsIT1iKXt2b2lkIDAhPT1iLnJlZiYmKGg9Yi5yZWYsZj1KLmN1cnJlbnQpO3ZvaWQgMCE9PVxuYi5rZXkmJihnPVwiXCIrYi5rZXkpO3ZhciBsPXZvaWQgMDthLnR5cGUmJmEudHlwZS5kZWZhdWx0UHJvcHMmJihsPWEudHlwZS5kZWZhdWx0UHJvcHMpO2ZvcihjIGluIGIpSy5jYWxsKGIsYykmJiFMLmhhc093blByb3BlcnR5KGMpJiYoZFtjXT12b2lkIDA9PT1iW2NdJiZ2b2lkIDAhPT1sP2xbY106YltjXSl9Yz1hcmd1bWVudHMubGVuZ3RoLTI7aWYoMT09PWMpZC5jaGlsZHJlbj1lO2Vsc2UgaWYoMTxjKXtsPUFycmF5KGMpO2Zvcih2YXIgbT0wO208YzttKyspbFttXT1hcmd1bWVudHNbbSsyXTtkLmNoaWxkcmVuPWx9cmV0dXJueyQkdHlwZW9mOnQsdHlwZTphLnR5cGUsa2V5OmcscmVmOmgscHJvcHM6ZCxfb3duZXI6Zn19LGNyZWF0ZUZhY3Rvcnk6ZnVuY3Rpb24oYSl7dmFyIGI9TS5iaW5kKG51bGwsYSk7Yi50eXBlPWE7cmV0dXJuIGJ9LGlzVmFsaWRFbGVtZW50Ok4sdmVyc2lvbjpcIjE2LjQuMVwiLF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEOntSZWFjdEN1cnJlbnRPd25lcjpKLFxuYXNzaWduOmt9fSxZPXtkZWZhdWx0Olh9LFo9WSYmWHx8WTttb2R1bGUuZXhwb3J0cz1aLmRlZmF1bHQ/Wi5kZWZhdWx0Olo7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9lbXB0eUZ1bmN0aW9uJyk7XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciB3YXJuaW5nID0gZW1wdHlGdW5jdGlvbjtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIHByaW50V2FybmluZyhmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9O1xuXG4gIHdhcm5pbmcgPSBmdW5jdGlvbiB3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQuaW5kZXhPZignRmFpbGVkIENvbXBvc2l0ZSBwcm9wVHlwZTogJykgPT09IDApIHtcbiAgICAgIHJldHVybjsgLy8gSWdub3JlIENvbXBvc2l0ZUNvbXBvbmVudCBwcm9wdHlwZSBjaGVjay5cbiAgICB9XG5cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nOyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuIiwiLyoqIEBsaWNlbnNlIFJlYWN0IHYxNi40LjFcbiAqIHJlYWN0LmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAoZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIGVtcHR5T2JqZWN0ID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlPYmplY3QnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzJyk7XG5cbi8vIFRPRE86IHRoaXMgaXMgc3BlY2lhbCBiZWNhdXNlIGl0IGdldHMgaW1wb3J0ZWQgZHVyaW5nIGJ1aWxkLlxuXG52YXIgUmVhY3RWZXJzaW9uID0gJzE2LjQuMSc7XG5cbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG52YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuZm9yO1xuXG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xudmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucG9ydGFsJykgOiAweGVhY2E7XG52YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50JykgOiAweGVhY2I7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJykgOiAweGVhY2M7XG52YXIgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb2ZpbGVyJykgOiAweGVhZDI7XG52YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJykgOiAweGVhY2Q7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpIDogMHhlYWNlO1xudmFyIFJFQUNUX0FTWU5DX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmFzeW5jX21vZGUnKSA6IDB4ZWFjZjtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKSA6IDB4ZWFkMDtcbnZhciBSRUFDVF9USU1FT1VUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC50aW1lb3V0JykgOiAweGVhZDE7XG5cbnZhciBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcblxuZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gIGlmIChtYXliZUl0ZXJhYmxlID09PSBudWxsIHx8IHR5cGVvZiBtYXliZUl0ZXJhYmxlID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcbiAgaWYgKHR5cGVvZiBtYXliZUl0ZXJhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG1heWJlSXRlcmF0b3I7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFJlbHlpbmcgb24gdGhlIGBpbnZhcmlhbnQoKWAgaW1wbGVtZW50YXRpb24gbGV0cyB1c1xuLy8gaGF2ZSBwcmVzZXJ2ZSB0aGUgZm9ybWF0IGFuZCBwYXJhbXMgaW4gdGhlIHd3dyBidWlsZHMuXG5cbi8vIEV4cG9ydHMgUmVhY3RET00uY3JlYXRlUm9vdFxuXG5cbi8vIEV4cGVyaW1lbnRhbCBlcnJvci1ib3VuZGFyeSBBUEkgdGhhdCBjYW4gcmVjb3ZlciBmcm9tIGVycm9ycyB3aXRoaW4gYSBzaW5nbGVcbi8vIHJlbmRlciBwaGFzZVxuXG4vLyBTdXNwZW5zZVxudmFyIGVuYWJsZVN1c3BlbnNlID0gZmFsc2U7XG4vLyBIZWxwcyBpZGVudGlmeSBzaWRlIGVmZmVjdHMgaW4gYmVnaW4tcGhhc2UgbGlmZWN5Y2xlIGhvb2tzIGFuZCBzZXRTdGF0ZSByZWR1Y2VyczpcblxuXG4vLyBJbiBzb21lIGNhc2VzLCBTdHJpY3RNb2RlIHNob3VsZCBhbHNvIGRvdWJsZS1yZW5kZXIgbGlmZWN5Y2xlcy5cbi8vIFRoaXMgY2FuIGJlIGNvbmZ1c2luZyBmb3IgdGVzdHMgdGhvdWdoLFxuLy8gQW5kIGl0IGNhbiBiZSBiYWQgZm9yIHBlcmZvcm1hbmNlIGluIHByb2R1Y3Rpb24uXG4vLyBUaGlzIGZlYXR1cmUgZmxhZyBjYW4gYmUgdXNlZCB0byBjb250cm9sIHRoZSBiZWhhdmlvcjpcblxuXG4vLyBUbyBwcmVzZXJ2ZSB0aGUgXCJQYXVzZSBvbiBjYXVnaHQgZXhjZXB0aW9uc1wiIGJlaGF2aW9yIG9mIHRoZSBkZWJ1Z2dlciwgd2Vcbi8vIHJlcGxheSB0aGUgYmVnaW4gcGhhc2Ugb2YgYSBmYWlsZWQgY29tcG9uZW50IGluc2lkZSBpbnZva2VHdWFyZGVkQ2FsbGJhY2suXG5cblxuLy8gV2FybiBhYm91dCBkZXByZWNhdGVkLCBhc3luYy11bnNhZmUgbGlmZWN5Y2xlczsgcmVsYXRlcyB0byBSRkMgIzY6XG5cblxuLy8gV2FybiBhYm91dCBsZWdhY3kgY29udGV4dCBBUElcblxuXG4vLyBHYXRoZXIgYWR2YW5jZWQgdGltaW5nIG1ldHJpY3MgZm9yIFByb2ZpbGVyIHN1YnRyZWVzLlxuXG5cbi8vIE9ubHkgdXNlZCBpbiB3d3cgYnVpbGRzLlxuXG4vKipcbiAqIEZvcmtlZCBmcm9tIGZianMvd2FybmluZzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xuICpcbiAqIE9ubHkgY2hhbmdlIGlzIHdlIHVzZSBjb25zb2xlLndhcm4gaW5zdGVhZCBvZiBjb25zb2xlLmVycm9yLFxuICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cbiAqIFRoaXMgcmVhbGx5IHNpbXBsaWZpZXMgdGhlIGNvZGUuXG4gKiAtLS1cbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG5cbiAgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZyQxID0gbG93UHJpb3JpdHlXYXJuaW5nO1xuXG52YXIgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge307XG5cbmZ1bmN0aW9uIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gIHtcbiAgICB2YXIgX2NvbnN0cnVjdG9yID0gcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3I7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBfY29uc3RydWN0b3IgJiYgKF9jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCBfY29uc3RydWN0b3IubmFtZSkgfHwgJ1JlYWN0Q2xhc3MnO1xuICAgIHZhciB3YXJuaW5nS2V5ID0gY29tcG9uZW50TmFtZSArICcuJyArIGNhbGxlck5hbWU7XG4gICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3YXJuaW5nKGZhbHNlLCBcIkNhbid0IGNhbGwgJXMgb24gYSBjb21wb25lbnQgdGhhdCBpcyBub3QgeWV0IG1vdW50ZWQuIFwiICsgJ1RoaXMgaXMgYSBuby1vcCwgYnV0IGl0IG1pZ2h0IGluZGljYXRlIGEgYnVnIGluIHlvdXIgYXBwbGljYXRpb24uICcgKyAnSW5zdGVhZCwgYXNzaWduIHRvIGB0aGlzLnN0YXRlYCBkaXJlY3RseSBvciBkZWZpbmUgYSBgc3RhdGUgPSB7fTtgICcgKyAnY2xhc3MgcHJvcGVydHkgd2l0aCB0aGUgZGVzaXJlZCBzdGF0ZSBpbiB0aGUgJXMgY29tcG9uZW50LicsIGNhbGxlck5hbWUsIGNvbXBvbmVudE5hbWUpO1xuICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSA9IHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBhYnN0cmFjdCBBUEkgZm9yIGFuIHVwZGF0ZSBxdWV1ZS5cbiAqL1xudmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9zaXRlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB3ZSB3YW50IHRvIHRlc3QuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbW91bnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBmaW5hbFxuICAgKi9cbiAgaXNNb3VudGVkOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZvcmNlcyBhbiB1cGRhdGUuIFRoaXMgc2hvdWxkIG9ubHkgYmUgaW52b2tlZCB3aGVuIGl0IGlzIGtub3duIHdpdGhcbiAgICogY2VydGFpbnR5IHRoYXQgd2UgYXJlICoqbm90KiogaW4gYSBET00gdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIFlvdSBtYXkgd2FudCB0byBjYWxsIHRoaXMgd2hlbiB5b3Uga25vdyB0aGF0IHNvbWUgZGVlcGVyIGFzcGVjdCBvZiB0aGVcbiAgICogY29tcG9uZW50J3Mgc3RhdGUgaGFzIGNoYW5nZWQgYnV0IGBzZXRTdGF0ZWAgd2FzIG5vdCBjYWxsZWQuXG4gICAqXG4gICAqIFRoaXMgd2lsbCBub3QgaW52b2tlIGBzaG91bGRDb21wb25lbnRVcGRhdGVgLCBidXQgaXQgd2lsbCBpbnZva2VcbiAgICogYGNvbXBvbmVudFdpbGxVcGRhdGVgIGFuZCBgY29tcG9uZW50RGlkVXBkYXRlYC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgY29tcG9uZW50IGlzIHVwZGF0ZWQuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gY2FsbGVyTmFtZSBuYW1lIG9mIHRoZSBjYWxsaW5nIGZ1bmN0aW9uIGluIHRoZSBwdWJsaWMgQVBJLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCAnZm9yY2VVcGRhdGUnKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIG9mIHRoZSBzdGF0ZS4gQWx3YXlzIHVzZSB0aGlzIG9yIGBzZXRTdGF0ZWAgdG8gbXV0YXRlIHN0YXRlLlxuICAgKiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gICAqXG4gICAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGB0aGlzLnN0YXRlYCB3aWxsIGJlIGltbWVkaWF0ZWx5IHVwZGF0ZWQsIHNvXG4gICAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29tcGxldGVTdGF0ZSBOZXh0IHN0YXRlLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNhbGxlck5hbWUgbmFtZSBvZiB0aGUgY2FsbGluZyBmdW5jdGlvbiBpbiB0aGUgcHVibGljIEFQSS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUsIGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsICdyZXBsYWNlU3RhdGUnKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIFRoaXMgb25seSBleGlzdHMgYmVjYXVzZSBfcGVuZGluZ1N0YXRlIGlzXG4gICAqIGludGVybmFsLiBUaGlzIHByb3ZpZGVzIGEgbWVyZ2luZyBzdHJhdGVneSB0aGF0IGlzIG5vdCBhdmFpbGFibGUgdG8gZGVlcFxuICAgKiBwcm9wZXJ0aWVzIHdoaWNoIGlzIGNvbmZ1c2luZy4gVE9ETzogRXhwb3NlIHBlbmRpbmdTdGF0ZSBvciBkb24ndCB1c2UgaXRcbiAgICogZHVyaW5nIHRoZSBtZXJnZS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIHN0YXRlLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IE5hbWUgb2YgdGhlIGNhbGxpbmcgZnVuY3Rpb24gaW4gdGhlIHB1YmxpYyBBUEkuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gIH1cbn07XG5cbi8qKlxuICogQmFzZSBjbGFzcyBoZWxwZXJzIGZvciB0aGUgdXBkYXRpbmcgc3RhdGUgb2YgYSBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICB0aGlzLnByb3BzID0gcHJvcHM7XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAvLyBXZSBpbml0aWFsaXplIHRoZSBkZWZhdWx0IHVwZGF0ZXIgYnV0IHRoZSByZWFsIG9uZSBnZXRzIGluamVjdGVkIGJ5IHRoZVxuICAvLyByZW5kZXJlci5cbiAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbn1cblxuQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG5cbi8qKlxuICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIEFsd2F5cyB1c2UgdGhpcyB0byBtdXRhdGVcbiAqIHN0YXRlLiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gKlxuICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgYHRoaXMuc3RhdGVgIHdpbGwgYmUgaW1tZWRpYXRlbHkgdXBkYXRlZCwgc29cbiAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gKlxuICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgY2FsbHMgdG8gYHNldFN0YXRlYCB3aWxsIHJ1biBzeW5jaHJvbm91c2x5LFxuICogYXMgdGhleSBtYXkgZXZlbnR1YWxseSBiZSBiYXRjaGVkIHRvZ2V0aGVyLiAgWW91IGNhbiBwcm92aWRlIGFuIG9wdGlvbmFsXG4gKiBjYWxsYmFjayB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgY2FsbCB0byBzZXRTdGF0ZSBpcyBhY3R1YWxseVxuICogY29tcGxldGVkLlxuICpcbiAqIFdoZW4gYSBmdW5jdGlvbiBpcyBwcm92aWRlZCB0byBzZXRTdGF0ZSwgaXQgd2lsbCBiZSBjYWxsZWQgYXQgc29tZSBwb2ludCBpblxuICogdGhlIGZ1dHVyZSAobm90IHN5bmNocm9ub3VzbHkpLiBJdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSB1cCB0byBkYXRlXG4gKiBjb21wb25lbnQgYXJndW1lbnRzIChzdGF0ZSwgcHJvcHMsIGNvbnRleHQpLiBUaGVzZSB2YWx1ZXMgY2FuIGJlIGRpZmZlcmVudFxuICogZnJvbSB0aGlzLiogYmVjYXVzZSB5b3VyIGZ1bmN0aW9uIG1heSBiZSBjYWxsZWQgYWZ0ZXIgcmVjZWl2ZVByb3BzIGJ1dCBiZWZvcmVcbiAqIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgYW5kIHRoaXMgbmV3IHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgd2lsbCBub3QgeWV0IGJlXG4gKiBhc3NpZ25lZCB0byB0aGlzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fGZ1bmN0aW9ufSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIG9yIGZ1bmN0aW9uIHRvXG4gKiAgICAgICAgcHJvZHVjZSBuZXh0IHBhcnRpYWwgc3RhdGUgdG8gYmUgbWVyZ2VkIHdpdGggY3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgc3RhdGUgaXMgdXBkYXRlZC5cbiAqIEBmaW5hbFxuICogQHByb3RlY3RlZFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgISh0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnZnVuY3Rpb24nIHx8IHBhcnRpYWxTdGF0ZSA9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ3NldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLicpIDogdm9pZCAwO1xuICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssICdzZXRTdGF0ZScpO1xufTtcblxuLyoqXG4gKiBGb3JjZXMgYW4gdXBkYXRlLiBUaGlzIHNob3VsZCBvbmx5IGJlIGludm9rZWQgd2hlbiBpdCBpcyBrbm93biB3aXRoXG4gKiBjZXJ0YWludHkgdGhhdCB3ZSBhcmUgKipub3QqKiBpbiBhIERPTSB0cmFuc2FjdGlvbi5cbiAqXG4gKiBZb3UgbWF5IHdhbnQgdG8gY2FsbCB0aGlzIHdoZW4geW91IGtub3cgdGhhdCBzb21lIGRlZXBlciBhc3BlY3Qgb2YgdGhlXG4gKiBjb21wb25lbnQncyBzdGF0ZSBoYXMgY2hhbmdlZCBidXQgYHNldFN0YXRlYCB3YXMgbm90IGNhbGxlZC5cbiAqXG4gKiBUaGlzIHdpbGwgbm90IGludm9rZSBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCwgYnV0IGl0IHdpbGwgaW52b2tlXG4gKiBgY29tcG9uZW50V2lsbFVwZGF0ZWAgYW5kIGBjb21wb25lbnREaWRVcGRhdGVgLlxuICpcbiAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgdXBkYXRlIGlzIGNvbXBsZXRlLlxuICogQGZpbmFsXG4gKiBAcHJvdGVjdGVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLCBjYWxsYmFjaywgJ2ZvcmNlVXBkYXRlJyk7XG59O1xuXG4vKipcbiAqIERlcHJlY2F0ZWQgQVBJcy4gVGhlc2UgQVBJcyB1c2VkIHRvIGV4aXN0IG9uIGNsYXNzaWMgUmVhY3QgY2xhc3NlcyBidXQgc2luY2VcbiAqIHdlIHdvdWxkIGxpa2UgdG8gZGVwcmVjYXRlIHRoZW0sIHdlJ3JlIG5vdCBnb2luZyB0byBtb3ZlIHRoZW0gb3ZlciB0byB0aGlzXG4gKiBtb2Rlcm4gYmFzZSBjbGFzcy4gSW5zdGVhZCwgd2UgZGVmaW5lIGEgZ2V0dGVyIHRoYXQgd2FybnMgaWYgaXQncyBhY2Nlc3NlZC5cbiAqL1xue1xuICB2YXIgZGVwcmVjYXRlZEFQSXMgPSB7XG4gICAgaXNNb3VudGVkOiBbJ2lzTW91bnRlZCcsICdJbnN0ZWFkLCBtYWtlIHN1cmUgdG8gY2xlYW4gdXAgc3Vic2NyaXB0aW9ucyBhbmQgcGVuZGluZyByZXF1ZXN0cyBpbiAnICsgJ2NvbXBvbmVudFdpbGxVbm1vdW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLiddLFxuICAgIHJlcGxhY2VTdGF0ZTogWydyZXBsYWNlU3RhdGUnLCAnUmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBzZXRTdGF0ZSBpbnN0ZWFkIChzZWUgJyArICdodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzMyMzYpLiddXG4gIH07XG4gIHZhciBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSwgaW5mbykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICclcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlcycsIGluZm9bMF0sIGluZm9bMV0pO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBmb3IgKHZhciBmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpIHtcbiAgICBpZiAoZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSkge1xuICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIENvbXBvbmVudER1bW15KCkge31cbkNvbXBvbmVudER1bW15LnByb3RvdHlwZSA9IENvbXBvbmVudC5wcm90b3R5cGU7XG5cbi8qKlxuICogQ29udmVuaWVuY2UgY29tcG9uZW50IHdpdGggZGVmYXVsdCBzaGFsbG93IGVxdWFsaXR5IGNoZWNrIGZvciBzQ1UuXG4gKi9cbmZ1bmN0aW9uIFB1cmVDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbn1cblxudmFyIHB1cmVDb21wb25lbnRQcm90b3R5cGUgPSBQdXJlQ29tcG9uZW50LnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnREdW1teSgpO1xucHVyZUNvbXBvbmVudFByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFB1cmVDb21wb25lbnQ7XG4vLyBBdm9pZCBhbiBleHRyYSBwcm90b3R5cGUganVtcCBmb3IgdGhlc2UgbWV0aG9kcy5cbl9hc3NpZ24ocHVyZUNvbXBvbmVudFByb3RvdHlwZSwgQ29tcG9uZW50LnByb3RvdHlwZSk7XG5wdXJlQ29tcG9uZW50UHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50ID0gdHJ1ZTtcblxuLy8gYW4gaW1tdXRhYmxlIG9iamVjdCB3aXRoIGEgc2luZ2xlIG11dGFibGUgdmFsdWVcbmZ1bmN0aW9uIGNyZWF0ZVJlZigpIHtcbiAgdmFyIHJlZk9iamVjdCA9IHtcbiAgICBjdXJyZW50OiBudWxsXG4gIH07XG4gIHtcbiAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpO1xuICB9XG4gIHJldHVybiByZWZPYmplY3Q7XG59XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGN1cnJlbnQgb3duZXIuXG4gKlxuICogVGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIGNvbXBvbmVudCB3aG8gc2hvdWxkIG93biBhbnkgY29tcG9uZW50cyB0aGF0IGFyZVxuICogY3VycmVudGx5IGJlaW5nIGNvbnN0cnVjdGVkLlxuICovXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHR5cGUge1JlYWN0Q29tcG9uZW50fVxuICAgKi9cbiAgY3VycmVudDogbnVsbFxufTtcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICBrZXk6IHRydWUsXG4gIHJlZjogdHJ1ZSxcbiAgX19zZWxmOiB0cnVlLFxuICBfX3NvdXJjZTogdHJ1ZVxufTtcblxudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdm9pZCAwO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG4gICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25maWcucmVmICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ2tleScpLmdldDtcbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZpZy5rZXkgIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHZhciB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgICAgd2FybmluZyhmYWxzZSwgJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9mYi5tZS9yZWFjdC1zcGVjaWFsLXByb3BzKScsIGRpc3BsYXlOYW1lKTtcbiAgICB9XG4gIH07XG4gIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24pIHtcbiAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgfVxuICB9O1xuICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdyZWYnLCB7XG4gICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vKipcbiAqIEZhY3RvcnkgbWV0aG9kIHRvIGNyZWF0ZSBhIG5ldyBSZWFjdCBlbGVtZW50LiBUaGlzIG5vIGxvbmdlciBhZGhlcmVzIHRvXG4gKiB0aGUgY2xhc3MgcGF0dGVybiwgc28gZG8gbm90IHVzZSBuZXcgdG8gY2FsbCBpdC4gQWxzbywgbm8gaW5zdGFuY2VvZiBjaGVja1xuICogd2lsbCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gcHJvcHNcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvd3MgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IEVsZW1lbnRcbiAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuXG4gICAgLy8gQnVpbHQtaW4gcHJvcGVydGllcyB0aGF0IGJlbG9uZyBvbiB0aGUgZWxlbWVudFxuICAgIHR5cGU6IHR5cGUsXG4gICAga2V5OiBrZXksXG4gICAgcmVmOiByZWYsXG4gICAgcHJvcHM6IHByb3BzLFxuXG4gICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICBfb3duZXI6IG93bmVyXG4gIH07XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9O1xuXG4gICAgLy8gVG8gbWFrZSBjb21wYXJpbmcgUmVhY3RFbGVtZW50cyBlYXNpZXIgZm9yIHRlc3RpbmcgcHVycG9zZXMsIHdlIG1ha2VcbiAgICAvLyB0aGUgdmFsaWRhdGlvbiBmbGFnIG5vbi1lbnVtZXJhYmxlICh3aGVyZSBwb3NzaWJsZSwgd2hpY2ggc2hvdWxkXG4gICAgLy8gaW5jbHVkZSBldmVyeSBlbnZpcm9ubWVudCB3ZSBydW4gdGVzdHMgaW4pLCBzbyB0aGUgdGVzdCBmcmFtZXdvcmtcbiAgICAvLyBpZ25vcmVzIGl0LlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50Ll9zdG9yZSwgJ3ZhbGlkYXRlZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSk7XG4gICAgLy8gc2VsZiBhbmQgc291cmNlIGFyZSBERVYgb25seSBwcm9wZXJ0aWVzLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogc2VsZlxuICAgIH0pO1xuICAgIC8vIFR3byBlbGVtZW50cyBjcmVhdGVkIGluIHR3byBkaWZmZXJlbnQgcGxhY2VzIHNob3VsZCBiZSBjb25zaWRlcmVkXG4gICAgLy8gZXF1YWwgZm9yIHRlc3RpbmcgcHVycG9zZXMgYW5kIHRoZXJlZm9yZSB3ZSBoaWRlIGl0IGZyb20gZW51bWVyYXRpb24uXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNvdXJjZVxuICAgIH0pO1xuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgUmVhY3RFbGVtZW50IG9mIHRoZSBnaXZlbiB0eXBlLlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNjcmVhdGVlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodHlwZSwgY29uZmlnLCBjaGlsZHJlbikge1xuICB2YXIgcHJvcE5hbWUgPSB2b2lkIDA7XG5cbiAgLy8gUmVzZXJ2ZWQgbmFtZXMgYXJlIGV4dHJhY3RlZFxuICB2YXIgcHJvcHMgPSB7fTtcblxuICB2YXIga2V5ID0gbnVsbDtcbiAgdmFyIHJlZiA9IG51bGw7XG4gIHZhciBzZWxmID0gbnVsbDtcbiAgdmFyIHNvdXJjZSA9IG51bGw7XG5cbiAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgfVxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgfVxuXG4gICAgc2VsZiA9IGNvbmZpZy5fX3NlbGYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zZWxmO1xuICAgIHNvdXJjZSA9IGNvbmZpZy5fX3NvdXJjZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZy5fX3NvdXJjZTtcbiAgICAvLyBSZW1haW5pbmcgcHJvcGVydGllcyBhcmUgYWRkZWQgdG8gYSBuZXcgcHJvcHMgb2JqZWN0XG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBDaGlsZHJlbiBjYW4gYmUgbW9yZSB0aGFuIG9uZSBhcmd1bWVudCwgYW5kIHRob3NlIGFyZSB0cmFuc2ZlcnJlZCBvbnRvXG4gIC8vIHRoZSBuZXdseSBhbGxvY2F0ZWQgcHJvcHMgb2JqZWN0LlxuICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgIH1cbiAgICB7XG4gICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkQXJyYXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gIH1cblxuICAvLyBSZXNvbHZlIGRlZmF1bHQgcHJvcHNcbiAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZS5kZWZhdWx0UHJvcHM7XG4gICAgZm9yIChwcm9wTmFtZSBpbiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB7XG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcHMuJCR0eXBlb2YgPT09ICd1bmRlZmluZWQnIHx8IHByb3BzLiQkdHlwZW9mICE9PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCAnVW5rbm93bicgOiB0eXBlO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmKSB7XG4gICAgICAgICAgZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQsIHByb3BzKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIFJlYWN0RWxlbWVudHMgb2YgYSBnaXZlbiB0eXBlLlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNjcmVhdGVmYWN0b3J5XG4gKi9cblxuXG5mdW5jdGlvbiBjbG9uZUFuZFJlcGxhY2VLZXkob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gIHZhciBuZXdFbGVtZW50ID0gUmVhY3RFbGVtZW50KG9sZEVsZW1lbnQudHlwZSwgbmV3S2V5LCBvbGRFbGVtZW50LnJlZiwgb2xkRWxlbWVudC5fc2VsZiwgb2xkRWxlbWVudC5fc291cmNlLCBvbGRFbGVtZW50Ll9vd25lciwgb2xkRWxlbWVudC5wcm9wcyk7XG5cbiAgcmV0dXJuIG5ld0VsZW1lbnQ7XG59XG5cbi8qKlxuICogQ2xvbmUgYW5kIHJldHVybiBhIG5ldyBSZWFjdEVsZW1lbnQgdXNpbmcgZWxlbWVudCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2Nsb25lZWxlbWVudFxuICovXG5mdW5jdGlvbiBjbG9uZUVsZW1lbnQoZWxlbWVudCwgY29uZmlnLCBjaGlsZHJlbikge1xuICAhIShlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHVuZGVmaW5lZCkgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdC5jbG9uZUVsZW1lbnQoLi4uKTogVGhlIGFyZ3VtZW50IG11c3QgYmUgYSBSZWFjdCBlbGVtZW50LCBidXQgeW91IHBhc3NlZCAlcy4nLCBlbGVtZW50KSA6IHZvaWQgMDtcblxuICB2YXIgcHJvcE5hbWUgPSB2b2lkIDA7XG5cbiAgLy8gT3JpZ2luYWwgcHJvcHMgYXJlIGNvcGllZFxuICB2YXIgcHJvcHMgPSBfYXNzaWduKHt9LCBlbGVtZW50LnByb3BzKTtcblxuICAvLyBSZXNlcnZlZCBuYW1lcyBhcmUgZXh0cmFjdGVkXG4gIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgdmFyIHJlZiA9IGVsZW1lbnQucmVmO1xuICAvLyBTZWxmIGlzIHByZXNlcnZlZCBzaW5jZSB0aGUgb3duZXIgaXMgcHJlc2VydmVkLlxuICB2YXIgc2VsZiA9IGVsZW1lbnQuX3NlbGY7XG4gIC8vIFNvdXJjZSBpcyBwcmVzZXJ2ZWQgc2luY2UgY2xvbmVFbGVtZW50IGlzIHVubGlrZWx5IHRvIGJlIHRhcmdldGVkIGJ5IGFcbiAgLy8gdHJhbnNwaWxlciwgYW5kIHRoZSBvcmlnaW5hbCBzb3VyY2UgaXMgcHJvYmFibHkgYSBiZXR0ZXIgaW5kaWNhdG9yIG9mIHRoZVxuICAvLyB0cnVlIG93bmVyLlxuICB2YXIgc291cmNlID0gZWxlbWVudC5fc291cmNlO1xuXG4gIC8vIE93bmVyIHdpbGwgYmUgcHJlc2VydmVkLCB1bmxlc3MgcmVmIGlzIG92ZXJyaWRkZW5cbiAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG5cbiAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIC8vIFNpbGVudGx5IHN0ZWFsIHRoZSByZWYgZnJvbSB0aGUgcGFyZW50LlxuICAgICAgcmVmID0gY29uZmlnLnJlZjtcbiAgICAgIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICB9XG4gICAgaWYgKGhhc1ZhbGlkS2V5KGNvbmZpZykpIHtcbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICAvLyBSZW1haW5pbmcgcHJvcGVydGllcyBvdmVycmlkZSBleGlzdGluZyBwcm9wc1xuICAgIHZhciBkZWZhdWx0UHJvcHMgPSB2b2lkIDA7XG4gICAgaWYgKGVsZW1lbnQudHlwZSAmJiBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICBkZWZhdWx0UHJvcHMgPSBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzO1xuICAgIH1cbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBpZiAoY29uZmlnW3Byb3BOYW1lXSA9PT0gdW5kZWZpbmVkICYmIGRlZmF1bHRQcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gUmVzb2x2ZSBkZWZhdWx0IHByb3BzXG4gICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hpbGRyZW4gY2FuIGJlIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQsIGFuZCB0aG9zZSBhcmUgdHJhbnNmZXJyZWQgb250b1xuICAvLyB0aGUgbmV3bHkgYWxsb2NhdGVkIHByb3BzIG9iamVjdC5cbiAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICB9XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0RWxlbWVudChlbGVtZW50LnR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcyk7XG59XG5cbi8qKlxuICogVmVyaWZpZXMgdGhlIG9iamVjdCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjaXN2YWxpZGVsZW1lbnRcbiAqIEBwYXJhbSB7P29iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBvYmplY3RgIGlzIGEgdmFsaWQgY29tcG9uZW50LlxuICogQGZpbmFsXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xufVxuXG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IHt9O1xuXG57XG4gIC8vIENvbXBvbmVudCB0aGF0IGlzIGJlaW5nIHdvcmtlZCBvblxuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldEN1cnJlbnRTdGFjayA9IG51bGw7XG5cbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbXBsID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2s7XG4gICAgaWYgKGltcGwpIHtcbiAgICAgIHJldHVybiBpbXBsKCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG52YXIgU0VQQVJBVE9SID0gJy4nO1xudmFyIFNVQlNFUEFSQVRPUiA9ICc6JztcblxuLyoqXG4gKiBFc2NhcGUgYW5kIHdyYXAga2V5IHNvIGl0IGlzIHNhZmUgdG8gdXNlIGFzIGEgcmVhY3RpZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdG8gYmUgZXNjYXBlZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGVzY2FwZWQga2V5LlxuICovXG5mdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gIHZhciBlc2NhcGVSZWdleCA9IC9bPTpdL2c7XG4gIHZhciBlc2NhcGVyTG9va3VwID0ge1xuICAgICc9JzogJz0wJyxcbiAgICAnOic6ICc9MidcbiAgfTtcbiAgdmFyIGVzY2FwZWRTdHJpbmcgPSAoJycgKyBrZXkpLnJlcGxhY2UoZXNjYXBlUmVnZXgsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgfSk7XG5cbiAgcmV0dXJuICckJyArIGVzY2FwZWRTdHJpbmc7XG59XG5cbi8qKlxuICogVE9ETzogVGVzdCB0aGF0IGEgc2luZ2xlIGNoaWxkIGFuZCBhbiBhcnJheSB3aXRoIG9uZSBpdGVtIGhhdmUgdGhlIHNhbWUga2V5XG4gKiBwYXR0ZXJuLlxuICovXG5cbnZhciBkaWRXYXJuQWJvdXRNYXBzID0gZmFsc2U7XG5cbnZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2c7XG5mdW5jdGlvbiBlc2NhcGVVc2VyUHJvdmlkZWRLZXkodGV4dCkge1xuICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZSh1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCwgJyQmLycpO1xufVxuXG52YXIgUE9PTF9TSVpFID0gMTA7XG52YXIgdHJhdmVyc2VDb250ZXh0UG9vbCA9IFtdO1xuZnVuY3Rpb24gZ2V0UG9vbGVkVHJhdmVyc2VDb250ZXh0KG1hcFJlc3VsdCwga2V5UHJlZml4LCBtYXBGdW5jdGlvbiwgbWFwQ29udGV4dCkge1xuICBpZiAodHJhdmVyc2VDb250ZXh0UG9vbC5sZW5ndGgpIHtcbiAgICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gdHJhdmVyc2VDb250ZXh0UG9vbC5wb3AoKTtcbiAgICB0cmF2ZXJzZUNvbnRleHQucmVzdWx0ID0gbWFwUmVzdWx0O1xuICAgIHRyYXZlcnNlQ29udGV4dC5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gICAgdHJhdmVyc2VDb250ZXh0LmZ1bmMgPSBtYXBGdW5jdGlvbjtcbiAgICB0cmF2ZXJzZUNvbnRleHQuY29udGV4dCA9IG1hcENvbnRleHQ7XG4gICAgdHJhdmVyc2VDb250ZXh0LmNvdW50ID0gMDtcbiAgICByZXR1cm4gdHJhdmVyc2VDb250ZXh0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICByZXN1bHQ6IG1hcFJlc3VsdCxcbiAgICAgIGtleVByZWZpeDoga2V5UHJlZml4LFxuICAgICAgZnVuYzogbWFwRnVuY3Rpb24sXG4gICAgICBjb250ZXh0OiBtYXBDb250ZXh0LFxuICAgICAgY291bnQ6IDBcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbGVhc2VUcmF2ZXJzZUNvbnRleHQodHJhdmVyc2VDb250ZXh0KSB7XG4gIHRyYXZlcnNlQ29udGV4dC5yZXN1bHQgPSBudWxsO1xuICB0cmF2ZXJzZUNvbnRleHQua2V5UHJlZml4ID0gbnVsbDtcbiAgdHJhdmVyc2VDb250ZXh0LmZ1bmMgPSBudWxsO1xuICB0cmF2ZXJzZUNvbnRleHQuY29udGV4dCA9IG51bGw7XG4gIHRyYXZlcnNlQ29udGV4dC5jb3VudCA9IDA7XG4gIGlmICh0cmF2ZXJzZUNvbnRleHRQb29sLmxlbmd0aCA8IFBPT0xfU0laRSkge1xuICAgIHRyYXZlcnNlQ29udGV4dFBvb2wucHVzaCh0cmF2ZXJzZUNvbnRleHQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcGFyYW0geyFzdHJpbmd9IG5hbWVTb0ZhciBOYW1lIG9mIHRoZSBrZXkgcGF0aCBzbyBmYXIuXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdpdGggZWFjaCBjaGlsZCBmb3VuZC5cbiAqIEBwYXJhbSB7Pyp9IHRyYXZlcnNlQ29udGV4dCBVc2VkIHRvIHBhc3MgaW5mb3JtYXRpb24gdGhyb3VnaG91dCB0aGUgdHJhdmVyc2FsXG4gKiBwcm9jZXNzLlxuICogQHJldHVybiB7IW51bWJlcn0gVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiB0aGlzIHN1YnRyZWUuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkcmVuLCBuYW1lU29GYXIsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG5cbiAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGUgPT09ICdib29sZWFuJykge1xuICAgIC8vIEFsbCBvZiB0aGUgYWJvdmUgYXJlIHBlcmNlaXZlZCBhcyBudWxsLlxuICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgfVxuXG4gIHZhciBpbnZva2VDYWxsYmFjayA9IGZhbHNlO1xuXG4gIGlmIChjaGlsZHJlbiA9PT0gbnVsbCkge1xuICAgIGludm9rZUNhbGxiYWNrID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgc3dpdGNoIChjaGlsZHJlbi4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaW52b2tlQ2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0cmF2ZXJzZUNvbnRleHQsIGNoaWxkcmVuLFxuICAgIC8vIElmIGl0J3MgdGhlIG9ubHkgY2hpbGQsIHRyZWF0IHRoZSBuYW1lIGFzIGlmIGl0IHdhcyB3cmFwcGVkIGluIGFuIGFycmF5XG4gICAgLy8gc28gdGhhdCBpdCdzIGNvbnNpc3RlbnQgaWYgdGhlIG51bWJlciBvZiBjaGlsZHJlbiBncm93cy5cbiAgICBuYW1lU29GYXIgPT09ICcnID8gU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkcmVuLCAwKSA6IG5hbWVTb0Zhcik7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDA7XG4gIHZhciBuZXh0TmFtZSA9IHZvaWQgMDtcbiAgdmFyIHN1YnRyZWVDb3VudCA9IDA7IC8vIENvdW50IG9mIGNoaWxkcmVuIGZvdW5kIGluIHRoZSBjdXJyZW50IHN1YnRyZWUuXG4gIHZhciBuZXh0TmFtZVByZWZpeCA9IG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgOiBuYW1lU29GYXIgKyBTVUJTRVBBUkFUT1I7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBnZXRDb21wb25lbnRLZXkoY2hpbGQsIGkpO1xuICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihjaGlsZHJlbik7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB7XG4gICAgICAgIC8vIFdhcm4gYWJvdXQgdXNpbmcgTWFwcyBhcyBjaGlsZHJlblxuICAgICAgICBpZiAoaXRlcmF0b3JGbiA9PT0gY2hpbGRyZW4uZW50cmllcykge1xuICAgICAgICAgICFkaWRXYXJuQWJvdXRNYXBzID8gd2FybmluZyhmYWxzZSwgJ1VzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgdW5zdXBwb3J0ZWQgYW5kIHdpbGwgbGlrZWx5IHlpZWxkICcgKyAndW5leHBlY3RlZCByZXN1bHRzLiBDb252ZXJ0IGl0IHRvIGEgc2VxdWVuY2UvaXRlcmFibGUgb2Yga2V5ZWQgJyArICdSZWFjdEVsZW1lbnRzIGluc3RlYWQuJXMnLCBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKSkgOiB2b2lkIDA7XG4gICAgICAgICAgZGlkV2FybkFib3V0TWFwcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKGNoaWxkcmVuKTtcbiAgICAgIHZhciBzdGVwID0gdm9pZCAwO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgY2hpbGQgPSBzdGVwLnZhbHVlO1xuICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpaSsrKTtcbiAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGFkZGVuZHVtID0gJyc7XG4gICAgICB7XG4gICAgICAgIGFkZGVuZHVtID0gJyBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5ICcgKyAnaW5zdGVhZC4nICsgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRyZW5TdHJpbmcgPSAnJyArIGNoaWxkcmVuO1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiAlcykuJXMnLCBjaGlsZHJlblN0cmluZyA9PT0gJ1tvYmplY3QgT2JqZWN0XScgPyAnb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKCcsICcpICsgJ30nIDogY2hpbGRyZW5TdHJpbmcsIGFkZGVuZHVtKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3VidHJlZUNvdW50O1xufVxuXG4vKipcbiAqIFRyYXZlcnNlcyBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmAsIGJ1dFxuICogbWlnaHQgYWxzbyBiZSBzcGVjaWZpZWQgdGhyb3VnaCBhdHRyaWJ1dGVzOlxuICpcbiAqIC0gYHRyYXZlcnNlQWxsQ2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbiwgLi4uKWBcbiAqIC0gYHRyYXZlcnNlQWxsQ2hpbGRyZW4odGhpcy5wcm9wcy5sZWZ0UGFuZWxDaGlsZHJlbiwgLi4uKWBcbiAqXG4gKiBUaGUgYHRyYXZlcnNlQ29udGV4dGAgaXMgYW4gb3B0aW9uYWwgYXJndW1lbnQgdGhhdCBpcyBwYXNzZWQgdGhyb3VnaCB0aGVcbiAqIGVudGlyZSB0cmF2ZXJzYWwuIEl0IGNhbiBiZSB1c2VkIHRvIHN0b3JlIGFjY3VtdWxhdGlvbnMgb3IgYW55dGhpbmcgZWxzZSB0aGF0XG4gKiB0aGUgY2FsbGJhY2sgbWlnaHQgZmluZCByZWxldmFudC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIG9iamVjdC5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9ufSBjYWxsYmFjayBUbyBpbnZva2UgdXBvbiB0cmF2ZXJzaW5nIGVhY2ggY2hpbGQuXG4gKiBAcGFyYW0gez8qfSB0cmF2ZXJzZUNvbnRleHQgQ29udGV4dCBmb3IgdHJhdmVyc2FsLlxuICogQHJldHVybiB7IW51bWJlcn0gVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiB0aGlzIHN1YnRyZWUuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgJycsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEga2V5IHN0cmluZyB0aGF0IGlkZW50aWZpZXMgYSBjb21wb25lbnQgd2l0aGluIGEgc2V0LlxuICpcbiAqIEBwYXJhbSB7Kn0gY29tcG9uZW50IEEgY29tcG9uZW50IHRoYXQgY291bGQgY29udGFpbiBhIG1hbnVhbCBrZXkuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXggdGhhdCBpcyB1c2VkIGlmIGEgbWFudWFsIGtleSBpcyBub3QgcHJvdmlkZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudEtleShjb21wb25lbnQsIGluZGV4KSB7XG4gIC8vIERvIHNvbWUgdHlwZWNoZWNraW5nIGhlcmUgc2luY2Ugd2UgY2FsbCB0aGlzIGJsaW5kbHkuIFdlIHdhbnQgdG8gZW5zdXJlXG4gIC8vIHRoYXQgd2UgZG9uJ3QgYmxvY2sgcG90ZW50aWFsIGZ1dHVyZSBFUyBBUElzLlxuICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcgJiYgY29tcG9uZW50ICE9PSBudWxsICYmIGNvbXBvbmVudC5rZXkgIT0gbnVsbCkge1xuICAgIC8vIEV4cGxpY2l0IGtleVxuICAgIHJldHVybiBlc2NhcGUoY29tcG9uZW50LmtleSk7XG4gIH1cbiAgLy8gSW1wbGljaXQga2V5IGRldGVybWluZWQgYnkgdGhlIGluZGV4IGluIHRoZSBzZXRcbiAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKDM2KTtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmMsXG4gICAgICBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcblxuICBmdW5jLmNhbGwoY29udGV4dCwgY2hpbGQsIGJvb2tLZWVwaW5nLmNvdW50KyspO1xufVxuXG4vKipcbiAqIEl0ZXJhdGVzIHRocm91Z2ggY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3RjaGlsZHJlbmZvcmVhY2hcbiAqXG4gKiBUaGUgcHJvdmlkZWQgZm9yRWFjaEZ1bmMoY2hpbGQsIGluZGV4KSB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaFxuICogbGVhZiBjaGlsZC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgaW50KX0gZm9yRWFjaEZ1bmNcbiAqIEBwYXJhbSB7Kn0gZm9yRWFjaENvbnRleHQgQ29udGV4dCBmb3IgZm9yRWFjaENvbnRleHQuXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2hDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBnZXRQb29sZWRUcmF2ZXJzZUNvbnRleHQobnVsbCwgbnVsbCwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkLCB0cmF2ZXJzZUNvbnRleHQpO1xuICByZWxlYXNlVHJhdmVyc2VDb250ZXh0KHRyYXZlcnNlQ29udGV4dCk7XG59XG5cbmZ1bmN0aW9uIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQoYm9va0tlZXBpbmcsIGNoaWxkLCBjaGlsZEtleSkge1xuICB2YXIgcmVzdWx0ID0gYm9va0tlZXBpbmcucmVzdWx0LFxuICAgICAga2V5UHJlZml4ID0gYm9va0tlZXBpbmcua2V5UHJlZml4LFxuICAgICAgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmMsXG4gICAgICBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcblxuXG4gIHZhciBtYXBwZWRDaGlsZCA9IGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgYm9va0tlZXBpbmcuY291bnQrKyk7XG4gIGlmIChBcnJheS5pc0FycmF5KG1hcHBlZENoaWxkKSkge1xuICAgIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwobWFwcGVkQ2hpbGQsIHJlc3VsdCwgY2hpbGRLZXksIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIH0gZWxzZSBpZiAobWFwcGVkQ2hpbGQgIT0gbnVsbCkge1xuICAgIGlmIChpc1ZhbGlkRWxlbWVudChtYXBwZWRDaGlsZCkpIHtcbiAgICAgIG1hcHBlZENoaWxkID0gY2xvbmVBbmRSZXBsYWNlS2V5KG1hcHBlZENoaWxkLFxuICAgICAgLy8gS2VlcCBib3RoIHRoZSAobWFwcGVkKSBhbmQgb2xkIGtleXMgaWYgdGhleSBkaWZmZXIsIGp1c3QgYXNcbiAgICAgIC8vIHRyYXZlcnNlQWxsQ2hpbGRyZW4gdXNlZCB0byBkbyBmb3Igb2JqZWN0cyBhcyBjaGlsZHJlblxuICAgICAga2V5UHJlZml4ICsgKG1hcHBlZENoaWxkLmtleSAmJiAoIWNoaWxkIHx8IGNoaWxkLmtleSAhPT0gbWFwcGVkQ2hpbGQua2V5KSA/IGVzY2FwZVVzZXJQcm92aWRlZEtleShtYXBwZWRDaGlsZC5rZXkpICsgJy8nIDogJycpICsgY2hpbGRLZXkpO1xuICAgIH1cbiAgICByZXN1bHQucHVzaChtYXBwZWRDaGlsZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgYXJyYXksIHByZWZpeCwgZnVuYywgY29udGV4dCkge1xuICB2YXIgZXNjYXBlZFByZWZpeCA9ICcnO1xuICBpZiAocHJlZml4ICE9IG51bGwpIHtcbiAgICBlc2NhcGVkUHJlZml4ID0gZXNjYXBlVXNlclByb3ZpZGVkS2V5KHByZWZpeCkgKyAnLyc7XG4gIH1cbiAgdmFyIHRyYXZlcnNlQ29udGV4dCA9IGdldFBvb2xlZFRyYXZlcnNlQ29udGV4dChhcnJheSwgZXNjYXBlZFByZWZpeCwgZnVuYywgY29udGV4dCk7XG4gIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQsIHRyYXZlcnNlQ29udGV4dCk7XG4gIHJlbGVhc2VUcmF2ZXJzZUNvbnRleHQodHJhdmVyc2VDb250ZXh0KTtcbn1cblxuLyoqXG4gKiBNYXBzIGNoaWxkcmVuIHRoYXQgYXJlIHR5cGljYWxseSBzcGVjaWZpZWQgYXMgYHByb3BzLmNoaWxkcmVuYC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0Y2hpbGRyZW5tYXBcbiAqXG4gKiBUaGUgcHJvdmlkZWQgbWFwRnVuY3Rpb24oY2hpbGQsIGtleSwgaW5kZXgpIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoXG4gKiBsZWFmIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHtmdW5jdGlvbigqLCBpbnQpfSBmdW5jIFRoZSBtYXAgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgQ29udGV4dCBmb3IgbWFwRnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtvYmplY3R9IE9iamVjdCBjb250YWluaW5nIHRoZSBvcmRlcmVkIG1hcCBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIHJlc3VsdCwgbnVsbCwgZnVuYywgY29udGV4dCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ291bnQgdGhlIG51bWJlciBvZiBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzXG4gKiBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3RjaGlsZHJlbmNvdW50XG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4uXG4gKi9cbmZ1bmN0aW9uIGNvdW50Q2hpbGRyZW4oY2hpbGRyZW4pIHtcbiAgcmV0dXJuIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsLCBudWxsKTtcbn1cblxuLyoqXG4gKiBGbGF0dGVuIGEgY2hpbGRyZW4gb2JqZWN0ICh0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmApIGFuZFxuICogcmV0dXJuIGFuIGFycmF5IHdpdGggYXBwcm9wcmlhdGVseSByZS1rZXllZCBjaGlsZHJlbi5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0Y2hpbGRyZW50b2FycmF5XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgY2hpbGQgaW4gYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuIGFuZCB2ZXJpZmllcyB0aGF0IHRoZXJlXG4gKiBpcyBvbmx5IG9uZSBjaGlsZCBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0Y2hpbGRyZW5vbmx5XG4gKlxuICogVGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBmdW5jdGlvbiBhc3N1bWVzIHRoYXQgYSBzaW5nbGUgY2hpbGQgZ2V0c1xuICogcGFzc2VkIHdpdGhvdXQgYSB3cmFwcGVyLCBidXQgdGhlIHB1cnBvc2Ugb2YgdGhpcyBoZWxwZXIgZnVuY3Rpb24gaXMgdG9cbiAqIGFic3RyYWN0IGF3YXkgdGhlIHBhcnRpY3VsYXIgc3RydWN0dXJlIG9mIGNoaWxkcmVuLlxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gY2hpbGRyZW4gQ2hpbGQgY29sbGVjdGlvbiBzdHJ1Y3R1cmUuXG4gKiBAcmV0dXJuIHtSZWFjdEVsZW1lbnR9IFRoZSBmaXJzdCBhbmQgb25seSBgUmVhY3RFbGVtZW50YCBjb250YWluZWQgaW4gdGhlXG4gKiBzdHJ1Y3R1cmUuXG4gKi9cbmZ1bmN0aW9uIG9ubHlDaGlsZChjaGlsZHJlbikge1xuICAhaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3QuQ2hpbGRyZW4ub25seSBleHBlY3RlZCB0byByZWNlaXZlIGEgc2luZ2xlIFJlYWN0IGVsZW1lbnQgY2hpbGQuJykgOiB2b2lkIDA7XG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUsIGNhbGN1bGF0ZUNoYW5nZWRCaXRzKSB7XG4gIGlmIChjYWxjdWxhdGVDaGFuZ2VkQml0cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHtcbiAgICAgICEoY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPT09IG51bGwgfHwgdHlwZW9mIGNhbGN1bGF0ZUNoYW5nZWRCaXRzID09PSAnZnVuY3Rpb24nKSA/IHdhcm5pbmcoZmFsc2UsICdjcmVhdGVDb250ZXh0OiBFeHBlY3RlZCB0aGUgb3B0aW9uYWwgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIGEgJyArICdmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMnLCBjYWxjdWxhdGVDaGFuZ2VkQml0cykgOiB2b2lkIDA7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlRFWFRfVFlQRSxcbiAgICBfY2FsY3VsYXRlQ2hhbmdlZEJpdHM6IGNhbGN1bGF0ZUNoYW5nZWRCaXRzLFxuICAgIF9kZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICBfY3VycmVudFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgLy8gQXMgYSB3b3JrYXJvdW5kIHRvIHN1cHBvcnQgbXVsdGlwbGUgY29uY3VycmVudCByZW5kZXJlcnMsIHdlIGNhdGVnb3JpemVcbiAgICAvLyBzb21lIHJlbmRlcmVycyBhcyBwcmltYXJ5IGFuZCBvdGhlcnMgYXMgc2Vjb25kYXJ5LiBXZSBvbmx5IGV4cGVjdFxuICAgIC8vIHRoZXJlIHRvIGJlIHR3byBjb25jdXJyZW50IHJlbmRlcmVycyBhdCBtb3N0OiBSZWFjdCBOYXRpdmUgKHByaW1hcnkpIGFuZFxuICAgIC8vIEZhYnJpYyAoc2Vjb25kYXJ5KTsgUmVhY3QgRE9NIChwcmltYXJ5KSBhbmQgUmVhY3QgQVJUIChzZWNvbmRhcnkpLlxuICAgIC8vIFNlY29uZGFyeSByZW5kZXJlcnMgc3RvcmUgdGhlaXIgY29udGV4dCB2YWx1ZXMgb24gc2VwYXJhdGUgZmllbGRzLlxuICAgIF9jdXJyZW50VmFsdWUyOiBkZWZhdWx0VmFsdWUsXG4gICAgX2NoYW5nZWRCaXRzOiAwLFxuICAgIF9jaGFuZ2VkQml0czI6IDAsXG4gICAgLy8gVGhlc2UgYXJlIGNpcmN1bGFyXG4gICAgUHJvdmlkZXI6IG51bGwsXG4gICAgQ29uc3VtZXI6IG51bGxcbiAgfTtcblxuICBjb250ZXh0LlByb3ZpZGVyID0ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9QUk9WSURFUl9UWVBFLFxuICAgIF9jb250ZXh0OiBjb250ZXh0XG4gIH07XG4gIGNvbnRleHQuQ29uc3VtZXIgPSBjb250ZXh0O1xuXG4gIHtcbiAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPSBudWxsO1xuICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlcjIgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIGZvcndhcmRSZWYocmVuZGVyKSB7XG4gIHtcbiAgICAhKHR5cGVvZiByZW5kZXIgPT09ICdmdW5jdGlvbicpID8gd2FybmluZyhmYWxzZSwgJ2ZvcndhcmRSZWYgcmVxdWlyZXMgYSByZW5kZXIgZnVuY3Rpb24gYnV0IHdhcyBnaXZlbiAlcy4nLCByZW5kZXIgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgcmVuZGVyKSA6IHZvaWQgMDtcblxuICAgIGlmIChyZW5kZXIgIT0gbnVsbCkge1xuICAgICAgIShyZW5kZXIuZGVmYXVsdFByb3BzID09IG51bGwgJiYgcmVuZGVyLnByb3BUeXBlcyA9PSBudWxsKSA/IHdhcm5pbmcoZmFsc2UsICdmb3J3YXJkUmVmIHJlbmRlciBmdW5jdGlvbnMgZG8gbm90IHN1cHBvcnQgcHJvcFR5cGVzIG9yIGRlZmF1bHRQcm9wcy4gJyArICdEaWQgeW91IGFjY2lkZW50YWxseSBwYXNzIGEgUmVhY3QgY29tcG9uZW50PycpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUsXG4gICAgcmVuZGVyOiByZW5kZXJcbiAgfTtcbn1cblxudmFyIGRlc2NyaWJlQ29tcG9uZW50RnJhbWUgPSBmdW5jdGlvbiAobmFtZSwgc291cmNlLCBvd25lck5hbWUpIHtcbiAgcmV0dXJuICdcXG4gICAgaW4gJyArIChuYW1lIHx8ICdVbmtub3duJykgKyAoc291cmNlID8gJyAoYXQgJyArIHNvdXJjZS5maWxlTmFtZS5yZXBsYWNlKC9eLipbXFxcXFxcL10vLCAnJykgKyAnOicgKyBzb3VyY2UubGluZU51bWJlciArICcpJyA6IG93bmVyTmFtZSA/ICcgKGNyZWF0ZWQgYnkgJyArIG93bmVyTmFtZSArICcpJyA6ICcnKTtcbn07XG5cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSB7XG4gIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHxcbiAgLy8gTm90ZTogaXRzIHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIGlmIGl0J3MgYSBwb2x5ZmlsbC5cbiAgdHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9BU1lOQ19NT0RFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1RJTUVPVVRfVFlQRSB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSk7XG59XG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoZmliZXIpIHtcbiAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZTtcbiAgfVxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU6XG4gICAgICByZXR1cm4gJ0FzeW5jTW9kZSc7XG4gICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICByZXR1cm4gJ0NvbnRleHQuQ29uc3VtZXInO1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RGcmFnbWVudCc7XG4gICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RQb3J0YWwnO1xuICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgIHJldHVybiAnUHJvZmlsZXIoJyArIGZpYmVyLnBlbmRpbmdQcm9wcy5pZCArICcpJztcbiAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICByZXR1cm4gJ0NvbnRleHQuUHJvdmlkZXInO1xuICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgIHJldHVybiAnU3RyaWN0TW9kZSc7XG4gICAgY2FzZSBSRUFDVF9USU1FT1VUX1RZUEU6XG4gICAgICByZXR1cm4gJ1RpbWVvdXQnO1xuICB9XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gdHlwZS5yZW5kZXIuZGlzcGxheU5hbWUgfHwgdHlwZS5yZW5kZXIubmFtZSB8fCAnJztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyAnRm9yd2FyZFJlZignICsgZnVuY3Rpb25OYW1lICsgJyknIDogJ0ZvcndhcmRSZWYnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgcHJvdmlkZXMgYSB3cmFwcGVyIGFyb3VuZCBhIGVsZW1lbnQgZmFjdG9yeVxuICogd2hpY2ggdmFsaWRhdGVzIHRoZSBwcm9wcyBwYXNzZWQgdG8gdGhlIGVsZW1lbnQuIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmVcbiAqIHVzZWQgb25seSBpbiBERVYgYW5kIGNvdWxkIGJlIHJlcGxhY2VkIGJ5IGEgc3RhdGljIHR5cGUgY2hlY2tlciBmb3IgbGFuZ3VhZ2VzXG4gKiB0aGF0IHN1cHBvcnQgaXQuXG4gKi9cblxudmFyIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gdm9pZCAwO1xudmFyIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gdm9pZCAwO1xuXG52YXIgZ2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoKSB7fTtcbnZhciBnZXRTdGFja0FkZGVuZHVtID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBudWxsO1xuXG4gIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gZmFsc2U7XG5cbiAgZ2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiAnI2VtcHR5JztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgZWxlbWVudCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiAnI3RleHQnO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnR5cGU7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHJldHVybiAnUmVhY3QuRnJhZ21lbnQnO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSkge1xuICAgICAgdmFyIGZ1bmN0aW9uTmFtZSA9IHR5cGUucmVuZGVyLmRpc3BsYXlOYW1lIHx8IHR5cGUucmVuZGVyLm5hbWUgfHwgJyc7XG4gICAgICByZXR1cm4gZnVuY3Rpb25OYW1lICE9PSAnJyA/ICdGb3J3YXJkUmVmKCcgKyBmdW5jdGlvbk5hbWUgKyAnKScgOiAnRm9yd2FyZFJlZic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCAnVW5rbm93bic7XG4gICAgfVxuICB9O1xuXG4gIGdldFN0YWNrQWRkZW5kdW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0YWNrID0gJyc7XG4gICAgaWYgKGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IGdldERpc3BsYXlOYW1lKGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KTtcbiAgICAgIHZhciBvd25lciA9IGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50Ll9vd25lcjtcbiAgICAgIHN0YWNrICs9IGRlc2NyaWJlQ29tcG9uZW50RnJhbWUobmFtZSwgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQuX3NvdXJjZSwgb3duZXIgJiYgZ2V0Q29tcG9uZW50TmFtZShvd25lcikpO1xuICAgIH1cbiAgICBzdGFjayArPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKSB8fCAnJztcbiAgICByZXR1cm4gc3RhY2s7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAgaWYgKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQpIHtcbiAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCk7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bShlbGVtZW50UHJvcHMpIHtcbiAgaWYgKGVsZW1lbnRQcm9wcyAhPT0gbnVsbCAmJiBlbGVtZW50UHJvcHMgIT09IHVuZGVmaW5lZCAmJiBlbGVtZW50UHJvcHMuX19zb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBzb3VyY2UgPSBlbGVtZW50UHJvcHMuX19zb3VyY2U7XG4gICAgdmFyIGZpbGVOYW1lID0gc291cmNlLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sICcnKTtcbiAgICB2YXIgbGluZU51bWJlciA9IHNvdXJjZS5saW5lTnVtYmVyO1xuICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgeW91ciBjb2RlIGF0ICcgKyBmaWxlTmFtZSArICc6JyArIGxpbmVOdW1iZXIgKyAnLic7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICogdXBkYXRlcy5cbiAqL1xudmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAgdmFyIGluZm8gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcblxuICBpZiAoIWluZm8pIHtcbiAgICB2YXIgcGFyZW50TmFtZSA9IHR5cGVvZiBwYXJlbnRUeXBlID09PSAnc3RyaW5nJyA/IHBhcmVudFR5cGUgOiBwYXJlbnRUeXBlLmRpc3BsYXlOYW1lIHx8IHBhcmVudFR5cGUubmFtZTtcbiAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgaW5mbyA9ICdcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDwnICsgcGFyZW50TmFtZSArICc+Lic7XG4gICAgfVxuICB9XG4gIHJldHVybiBpbmZvO1xufVxuXG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuXG4gIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKTtcbiAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgIHJldHVybjtcbiAgfVxuICBvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10gPSB0cnVlO1xuXG4gIC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gIC8vIHByb3BlcnR5LCBpdCBtYXkgYmUgdGhlIGNyZWF0b3Igb2YgdGhlIGNoaWxkIHRoYXQncyByZXNwb25zaWJsZSBmb3JcbiAgLy8gYXNzaWduaW5nIGl0IGEga2V5LlxuICB2YXIgY2hpbGRPd25lciA9ICcnO1xuICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgIC8vIEdpdmUgdGhlIGNvbXBvbmVudCB0aGF0IG9yaWdpbmFsbHkgY3JlYXRlZCB0aGlzIGNoaWxkLlxuICAgIGNoaWxkT3duZXIgPSAnIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tICcgKyBnZXRDb21wb25lbnROYW1lKGVsZW1lbnQuX293bmVyKSArICcuJztcbiAgfVxuXG4gIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gZWxlbWVudDtcbiAge1xuICAgIHdhcm5pbmcoZmFsc2UsICdFYWNoIGNoaWxkIGluIGFuIGFycmF5IG9yIGl0ZXJhdG9yIHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4nICsgJyVzJXMgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLiVzJywgY3VycmVudENvbXBvbmVudEVycm9ySW5mbywgY2hpbGRPd25lciwgZ2V0U3RhY2tBZGRlbmR1bSgpKTtcbiAgfVxuICBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IG51bGw7XG59XG5cbi8qKlxuICogRW5zdXJlIHRoYXQgZXZlcnkgZWxlbWVudCBlaXRoZXIgaXMgcGFzc2VkIGluIGEgc3RhdGljIGxvY2F0aW9uLCBpbiBhblxuICogYXJyYXkgd2l0aCBhbiBleHBsaWNpdCBrZXlzIHByb3BlcnR5IGRlZmluZWQsIG9yIGluIGFuIG9iamVjdCBsaXRlcmFsXG4gKiB3aXRoIHZhbGlkIGtleSBwcm9wZXJ0eS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7UmVhY3ROb2RlfSBub2RlIFN0YXRpY2FsbHkgcGFzc2VkIGNoaWxkIG9mIGFueSB0eXBlLlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIG5vZGUncyBwYXJlbnQncyB0eXBlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIGlmICh0eXBlb2Ygbm9kZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG4gICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgIC8vIFRoaXMgZWxlbWVudCB3YXMgcGFzc2VkIGluIGEgdmFsaWQgbG9jYXRpb24uXG4gICAgaWYgKG5vZGUuX3N0b3JlKSB7XG4gICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG5vZGUpO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gRW50cnkgaXRlcmF0b3JzIHVzZWQgdG8gcHJvdmlkZSBpbXBsaWNpdCBrZXlzLFxuICAgICAgLy8gYnV0IG5vdyB3ZSBwcmludCBhIHNlcGFyYXRlIHdhcm5pbmcgZm9yIHRoZW0gbGF0ZXIuXG4gICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChub2RlKTtcbiAgICAgICAgdmFyIHN0ZXAgPSB2b2lkIDA7XG4gICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogR2l2ZW4gYW4gZWxlbWVudCwgdmFsaWRhdGUgdGhhdCBpdHMgcHJvcHMgZm9sbG93IHRoZSBwcm9wVHlwZXMgZGVmaW5pdGlvbixcbiAqIHByb3ZpZGVkIGJ5IHRoZSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpIHtcbiAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG4gIHZhciBuYW1lID0gdm9pZCAwLFxuICAgICAgcHJvcFR5cGVzID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBDbGFzcyBvciBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICAgIG5hbWUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZTtcbiAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcbiAgfSBlbHNlIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFKSB7XG4gICAgLy8gRm9yd2FyZFJlZlxuICAgIHZhciBmdW5jdGlvbk5hbWUgPSB0eXBlLnJlbmRlci5kaXNwbGF5TmFtZSB8fCB0eXBlLnJlbmRlci5uYW1lIHx8ICcnO1xuICAgIG5hbWUgPSBmdW5jdGlvbk5hbWUgIT09ICcnID8gJ0ZvcndhcmRSZWYoJyArIGZ1bmN0aW9uTmFtZSArICcpJyA6ICdGb3J3YXJkUmVmJztcbiAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHByb3BUeXBlcykge1xuICAgIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gZWxlbWVudDtcbiAgICBjaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsICdwcm9wJywgbmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSk7XG4gICAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBudWxsO1xuICB9IGVsc2UgaWYgKHR5cGUuUHJvcFR5cGVzICE9PSB1bmRlZmluZWQgJiYgIXByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duKSB7XG4gICAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD8nLCBuYW1lIHx8ICdVbmtub3duJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiB0eXBlLmdldERlZmF1bHRQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICF0eXBlLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCA/IHdhcm5pbmcoZmFsc2UsICdnZXREZWZhdWx0UHJvcHMgaXMgb25seSB1c2VkIG9uIGNsYXNzaWMgUmVhY3QuY3JlYXRlQ2xhc3MgJyArICdkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gIH1cbn1cblxuLyoqXG4gKiBHaXZlbiBhIGZyYWdtZW50LCB2YWxpZGF0ZSB0aGF0IGl0IGNhbiBvbmx5IGJlIHByb3ZpZGVkIHdpdGggZnJhZ21lbnQgcHJvcHNcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBmcmFnbWVudFxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZnJhZ21lbnQpIHtcbiAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBmcmFnbWVudDtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZyYWdtZW50LnByb3BzKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLiVzJywga2V5LCBnZXRTdGFja0FkZGVuZHVtKCkpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGZyYWdtZW50LnJlZiAhPT0gbnVsbCkge1xuICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGF0dHJpYnV0ZSBgcmVmYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLiVzJywgZ2V0U3RhY2tBZGRlbmR1bSgpKTtcbiAgfVxuXG4gIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhWYWxpZGF0aW9uKHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuICB2YXIgdmFsaWRUeXBlID0gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpO1xuXG4gIC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gIC8vIHN1Y2NlZWQgYW5kIHRoZXJlIHdpbGwgbGlrZWx5IGJlIGVycm9ycyBpbiByZW5kZXIuXG4gIGlmICghdmFsaWRUeXBlKSB7XG4gICAgdmFyIGluZm8gPSAnJztcbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlSW5mbyA9IGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHByb3BzKTtcbiAgICBpZiAoc291cmNlSW5mbykge1xuICAgICAgaW5mbyArPSBzb3VyY2VJbmZvO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbmZvICs9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuICAgIH1cblxuICAgIGluZm8gKz0gZ2V0U3RhY2tBZGRlbmR1bSgpIHx8ICcnO1xuXG4gICAgdmFyIHR5cGVTdHJpbmcgPSB2b2lkIDA7XG4gICAgaWYgKHR5cGUgPT09IG51bGwpIHtcbiAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICB0eXBlU3RyaW5nID0gJ2FycmF5JztcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZVN0cmluZyA9IHR5cGVvZiB0eXBlO1xuICAgIH1cblxuICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdC5jcmVhdGVFbGVtZW50OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciAnICsgJ2J1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgJyArICdjb21wb25lbnRzKSBidXQgZ290OiAlcy4lcycsIHR5cGVTdHJpbmcsIGluZm8pO1xuICB9XG5cbiAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgLy8gVGhlIHJlc3VsdCBjYW4gYmUgbnVsbGlzaCBpZiBhIG1vY2sgb3IgYSBjdXN0b20gZnVuY3Rpb24gaXMgdXNlZC5cbiAgLy8gVE9ETzogRHJvcCB0aGlzIHdoZW4gdGhlc2UgYXJlIG5vIGxvbmdlciBhbGxvd2VkIGFzIHRoZSB0eXBlIGFyZ3VtZW50LlxuICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAvLyBkb2Vzbid0IGV4cGVjdCBhIG5vbi1zdHJpbmcvZnVuY3Rpb24gdHlwZSBhbmQgY2FuIHRocm93IGNvbmZ1c2luZyBlcnJvcnMuXG4gIC8vIFdlIGRvbid0IHdhbnQgZXhjZXB0aW9uIGJlaGF2aW9yIHRvIGRpZmZlciBiZXR3ZWVuIGRldiBhbmQgcHJvZC5cbiAgLy8gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlIHR5cGUgaXNcbiAgLy8gZml4ZWQsIHRoZSBrZXkgd2FybmluZ3Mgd2lsbCBhcHBlYXIuKVxuICBpZiAodmFsaWRUeXBlKSB7XG4gICAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgdHlwZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmFjdG9yeVdpdGhWYWxpZGF0aW9uKHR5cGUpIHtcbiAgdmFyIHZhbGlkYXRlZEZhY3RvcnkgPSBjcmVhdGVFbGVtZW50V2l0aFZhbGlkYXRpb24uYmluZChudWxsLCB0eXBlKTtcbiAgdmFsaWRhdGVkRmFjdG9yeS50eXBlID0gdHlwZTtcbiAgLy8gTGVnYWN5IGhvb2s6IHJlbW92ZSBpdFxuICB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbGlkYXRlZEZhY3RvcnksICd0eXBlJywge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICdGYWN0b3J5LnR5cGUgaXMgZGVwcmVjYXRlZC4gQWNjZXNzIHRoZSBjbGFzcyBkaXJlY3RseSAnICsgJ2JlZm9yZSBwYXNzaW5nIGl0IHRvIGNyZWF0ZUZhY3RvcnkuJyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndHlwZScsIHtcbiAgICAgICAgICB2YWx1ZTogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdmFsaWRhdGVkRmFjdG9yeTtcbn1cblxuZnVuY3Rpb24gY2xvbmVFbGVtZW50V2l0aFZhbGlkYXRpb24oZWxlbWVudCwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gIHZhciBuZXdFbGVtZW50ID0gY2xvbmVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCBuZXdFbGVtZW50LnR5cGUpO1xuICB9XG4gIHZhbGlkYXRlUHJvcFR5cGVzKG5ld0VsZW1lbnQpO1xuICByZXR1cm4gbmV3RWxlbWVudDtcbn1cblxudmFyIFJlYWN0ID0ge1xuICBDaGlsZHJlbjoge1xuICAgIG1hcDogbWFwQ2hpbGRyZW4sXG4gICAgZm9yRWFjaDogZm9yRWFjaENoaWxkcmVuLFxuICAgIGNvdW50OiBjb3VudENoaWxkcmVuLFxuICAgIHRvQXJyYXk6IHRvQXJyYXksXG4gICAgb25seTogb25seUNoaWxkXG4gIH0sXG5cbiAgY3JlYXRlUmVmOiBjcmVhdGVSZWYsXG4gIENvbXBvbmVudDogQ29tcG9uZW50LFxuICBQdXJlQ29tcG9uZW50OiBQdXJlQ29tcG9uZW50LFxuXG4gIGNyZWF0ZUNvbnRleHQ6IGNyZWF0ZUNvbnRleHQsXG4gIGZvcndhcmRSZWY6IGZvcndhcmRSZWYsXG5cbiAgRnJhZ21lbnQ6IFJFQUNUX0ZSQUdNRU5UX1RZUEUsXG4gIFN0cmljdE1vZGU6IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUsXG4gIHVuc3RhYmxlX0FzeW5jTW9kZTogUkVBQ1RfQVNZTkNfTU9ERV9UWVBFLFxuICB1bnN0YWJsZV9Qcm9maWxlcjogUkVBQ1RfUFJPRklMRVJfVFlQRSxcblxuICBjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50V2l0aFZhbGlkYXRpb24sXG4gIGNsb25lRWxlbWVudDogY2xvbmVFbGVtZW50V2l0aFZhbGlkYXRpb24sXG4gIGNyZWF0ZUZhY3Rvcnk6IGNyZWF0ZUZhY3RvcnlXaXRoVmFsaWRhdGlvbixcbiAgaXNWYWxpZEVsZW1lbnQ6IGlzVmFsaWRFbGVtZW50LFxuXG4gIHZlcnNpb246IFJlYWN0VmVyc2lvbixcblxuICBfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDoge1xuICAgIFJlYWN0Q3VycmVudE93bmVyOiBSZWFjdEN1cnJlbnRPd25lcixcbiAgICAvLyBVc2VkIGJ5IHJlbmRlcmVycyB0byBhdm9pZCBidW5kbGluZyBvYmplY3QtYXNzaWduIHR3aWNlIGluIFVNRCBidW5kbGVzOlxuICAgIGFzc2lnbjogX2Fzc2lnblxuICB9XG59O1xuXG5pZiAoZW5hYmxlU3VzcGVuc2UpIHtcbiAgUmVhY3QuVGltZW91dCA9IFJFQUNUX1RJTUVPVVRfVFlQRTtcbn1cblxue1xuICBfYXNzaWduKFJlYWN0Ll9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELCB7XG4gICAgLy8gVGhlc2Ugc2hvdWxkIG5vdCBiZSBpbmNsdWRlZCBpbiBwcm9kdWN0aW9uLlxuICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWU6IFJlYWN0RGVidWdDdXJyZW50RnJhbWUsXG4gICAgLy8gU2hpbSBmb3IgUmVhY3QgRE9NIDE2LjAuMCB3aGljaCBzdGlsbCBkZXN0cnVjdHVyZWQgKGJ1dCBub3QgdXNlZCkgdGhpcy5cbiAgICAvLyBUT0RPOiByZW1vdmUgaW4gUmVhY3QgMTcuMC5cbiAgICBSZWFjdENvbXBvbmVudFRyZWVIb29rOiB7fVxuICB9KTtcbn1cblxuXG5cbnZhciBSZWFjdCQyID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGRlZmF1bHQ6IFJlYWN0XG59KTtcblxudmFyIFJlYWN0JDMgPSAoIFJlYWN0JDIgJiYgUmVhY3QgKSB8fCBSZWFjdCQyO1xuXG4vLyBUT0RPOiBkZWNpZGUgb24gdGhlIHRvcC1sZXZlbCBleHBvcnQgZm9ybS5cbi8vIFRoaXMgaXMgaGFja3kgYnV0IG1ha2VzIGl0IHdvcmsgd2l0aCBib3RoIFJvbGx1cCBhbmQgSmVzdC5cbnZhciByZWFjdCA9IFJlYWN0JDMuZGVmYXVsdCA/IFJlYWN0JDMuZGVmYXVsdCA6IFJlYWN0JDM7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVhY3Q7XG4gIH0pKCk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbi8qKlxuICogU2ltcGxlLCBsaWdodHdlaWdodCBtb2R1bGUgYXNzaXN0aW5nIHdpdGggdGhlIGRldGVjdGlvbiBhbmQgY29udGV4dCBvZlxuICogV29ya2VyLiBIZWxwcyBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYW5kIGFsbG93cyBjb2RlIHRvIHJlYXNvbiBhYm91dFxuICogd2hldGhlciBvciBub3QgdGhleSBhcmUgaW4gYSBXb3JrZXIsIGV2ZW4gaWYgdGhleSBuZXZlciBpbmNsdWRlIHRoZSBtYWluXG4gKiBgUmVhY3RXb3JrZXJgIGRlcGVuZGVuY3kuXG4gKi9cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHtcblxuICBjYW5Vc2VET006IGNhblVzZURPTSxcblxuICBjYW5Vc2VXb3JrZXJzOiB0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJyxcblxuICBjYW5Vc2VFdmVudExpc3RlbmVyczogY2FuVXNlRE9NICYmICEhKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIHx8IHdpbmRvdy5hdHRhY2hFdmVudCksXG5cbiAgY2FuVXNlVmlld3BvcnQ6IGNhblVzZURPTSAmJiAhIXdpbmRvdy5zY3JlZW4sXG5cbiAgaXNJbldvcmtlcjogIWNhblVzZURPTSAvLyBGb3Igbm93LCB0aGlzIGlzIHRydWUgLSBtaWdodCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFeGVjdXRpb25FbnZpcm9ubWVudDsiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBmYi13d3cvdHlwZW9mLXVuZGVmaW5lZCAqL1xuXG4vKipcbiAqIFNhbWUgYXMgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBidXQgd3JhcHMgaW4gYSB0cnktY2F0Y2ggYmxvY2suIEluIElFIGl0IGlzXG4gKiBub3Qgc2FmZSB0byBjYWxsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaWYgdGhlcmUgaXMgbm90aGluZyBmb2N1c2VkLlxuICpcbiAqIFRoZSBhY3RpdmVFbGVtZW50IHdpbGwgYmUgbnVsbCBvbmx5IGlmIHRoZSBkb2N1bWVudCBvciBkb2N1bWVudCBib2R5IGlzIG5vdFxuICogeWV0IGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHs/RE9NRG9jdW1lbnR9IGRvYyBEZWZhdWx0cyB0byBjdXJyZW50IGRvY3VtZW50LlxuICogQHJldHVybiB7P0RPTUVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoZG9jKSAvKj9ET01FbGVtZW50Ki97XG4gIGRvYyA9IGRvYyB8fCAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogdW5kZWZpbmVkKTtcbiAgaWYgKHR5cGVvZiBkb2MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gZG9jLmFjdGl2ZUVsZW1lbnQgfHwgZG9jLmJvZHk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZG9jLmJvZHk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRBY3RpdmVFbGVtZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqIFxuICovXG5cbi8qZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAqL1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG4gIGlmICh4ID09PSB5KSB7XG4gICAgLy8gU3RlcHMgMS01LCA3LTEwXG4gICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAvLyBBZGRlZCB0aGUgbm9uemVybyB5IGNoZWNrIHRvIG1ha2UgRmxvdyBoYXBweSwgYnV0IGl0IGlzIHJlZHVuZGFudFxuICAgIHJldHVybiB4ICE9PSAwIHx8IHkgIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuXG4vKipcbiAqIFBlcmZvcm1zIGVxdWFsaXR5IGJ5IGl0ZXJhdGluZyB0aHJvdWdoIGtleXMgb24gYW4gb2JqZWN0IGFuZCByZXR1cm5pbmcgZmFsc2VcbiAqIHdoZW4gYW55IGtleSBoYXMgdmFsdWVzIHdoaWNoIGFyZSBub3Qgc3RyaWN0bHkgZXF1YWwgYmV0d2VlbiB0aGUgYXJndW1lbnRzLlxuICogUmV0dXJucyB0cnVlIHdoZW4gdGhlIHZhbHVlcyBvZiBhbGwga2V5cyBhcmUgc3RyaWN0bHkgZXF1YWwuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChpcyhvYmpBLCBvYmpCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8IHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwga2V5c0FbaV0pIHx8ICFpcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hhbGxvd0VxdWFsOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbi8qKlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBvYmplY3QgaXMgYSBET00gbm9kZS5cbiAqL1xuZnVuY3Rpb24gaXNOb2RlKG9iamVjdCkge1xuICB2YXIgZG9jID0gb2JqZWN0ID8gb2JqZWN0Lm93bmVyRG9jdW1lbnQgfHwgb2JqZWN0IDogZG9jdW1lbnQ7XG4gIHZhciBkZWZhdWx0VmlldyA9IGRvYy5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gIHJldHVybiAhIShvYmplY3QgJiYgKHR5cGVvZiBkZWZhdWx0Vmlldy5Ob2RlID09PSAnZnVuY3Rpb24nID8gb2JqZWN0IGluc3RhbmNlb2YgZGVmYXVsdFZpZXcuTm9kZSA6IHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmplY3Qubm9kZVR5cGUgPT09ICdudW1iZXInICYmIHR5cGVvZiBvYmplY3Qubm9kZU5hbWUgPT09ICdzdHJpbmcnKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNOb2RlOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbnZhciBpc05vZGUgPSByZXF1aXJlKCcuL2lzTm9kZScpO1xuXG4vKipcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgb2JqZWN0IGlzIGEgRE9NIHRleHQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gaXNUZXh0Tm9kZShvYmplY3QpIHtcbiAgcmV0dXJuIGlzTm9kZShvYmplY3QpICYmIG9iamVjdC5ub2RlVHlwZSA9PSAzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzVGV4dE5vZGU7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIFxuICovXG5cbnZhciBpc1RleHROb2RlID0gcmVxdWlyZSgnLi9pc1RleHROb2RlJyk7XG5cbi8qZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGdpdmVuIERPTSBub2RlIGNvbnRhaW5zIG9yIGlzIGFub3RoZXIgRE9NIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZSkge1xuICBpZiAoIW91dGVyTm9kZSB8fCAhaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZSA9PT0gaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShvdXRlck5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGlzVGV4dE5vZGUoaW5uZXJOb2RlKSkge1xuICAgIHJldHVybiBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUucGFyZW50Tm9kZSk7XG4gIH0gZWxzZSBpZiAoJ2NvbnRhaW5zJyBpbiBvdXRlck5vZGUpIHtcbiAgICByZXR1cm4gb3V0ZXJOb2RlLmNvbnRhaW5zKGlubmVyTm9kZSk7XG4gIH0gZWxzZSBpZiAob3V0ZXJOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSB7XG4gICAgcmV0dXJuICEhKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpbm5lck5vZGUpICYgMTYpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRhaW5zTm9kZTsiLCIvKiogQGxpY2Vuc2UgUmVhY3QgdjE2LjQuMVxuICogcmVhY3QtZG9tLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLypcbiBNb2Rlcm5penIgMy4wLjBwcmUgKEN1c3RvbSBCdWlsZCkgfCBNSVRcbiovXG4ndXNlIHN0cmljdCc7dmFyIGFhPXJlcXVpcmUoXCJmYmpzL2xpYi9pbnZhcmlhbnRcIiksYmE9cmVxdWlyZShcInJlYWN0XCIpLG09cmVxdWlyZShcImZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50XCIpLHA9cmVxdWlyZShcIm9iamVjdC1hc3NpZ25cIiksdj1yZXF1aXJlKFwiZmJqcy9saWIvZW1wdHlGdW5jdGlvblwiKSxkYT1yZXF1aXJlKFwiZmJqcy9saWIvZ2V0QWN0aXZlRWxlbWVudFwiKSxlYT1yZXF1aXJlKFwiZmJqcy9saWIvc2hhbGxvd0VxdWFsXCIpLGZhPXJlcXVpcmUoXCJmYmpzL2xpYi9jb250YWluc05vZGVcIiksaGE9cmVxdWlyZShcImZianMvbGliL2VtcHR5T2JqZWN0XCIpO1xuZnVuY3Rpb24gQShhKXtmb3IodmFyIGI9YXJndW1lbnRzLmxlbmd0aC0xLGM9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIithLGQ9MDtkPGI7ZCsrKWMrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW2QrMV0pO2FhKCExLFwiTWluaWZpZWQgUmVhY3QgZXJyb3IgI1wiK2ErXCI7IHZpc2l0ICVzIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4gXCIsYyl9YmE/dm9pZCAwOkEoXCIyMjdcIik7XG5mdW5jdGlvbiBpYShhLGIsYyxkLGUsZixnLGgsayl7dGhpcy5faGFzQ2F1Z2h0RXJyb3I9ITE7dGhpcy5fY2F1Z2h0RXJyb3I9bnVsbDt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMyk7dHJ5e2IuYXBwbHkoYyxuKX1jYXRjaChyKXt0aGlzLl9jYXVnaHRFcnJvcj1yLHRoaXMuX2hhc0NhdWdodEVycm9yPSEwfX1cbnZhciBCPXtfY2F1Z2h0RXJyb3I6bnVsbCxfaGFzQ2F1Z2h0RXJyb3I6ITEsX3JldGhyb3dFcnJvcjpudWxsLF9oYXNSZXRocm93RXJyb3I6ITEsaW52b2tlR3VhcmRlZENhbGxiYWNrOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxrKXtpYS5hcHBseShCLGFyZ3VtZW50cyl9LGludm9rZUd1YXJkZWRDYWxsYmFja0FuZENhdGNoRmlyc3RFcnJvcjpmdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7Qi5pbnZva2VHdWFyZGVkQ2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKEIuaGFzQ2F1Z2h0RXJyb3IoKSl7dmFyIG49Qi5jbGVhckNhdWdodEVycm9yKCk7Qi5faGFzUmV0aHJvd0Vycm9yfHwoQi5faGFzUmV0aHJvd0Vycm9yPSEwLEIuX3JldGhyb3dFcnJvcj1uKX19LHJldGhyb3dDYXVnaHRFcnJvcjpmdW5jdGlvbigpe3JldHVybiBrYS5hcHBseShCLGFyZ3VtZW50cyl9LGhhc0NhdWdodEVycm9yOmZ1bmN0aW9uKCl7cmV0dXJuIEIuX2hhc0NhdWdodEVycm9yfSxjbGVhckNhdWdodEVycm9yOmZ1bmN0aW9uKCl7aWYoQi5faGFzQ2F1Z2h0RXJyb3Ipe3ZhciBhPVxuQi5fY2F1Z2h0RXJyb3I7Qi5fY2F1Z2h0RXJyb3I9bnVsbDtCLl9oYXNDYXVnaHRFcnJvcj0hMTtyZXR1cm4gYX1BKFwiMTk4XCIpfX07ZnVuY3Rpb24ga2EoKXtpZihCLl9oYXNSZXRocm93RXJyb3Ipe3ZhciBhPUIuX3JldGhyb3dFcnJvcjtCLl9yZXRocm93RXJyb3I9bnVsbDtCLl9oYXNSZXRocm93RXJyb3I9ITE7dGhyb3cgYTt9fXZhciBsYT1udWxsLG1hPXt9O1xuZnVuY3Rpb24gbmEoKXtpZihsYSlmb3IodmFyIGEgaW4gbWEpe3ZhciBiPW1hW2FdLGM9bGEuaW5kZXhPZihhKTstMTxjP3ZvaWQgMDpBKFwiOTZcIixhKTtpZighb2FbY10pe2IuZXh0cmFjdEV2ZW50cz92b2lkIDA6QShcIjk3XCIsYSk7b2FbY109YjtjPWIuZXZlbnRUeXBlcztmb3IodmFyIGQgaW4gYyl7dmFyIGU9dm9pZCAwO3ZhciBmPWNbZF0sZz1iLGg9ZDtwYS5oYXNPd25Qcm9wZXJ0eShoKT9BKFwiOTlcIixoKTp2b2lkIDA7cGFbaF09Zjt2YXIgaz1mLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO2lmKGspe2ZvcihlIGluIGspay5oYXNPd25Qcm9wZXJ0eShlKSYmcWEoa1tlXSxnLGgpO2U9ITB9ZWxzZSBmLnJlZ2lzdHJhdGlvbk5hbWU/KHFhKGYucmVnaXN0cmF0aW9uTmFtZSxnLGgpLGU9ITApOmU9ITE7ZT92b2lkIDA6QShcIjk4XCIsZCxhKX19fX1cbmZ1bmN0aW9uIHFhKGEsYixjKXtyYVthXT9BKFwiMTAwXCIsYSk6dm9pZCAwO3JhW2FdPWI7c2FbYV09Yi5ldmVudFR5cGVzW2NdLmRlcGVuZGVuY2llc312YXIgb2E9W10scGE9e30scmE9e30sc2E9e307ZnVuY3Rpb24gdGEoYSl7bGE/QShcIjEwMVwiKTp2b2lkIDA7bGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYSk7bmEoKX1mdW5jdGlvbiB1YShhKXt2YXIgYj0hMSxjO2ZvcihjIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShjKSl7dmFyIGQ9YVtjXTttYS5oYXNPd25Qcm9wZXJ0eShjKSYmbWFbY109PT1kfHwobWFbY10/QShcIjEwMlwiLGMpOnZvaWQgMCxtYVtjXT1kLGI9ITApfWImJm5hKCl9XG52YXIgdmE9e3BsdWdpbnM6b2EsZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzOnBhLHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzOnJhLHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXM6c2EscG9zc2libGVSZWdpc3RyYXRpb25OYW1lczpudWxsLGluamVjdEV2ZW50UGx1Z2luT3JkZXI6dGEsaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lOnVhfSx3YT1udWxsLHhhPW51bGwseWE9bnVsbDtmdW5jdGlvbiB6YShhLGIsYyxkKXtiPWEudHlwZXx8XCJ1bmtub3duLWV2ZW50XCI7YS5jdXJyZW50VGFyZ2V0PXlhKGQpO0IuaW52b2tlR3VhcmRlZENhbGxiYWNrQW5kQ2F0Y2hGaXJzdEVycm9yKGIsYyx2b2lkIDAsYSk7YS5jdXJyZW50VGFyZ2V0PW51bGx9XG5mdW5jdGlvbiBBYShhLGIpe251bGw9PWI/QShcIjMwXCIpOnZvaWQgMDtpZihudWxsPT1hKXJldHVybiBiO2lmKEFycmF5LmlzQXJyYXkoYSkpe2lmKEFycmF5LmlzQXJyYXkoYikpcmV0dXJuIGEucHVzaC5hcHBseShhLGIpLGE7YS5wdXNoKGIpO3JldHVybiBhfXJldHVybiBBcnJheS5pc0FycmF5KGIpP1thXS5jb25jYXQoYik6W2EsYl19ZnVuY3Rpb24gQmEoYSxiLGMpe0FycmF5LmlzQXJyYXkoYSk/YS5mb3JFYWNoKGIsYyk6YSYmYi5jYWxsKGMsYSl9dmFyIENhPW51bGw7XG5mdW5jdGlvbiBEYShhLGIpe2lmKGEpe3ZhciBjPWEuX2Rpc3BhdGNoTGlzdGVuZXJzLGQ9YS5fZGlzcGF0Y2hJbnN0YW5jZXM7aWYoQXJyYXkuaXNBcnJheShjKSlmb3IodmFyIGU9MDtlPGMubGVuZ3RoJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO2UrKyl6YShhLGIsY1tlXSxkW2VdKTtlbHNlIGMmJnphKGEsYixjLGQpO2EuX2Rpc3BhdGNoTGlzdGVuZXJzPW51bGw7YS5fZGlzcGF0Y2hJbnN0YW5jZXM9bnVsbDthLmlzUGVyc2lzdGVudCgpfHxhLmNvbnN0cnVjdG9yLnJlbGVhc2UoYSl9fWZ1bmN0aW9uIEVhKGEpe3JldHVybiBEYShhLCEwKX1mdW5jdGlvbiBGYShhKXtyZXR1cm4gRGEoYSwhMSl9dmFyIEdhPXtpbmplY3RFdmVudFBsdWdpbk9yZGVyOnRhLGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTp1YX07XG5mdW5jdGlvbiBIYShhLGIpe3ZhciBjPWEuc3RhdGVOb2RlO2lmKCFjKXJldHVybiBudWxsO3ZhciBkPXdhKGMpO2lmKCFkKXJldHVybiBudWxsO2M9ZFtiXTthOnN3aXRjaChiKXtjYXNlIFwib25DbGlja1wiOmNhc2UgXCJvbkNsaWNrQ2FwdHVyZVwiOmNhc2UgXCJvbkRvdWJsZUNsaWNrXCI6Y2FzZSBcIm9uRG91YmxlQ2xpY2tDYXB0dXJlXCI6Y2FzZSBcIm9uTW91c2VEb3duXCI6Y2FzZSBcIm9uTW91c2VEb3duQ2FwdHVyZVwiOmNhc2UgXCJvbk1vdXNlTW92ZVwiOmNhc2UgXCJvbk1vdXNlTW92ZUNhcHR1cmVcIjpjYXNlIFwib25Nb3VzZVVwXCI6Y2FzZSBcIm9uTW91c2VVcENhcHR1cmVcIjooZD0hZC5kaXNhYmxlZCl8fChhPWEudHlwZSxkPSEoXCJidXR0b25cIj09PWF8fFwiaW5wdXRcIj09PWF8fFwic2VsZWN0XCI9PT1hfHxcInRleHRhcmVhXCI9PT1hKSk7YT0hZDticmVhayBhO2RlZmF1bHQ6YT0hMX1pZihhKXJldHVybiBudWxsO2MmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBjP0EoXCIyMzFcIixiLHR5cGVvZiBjKTp2b2lkIDA7XG5yZXR1cm4gY31mdW5jdGlvbiBJYShhLGIpe251bGwhPT1hJiYoQ2E9QWEoQ2EsYSkpO2E9Q2E7Q2E9bnVsbDthJiYoYj9CYShhLEVhKTpCYShhLEZhKSxDYT9BKFwiOTVcIik6dm9pZCAwLEIucmV0aHJvd0NhdWdodEVycm9yKCkpfWZ1bmN0aW9uIEphKGEsYixjLGQpe2Zvcih2YXIgZT1udWxsLGY9MDtmPG9hLmxlbmd0aDtmKyspe3ZhciBnPW9hW2ZdO2cmJihnPWcuZXh0cmFjdEV2ZW50cyhhLGIsYyxkKSkmJihlPUFhKGUsZykpfUlhKGUsITEpfXZhciBLYT17aW5qZWN0aW9uOkdhLGdldExpc3RlbmVyOkhhLHJ1bkV2ZW50c0luQmF0Y2g6SWEscnVuRXh0cmFjdGVkRXZlbnRzSW5CYXRjaDpKYX0sTGE9TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksQz1cIl9fcmVhY3RJbnRlcm5hbEluc3RhbmNlJFwiK0xhLE1hPVwiX19yZWFjdEV2ZW50SGFuZGxlcnMkXCIrTGE7XG5mdW5jdGlvbiBOYShhKXtpZihhW0NdKXJldHVybiBhW0NdO2Zvcig7IWFbQ107KWlmKGEucGFyZW50Tm9kZSlhPWEucGFyZW50Tm9kZTtlbHNlIHJldHVybiBudWxsO2E9YVtDXTtyZXR1cm4gNT09PWEudGFnfHw2PT09YS50YWc/YTpudWxsfWZ1bmN0aW9uIE9hKGEpe2lmKDU9PT1hLnRhZ3x8Nj09PWEudGFnKXJldHVybiBhLnN0YXRlTm9kZTtBKFwiMzNcIil9ZnVuY3Rpb24gUGEoYSl7cmV0dXJuIGFbTWFdfHxudWxsfXZhciBRYT17cHJlY2FjaGVGaWJlck5vZGU6ZnVuY3Rpb24oYSxiKXtiW0NdPWF9LGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlOk5hLGdldEluc3RhbmNlRnJvbU5vZGU6ZnVuY3Rpb24oYSl7YT1hW0NdO3JldHVybiFhfHw1IT09YS50YWcmJjYhPT1hLnRhZz9udWxsOmF9LGdldE5vZGVGcm9tSW5zdGFuY2U6T2EsZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZTpQYSx1cGRhdGVGaWJlclByb3BzOmZ1bmN0aW9uKGEsYil7YVtNYV09Yn19O1xuZnVuY3Rpb24gRihhKXtkbyBhPWEucmV0dXJuO3doaWxlKGEmJjUhPT1hLnRhZyk7cmV0dXJuIGE/YTpudWxsfWZ1bmN0aW9uIFJhKGEsYixjKXtmb3IodmFyIGQ9W107YTspZC5wdXNoKGEpLGE9RihhKTtmb3IoYT1kLmxlbmd0aDswPGEtLTspYihkW2FdLFwiY2FwdHVyZWRcIixjKTtmb3IoYT0wO2E8ZC5sZW5ndGg7YSsrKWIoZFthXSxcImJ1YmJsZWRcIixjKX1mdW5jdGlvbiBTYShhLGIsYyl7aWYoYj1IYShhLGMuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbYl0pKWMuX2Rpc3BhdGNoTGlzdGVuZXJzPUFhKGMuX2Rpc3BhdGNoTGlzdGVuZXJzLGIpLGMuX2Rpc3BhdGNoSW5zdGFuY2VzPUFhKGMuX2Rpc3BhdGNoSW5zdGFuY2VzLGEpfWZ1bmN0aW9uIFRhKGEpe2EmJmEuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMmJlJhKGEuX3RhcmdldEluc3QsU2EsYSl9XG5mdW5jdGlvbiBVYShhKXtpZihhJiZhLmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKXt2YXIgYj1hLl90YXJnZXRJbnN0O2I9Yj9GKGIpOm51bGw7UmEoYixTYSxhKX19ZnVuY3Rpb24gVmEoYSxiLGMpe2EmJmMmJmMuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSYmKGI9SGEoYSxjLmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpKSYmKGMuX2Rpc3BhdGNoTGlzdGVuZXJzPUFhKGMuX2Rpc3BhdGNoTGlzdGVuZXJzLGIpLGMuX2Rpc3BhdGNoSW5zdGFuY2VzPUFhKGMuX2Rpc3BhdGNoSW5zdGFuY2VzLGEpKX1mdW5jdGlvbiBYYShhKXthJiZhLmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUmJlZhKGEuX3RhcmdldEluc3QsbnVsbCxhKX1mdW5jdGlvbiBZYShhKXtCYShhLFRhKX1cbmZ1bmN0aW9uIFphKGEsYixjLGQpe2lmKGMmJmQpYTp7dmFyIGU9Yztmb3IodmFyIGY9ZCxnPTAsaD1lO2g7aD1GKGgpKWcrKztoPTA7Zm9yKHZhciBrPWY7aztrPUYoaykpaCsrO2Zvcig7MDxnLWg7KWU9RihlKSxnLS07Zm9yKDswPGgtZzspZj1GKGYpLGgtLTtmb3IoO2ctLTspe2lmKGU9PT1mfHxlPT09Zi5hbHRlcm5hdGUpYnJlYWsgYTtlPUYoZSk7Zj1GKGYpfWU9bnVsbH1lbHNlIGU9bnVsbDtmPWU7Zm9yKGU9W107YyYmYyE9PWY7KXtnPWMuYWx0ZXJuYXRlO2lmKG51bGwhPT1nJiZnPT09ZilicmVhaztlLnB1c2goYyk7Yz1GKGMpfWZvcihjPVtdO2QmJmQhPT1mOyl7Zz1kLmFsdGVybmF0ZTtpZihudWxsIT09ZyYmZz09PWYpYnJlYWs7Yy5wdXNoKGQpO2Q9RihkKX1mb3IoZD0wO2Q8ZS5sZW5ndGg7ZCsrKVZhKGVbZF0sXCJidWJibGVkXCIsYSk7Zm9yKGE9Yy5sZW5ndGg7MDxhLS07KVZhKGNbYV0sXCJjYXB0dXJlZFwiLGIpfVxudmFyICRhPXthY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzOllhLGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0OmZ1bmN0aW9uKGEpe0JhKGEsVWEpfSxhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXM6WmEsYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXM6ZnVuY3Rpb24oYSl7QmEoYSxYYSl9fTtmdW5jdGlvbiBhYihhLGIpe3ZhciBjPXt9O2NbYS50b0xvd2VyQ2FzZSgpXT1iLnRvTG93ZXJDYXNlKCk7Y1tcIldlYmtpdFwiK2FdPVwid2Via2l0XCIrYjtjW1wiTW96XCIrYV09XCJtb3pcIitiO2NbXCJtc1wiK2FdPVwiTVNcIitiO2NbXCJPXCIrYV09XCJvXCIrYi50b0xvd2VyQ2FzZSgpO3JldHVybiBjfVxudmFyIGJiPXthbmltYXRpb25lbmQ6YWIoXCJBbmltYXRpb25cIixcIkFuaW1hdGlvbkVuZFwiKSxhbmltYXRpb25pdGVyYXRpb246YWIoXCJBbmltYXRpb25cIixcIkFuaW1hdGlvbkl0ZXJhdGlvblwiKSxhbmltYXRpb25zdGFydDphYihcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uU3RhcnRcIiksdHJhbnNpdGlvbmVuZDphYihcIlRyYW5zaXRpb25cIixcIlRyYW5zaXRpb25FbmRcIil9LGNiPXt9LGRiPXt9O20uY2FuVXNlRE9NJiYoZGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxcIkFuaW1hdGlvbkV2ZW50XCJpbiB3aW5kb3d8fChkZWxldGUgYmIuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbixkZWxldGUgYmIuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbixkZWxldGUgYmIuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSxcIlRyYW5zaXRpb25FdmVudFwiaW4gd2luZG93fHxkZWxldGUgYmIudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uKTtcbmZ1bmN0aW9uIGViKGEpe2lmKGNiW2FdKXJldHVybiBjYlthXTtpZighYmJbYV0pcmV0dXJuIGE7dmFyIGI9YmJbYV0sYztmb3IoYyBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoYykmJmMgaW4gZGIpcmV0dXJuIGNiW2FdPWJbY107cmV0dXJuIGF9dmFyIGZiPWViKFwiYW5pbWF0aW9uZW5kXCIpLGdiPWViKFwiYW5pbWF0aW9uaXRlcmF0aW9uXCIpLGhiPWViKFwiYW5pbWF0aW9uc3RhcnRcIiksaWI9ZWIoXCJ0cmFuc2l0aW9uZW5kXCIpLGpiPVwiYWJvcnQgY2FucGxheSBjYW5wbGF5dGhyb3VnaCBkdXJhdGlvbmNoYW5nZSBlbXB0aWVkIGVuY3J5cHRlZCBlbmRlZCBlcnJvciBsb2FkZWRkYXRhIGxvYWRlZG1ldGFkYXRhIGxvYWRzdGFydCBwYXVzZSBwbGF5IHBsYXlpbmcgcHJvZ3Jlc3MgcmF0ZWNoYW5nZSBzZWVrZWQgc2Vla2luZyBzdGFsbGVkIHN1c3BlbmQgdGltZXVwZGF0ZSB2b2x1bWVjaGFuZ2Ugd2FpdGluZ1wiLnNwbGl0KFwiIFwiKSxrYj1udWxsO1xuZnVuY3Rpb24gbGIoKXsha2ImJm0uY2FuVXNlRE9NJiYoa2I9XCJ0ZXh0Q29udGVudFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50P1widGV4dENvbnRlbnRcIjpcImlubmVyVGV4dFwiKTtyZXR1cm4ga2J9dmFyIEc9e19yb290Om51bGwsX3N0YXJ0VGV4dDpudWxsLF9mYWxsYmFja1RleHQ6bnVsbH07ZnVuY3Rpb24gbWIoKXtpZihHLl9mYWxsYmFja1RleHQpcmV0dXJuIEcuX2ZhbGxiYWNrVGV4dDt2YXIgYSxiPUcuX3N0YXJ0VGV4dCxjPWIubGVuZ3RoLGQsZT1uYigpLGY9ZS5sZW5ndGg7Zm9yKGE9MDthPGMmJmJbYV09PT1lW2FdO2ErKyk7dmFyIGc9Yy1hO2ZvcihkPTE7ZDw9ZyYmYltjLWRdPT09ZVtmLWRdO2QrKyk7Ry5fZmFsbGJhY2tUZXh0PWUuc2xpY2UoYSwxPGQ/MS1kOnZvaWQgMCk7cmV0dXJuIEcuX2ZhbGxiYWNrVGV4dH1mdW5jdGlvbiBuYigpe3JldHVyblwidmFsdWVcImluIEcuX3Jvb3Q/Ry5fcm9vdC52YWx1ZTpHLl9yb290W2xiKCldfVxudmFyIG9iPVwiZGlzcGF0Y2hDb25maWcgX3RhcmdldEluc3QgbmF0aXZlRXZlbnQgaXNEZWZhdWx0UHJldmVudGVkIGlzUHJvcGFnYXRpb25TdG9wcGVkIF9kaXNwYXRjaExpc3RlbmVycyBfZGlzcGF0Y2hJbnN0YW5jZXNcIi5zcGxpdChcIiBcIikscGI9e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxjdXJyZW50VGFyZ2V0OnYudGhhdFJldHVybnNOdWxsLGV2ZW50UGhhc2U6bnVsbCxidWJibGVzOm51bGwsY2FuY2VsYWJsZTpudWxsLHRpbWVTdGFtcDpmdW5jdGlvbihhKXtyZXR1cm4gYS50aW1lU3RhbXB8fERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6bnVsbCxpc1RydXN0ZWQ6bnVsbH07XG5mdW5jdGlvbiBIKGEsYixjLGQpe3RoaXMuZGlzcGF0Y2hDb25maWc9YTt0aGlzLl90YXJnZXRJbnN0PWI7dGhpcy5uYXRpdmVFdmVudD1jO2E9dGhpcy5jb25zdHJ1Y3Rvci5JbnRlcmZhY2U7Zm9yKHZhciBlIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShlKSYmKChiPWFbZV0pP3RoaXNbZV09YihjKTpcInRhcmdldFwiPT09ZT90aGlzLnRhcmdldD1kOnRoaXNbZV09Y1tlXSk7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9KG51bGwhPWMuZGVmYXVsdFByZXZlbnRlZD9jLmRlZmF1bHRQcmV2ZW50ZWQ6ITE9PT1jLnJldHVyblZhbHVlKT92LnRoYXRSZXR1cm5zVHJ1ZTp2LnRoYXRSZXR1cm5zRmFsc2U7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD12LnRoYXRSZXR1cm5zRmFsc2U7cmV0dXJuIHRoaXN9XG5wKEgucHJvdG90eXBlLHtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMDt2YXIgYT10aGlzLm5hdGl2ZUV2ZW50O2EmJihhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTpcInVua25vd25cIiE9PXR5cGVvZiBhLnJldHVyblZhbHVlJiYoYS5yZXR1cm5WYWx1ZT0hMSksdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9di50aGF0UmV0dXJuc1RydWUpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5hdGl2ZUV2ZW50O2EmJihhLnN0b3BQcm9wYWdhdGlvbj9hLnN0b3BQcm9wYWdhdGlvbigpOlwidW5rbm93blwiIT09dHlwZW9mIGEuY2FuY2VsQnViYmxlJiYoYS5jYW5jZWxCdWJibGU9ITApLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9di50aGF0UmV0dXJuc1RydWUpfSxwZXJzaXN0OmZ1bmN0aW9uKCl7dGhpcy5pc1BlcnNpc3RlbnQ9di50aGF0UmV0dXJuc1RydWV9LGlzUGVyc2lzdGVudDp2LnRoYXRSZXR1cm5zRmFsc2UsXG5kZXN0cnVjdG9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25zdHJ1Y3Rvci5JbnRlcmZhY2UsYjtmb3IoYiBpbiBhKXRoaXNbYl09bnVsbDtmb3IoYT0wO2E8b2IubGVuZ3RoO2ErKyl0aGlzW29iW2FdXT1udWxsfX0pO0guSW50ZXJmYWNlPXBiO0guZXh0ZW5kPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gYygpe3JldHVybiBkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgZD10aGlzO2IucHJvdG90eXBlPWQucHJvdG90eXBlO3ZhciBlPW5ldyBiO3AoZSxjLnByb3RvdHlwZSk7Yy5wcm90b3R5cGU9ZTtjLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jO2MuSW50ZXJmYWNlPXAoe30sZC5JbnRlcmZhY2UsYSk7Yy5leHRlbmQ9ZC5leHRlbmQ7cWIoYyk7cmV0dXJuIGN9O3FiKEgpO1xuZnVuY3Rpb24gcmIoYSxiLGMsZCl7aWYodGhpcy5ldmVudFBvb2wubGVuZ3RoKXt2YXIgZT10aGlzLmV2ZW50UG9vbC5wb3AoKTt0aGlzLmNhbGwoZSxhLGIsYyxkKTtyZXR1cm4gZX1yZXR1cm4gbmV3IHRoaXMoYSxiLGMsZCl9ZnVuY3Rpb24gc2IoYSl7YSBpbnN0YW5jZW9mIHRoaXM/dm9pZCAwOkEoXCIyMjNcIik7YS5kZXN0cnVjdG9yKCk7MTA+dGhpcy5ldmVudFBvb2wubGVuZ3RoJiZ0aGlzLmV2ZW50UG9vbC5wdXNoKGEpfWZ1bmN0aW9uIHFiKGEpe2EuZXZlbnRQb29sPVtdO2EuZ2V0UG9vbGVkPXJiO2EucmVsZWFzZT1zYn12YXIgdGI9SC5leHRlbmQoe2RhdGE6bnVsbH0pLHViPUguZXh0ZW5kKHtkYXRhOm51bGx9KSx2Yj1bOSwxMywyNywzMl0sd2I9bS5jYW5Vc2VET00mJlwiQ29tcG9zaXRpb25FdmVudFwiaW4gd2luZG93LHhiPW51bGw7bS5jYW5Vc2VET00mJlwiZG9jdW1lbnRNb2RlXCJpbiBkb2N1bWVudCYmKHhiPWRvY3VtZW50LmRvY3VtZW50TW9kZSk7XG52YXIgeWI9bS5jYW5Vc2VET00mJlwiVGV4dEV2ZW50XCJpbiB3aW5kb3cmJiF4Yix6Yj1tLmNhblVzZURPTSYmKCF3Ynx8eGImJjg8eGImJjExPj14YiksQWI9U3RyaW5nLmZyb21DaGFyQ29kZSgzMiksQmI9e2JlZm9yZUlucHV0OntwaGFzZWRSZWdpc3RyYXRpb25OYW1lczp7YnViYmxlZDpcIm9uQmVmb3JlSW5wdXRcIixjYXB0dXJlZDpcIm9uQmVmb3JlSW5wdXRDYXB0dXJlXCJ9LGRlcGVuZGVuY2llczpbXCJjb21wb3NpdGlvbmVuZFwiLFwia2V5cHJlc3NcIixcInRleHRJbnB1dFwiLFwicGFzdGVcIl19LGNvbXBvc2l0aW9uRW5kOntwaGFzZWRSZWdpc3RyYXRpb25OYW1lczp7YnViYmxlZDpcIm9uQ29tcG9zaXRpb25FbmRcIixjYXB0dXJlZDpcIm9uQ29tcG9zaXRpb25FbmRDYXB0dXJlXCJ9LGRlcGVuZGVuY2llczpcImJsdXIgY29tcG9zaXRpb25lbmQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd25cIi5zcGxpdChcIiBcIil9LGNvbXBvc2l0aW9uU3RhcnQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25Db21wb3NpdGlvblN0YXJ0XCIsXG5jYXB0dXJlZDpcIm9uQ29tcG9zaXRpb25TdGFydENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjb21wb3NpdGlvbnN0YXJ0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpfSxjb21wb3NpdGlvblVwZGF0ZTp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uVXBkYXRlXCIsY2FwdHVyZWQ6XCJvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJibHVyIGNvbXBvc2l0aW9udXBkYXRlIGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpfX0sQ2I9ITE7XG5mdW5jdGlvbiBEYihhLGIpe3N3aXRjaChhKXtjYXNlIFwia2V5dXBcIjpyZXR1cm4tMSE9PXZiLmluZGV4T2YoYi5rZXlDb2RlKTtjYXNlIFwia2V5ZG93blwiOnJldHVybiAyMjkhPT1iLmtleUNvZGU7Y2FzZSBcImtleXByZXNzXCI6Y2FzZSBcIm1vdXNlZG93blwiOmNhc2UgXCJibHVyXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gRWIoYSl7YT1hLmRldGFpbDtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJlwiZGF0YVwiaW4gYT9hLmRhdGE6bnVsbH12YXIgRmI9ITE7ZnVuY3Rpb24gR2IoYSxiKXtzd2l0Y2goYSl7Y2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6cmV0dXJuIEViKGIpO2Nhc2UgXCJrZXlwcmVzc1wiOmlmKDMyIT09Yi53aGljaClyZXR1cm4gbnVsbDtDYj0hMDtyZXR1cm4gQWI7Y2FzZSBcInRleHRJbnB1dFwiOnJldHVybiBhPWIuZGF0YSxhPT09QWImJkNiP251bGw6YTtkZWZhdWx0OnJldHVybiBudWxsfX1cbmZ1bmN0aW9uIEhiKGEsYil7aWYoRmIpcmV0dXJuXCJjb21wb3NpdGlvbmVuZFwiPT09YXx8IXdiJiZEYihhLGIpPyhhPW1iKCksRy5fcm9vdD1udWxsLEcuX3N0YXJ0VGV4dD1udWxsLEcuX2ZhbGxiYWNrVGV4dD1udWxsLEZiPSExLGEpOm51bGw7c3dpdGNoKGEpe2Nhc2UgXCJwYXN0ZVwiOnJldHVybiBudWxsO2Nhc2UgXCJrZXlwcmVzc1wiOmlmKCEoYi5jdHJsS2V5fHxiLmFsdEtleXx8Yi5tZXRhS2V5KXx8Yi5jdHJsS2V5JiZiLmFsdEtleSl7aWYoYi5jaGFyJiYxPGIuY2hhci5sZW5ndGgpcmV0dXJuIGIuY2hhcjtpZihiLndoaWNoKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGIud2hpY2gpfXJldHVybiBudWxsO2Nhc2UgXCJjb21wb3NpdGlvbmVuZFwiOnJldHVybiB6Yj9udWxsOmIuZGF0YTtkZWZhdWx0OnJldHVybiBudWxsfX1cbnZhciBJYj17ZXZlbnRUeXBlczpCYixleHRyYWN0RXZlbnRzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXZvaWQgMDt2YXIgZj12b2lkIDA7aWYod2IpYjp7c3dpdGNoKGEpe2Nhc2UgXCJjb21wb3NpdGlvbnN0YXJ0XCI6ZT1CYi5jb21wb3NpdGlvblN0YXJ0O2JyZWFrIGI7Y2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6ZT1CYi5jb21wb3NpdGlvbkVuZDticmVhayBiO2Nhc2UgXCJjb21wb3NpdGlvbnVwZGF0ZVwiOmU9QmIuY29tcG9zaXRpb25VcGRhdGU7YnJlYWsgYn1lPXZvaWQgMH1lbHNlIEZiP0RiKGEsYykmJihlPUJiLmNvbXBvc2l0aW9uRW5kKTpcImtleWRvd25cIj09PWEmJjIyOT09PWMua2V5Q29kZSYmKGU9QmIuY29tcG9zaXRpb25TdGFydCk7ZT8oemImJihGYnx8ZSE9PUJiLmNvbXBvc2l0aW9uU3RhcnQ/ZT09PUJiLmNvbXBvc2l0aW9uRW5kJiZGYiYmKGY9bWIoKSk6KEcuX3Jvb3Q9ZCxHLl9zdGFydFRleHQ9bmIoKSxGYj0hMCkpLGU9dGIuZ2V0UG9vbGVkKGUsYixjLGQpLGY/ZS5kYXRhPVxuZjooZj1FYihjKSxudWxsIT09ZiYmKGUuZGF0YT1mKSksWWEoZSksZj1lKTpmPW51bGw7KGE9eWI/R2IoYSxjKTpIYihhLGMpKT8oYj11Yi5nZXRQb29sZWQoQmIuYmVmb3JlSW5wdXQsYixjLGQpLGIuZGF0YT1hLFlhKGIpKTpiPW51bGw7cmV0dXJuIG51bGw9PT1mP2I6bnVsbD09PWI/ZjpbZixiXX19LEpiPW51bGwsS2I9e2luamVjdEZpYmVyQ29udHJvbGxlZEhvc3RDb21wb25lbnQ6ZnVuY3Rpb24oYSl7SmI9YX19LExiPW51bGwsTWI9bnVsbDtmdW5jdGlvbiBOYihhKXtpZihhPXhhKGEpKXtKYiYmXCJmdW5jdGlvblwiPT09dHlwZW9mIEpiLnJlc3RvcmVDb250cm9sbGVkU3RhdGU/dm9pZCAwOkEoXCIxOTRcIik7dmFyIGI9d2EoYS5zdGF0ZU5vZGUpO0piLnJlc3RvcmVDb250cm9sbGVkU3RhdGUoYS5zdGF0ZU5vZGUsYS50eXBlLGIpfX1mdW5jdGlvbiBPYihhKXtMYj9NYj9NYi5wdXNoKGEpOk1iPVthXTpMYj1hfVxuZnVuY3Rpb24gUGIoKXtyZXR1cm4gbnVsbCE9PUxifHxudWxsIT09TWJ9ZnVuY3Rpb24gUWIoKXtpZihMYil7dmFyIGE9TGIsYj1NYjtNYj1MYj1udWxsO05iKGEpO2lmKGIpZm9yKGE9MDthPGIubGVuZ3RoO2ErKylOYihiW2FdKX19dmFyIFJiPXtpbmplY3Rpb246S2IsZW5xdWV1ZVN0YXRlUmVzdG9yZTpPYixuZWVkc1N0YXRlUmVzdG9yZTpQYixyZXN0b3JlU3RhdGVJZk5lZWRlZDpRYn07ZnVuY3Rpb24gU2IoYSxiKXtyZXR1cm4gYShiKX1mdW5jdGlvbiBUYihhLGIsYyl7cmV0dXJuIGEoYixjKX1mdW5jdGlvbiBVYigpe312YXIgVmI9ITE7ZnVuY3Rpb24gV2IoYSxiKXtpZihWYilyZXR1cm4gYShiKTtWYj0hMDt0cnl7cmV0dXJuIFNiKGEsYil9ZmluYWxseXtWYj0hMSxQYigpJiYoVWIoKSxRYigpKX19XG52YXIgWGI9e2NvbG9yOiEwLGRhdGU6ITAsZGF0ZXRpbWU6ITAsXCJkYXRldGltZS1sb2NhbFwiOiEwLGVtYWlsOiEwLG1vbnRoOiEwLG51bWJlcjohMCxwYXNzd29yZDohMCxyYW5nZTohMCxzZWFyY2g6ITAsdGVsOiEwLHRleHQ6ITAsdGltZTohMCx1cmw6ITAsd2VlazohMH07ZnVuY3Rpb24gWWIoYSl7dmFyIGI9YSYmYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWI/ISFYYlthLnR5cGVdOlwidGV4dGFyZWFcIj09PWI/ITA6ITF9ZnVuY3Rpb24gWmIoYSl7YT1hLnRhcmdldHx8YS5zcmNFbGVtZW50fHx3aW5kb3c7YS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCYmKGE9YS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCk7cmV0dXJuIDM9PT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphfVxuZnVuY3Rpb24gJGIoYSxiKXtpZighbS5jYW5Vc2VET018fGImJiEoXCJhZGRFdmVudExpc3RlbmVyXCJpbiBkb2N1bWVudCkpcmV0dXJuITE7YT1cIm9uXCIrYTtiPWEgaW4gZG9jdW1lbnQ7Ynx8KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxiLnNldEF0dHJpYnV0ZShhLFwicmV0dXJuO1wiKSxiPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBiW2FdKTtyZXR1cm4gYn1mdW5jdGlvbiBhYyhhKXt2YXIgYj1hLnR5cGU7cmV0dXJuKGE9YS5ub2RlTmFtZSkmJlwiaW5wdXRcIj09PWEudG9Mb3dlckNhc2UoKSYmKFwiY2hlY2tib3hcIj09PWJ8fFwicmFkaW9cIj09PWIpfVxuZnVuY3Rpb24gYmMoYSl7dmFyIGI9YWMoYSk/XCJjaGVja2VkXCI6XCJ2YWx1ZVwiLGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxiKSxkPVwiXCIrYVtiXTtpZighYS5oYXNPd25Qcm9wZXJ0eShiKSYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5nZXQmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLnNldCl7dmFyIGU9Yy5nZXQsZj1jLnNldDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsbCh0aGlzKX0sc2V0OmZ1bmN0aW9uKGEpe2Q9XCJcIithO2YuY2FsbCh0aGlzLGEpfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2VudW1lcmFibGU6Yy5lbnVtZXJhYmxlfSk7cmV0dXJue2dldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGR9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe2Q9XCJcIithfSxzdG9wVHJhY2tpbmc6ZnVuY3Rpb24oKXthLl92YWx1ZVRyYWNrZXI9XG5udWxsO2RlbGV0ZSBhW2JdfX19fWZ1bmN0aW9uIGNjKGEpe2EuX3ZhbHVlVHJhY2tlcnx8KGEuX3ZhbHVlVHJhY2tlcj1iYyhhKSl9ZnVuY3Rpb24gZGMoYSl7aWYoIWEpcmV0dXJuITE7dmFyIGI9YS5fdmFsdWVUcmFja2VyO2lmKCFiKXJldHVybiEwO3ZhciBjPWIuZ2V0VmFsdWUoKTt2YXIgZD1cIlwiO2EmJihkPWFjKGEpP2EuY2hlY2tlZD9cInRydWVcIjpcImZhbHNlXCI6YS52YWx1ZSk7YT1kO3JldHVybiBhIT09Yz8oYi5zZXRWYWx1ZShhKSwhMCk6ITF9XG52YXIgZWM9YmEuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50T3duZXIsZmM9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcixnYz1mYz9TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKTo2MDEwMyxoYz1mYz9TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpOjYwMTA2LGljPWZjP1N5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyxqYz1mYz9TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIik6NjAxMDgsa2M9ZmM/U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpOjYwMTE0LGxjPWZjP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSxtYz1mYz9TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKTo2MDExMCxwYz1mYz9TeW1ib2wuZm9yKFwicmVhY3QuYXN5bmNfbW9kZVwiKTo2MDExMSxxYz1mYz9TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTIscmM9ZmM/U3ltYm9sLmZvcihcInJlYWN0LnRpbWVvdXRcIik6XG42MDExMyxzYz1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24gdGMoYSl7aWYobnVsbD09PWF8fFwidW5kZWZpbmVkXCI9PT10eXBlb2YgYSlyZXR1cm4gbnVsbDthPXNjJiZhW3NjXXx8YVtcIkBAaXRlcmF0b3JcIl07cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGE/YTpudWxsfVxuZnVuY3Rpb24gdWMoYSl7dmFyIGI9YS50eXBlO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKXJldHVybiBiLmRpc3BsYXlOYW1lfHxiLm5hbWU7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBiKXJldHVybiBiO3N3aXRjaChiKXtjYXNlIHBjOnJldHVyblwiQXN5bmNNb2RlXCI7Y2FzZSBtYzpyZXR1cm5cIkNvbnRleHQuQ29uc3VtZXJcIjtjYXNlIGljOnJldHVyblwiUmVhY3RGcmFnbWVudFwiO2Nhc2UgaGM6cmV0dXJuXCJSZWFjdFBvcnRhbFwiO2Nhc2Uga2M6cmV0dXJuXCJQcm9maWxlcihcIithLnBlbmRpbmdQcm9wcy5pZCtcIilcIjtjYXNlIGxjOnJldHVyblwiQ29udGV4dC5Qcm92aWRlclwiO2Nhc2UgamM6cmV0dXJuXCJTdHJpY3RNb2RlXCI7Y2FzZSByYzpyZXR1cm5cIlRpbWVvdXRcIn1pZihcIm9iamVjdFwiPT09dHlwZW9mIGImJm51bGwhPT1iKXN3aXRjaChiLiQkdHlwZW9mKXtjYXNlIHFjOnJldHVybiBhPWIucmVuZGVyLmRpc3BsYXlOYW1lfHxiLnJlbmRlci5uYW1lfHxcIlwiLFwiXCIhPT1hP1wiRm9yd2FyZFJlZihcIitcbmErXCIpXCI6XCJGb3J3YXJkUmVmXCJ9cmV0dXJuIG51bGx9ZnVuY3Rpb24gdmMoYSl7dmFyIGI9XCJcIjtkb3thOnN3aXRjaChhLnRhZyl7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6Y2FzZSA1OnZhciBjPWEuX2RlYnVnT3duZXIsZD1hLl9kZWJ1Z1NvdXJjZTt2YXIgZT11YyhhKTt2YXIgZj1udWxsO2MmJihmPXVjKGMpKTtjPWQ7ZT1cIlxcbiAgICBpbiBcIisoZXx8XCJVbmtub3duXCIpKyhjP1wiIChhdCBcIitjLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sXCJcIikrXCI6XCIrYy5saW5lTnVtYmVyK1wiKVwiOmY/XCIgKGNyZWF0ZWQgYnkgXCIrZitcIilcIjpcIlwiKTticmVhayBhO2RlZmF1bHQ6ZT1cIlwifWIrPWU7YT1hLnJldHVybn13aGlsZShhKTtyZXR1cm4gYn1cbnZhciB3Yz0vXls6QS1aX2EtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF1bOkEtWl9hLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXC0uMC05XFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MF0qJC8seGM9e30semM9e307ZnVuY3Rpb24gQWMoYSl7aWYoemMuaGFzT3duUHJvcGVydHkoYSkpcmV0dXJuITA7aWYoeGMuaGFzT3duUHJvcGVydHkoYSkpcmV0dXJuITE7aWYod2MudGVzdChhKSlyZXR1cm4gemNbYV09ITA7eGNbYV09ITA7cmV0dXJuITF9XG5mdW5jdGlvbiBCYyhhLGIsYyxkKXtpZihudWxsIT09YyYmMD09PWMudHlwZSlyZXR1cm4hMTtzd2l0Y2godHlwZW9mIGIpe2Nhc2UgXCJmdW5jdGlvblwiOmNhc2UgXCJzeW1ib2xcIjpyZXR1cm4hMDtjYXNlIFwiYm9vbGVhblwiOmlmKGQpcmV0dXJuITE7aWYobnVsbCE9PWMpcmV0dXJuIWMuYWNjZXB0c0Jvb2xlYW5zO2E9YS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsNSk7cmV0dXJuXCJkYXRhLVwiIT09YSYmXCJhcmlhLVwiIT09YTtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBDYyhhLGIsYyxkKXtpZihudWxsPT09Ynx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBifHxCYyhhLGIsYyxkKSlyZXR1cm4hMDtpZihkKXJldHVybiExO2lmKG51bGwhPT1jKXN3aXRjaChjLnR5cGUpe2Nhc2UgMzpyZXR1cm4hYjtjYXNlIDQ6cmV0dXJuITE9PT1iO2Nhc2UgNTpyZXR1cm4gaXNOYU4oYik7Y2FzZSA2OnJldHVybiBpc05hTihiKXx8MT5ifXJldHVybiExfVxuZnVuY3Rpb24gSShhLGIsYyxkLGUpe3RoaXMuYWNjZXB0c0Jvb2xlYW5zPTI9PT1ifHwzPT09Ynx8ND09PWI7dGhpcy5hdHRyaWJ1dGVOYW1lPWQ7dGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9ZTt0aGlzLm11c3RVc2VQcm9wZXJ0eT1jO3RoaXMucHJvcGVydHlOYW1lPWE7dGhpcy50eXBlPWJ9dmFyIEo9e307XCJjaGlsZHJlbiBkYW5nZXJvdXNseVNldElubmVySFRNTCBkZWZhdWx0VmFsdWUgZGVmYXVsdENoZWNrZWQgaW5uZXJIVE1MIHN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgc3R5bGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXtKW2FdPW5ldyBJKGEsMCwhMSxhLG51bGwpfSk7XG5bW1wiYWNjZXB0Q2hhcnNldFwiLFwiYWNjZXB0LWNoYXJzZXRcIl0sW1wiY2xhc3NOYW1lXCIsXCJjbGFzc1wiXSxbXCJodG1sRm9yXCIsXCJmb3JcIl0sW1wiaHR0cEVxdWl2XCIsXCJodHRwLWVxdWl2XCJdXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWFbMF07SltiXT1uZXcgSShiLDEsITEsYVsxXSxudWxsKX0pO1tcImNvbnRlbnRFZGl0YWJsZVwiLFwiZHJhZ2dhYmxlXCIsXCJzcGVsbENoZWNrXCIsXCJ2YWx1ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe0pbYV09bmV3IEkoYSwyLCExLGEudG9Mb3dlckNhc2UoKSxudWxsKX0pO1tcImF1dG9SZXZlcnNlXCIsXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIsXCJwcmVzZXJ2ZUFscGhhXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7SlthXT1uZXcgSShhLDIsITEsYSxudWxsKX0pO1xuXCJhbGxvd0Z1bGxTY3JlZW4gYXN5bmMgYXV0b0ZvY3VzIGF1dG9QbGF5IGNvbnRyb2xzIGRlZmF1bHQgZGVmZXIgZGlzYWJsZWQgZm9ybU5vVmFsaWRhdGUgaGlkZGVuIGxvb3Agbm9Nb2R1bGUgbm9WYWxpZGF0ZSBvcGVuIHBsYXlzSW5saW5lIHJlYWRPbmx5IHJlcXVpcmVkIHJldmVyc2VkIHNjb3BlZCBzZWFtbGVzcyBpdGVtU2NvcGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXtKW2FdPW5ldyBJKGEsMywhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCl9KTtbXCJjaGVja2VkXCIsXCJtdWx0aXBsZVwiLFwibXV0ZWRcIixcInNlbGVjdGVkXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7SlthXT1uZXcgSShhLDMsITAsYS50b0xvd2VyQ2FzZSgpLG51bGwpfSk7W1wiY2FwdHVyZVwiLFwiZG93bmxvYWRcIl0uZm9yRWFjaChmdW5jdGlvbihhKXtKW2FdPW5ldyBJKGEsNCwhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCl9KTtcbltcImNvbHNcIixcInJvd3NcIixcInNpemVcIixcInNwYW5cIl0uZm9yRWFjaChmdW5jdGlvbihhKXtKW2FdPW5ldyBJKGEsNiwhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCl9KTtbXCJyb3dTcGFuXCIsXCJzdGFydFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe0pbYV09bmV3IEkoYSw1LCExLGEudG9Mb3dlckNhc2UoKSxudWxsKX0pO3ZhciBEYz0vW1xcLTpdKFthLXpdKS9nO2Z1bmN0aW9uIEVjKGEpe3JldHVybiBhWzFdLnRvVXBwZXJDYXNlKCl9XG5cImFjY2VudC1oZWlnaHQgYWxpZ25tZW50LWJhc2VsaW5lIGFyYWJpYy1mb3JtIGJhc2VsaW5lLXNoaWZ0IGNhcC1oZWlnaHQgY2xpcC1wYXRoIGNsaXAtcnVsZSBjb2xvci1pbnRlcnBvbGF0aW9uIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyBjb2xvci1wcm9maWxlIGNvbG9yLXJlbmRlcmluZyBkb21pbmFudC1iYXNlbGluZSBlbmFibGUtYmFja2dyb3VuZCBmaWxsLW9wYWNpdHkgZmlsbC1ydWxlIGZsb29kLWNvbG9yIGZsb29kLW9wYWNpdHkgZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtc2l6ZS1hZGp1c3QgZm9udC1zdHJldGNoIGZvbnQtc3R5bGUgZm9udC12YXJpYW50IGZvbnQtd2VpZ2h0IGdseXBoLW5hbWUgZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCBnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCBob3Jpei1hZHYteCBob3Jpei1vcmlnaW4teCBpbWFnZS1yZW5kZXJpbmcgbGV0dGVyLXNwYWNpbmcgbGlnaHRpbmctY29sb3IgbWFya2VyLWVuZCBtYXJrZXItbWlkIG1hcmtlci1zdGFydCBvdmVybGluZS1wb3NpdGlvbiBvdmVybGluZS10aGlja25lc3MgcGFpbnQtb3JkZXIgcGFub3NlLTEgcG9pbnRlci1ldmVudHMgcmVuZGVyaW5nLWludGVudCBzaGFwZS1yZW5kZXJpbmcgc3RvcC1jb2xvciBzdG9wLW9wYWNpdHkgc3RyaWtldGhyb3VnaC1wb3NpdGlvbiBzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyBzdHJva2UtZGFzaGFycmF5IHN0cm9rZS1kYXNob2Zmc2V0IHN0cm9rZS1saW5lY2FwIHN0cm9rZS1saW5lam9pbiBzdHJva2UtbWl0ZXJsaW1pdCBzdHJva2Utb3BhY2l0eSBzdHJva2Utd2lkdGggdGV4dC1hbmNob3IgdGV4dC1kZWNvcmF0aW9uIHRleHQtcmVuZGVyaW5nIHVuZGVybGluZS1wb3NpdGlvbiB1bmRlcmxpbmUtdGhpY2tuZXNzIHVuaWNvZGUtYmlkaSB1bmljb2RlLXJhbmdlIHVuaXRzLXBlci1lbSB2LWFscGhhYmV0aWMgdi1oYW5naW5nIHYtaWRlb2dyYXBoaWMgdi1tYXRoZW1hdGljYWwgdmVjdG9yLWVmZmVjdCB2ZXJ0LWFkdi15IHZlcnQtb3JpZ2luLXggdmVydC1vcmlnaW4teSB3b3JkLXNwYWNpbmcgd3JpdGluZy1tb2RlIHhtbG5zOnhsaW5rIHgtaGVpZ2h0XCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKERjLFxuRWMpO0pbYl09bmV3IEkoYiwxLCExLGEsbnVsbCl9KTtcInhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpocmVmIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKERjLEVjKTtKW2JdPW5ldyBJKGIsMSwhMSxhLFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiKX0pO1tcInhtbDpiYXNlXCIsXCJ4bWw6bGFuZ1wiLFwieG1sOnNwYWNlXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKERjLEVjKTtKW2JdPW5ldyBJKGIsMSwhMSxhLFwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlXCIpfSk7Si50YWJJbmRleD1uZXcgSShcInRhYkluZGV4XCIsMSwhMSxcInRhYmluZGV4XCIsbnVsbCk7XG5mdW5jdGlvbiBGYyhhLGIsYyxkKXt2YXIgZT1KLmhhc093blByb3BlcnR5KGIpP0pbYl06bnVsbDt2YXIgZj1udWxsIT09ZT8wPT09ZS50eXBlOmQ/ITE6ISgyPGIubGVuZ3RoKXx8XCJvXCIhPT1iWzBdJiZcIk9cIiE9PWJbMF18fFwiblwiIT09YlsxXSYmXCJOXCIhPT1iWzFdPyExOiEwO2Z8fChDYyhiLGMsZSxkKSYmKGM9bnVsbCksZHx8bnVsbD09PWU/QWMoYikmJihudWxsPT09Yz9hLnJlbW92ZUF0dHJpYnV0ZShiKTphLnNldEF0dHJpYnV0ZShiLFwiXCIrYykpOmUubXVzdFVzZVByb3BlcnR5P2FbZS5wcm9wZXJ0eU5hbWVdPW51bGw9PT1jPzM9PT1lLnR5cGU/ITE6XCJcIjpjOihiPWUuYXR0cmlidXRlTmFtZSxkPWUuYXR0cmlidXRlTmFtZXNwYWNlLG51bGw9PT1jP2EucmVtb3ZlQXR0cmlidXRlKGIpOihlPWUudHlwZSxjPTM9PT1lfHw0PT09ZSYmITA9PT1jP1wiXCI6XCJcIitjLGQ/YS5zZXRBdHRyaWJ1dGVOUyhkLGIsYyk6YS5zZXRBdHRyaWJ1dGUoYixjKSkpKX1cbmZ1bmN0aW9uIEdjKGEsYil7dmFyIGM9Yi5jaGVja2VkO3JldHVybiBwKHt9LGIse2RlZmF1bHRDaGVja2VkOnZvaWQgMCxkZWZhdWx0VmFsdWU6dm9pZCAwLHZhbHVlOnZvaWQgMCxjaGVja2VkOm51bGwhPWM/YzphLl93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWR9KX1mdW5jdGlvbiBIYyhhLGIpe3ZhciBjPW51bGw9PWIuZGVmYXVsdFZhbHVlP1wiXCI6Yi5kZWZhdWx0VmFsdWUsZD1udWxsIT1iLmNoZWNrZWQ/Yi5jaGVja2VkOmIuZGVmYXVsdENoZWNrZWQ7Yz1JYyhudWxsIT1iLnZhbHVlP2IudmFsdWU6Yyk7YS5fd3JhcHBlclN0YXRlPXtpbml0aWFsQ2hlY2tlZDpkLGluaXRpYWxWYWx1ZTpjLGNvbnRyb2xsZWQ6XCJjaGVja2JveFwiPT09Yi50eXBlfHxcInJhZGlvXCI9PT1iLnR5cGU/bnVsbCE9Yi5jaGVja2VkOm51bGwhPWIudmFsdWV9fWZ1bmN0aW9uIEpjKGEsYil7Yj1iLmNoZWNrZWQ7bnVsbCE9YiYmRmMoYSxcImNoZWNrZWRcIixiLCExKX1cbmZ1bmN0aW9uIEtjKGEsYil7SmMoYSxiKTt2YXIgYz1JYyhiLnZhbHVlKTtpZihudWxsIT1jKWlmKFwibnVtYmVyXCI9PT1iLnR5cGUpe2lmKDA9PT1jJiZcIlwiPT09YS52YWx1ZXx8YS52YWx1ZSE9YylhLnZhbHVlPVwiXCIrY31lbHNlIGEudmFsdWUhPT1cIlwiK2MmJihhLnZhbHVlPVwiXCIrYyk7Yi5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpP0xjKGEsYi50eXBlLGMpOmIuaGFzT3duUHJvcGVydHkoXCJkZWZhdWx0VmFsdWVcIikmJkxjKGEsYi50eXBlLEljKGIuZGVmYXVsdFZhbHVlKSk7bnVsbD09Yi5jaGVja2VkJiZudWxsIT1iLmRlZmF1bHRDaGVja2VkJiYoYS5kZWZhdWx0Q2hlY2tlZD0hIWIuZGVmYXVsdENoZWNrZWQpfVxuZnVuY3Rpb24gTWMoYSxiLGMpe2lmKGIuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKXx8Yi5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSl7Yj1cIlwiK2EuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7dmFyIGQ9YS52YWx1ZTtjfHxiPT09ZHx8KGEudmFsdWU9Yik7YS5kZWZhdWx0VmFsdWU9Yn1jPWEubmFtZTtcIlwiIT09YyYmKGEubmFtZT1cIlwiKTthLmRlZmF1bHRDaGVja2VkPSFhLmRlZmF1bHRDaGVja2VkO2EuZGVmYXVsdENoZWNrZWQ9IWEuZGVmYXVsdENoZWNrZWQ7XCJcIiE9PWMmJihhLm5hbWU9Yyl9ZnVuY3Rpb24gTGMoYSxiLGMpe2lmKFwibnVtYmVyXCIhPT1ifHxhLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PWEpbnVsbD09Yz9hLmRlZmF1bHRWYWx1ZT1cIlwiK2EuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU6YS5kZWZhdWx0VmFsdWUhPT1cIlwiK2MmJihhLmRlZmF1bHRWYWx1ZT1cIlwiK2MpfVxuZnVuY3Rpb24gSWMoYSl7c3dpdGNoKHR5cGVvZiBhKXtjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudW1iZXJcIjpjYXNlIFwib2JqZWN0XCI6Y2FzZSBcInN0cmluZ1wiOmNhc2UgXCJ1bmRlZmluZWRcIjpyZXR1cm4gYTtkZWZhdWx0OnJldHVyblwiXCJ9fXZhciBOYz17Y2hhbmdlOntwaGFzZWRSZWdpc3RyYXRpb25OYW1lczp7YnViYmxlZDpcIm9uQ2hhbmdlXCIsY2FwdHVyZWQ6XCJvbkNoYW5nZUNhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjaGFuZ2UgY2xpY2sgZm9jdXMgaW5wdXQga2V5ZG93biBrZXl1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcIiBcIil9fTtmdW5jdGlvbiBPYyhhLGIsYyl7YT1ILmdldFBvb2xlZChOYy5jaGFuZ2UsYSxiLGMpO2EudHlwZT1cImNoYW5nZVwiO09iKGMpO1lhKGEpO3JldHVybiBhfXZhciBQYz1udWxsLFFjPW51bGw7ZnVuY3Rpb24gUmMoYSl7SWEoYSwhMSl9ZnVuY3Rpb24gU2MoYSl7dmFyIGI9T2EoYSk7aWYoZGMoYikpcmV0dXJuIGF9XG5mdW5jdGlvbiBUYyhhLGIpe2lmKFwiY2hhbmdlXCI9PT1hKXJldHVybiBifXZhciBVYz0hMTttLmNhblVzZURPTSYmKFVjPSRiKFwiaW5wdXRcIikmJighZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PGRvY3VtZW50LmRvY3VtZW50TW9kZSkpO2Z1bmN0aW9uIFZjKCl7UGMmJihQYy5kZXRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIixXYyksUWM9UGM9bnVsbCl9ZnVuY3Rpb24gV2MoYSl7XCJ2YWx1ZVwiPT09YS5wcm9wZXJ0eU5hbWUmJlNjKFFjKSYmKGE9T2MoUWMsYSxaYihhKSksV2IoUmMsYSkpfWZ1bmN0aW9uIFhjKGEsYixjKXtcImZvY3VzXCI9PT1hPyhWYygpLFBjPWIsUWM9YyxQYy5hdHRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIixXYykpOlwiYmx1clwiPT09YSYmVmMoKX1mdW5jdGlvbiBZYyhhKXtpZihcInNlbGVjdGlvbmNoYW5nZVwiPT09YXx8XCJrZXl1cFwiPT09YXx8XCJrZXlkb3duXCI9PT1hKXJldHVybiBTYyhRYyl9XG5mdW5jdGlvbiBaYyhhLGIpe2lmKFwiY2xpY2tcIj09PWEpcmV0dXJuIFNjKGIpfWZ1bmN0aW9uICRjKGEsYil7aWYoXCJpbnB1dFwiPT09YXx8XCJjaGFuZ2VcIj09PWEpcmV0dXJuIFNjKGIpfVxudmFyIGFkPXtldmVudFR5cGVzOk5jLF9pc0lucHV0RXZlbnRTdXBwb3J0ZWQ6VWMsZXh0cmFjdEV2ZW50czpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1iP09hKGIpOndpbmRvdyxmPXZvaWQgMCxnPXZvaWQgMCxoPWUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcInNlbGVjdFwiPT09aHx8XCJpbnB1dFwiPT09aCYmXCJmaWxlXCI9PT1lLnR5cGU/Zj1UYzpZYihlKT9VYz9mPSRjOihmPVljLGc9WGMpOihoPWUubm9kZU5hbWUpJiZcImlucHV0XCI9PT1oLnRvTG93ZXJDYXNlKCkmJihcImNoZWNrYm94XCI9PT1lLnR5cGV8fFwicmFkaW9cIj09PWUudHlwZSkmJihmPVpjKTtpZihmJiYoZj1mKGEsYikpKXJldHVybiBPYyhmLGMsZCk7ZyYmZyhhLGUsYik7XCJibHVyXCI9PT1hJiYoYT1lLl93cmFwcGVyU3RhdGUpJiZhLmNvbnRyb2xsZWQmJlwibnVtYmVyXCI9PT1lLnR5cGUmJkxjKGUsXCJudW1iZXJcIixlLnZhbHVlKX19LGJkPUguZXh0ZW5kKHt2aWV3Om51bGwsZGV0YWlsOm51bGx9KSxjZD17QWx0OlwiYWx0S2V5XCIsXG5Db250cm9sOlwiY3RybEtleVwiLE1ldGE6XCJtZXRhS2V5XCIsU2hpZnQ6XCJzaGlmdEtleVwifTtmdW5jdGlvbiBkZChhKXt2YXIgYj10aGlzLm5hdGl2ZUV2ZW50O3JldHVybiBiLmdldE1vZGlmaWVyU3RhdGU/Yi5nZXRNb2RpZmllclN0YXRlKGEpOihhPWNkW2FdKT8hIWJbYV06ITF9ZnVuY3Rpb24gZWQoKXtyZXR1cm4gZGR9XG52YXIgZmQ9YmQuZXh0ZW5kKHtzY3JlZW5YOm51bGwsc2NyZWVuWTpudWxsLGNsaWVudFg6bnVsbCxjbGllbnRZOm51bGwscGFnZVg6bnVsbCxwYWdlWTpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGFsdEtleTpudWxsLG1ldGFLZXk6bnVsbCxnZXRNb2RpZmllclN0YXRlOmVkLGJ1dHRvbjpudWxsLGJ1dHRvbnM6bnVsbCxyZWxhdGVkVGFyZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlbGF0ZWRUYXJnZXR8fChhLmZyb21FbGVtZW50PT09YS5zcmNFbGVtZW50P2EudG9FbGVtZW50OmEuZnJvbUVsZW1lbnQpfX0pLGdkPWZkLmV4dGVuZCh7cG9pbnRlcklkOm51bGwsd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCxwcmVzc3VyZTpudWxsLHRpbHRYOm51bGwsdGlsdFk6bnVsbCxwb2ludGVyVHlwZTpudWxsLGlzUHJpbWFyeTpudWxsfSksaGQ9e21vdXNlRW50ZXI6e3JlZ2lzdHJhdGlvbk5hbWU6XCJvbk1vdXNlRW50ZXJcIixkZXBlbmRlbmNpZXM6W1wibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiXX0sXG5tb3VzZUxlYXZlOntyZWdpc3RyYXRpb25OYW1lOlwib25Nb3VzZUxlYXZlXCIsZGVwZW5kZW5jaWVzOltcIm1vdXNlb3V0XCIsXCJtb3VzZW92ZXJcIl19LHBvaW50ZXJFbnRlcjp7cmVnaXN0cmF0aW9uTmFtZTpcIm9uUG9pbnRlckVudGVyXCIsZGVwZW5kZW5jaWVzOltcInBvaW50ZXJvdXRcIixcInBvaW50ZXJvdmVyXCJdfSxwb2ludGVyTGVhdmU6e3JlZ2lzdHJhdGlvbk5hbWU6XCJvblBvaW50ZXJMZWF2ZVwiLGRlcGVuZGVuY2llczpbXCJwb2ludGVyb3V0XCIsXCJwb2ludGVyb3ZlclwiXX19LGlkPXtldmVudFR5cGVzOmhkLGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9XCJtb3VzZW92ZXJcIj09PWF8fFwicG9pbnRlcm92ZXJcIj09PWEsZj1cIm1vdXNlb3V0XCI9PT1hfHxcInBvaW50ZXJvdXRcIj09PWE7aWYoZSYmKGMucmVsYXRlZFRhcmdldHx8Yy5mcm9tRWxlbWVudCl8fCFmJiYhZSlyZXR1cm4gbnVsbDtlPWQud2luZG93PT09ZD9kOihlPWQub3duZXJEb2N1bWVudCk/ZS5kZWZhdWx0Vmlld3x8XG5lLnBhcmVudFdpbmRvdzp3aW5kb3c7Zj8oZj1iLGI9KGI9Yy5yZWxhdGVkVGFyZ2V0fHxjLnRvRWxlbWVudCk/TmEoYik6bnVsbCk6Zj1udWxsO2lmKGY9PT1iKXJldHVybiBudWxsO3ZhciBnPXZvaWQgMCxoPXZvaWQgMCxrPXZvaWQgMCxuPXZvaWQgMDtpZihcIm1vdXNlb3V0XCI9PT1hfHxcIm1vdXNlb3ZlclwiPT09YSlnPWZkLGg9aGQubW91c2VMZWF2ZSxrPWhkLm1vdXNlRW50ZXIsbj1cIm1vdXNlXCI7ZWxzZSBpZihcInBvaW50ZXJvdXRcIj09PWF8fFwicG9pbnRlcm92ZXJcIj09PWEpZz1nZCxoPWhkLnBvaW50ZXJMZWF2ZSxrPWhkLnBvaW50ZXJFbnRlcixuPVwicG9pbnRlclwiO2E9bnVsbD09Zj9lOk9hKGYpO2U9bnVsbD09Yj9lOk9hKGIpO2g9Zy5nZXRQb29sZWQoaCxmLGMsZCk7aC50eXBlPW4rXCJsZWF2ZVwiO2gudGFyZ2V0PWE7aC5yZWxhdGVkVGFyZ2V0PWU7Yz1nLmdldFBvb2xlZChrLGIsYyxkKTtjLnR5cGU9bitcImVudGVyXCI7Yy50YXJnZXQ9ZTtjLnJlbGF0ZWRUYXJnZXQ9YTtaYShoLFxuYyxmLGIpO3JldHVybltoLGNdfX07ZnVuY3Rpb24gamQoYSl7dmFyIGI9YTtpZihhLmFsdGVybmF0ZSlmb3IoO2IucmV0dXJuOyliPWIucmV0dXJuO2Vsc2V7aWYoMCE9PShiLmVmZmVjdFRhZyYyKSlyZXR1cm4gMTtmb3IoO2IucmV0dXJuOylpZihiPWIucmV0dXJuLDAhPT0oYi5lZmZlY3RUYWcmMikpcmV0dXJuIDF9cmV0dXJuIDM9PT1iLnRhZz8yOjN9ZnVuY3Rpb24ga2QoYSl7MiE9PWpkKGEpP0EoXCIxODhcIik6dm9pZCAwfVxuZnVuY3Rpb24gbGQoYSl7dmFyIGI9YS5hbHRlcm5hdGU7aWYoIWIpcmV0dXJuIGI9amQoYSksMz09PWI/QShcIjE4OFwiKTp2b2lkIDAsMT09PWI/bnVsbDphO2Zvcih2YXIgYz1hLGQ9Yjs7KXt2YXIgZT1jLnJldHVybixmPWU/ZS5hbHRlcm5hdGU6bnVsbDtpZighZXx8IWYpYnJlYWs7aWYoZS5jaGlsZD09PWYuY2hpbGQpe2Zvcih2YXIgZz1lLmNoaWxkO2c7KXtpZihnPT09YylyZXR1cm4ga2QoZSksYTtpZihnPT09ZClyZXR1cm4ga2QoZSksYjtnPWcuc2libGluZ31BKFwiMTg4XCIpfWlmKGMucmV0dXJuIT09ZC5yZXR1cm4pYz1lLGQ9ZjtlbHNle2c9ITE7Zm9yKHZhciBoPWUuY2hpbGQ7aDspe2lmKGg9PT1jKXtnPSEwO2M9ZTtkPWY7YnJlYWt9aWYoaD09PWQpe2c9ITA7ZD1lO2M9ZjticmVha31oPWguc2libGluZ31pZighZyl7Zm9yKGg9Zi5jaGlsZDtoOyl7aWYoaD09PWMpe2c9ITA7Yz1mO2Q9ZTticmVha31pZihoPT09ZCl7Zz0hMDtkPWY7Yz1lO2JyZWFrfWg9aC5zaWJsaW5nfWc/XG52b2lkIDA6QShcIjE4OVwiKX19Yy5hbHRlcm5hdGUhPT1kP0EoXCIxOTBcIik6dm9pZCAwfTMhPT1jLnRhZz9BKFwiMTg4XCIpOnZvaWQgMDtyZXR1cm4gYy5zdGF0ZU5vZGUuY3VycmVudD09PWM/YTpifWZ1bmN0aW9uIG1kKGEpe2E9bGQoYSk7aWYoIWEpcmV0dXJuIG51bGw7Zm9yKHZhciBiPWE7Oyl7aWYoNT09PWIudGFnfHw2PT09Yi50YWcpcmV0dXJuIGI7aWYoYi5jaGlsZCliLmNoaWxkLnJldHVybj1iLGI9Yi5jaGlsZDtlbHNle2lmKGI9PT1hKWJyZWFrO2Zvcig7IWIuc2libGluZzspe2lmKCFiLnJldHVybnx8Yi5yZXR1cm49PT1hKXJldHVybiBudWxsO2I9Yi5yZXR1cm59Yi5zaWJsaW5nLnJldHVybj1iLnJldHVybjtiPWIuc2libGluZ319cmV0dXJuIG51bGx9XG5mdW5jdGlvbiBuZChhKXthPWxkKGEpO2lmKCFhKXJldHVybiBudWxsO2Zvcih2YXIgYj1hOzspe2lmKDU9PT1iLnRhZ3x8Nj09PWIudGFnKXJldHVybiBiO2lmKGIuY2hpbGQmJjQhPT1iLnRhZyliLmNoaWxkLnJldHVybj1iLGI9Yi5jaGlsZDtlbHNle2lmKGI9PT1hKWJyZWFrO2Zvcig7IWIuc2libGluZzspe2lmKCFiLnJldHVybnx8Yi5yZXR1cm49PT1hKXJldHVybiBudWxsO2I9Yi5yZXR1cm59Yi5zaWJsaW5nLnJldHVybj1iLnJldHVybjtiPWIuc2libGluZ319cmV0dXJuIG51bGx9dmFyIG9kPUguZXh0ZW5kKHthbmltYXRpb25OYW1lOm51bGwsZWxhcHNlZFRpbWU6bnVsbCxwc2V1ZG9FbGVtZW50Om51bGx9KSxwZD1ILmV4dGVuZCh7Y2xpcGJvYXJkRGF0YTpmdW5jdGlvbihhKXtyZXR1cm5cImNsaXBib2FyZERhdGFcImluIGE/YS5jbGlwYm9hcmREYXRhOndpbmRvdy5jbGlwYm9hcmREYXRhfX0pLHFkPWJkLmV4dGVuZCh7cmVsYXRlZFRhcmdldDpudWxsfSk7XG5mdW5jdGlvbiByZChhKXt2YXIgYj1hLmtleUNvZGU7XCJjaGFyQ29kZVwiaW4gYT8oYT1hLmNoYXJDb2RlLDA9PT1hJiYxMz09PWImJihhPTEzKSk6YT1iOzEwPT09YSYmKGE9MTMpO3JldHVybiAzMjw9YXx8MTM9PT1hP2E6MH1cbnZhciBzZD17RXNjOlwiRXNjYXBlXCIsU3BhY2ViYXI6XCIgXCIsTGVmdDpcIkFycm93TGVmdFwiLFVwOlwiQXJyb3dVcFwiLFJpZ2h0OlwiQXJyb3dSaWdodFwiLERvd246XCJBcnJvd0Rvd25cIixEZWw6XCJEZWxldGVcIixXaW46XCJPU1wiLE1lbnU6XCJDb250ZXh0TWVudVwiLEFwcHM6XCJDb250ZXh0TWVudVwiLFNjcm9sbDpcIlNjcm9sbExvY2tcIixNb3pQcmludGFibGVLZXk6XCJVbmlkZW50aWZpZWRcIn0sdGQ9ezg6XCJCYWNrc3BhY2VcIiw5OlwiVGFiXCIsMTI6XCJDbGVhclwiLDEzOlwiRW50ZXJcIiwxNjpcIlNoaWZ0XCIsMTc6XCJDb250cm9sXCIsMTg6XCJBbHRcIiwxOTpcIlBhdXNlXCIsMjA6XCJDYXBzTG9ja1wiLDI3OlwiRXNjYXBlXCIsMzI6XCIgXCIsMzM6XCJQYWdlVXBcIiwzNDpcIlBhZ2VEb3duXCIsMzU6XCJFbmRcIiwzNjpcIkhvbWVcIiwzNzpcIkFycm93TGVmdFwiLDM4OlwiQXJyb3dVcFwiLDM5OlwiQXJyb3dSaWdodFwiLDQwOlwiQXJyb3dEb3duXCIsNDU6XCJJbnNlcnRcIiw0NjpcIkRlbGV0ZVwiLDExMjpcIkYxXCIsMTEzOlwiRjJcIiwxMTQ6XCJGM1wiLDExNTpcIkY0XCIsXG4xMTY6XCJGNVwiLDExNzpcIkY2XCIsMTE4OlwiRjdcIiwxMTk6XCJGOFwiLDEyMDpcIkY5XCIsMTIxOlwiRjEwXCIsMTIyOlwiRjExXCIsMTIzOlwiRjEyXCIsMTQ0OlwiTnVtTG9ja1wiLDE0NTpcIlNjcm9sbExvY2tcIiwyMjQ6XCJNZXRhXCJ9LHVkPWJkLmV4dGVuZCh7a2V5OmZ1bmN0aW9uKGEpe2lmKGEua2V5KXt2YXIgYj1zZFthLmtleV18fGEua2V5O2lmKFwiVW5pZGVudGlmaWVkXCIhPT1iKXJldHVybiBifXJldHVyblwia2V5cHJlc3NcIj09PWEudHlwZT8oYT1yZChhKSwxMz09PWE/XCJFbnRlclwiOlN0cmluZy5mcm9tQ2hhckNvZGUoYSkpOlwia2V5ZG93blwiPT09YS50eXBlfHxcImtleXVwXCI9PT1hLnR5cGU/dGRbYS5rZXlDb2RlXXx8XCJVbmlkZW50aWZpZWRcIjpcIlwifSxsb2NhdGlvbjpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGFsdEtleTpudWxsLG1ldGFLZXk6bnVsbCxyZXBlYXQ6bnVsbCxsb2NhbGU6bnVsbCxnZXRNb2RpZmllclN0YXRlOmVkLGNoYXJDb2RlOmZ1bmN0aW9uKGEpe3JldHVyblwia2V5cHJlc3NcIj09PVxuYS50eXBlP3JkKGEpOjB9LGtleUNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlkb3duXCI9PT1hLnR5cGV8fFwia2V5dXBcIj09PWEudHlwZT9hLmtleUNvZGU6MH0sd2hpY2g6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlwcmVzc1wiPT09YS50eXBlP3JkKGEpOlwia2V5ZG93blwiPT09YS50eXBlfHxcImtleXVwXCI9PT1hLnR5cGU/YS5rZXlDb2RlOjB9fSksdmQ9ZmQuZXh0ZW5kKHtkYXRhVHJhbnNmZXI6bnVsbH0pLHdkPWJkLmV4dGVuZCh7dG91Y2hlczpudWxsLHRhcmdldFRvdWNoZXM6bnVsbCxjaGFuZ2VkVG91Y2hlczpudWxsLGFsdEtleTpudWxsLG1ldGFLZXk6bnVsbCxjdHJsS2V5Om51bGwsc2hpZnRLZXk6bnVsbCxnZXRNb2RpZmllclN0YXRlOmVkfSkseGQ9SC5leHRlbmQoe3Byb3BlcnR5TmFtZTpudWxsLGVsYXBzZWRUaW1lOm51bGwscHNldWRvRWxlbWVudDpudWxsfSkseWQ9ZmQuZXh0ZW5kKHtkZWx0YVg6ZnVuY3Rpb24oYSl7cmV0dXJuXCJkZWx0YVhcImluIGE/YS5kZWx0YVg6XCJ3aGVlbERlbHRhWFwiaW5cbmE/LWEud2hlZWxEZWx0YVg6MH0sZGVsdGFZOmZ1bmN0aW9uKGEpe3JldHVyblwiZGVsdGFZXCJpbiBhP2EuZGVsdGFZOlwid2hlZWxEZWx0YVlcImluIGE/LWEud2hlZWxEZWx0YVk6XCJ3aGVlbERlbHRhXCJpbiBhPy1hLndoZWVsRGVsdGE6MH0sZGVsdGFaOm51bGwsZGVsdGFNb2RlOm51bGx9KSx6ZD1bW1wiYWJvcnRcIixcImFib3J0XCJdLFtmYixcImFuaW1hdGlvbkVuZFwiXSxbZ2IsXCJhbmltYXRpb25JdGVyYXRpb25cIl0sW2hiLFwiYW5pbWF0aW9uU3RhcnRcIl0sW1wiY2FucGxheVwiLFwiY2FuUGxheVwiXSxbXCJjYW5wbGF5dGhyb3VnaFwiLFwiY2FuUGxheVRocm91Z2hcIl0sW1wiZHJhZ1wiLFwiZHJhZ1wiXSxbXCJkcmFnZW50ZXJcIixcImRyYWdFbnRlclwiXSxbXCJkcmFnZXhpdFwiLFwiZHJhZ0V4aXRcIl0sW1wiZHJhZ2xlYXZlXCIsXCJkcmFnTGVhdmVcIl0sW1wiZHJhZ292ZXJcIixcImRyYWdPdmVyXCJdLFtcImR1cmF0aW9uY2hhbmdlXCIsXCJkdXJhdGlvbkNoYW5nZVwiXSxbXCJlbXB0aWVkXCIsXCJlbXB0aWVkXCJdLFtcImVuY3J5cHRlZFwiLFwiZW5jcnlwdGVkXCJdLFxuW1wiZW5kZWRcIixcImVuZGVkXCJdLFtcImVycm9yXCIsXCJlcnJvclwiXSxbXCJnb3Rwb2ludGVyY2FwdHVyZVwiLFwiZ290UG9pbnRlckNhcHR1cmVcIl0sW1wibG9hZFwiLFwibG9hZFwiXSxbXCJsb2FkZWRkYXRhXCIsXCJsb2FkZWREYXRhXCJdLFtcImxvYWRlZG1ldGFkYXRhXCIsXCJsb2FkZWRNZXRhZGF0YVwiXSxbXCJsb2Fkc3RhcnRcIixcImxvYWRTdGFydFwiXSxbXCJsb3N0cG9pbnRlcmNhcHR1cmVcIixcImxvc3RQb2ludGVyQ2FwdHVyZVwiXSxbXCJtb3VzZW1vdmVcIixcIm1vdXNlTW92ZVwiXSxbXCJtb3VzZW91dFwiLFwibW91c2VPdXRcIl0sW1wibW91c2VvdmVyXCIsXCJtb3VzZU92ZXJcIl0sW1wicGxheWluZ1wiLFwicGxheWluZ1wiXSxbXCJwb2ludGVybW92ZVwiLFwicG9pbnRlck1vdmVcIl0sW1wicG9pbnRlcm91dFwiLFwicG9pbnRlck91dFwiXSxbXCJwb2ludGVyb3ZlclwiLFwicG9pbnRlck92ZXJcIl0sW1wicHJvZ3Jlc3NcIixcInByb2dyZXNzXCJdLFtcInNjcm9sbFwiLFwic2Nyb2xsXCJdLFtcInNlZWtpbmdcIixcInNlZWtpbmdcIl0sW1wic3RhbGxlZFwiLFwic3RhbGxlZFwiXSxcbltcInN1c3BlbmRcIixcInN1c3BlbmRcIl0sW1widGltZXVwZGF0ZVwiLFwidGltZVVwZGF0ZVwiXSxbXCJ0b2dnbGVcIixcInRvZ2dsZVwiXSxbXCJ0b3VjaG1vdmVcIixcInRvdWNoTW92ZVwiXSxbaWIsXCJ0cmFuc2l0aW9uRW5kXCJdLFtcIndhaXRpbmdcIixcIndhaXRpbmdcIl0sW1wid2hlZWxcIixcIndoZWVsXCJdXSxBZD17fSxCZD17fTtmdW5jdGlvbiBDZChhLGIpe3ZhciBjPWFbMF07YT1hWzFdO3ZhciBkPVwib25cIisoYVswXS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSkpO2I9e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOmQsY2FwdHVyZWQ6ZCtcIkNhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOltjXSxpc0ludGVyYWN0aXZlOmJ9O0FkW2FdPWI7QmRbY109Yn1cbltbXCJibHVyXCIsXCJibHVyXCJdLFtcImNhbmNlbFwiLFwiY2FuY2VsXCJdLFtcImNsaWNrXCIsXCJjbGlja1wiXSxbXCJjbG9zZVwiLFwiY2xvc2VcIl0sW1wiY29udGV4dG1lbnVcIixcImNvbnRleHRNZW51XCJdLFtcImNvcHlcIixcImNvcHlcIl0sW1wiY3V0XCIsXCJjdXRcIl0sW1wiZGJsY2xpY2tcIixcImRvdWJsZUNsaWNrXCJdLFtcImRyYWdlbmRcIixcImRyYWdFbmRcIl0sW1wiZHJhZ3N0YXJ0XCIsXCJkcmFnU3RhcnRcIl0sW1wiZHJvcFwiLFwiZHJvcFwiXSxbXCJmb2N1c1wiLFwiZm9jdXNcIl0sW1wiaW5wdXRcIixcImlucHV0XCJdLFtcImludmFsaWRcIixcImludmFsaWRcIl0sW1wia2V5ZG93blwiLFwia2V5RG93blwiXSxbXCJrZXlwcmVzc1wiLFwia2V5UHJlc3NcIl0sW1wia2V5dXBcIixcImtleVVwXCJdLFtcIm1vdXNlZG93blwiLFwibW91c2VEb3duXCJdLFtcIm1vdXNldXBcIixcIm1vdXNlVXBcIl0sW1wicGFzdGVcIixcInBhc3RlXCJdLFtcInBhdXNlXCIsXCJwYXVzZVwiXSxbXCJwbGF5XCIsXCJwbGF5XCJdLFtcInBvaW50ZXJjYW5jZWxcIixcInBvaW50ZXJDYW5jZWxcIl0sW1wicG9pbnRlcmRvd25cIixcInBvaW50ZXJEb3duXCJdLFxuW1wicG9pbnRlcnVwXCIsXCJwb2ludGVyVXBcIl0sW1wicmF0ZWNoYW5nZVwiLFwicmF0ZUNoYW5nZVwiXSxbXCJyZXNldFwiLFwicmVzZXRcIl0sW1wic2Vla2VkXCIsXCJzZWVrZWRcIl0sW1wic3VibWl0XCIsXCJzdWJtaXRcIl0sW1widG91Y2hjYW5jZWxcIixcInRvdWNoQ2FuY2VsXCJdLFtcInRvdWNoZW5kXCIsXCJ0b3VjaEVuZFwiXSxbXCJ0b3VjaHN0YXJ0XCIsXCJ0b3VjaFN0YXJ0XCJdLFtcInZvbHVtZWNoYW5nZVwiLFwidm9sdW1lQ2hhbmdlXCJdXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe0NkKGEsITApfSk7emQuZm9yRWFjaChmdW5jdGlvbihhKXtDZChhLCExKX0pO1xudmFyIERkPXtldmVudFR5cGVzOkFkLGlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZTpmdW5jdGlvbihhKXthPUJkW2FdO3JldHVybiB2b2lkIDAhPT1hJiYhMD09PWEuaXNJbnRlcmFjdGl2ZX0sZXh0cmFjdEV2ZW50czpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1CZFthXTtpZighZSlyZXR1cm4gbnVsbDtzd2l0Y2goYSl7Y2FzZSBcImtleXByZXNzXCI6aWYoMD09PXJkKGMpKXJldHVybiBudWxsO2Nhc2UgXCJrZXlkb3duXCI6Y2FzZSBcImtleXVwXCI6YT11ZDticmVhaztjYXNlIFwiYmx1clwiOmNhc2UgXCJmb2N1c1wiOmE9cWQ7YnJlYWs7Y2FzZSBcImNsaWNrXCI6aWYoMj09PWMuYnV0dG9uKXJldHVybiBudWxsO2Nhc2UgXCJkYmxjbGlja1wiOmNhc2UgXCJtb3VzZWRvd25cIjpjYXNlIFwibW91c2Vtb3ZlXCI6Y2FzZSBcIm1vdXNldXBcIjpjYXNlIFwibW91c2VvdXRcIjpjYXNlIFwibW91c2VvdmVyXCI6Y2FzZSBcImNvbnRleHRtZW51XCI6YT1mZDticmVhaztjYXNlIFwiZHJhZ1wiOmNhc2UgXCJkcmFnZW5kXCI6Y2FzZSBcImRyYWdlbnRlclwiOmNhc2UgXCJkcmFnZXhpdFwiOmNhc2UgXCJkcmFnbGVhdmVcIjpjYXNlIFwiZHJhZ292ZXJcIjpjYXNlIFwiZHJhZ3N0YXJ0XCI6Y2FzZSBcImRyb3BcIjphPVxudmQ7YnJlYWs7Y2FzZSBcInRvdWNoY2FuY2VsXCI6Y2FzZSBcInRvdWNoZW5kXCI6Y2FzZSBcInRvdWNobW92ZVwiOmNhc2UgXCJ0b3VjaHN0YXJ0XCI6YT13ZDticmVhaztjYXNlIGZiOmNhc2UgZ2I6Y2FzZSBoYjphPW9kO2JyZWFrO2Nhc2UgaWI6YT14ZDticmVhaztjYXNlIFwic2Nyb2xsXCI6YT1iZDticmVhaztjYXNlIFwid2hlZWxcIjphPXlkO2JyZWFrO2Nhc2UgXCJjb3B5XCI6Y2FzZSBcImN1dFwiOmNhc2UgXCJwYXN0ZVwiOmE9cGQ7YnJlYWs7Y2FzZSBcImdvdHBvaW50ZXJjYXB0dXJlXCI6Y2FzZSBcImxvc3Rwb2ludGVyY2FwdHVyZVwiOmNhc2UgXCJwb2ludGVyY2FuY2VsXCI6Y2FzZSBcInBvaW50ZXJkb3duXCI6Y2FzZSBcInBvaW50ZXJtb3ZlXCI6Y2FzZSBcInBvaW50ZXJvdXRcIjpjYXNlIFwicG9pbnRlcm92ZXJcIjpjYXNlIFwicG9pbnRlcnVwXCI6YT1nZDticmVhaztkZWZhdWx0OmE9SH1iPWEuZ2V0UG9vbGVkKGUsYixjLGQpO1lhKGIpO3JldHVybiBifX0sRWQ9RGQuaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlLFxuRmQ9W107ZnVuY3Rpb24gR2QoYSl7dmFyIGI9YS50YXJnZXRJbnN0O2Rve2lmKCFiKXthLmFuY2VzdG9ycy5wdXNoKGIpO2JyZWFrfXZhciBjO2ZvcihjPWI7Yy5yZXR1cm47KWM9Yy5yZXR1cm47Yz0zIT09Yy50YWc/bnVsbDpjLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO2lmKCFjKWJyZWFrO2EuYW5jZXN0b3JzLnB1c2goYik7Yj1OYShjKX13aGlsZShiKTtmb3IoYz0wO2M8YS5hbmNlc3RvcnMubGVuZ3RoO2MrKyliPWEuYW5jZXN0b3JzW2NdLEphKGEudG9wTGV2ZWxUeXBlLGIsYS5uYXRpdmVFdmVudCxaYihhLm5hdGl2ZUV2ZW50KSl9dmFyIEhkPSEwO2Z1bmN0aW9uIElkKGEpe0hkPSEhYX1mdW5jdGlvbiBLKGEsYil7aWYoIWIpcmV0dXJuIG51bGw7dmFyIGM9KEVkKGEpP0tkOkxkKS5iaW5kKG51bGwsYSk7Yi5hZGRFdmVudExpc3RlbmVyKGEsYywhMSl9XG5mdW5jdGlvbiBNZChhLGIpe2lmKCFiKXJldHVybiBudWxsO3ZhciBjPShFZChhKT9LZDpMZCkuYmluZChudWxsLGEpO2IuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApfWZ1bmN0aW9uIEtkKGEsYil7VGIoTGQsYSxiKX1mdW5jdGlvbiBMZChhLGIpe2lmKEhkKXt2YXIgYz1aYihiKTtjPU5hKGMpO251bGw9PT1jfHxcIm51bWJlclwiIT09dHlwZW9mIGMudGFnfHwyPT09amQoYyl8fChjPW51bGwpO2lmKEZkLmxlbmd0aCl7dmFyIGQ9RmQucG9wKCk7ZC50b3BMZXZlbFR5cGU9YTtkLm5hdGl2ZUV2ZW50PWI7ZC50YXJnZXRJbnN0PWM7YT1kfWVsc2UgYT17dG9wTGV2ZWxUeXBlOmEsbmF0aXZlRXZlbnQ6Yix0YXJnZXRJbnN0OmMsYW5jZXN0b3JzOltdfTt0cnl7V2IoR2QsYSl9ZmluYWxseXthLnRvcExldmVsVHlwZT1udWxsLGEubmF0aXZlRXZlbnQ9bnVsbCxhLnRhcmdldEluc3Q9bnVsbCxhLmFuY2VzdG9ycy5sZW5ndGg9MCwxMD5GZC5sZW5ndGgmJkZkLnB1c2goYSl9fX1cbnZhciBOZD17Z2V0IF9lbmFibGVkKCl7cmV0dXJuIEhkfSxzZXRFbmFibGVkOklkLGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBIZH0sdHJhcEJ1YmJsZWRFdmVudDpLLHRyYXBDYXB0dXJlZEV2ZW50Ok1kLGRpc3BhdGNoRXZlbnQ6TGR9LE9kPXt9LFBkPTAsUWQ9XCJfcmVhY3RMaXN0ZW5lcnNJRFwiKyhcIlwiK01hdGgucmFuZG9tKCkpLnNsaWNlKDIpO2Z1bmN0aW9uIFJkKGEpe09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLFFkKXx8KGFbUWRdPVBkKyssT2RbYVtRZF1dPXt9KTtyZXR1cm4gT2RbYVtRZF1dfWZ1bmN0aW9uIFNkKGEpe2Zvcig7YSYmYS5maXJzdENoaWxkOylhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX1cbmZ1bmN0aW9uIFRkKGEsYil7dmFyIGM9U2QoYSk7YT0wO2Zvcih2YXIgZDtjOyl7aWYoMz09PWMubm9kZVR5cGUpe2Q9YStjLnRleHRDb250ZW50Lmxlbmd0aDtpZihhPD1iJiZkPj1iKXJldHVybntub2RlOmMsb2Zmc2V0OmItYX07YT1kfWE6e2Zvcig7Yzspe2lmKGMubmV4dFNpYmxpbmcpe2M9Yy5uZXh0U2libGluZzticmVhayBhfWM9Yy5wYXJlbnROb2RlfWM9dm9pZCAwfWM9U2QoYyl9fWZ1bmN0aW9uIFVkKGEpe3ZhciBiPWEmJmEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gYiYmKFwiaW5wdXRcIj09PWImJihcInRleHRcIj09PWEudHlwZXx8XCJzZWFyY2hcIj09PWEudHlwZXx8XCJ0ZWxcIj09PWEudHlwZXx8XCJ1cmxcIj09PWEudHlwZXx8XCJwYXNzd29yZFwiPT09YS50eXBlKXx8XCJ0ZXh0YXJlYVwiPT09Ynx8XCJ0cnVlXCI9PT1hLmNvbnRlbnRFZGl0YWJsZSl9XG52YXIgVmQ9bS5jYW5Vc2VET00mJlwiZG9jdW1lbnRNb2RlXCJpbiBkb2N1bWVudCYmMTE+PWRvY3VtZW50LmRvY3VtZW50TW9kZSxXZD17c2VsZWN0OntwaGFzZWRSZWdpc3RyYXRpb25OYW1lczp7YnViYmxlZDpcIm9uU2VsZWN0XCIsY2FwdHVyZWQ6XCJvblNlbGVjdENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjb250ZXh0bWVudSBmb2N1cyBrZXlkb3duIGtleXVwIG1vdXNlZG93biBtb3VzZXVwIHNlbGVjdGlvbmNoYW5nZVwiLnNwbGl0KFwiIFwiKX19LFhkPW51bGwsWWQ9bnVsbCxaZD1udWxsLCRkPSExO1xuZnVuY3Rpb24gYWUoYSxiKXtpZigkZHx8bnVsbD09WGR8fFhkIT09ZGEoKSlyZXR1cm4gbnVsbDt2YXIgYz1YZDtcInNlbGVjdGlvblN0YXJ0XCJpbiBjJiZVZChjKT9jPXtzdGFydDpjLnNlbGVjdGlvblN0YXJ0LGVuZDpjLnNlbGVjdGlvbkVuZH06d2luZG93LmdldFNlbGVjdGlvbj8oYz13aW5kb3cuZ2V0U2VsZWN0aW9uKCksYz17YW5jaG9yTm9kZTpjLmFuY2hvck5vZGUsYW5jaG9yT2Zmc2V0OmMuYW5jaG9yT2Zmc2V0LGZvY3VzTm9kZTpjLmZvY3VzTm9kZSxmb2N1c09mZnNldDpjLmZvY3VzT2Zmc2V0fSk6Yz12b2lkIDA7cmV0dXJuIFpkJiZlYShaZCxjKT9udWxsOihaZD1jLGE9SC5nZXRQb29sZWQoV2Quc2VsZWN0LFlkLGEsYiksYS50eXBlPVwic2VsZWN0XCIsYS50YXJnZXQ9WGQsWWEoYSksYSl9XG52YXIgYmU9e2V2ZW50VHlwZXM6V2QsZXh0cmFjdEV2ZW50czpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1kLndpbmRvdz09PWQ/ZC5kb2N1bWVudDo5PT09ZC5ub2RlVHlwZT9kOmQub3duZXJEb2N1bWVudCxmO2lmKCEoZj0hZSkpe2E6e2U9UmQoZSk7Zj1zYS5vblNlbGVjdDtmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKyl7dmFyIGg9ZltnXTtpZighZS5oYXNPd25Qcm9wZXJ0eShoKXx8IWVbaF0pe2U9ITE7YnJlYWsgYX19ZT0hMH1mPSFlfWlmKGYpcmV0dXJuIG51bGw7ZT1iP09hKGIpOndpbmRvdztzd2l0Y2goYSl7Y2FzZSBcImZvY3VzXCI6aWYoWWIoZSl8fFwidHJ1ZVwiPT09ZS5jb250ZW50RWRpdGFibGUpWGQ9ZSxZZD1iLFpkPW51bGw7YnJlYWs7Y2FzZSBcImJsdXJcIjpaZD1ZZD1YZD1udWxsO2JyZWFrO2Nhc2UgXCJtb3VzZWRvd25cIjokZD0hMDticmVhaztjYXNlIFwiY29udGV4dG1lbnVcIjpjYXNlIFwibW91c2V1cFwiOnJldHVybiAkZD0hMSxhZShjLGQpO2Nhc2UgXCJzZWxlY3Rpb25jaGFuZ2VcIjppZihWZClicmVhaztcbmNhc2UgXCJrZXlkb3duXCI6Y2FzZSBcImtleXVwXCI6cmV0dXJuIGFlKGMsZCl9cmV0dXJuIG51bGx9fTtHYS5pbmplY3RFdmVudFBsdWdpbk9yZGVyKFwiUmVzcG9uZGVyRXZlbnRQbHVnaW4gU2ltcGxlRXZlbnRQbHVnaW4gVGFwRXZlbnRQbHVnaW4gRW50ZXJMZWF2ZUV2ZW50UGx1Z2luIENoYW5nZUV2ZW50UGx1Z2luIFNlbGVjdEV2ZW50UGx1Z2luIEJlZm9yZUlucHV0RXZlbnRQbHVnaW5cIi5zcGxpdChcIiBcIikpO3dhPVFhLmdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGU7eGE9UWEuZ2V0SW5zdGFuY2VGcm9tTm9kZTt5YT1RYS5nZXROb2RlRnJvbUluc3RhbmNlO0dhLmluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSh7U2ltcGxlRXZlbnRQbHVnaW46RGQsRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOmlkLENoYW5nZUV2ZW50UGx1Z2luOmFkLFNlbGVjdEV2ZW50UGx1Z2luOmJlLEJlZm9yZUlucHV0RXZlbnRQbHVnaW46SWJ9KTtcbnZhciBjZT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lP3JlcXVlc3RBbmltYXRpb25GcmFtZTp2b2lkIDAsZGU9RGF0ZSxlZT1zZXRUaW1lb3V0LGZlPWNsZWFyVGltZW91dCxnZT12b2lkIDA7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBwZXJmb3JtYW5jZSYmXCJmdW5jdGlvblwiPT09dHlwZW9mIHBlcmZvcm1hbmNlLm5vdyl7dmFyIGhlPXBlcmZvcm1hbmNlO2dlPWZ1bmN0aW9uKCl7cmV0dXJuIGhlLm5vdygpfX1lbHNlIGdlPWZ1bmN0aW9uKCl7cmV0dXJuIGRlLm5vdygpfTt2YXIgaWU9dm9pZCAwLGplPXZvaWQgMDtcbmlmKG0uY2FuVXNlRE9NKXt2YXIga2U9XCJmdW5jdGlvblwiPT09dHlwZW9mIGNlP2NlOmZ1bmN0aW9uKCl7QShcIjI3NlwiKX0sTD1udWxsLGxlPW51bGwsbWU9LTEsbmU9ITEsb2U9ITEscGU9MCxxZT0zMyxyZT0zMyxzZT17ZGlkVGltZW91dDohMSx0aW1lUmVtYWluaW5nOmZ1bmN0aW9uKCl7dmFyIGE9cGUtZ2UoKTtyZXR1cm4gMDxhP2E6MH19LHVlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zY2hlZHVsZWRDYWxsYmFjayxkPSExO3RyeXtjKGIpLGQ9ITB9ZmluYWxseXtqZShhKSxkfHwobmU9ITAsd2luZG93LnBvc3RNZXNzYWdlKHRlLFwiKlwiKSl9fSx0ZT1cIl9fcmVhY3RJZGxlQ2FsbGJhY2skXCIrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oYSl7aWYoYS5zb3VyY2U9PT13aW5kb3cmJmEuZGF0YT09PXRlJiYobmU9ITEsbnVsbCE9PUwpKXtpZihudWxsIT09TCl7dmFyIGI9Z2UoKTtpZighKC0xPT09XG5tZXx8bWU+Yikpe2E9LTE7Zm9yKHZhciBjPVtdLGQ9TDtudWxsIT09ZDspe3ZhciBlPWQudGltZW91dFRpbWU7LTEhPT1lJiZlPD1iP2MucHVzaChkKTotMSE9PWUmJigtMT09PWF8fGU8YSkmJihhPWUpO2Q9ZC5uZXh0fWlmKDA8Yy5sZW5ndGgpZm9yKHNlLmRpZFRpbWVvdXQ9ITAsYj0wLGQ9Yy5sZW5ndGg7YjxkO2IrKyl1ZShjW2JdLHNlKTttZT1hfX1mb3IoYT1nZSgpOzA8cGUtYSYmbnVsbCE9PUw7KWE9TCxzZS5kaWRUaW1lb3V0PSExLHVlKGEsc2UpLGE9Z2UoKTtudWxsPT09THx8b2V8fChvZT0hMCxrZSh2ZSkpfX0sITEpO3ZhciB2ZT1mdW5jdGlvbihhKXtvZT0hMTt2YXIgYj1hLXBlK3JlO2I8cmUmJnFlPHJlPyg4PmImJihiPTgpLHJlPWI8cWU/cWU6Yik6cWU9YjtwZT1hK3JlO25lfHwobmU9ITAsd2luZG93LnBvc3RNZXNzYWdlKHRlLFwiKlwiKSl9O2llPWZ1bmN0aW9uKGEsYil7dmFyIGM9LTE7bnVsbCE9YiYmXCJudW1iZXJcIj09PXR5cGVvZiBiLnRpbWVvdXQmJihjPWdlKCkrXG5iLnRpbWVvdXQpO2lmKC0xPT09bWV8fC0xIT09YyYmYzxtZSltZT1jO2E9e3NjaGVkdWxlZENhbGxiYWNrOmEsdGltZW91dFRpbWU6YyxwcmV2Om51bGwsbmV4dDpudWxsfTtudWxsPT09TD9MPWE6KGI9YS5wcmV2PWxlLG51bGwhPT1iJiYoYi5uZXh0PWEpKTtsZT1hO29lfHwob2U9ITAsa2UodmUpKTtyZXR1cm4gYX07amU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9PWEucHJldnx8TD09PWEpe3ZhciBiPWEubmV4dCxjPWEucHJldjthLm5leHQ9bnVsbDthLnByZXY9bnVsbDtudWxsIT09Yj9udWxsIT09Yz8oYy5uZXh0PWIsYi5wcmV2PWMpOihiLnByZXY9bnVsbCxMPWIpOm51bGwhPT1jPyhjLm5leHQ9bnVsbCxsZT1jKTpsZT1MPW51bGx9fX1lbHNle3ZhciB3ZT1uZXcgTWFwO2llPWZ1bmN0aW9uKGEpe3ZhciBiPXtzY2hlZHVsZWRDYWxsYmFjazphLHRpbWVvdXRUaW1lOjAsbmV4dDpudWxsLHByZXY6bnVsbH0sYz1lZShmdW5jdGlvbigpe2Eoe3RpbWVSZW1haW5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gSW5maW5pdHl9LFxuZGlkVGltZW91dDohMX0pfSk7d2Uuc2V0KGEsYyk7cmV0dXJuIGJ9O2plPWZ1bmN0aW9uKGEpe3ZhciBiPXdlLmdldChhLnNjaGVkdWxlZENhbGxiYWNrKTt3ZS5kZWxldGUoYSk7ZmUoYil9fWZ1bmN0aW9uIHhlKGEpe3ZhciBiPVwiXCI7YmEuQ2hpbGRyZW4uZm9yRWFjaChhLGZ1bmN0aW9uKGEpe251bGw9PWF8fFwic3RyaW5nXCIhPT10eXBlb2YgYSYmXCJudW1iZXJcIiE9PXR5cGVvZiBhfHwoYis9YSl9KTtyZXR1cm4gYn1mdW5jdGlvbiB5ZShhLGIpe2E9cCh7Y2hpbGRyZW46dm9pZCAwfSxiKTtpZihiPXhlKGIuY2hpbGRyZW4pKWEuY2hpbGRyZW49YjtyZXR1cm4gYX1cbmZ1bmN0aW9uIHplKGEsYixjLGQpe2E9YS5vcHRpb25zO2lmKGIpe2I9e307Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYltcIiRcIitjW2VdXT0hMDtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWU9Yi5oYXNPd25Qcm9wZXJ0eShcIiRcIithW2NdLnZhbHVlKSxhW2NdLnNlbGVjdGVkIT09ZSYmKGFbY10uc2VsZWN0ZWQ9ZSksZSYmZCYmKGFbY10uZGVmYXVsdFNlbGVjdGVkPSEwKX1lbHNle2M9XCJcIitjO2I9bnVsbDtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKXtpZihhW2VdLnZhbHVlPT09Yyl7YVtlXS5zZWxlY3RlZD0hMDtkJiYoYVtlXS5kZWZhdWx0U2VsZWN0ZWQ9ITApO3JldHVybn1udWxsIT09Ynx8YVtlXS5kaXNhYmxlZHx8KGI9YVtlXSl9bnVsbCE9PWImJihiLnNlbGVjdGVkPSEwKX19XG5mdW5jdGlvbiBBZShhLGIpe3ZhciBjPWIudmFsdWU7YS5fd3JhcHBlclN0YXRlPXtpbml0aWFsVmFsdWU6bnVsbCE9Yz9jOmIuZGVmYXVsdFZhbHVlLHdhc011bHRpcGxlOiEhYi5tdWx0aXBsZX19ZnVuY3Rpb24gQmUoYSxiKXtudWxsIT1iLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MP0EoXCI5MVwiKTp2b2lkIDA7cmV0dXJuIHAoe30sYix7dmFsdWU6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDAsY2hpbGRyZW46XCJcIithLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlfSl9ZnVuY3Rpb24gQ2UoYSxiKXt2YXIgYz1iLnZhbHVlO251bGw9PWMmJihjPWIuZGVmYXVsdFZhbHVlLGI9Yi5jaGlsZHJlbixudWxsIT1iJiYobnVsbCE9Yz9BKFwiOTJcIik6dm9pZCAwLEFycmF5LmlzQXJyYXkoYikmJigxPj1iLmxlbmd0aD92b2lkIDA6QShcIjkzXCIpLGI9YlswXSksYz1cIlwiK2IpLG51bGw9PWMmJihjPVwiXCIpKTthLl93cmFwcGVyU3RhdGU9e2luaXRpYWxWYWx1ZTpcIlwiK2N9fVxuZnVuY3Rpb24gRGUoYSxiKXt2YXIgYz1iLnZhbHVlO251bGwhPWMmJihjPVwiXCIrYyxjIT09YS52YWx1ZSYmKGEudmFsdWU9YyksbnVsbD09Yi5kZWZhdWx0VmFsdWUmJihhLmRlZmF1bHRWYWx1ZT1jKSk7bnVsbCE9Yi5kZWZhdWx0VmFsdWUmJihhLmRlZmF1bHRWYWx1ZT1iLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24gRWUoYSl7dmFyIGI9YS50ZXh0Q29udGVudDtiPT09YS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSYmKGEudmFsdWU9Yil9dmFyIEZlPXtodG1sOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLG1hdGhtbDpcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIixzdmc6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wifTtcbmZ1bmN0aW9uIEdlKGEpe3N3aXRjaChhKXtjYXNlIFwic3ZnXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO2Nhc2UgXCJtYXRoXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7ZGVmYXVsdDpyZXR1cm5cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIn19ZnVuY3Rpb24gSGUoYSxiKXtyZXR1cm4gbnVsbD09YXx8XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI9PT1hP0dlKGIpOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj09PWEmJlwiZm9yZWlnbk9iamVjdFwiPT09Yj9cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjphfVxudmFyIEllPXZvaWQgMCxKZT1mdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE1TQXBwJiZNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbj9mdW5jdGlvbihiLGMsZCxlKXtNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbigpe3JldHVybiBhKGIsYyxkLGUpfSl9OmF9KGZ1bmN0aW9uKGEsYil7aWYoYS5uYW1lc3BhY2VVUkkhPT1GZS5zdmd8fFwiaW5uZXJIVE1MXCJpbiBhKWEuaW5uZXJIVE1MPWI7ZWxzZXtJZT1JZXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtJZS5pbm5lckhUTUw9XCI8c3ZnPlwiK2IrXCI8L3N2Zz5cIjtmb3IoYj1JZS5maXJzdENoaWxkO2EuZmlyc3RDaGlsZDspYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Zvcig7Yi5maXJzdENoaWxkOylhLmFwcGVuZENoaWxkKGIuZmlyc3RDaGlsZCl9fSk7XG5mdW5jdGlvbiBLZShhLGIpe2lmKGIpe3ZhciBjPWEuZmlyc3RDaGlsZDtpZihjJiZjPT09YS5sYXN0Q2hpbGQmJjM9PT1jLm5vZGVUeXBlKXtjLm5vZGVWYWx1ZT1iO3JldHVybn19YS50ZXh0Q29udGVudD1ifVxudmFyIExlPXthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxib3JkZXJJbWFnZU91dHNldDohMCxib3JkZXJJbWFnZVNsaWNlOiEwLGJvcmRlckltYWdlV2lkdGg6ITAsYm94RmxleDohMCxib3hGbGV4R3JvdXA6ITAsYm94T3JkaW5hbEdyb3VwOiEwLGNvbHVtbkNvdW50OiEwLGNvbHVtbnM6ITAsZmxleDohMCxmbGV4R3JvdzohMCxmbGV4UG9zaXRpdmU6ITAsZmxleFNocmluazohMCxmbGV4TmVnYXRpdmU6ITAsZmxleE9yZGVyOiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3BhbjohMCxncmlkUm93U3RhcnQ6ITAsZ3JpZENvbHVtbjohMCxncmlkQ29sdW1uRW5kOiEwLGdyaWRDb2x1bW5TcGFuOiEwLGdyaWRDb2x1bW5TdGFydDohMCxmb250V2VpZ2h0OiEwLGxpbmVDbGFtcDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx0YWJTaXplOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMCxmaWxsT3BhY2l0eTohMCxmbG9vZE9wYWNpdHk6ITAsXG5zdG9wT3BhY2l0eTohMCxzdHJva2VEYXNoYXJyYXk6ITAsc3Ryb2tlRGFzaG9mZnNldDohMCxzdHJva2VNaXRlcmxpbWl0OiEwLHN0cm9rZU9wYWNpdHk6ITAsc3Ryb2tlV2lkdGg6ITB9LE1lPVtcIldlYmtpdFwiLFwibXNcIixcIk1velwiLFwiT1wiXTtPYmplY3Qua2V5cyhMZSkuZm9yRWFjaChmdW5jdGlvbihhKXtNZS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2I9YithLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyaW5nKDEpO0xlW2JdPUxlW2FdfSl9KTtcbmZ1bmN0aW9uIE5lKGEsYil7YT1hLnN0eWxlO2Zvcih2YXIgYyBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoYykpe3ZhciBkPTA9PT1jLmluZGV4T2YoXCItLVwiKTt2YXIgZT1jO3ZhciBmPWJbY107ZT1udWxsPT1mfHxcImJvb2xlYW5cIj09PXR5cGVvZiBmfHxcIlwiPT09Zj9cIlwiOmR8fFwibnVtYmVyXCIhPT10eXBlb2YgZnx8MD09PWZ8fExlLmhhc093blByb3BlcnR5KGUpJiZMZVtlXT8oXCJcIitmKS50cmltKCk6ZitcInB4XCI7XCJmbG9hdFwiPT09YyYmKGM9XCJjc3NGbG9hdFwiKTtkP2Euc2V0UHJvcGVydHkoYyxlKTphW2NdPWV9fXZhciBPZT1wKHttZW51aXRlbTohMH0se2FyZWE6ITAsYmFzZTohMCxicjohMCxjb2w6ITAsZW1iZWQ6ITAsaHI6ITAsaW1nOiEwLGlucHV0OiEwLGtleWdlbjohMCxsaW5rOiEwLG1ldGE6ITAscGFyYW06ITAsc291cmNlOiEwLHRyYWNrOiEwLHdicjohMH0pO1xuZnVuY3Rpb24gUGUoYSxiLGMpe2ImJihPZVthXSYmKG51bGwhPWIuY2hpbGRyZW58fG51bGwhPWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw/QShcIjEzN1wiLGEsYygpKTp2b2lkIDApLG51bGwhPWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwmJihudWxsIT1iLmNoaWxkcmVuP0EoXCI2MFwiKTp2b2lkIDAsXCJvYmplY3RcIj09PXR5cGVvZiBiLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZcIl9faHRtbFwiaW4gYi5kYW5nZXJvdXNseVNldElubmVySFRNTD92b2lkIDA6QShcIjYxXCIpKSxudWxsIT1iLnN0eWxlJiZcIm9iamVjdFwiIT09dHlwZW9mIGIuc3R5bGU/QShcIjYyXCIsYygpKTp2b2lkIDApfVxuZnVuY3Rpb24gUWUoYSxiKXtpZigtMT09PWEuaW5kZXhPZihcIi1cIikpcmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBiLmlzO3N3aXRjaChhKXtjYXNlIFwiYW5ub3RhdGlvbi14bWxcIjpjYXNlIFwiY29sb3ItcHJvZmlsZVwiOmNhc2UgXCJmb250LWZhY2VcIjpjYXNlIFwiZm9udC1mYWNlLXNyY1wiOmNhc2UgXCJmb250LWZhY2UtdXJpXCI6Y2FzZSBcImZvbnQtZmFjZS1mb3JtYXRcIjpjYXNlIFwiZm9udC1mYWNlLW5hbWVcIjpjYXNlIFwibWlzc2luZy1nbHlwaFwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuITB9fXZhciBSZT12LnRoYXRSZXR1cm5zKFwiXCIpO1xuZnVuY3Rpb24gU2UoYSxiKXthPTk9PT1hLm5vZGVUeXBlfHwxMT09PWEubm9kZVR5cGU/YTphLm93bmVyRG9jdW1lbnQ7dmFyIGM9UmQoYSk7Yj1zYVtiXTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtpZighYy5oYXNPd25Qcm9wZXJ0eShlKXx8IWNbZV0pe3N3aXRjaChlKXtjYXNlIFwic2Nyb2xsXCI6TWQoXCJzY3JvbGxcIixhKTticmVhaztjYXNlIFwiZm9jdXNcIjpjYXNlIFwiYmx1clwiOk1kKFwiZm9jdXNcIixhKTtNZChcImJsdXJcIixhKTtjLmJsdXI9ITA7Yy5mb2N1cz0hMDticmVhaztjYXNlIFwiY2FuY2VsXCI6Y2FzZSBcImNsb3NlXCI6JGIoZSwhMCkmJk1kKGUsYSk7YnJlYWs7Y2FzZSBcImludmFsaWRcIjpjYXNlIFwic3VibWl0XCI6Y2FzZSBcInJlc2V0XCI6YnJlYWs7ZGVmYXVsdDotMT09PWpiLmluZGV4T2YoZSkmJksoZSxhKX1jW2VdPSEwfX19XG5mdW5jdGlvbiBUZShhLGIsYyxkKXtjPTk9PT1jLm5vZGVUeXBlP2M6Yy5vd25lckRvY3VtZW50O2Q9PT1GZS5odG1sJiYoZD1HZShhKSk7ZD09PUZlLmh0bWw/XCJzY3JpcHRcIj09PWE/KGE9Yy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGEuaW5uZXJIVE1MPVwiPHNjcmlwdD5cXHgzYy9zY3JpcHQ+XCIsYT1hLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCkpOmE9XCJzdHJpbmdcIj09PXR5cGVvZiBiLmlzP2MuY3JlYXRlRWxlbWVudChhLHtpczpiLmlzfSk6Yy5jcmVhdGVFbGVtZW50KGEpOmE9Yy5jcmVhdGVFbGVtZW50TlMoZCxhKTtyZXR1cm4gYX1mdW5jdGlvbiBVZShhLGIpe3JldHVybig5PT09Yi5ub2RlVHlwZT9iOmIub3duZXJEb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoYSl9XG5mdW5jdGlvbiBWZShhLGIsYyxkKXt2YXIgZT1RZShiLGMpO3N3aXRjaChiKXtjYXNlIFwiaWZyYW1lXCI6Y2FzZSBcIm9iamVjdFwiOksoXCJsb2FkXCIsYSk7dmFyIGY9YzticmVhaztjYXNlIFwidmlkZW9cIjpjYXNlIFwiYXVkaW9cIjpmb3IoZj0wO2Y8amIubGVuZ3RoO2YrKylLKGpiW2ZdLGEpO2Y9YzticmVhaztjYXNlIFwic291cmNlXCI6SyhcImVycm9yXCIsYSk7Zj1jO2JyZWFrO2Nhc2UgXCJpbWdcIjpjYXNlIFwiaW1hZ2VcIjpjYXNlIFwibGlua1wiOksoXCJlcnJvclwiLGEpO0soXCJsb2FkXCIsYSk7Zj1jO2JyZWFrO2Nhc2UgXCJmb3JtXCI6SyhcInJlc2V0XCIsYSk7SyhcInN1Ym1pdFwiLGEpO2Y9YzticmVhaztjYXNlIFwiZGV0YWlsc1wiOksoXCJ0b2dnbGVcIixhKTtmPWM7YnJlYWs7Y2FzZSBcImlucHV0XCI6SGMoYSxjKTtmPUdjKGEsYyk7SyhcImludmFsaWRcIixhKTtTZShkLFwib25DaGFuZ2VcIik7YnJlYWs7Y2FzZSBcIm9wdGlvblwiOmY9eWUoYSxjKTticmVhaztjYXNlIFwic2VsZWN0XCI6QWUoYSxjKTtmPXAoe30sYyx7dmFsdWU6dm9pZCAwfSk7XG5LKFwiaW52YWxpZFwiLGEpO1NlKGQsXCJvbkNoYW5nZVwiKTticmVhaztjYXNlIFwidGV4dGFyZWFcIjpDZShhLGMpO2Y9QmUoYSxjKTtLKFwiaW52YWxpZFwiLGEpO1NlKGQsXCJvbkNoYW5nZVwiKTticmVhaztkZWZhdWx0OmY9Y31QZShiLGYsUmUpO3ZhciBnPWYsaDtmb3IoaCBpbiBnKWlmKGcuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPWdbaF07XCJzdHlsZVwiPT09aD9OZShhLGssUmUpOlwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PWg/KGs9az9rLl9faHRtbDp2b2lkIDAsbnVsbCE9ayYmSmUoYSxrKSk6XCJjaGlsZHJlblwiPT09aD9cInN0cmluZ1wiPT09dHlwZW9mIGs/KFwidGV4dGFyZWFcIiE9PWJ8fFwiXCIhPT1rKSYmS2UoYSxrKTpcIm51bWJlclwiPT09dHlwZW9mIGsmJktlKGEsXCJcIitrKTpcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09aCYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PWgmJlwiYXV0b0ZvY3VzXCIhPT1oJiYocmEuaGFzT3duUHJvcGVydHkoaCk/bnVsbCE9ayYmU2UoZCxcbmgpOm51bGwhPWsmJkZjKGEsaCxrLGUpKX1zd2l0Y2goYil7Y2FzZSBcImlucHV0XCI6Y2MoYSk7TWMoYSxjLCExKTticmVhaztjYXNlIFwidGV4dGFyZWFcIjpjYyhhKTtFZShhLGMpO2JyZWFrO2Nhc2UgXCJvcHRpb25cIjpudWxsIT1jLnZhbHVlJiZhLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsYy52YWx1ZSk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmEubXVsdGlwbGU9ISFjLm11bHRpcGxlO2I9Yy52YWx1ZTtudWxsIT1iP3plKGEsISFjLm11bHRpcGxlLGIsITEpOm51bGwhPWMuZGVmYXVsdFZhbHVlJiZ6ZShhLCEhYy5tdWx0aXBsZSxjLmRlZmF1bHRWYWx1ZSwhMCk7YnJlYWs7ZGVmYXVsdDpcImZ1bmN0aW9uXCI9PT10eXBlb2YgZi5vbkNsaWNrJiYoYS5vbmNsaWNrPXYpfX1cbmZ1bmN0aW9uIFdlKGEsYixjLGQsZSl7dmFyIGY9bnVsbDtzd2l0Y2goYil7Y2FzZSBcImlucHV0XCI6Yz1HYyhhLGMpO2Q9R2MoYSxkKTtmPVtdO2JyZWFrO2Nhc2UgXCJvcHRpb25cIjpjPXllKGEsYyk7ZD15ZShhLGQpO2Y9W107YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmM9cCh7fSxjLHt2YWx1ZTp2b2lkIDB9KTtkPXAoe30sZCx7dmFsdWU6dm9pZCAwfSk7Zj1bXTticmVhaztjYXNlIFwidGV4dGFyZWFcIjpjPUJlKGEsYyk7ZD1CZShhLGQpO2Y9W107YnJlYWs7ZGVmYXVsdDpcImZ1bmN0aW9uXCIhPT10eXBlb2YgYy5vbkNsaWNrJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5vbkNsaWNrJiYoYS5vbmNsaWNrPXYpfVBlKGIsZCxSZSk7Yj1hPXZvaWQgMDt2YXIgZz1udWxsO2ZvcihhIGluIGMpaWYoIWQuaGFzT3duUHJvcGVydHkoYSkmJmMuaGFzT3duUHJvcGVydHkoYSkmJm51bGwhPWNbYV0paWYoXCJzdHlsZVwiPT09YSl7dmFyIGg9Y1thXTtmb3IoYiBpbiBoKWguaGFzT3duUHJvcGVydHkoYikmJihnfHxcbihnPXt9KSxnW2JdPVwiXCIpfWVsc2VcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIhPT1hJiZcImNoaWxkcmVuXCIhPT1hJiZcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09YSYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PWEmJlwiYXV0b0ZvY3VzXCIhPT1hJiYocmEuaGFzT3duUHJvcGVydHkoYSk/Znx8KGY9W10pOihmPWZ8fFtdKS5wdXNoKGEsbnVsbCkpO2ZvcihhIGluIGQpe3ZhciBrPWRbYV07aD1udWxsIT1jP2NbYV06dm9pZCAwO2lmKGQuaGFzT3duUHJvcGVydHkoYSkmJmshPT1oJiYobnVsbCE9a3x8bnVsbCE9aCkpaWYoXCJzdHlsZVwiPT09YSlpZihoKXtmb3IoYiBpbiBoKSFoLmhhc093blByb3BlcnR5KGIpfHxrJiZrLmhhc093blByb3BlcnR5KGIpfHwoZ3x8KGc9e30pLGdbYl09XCJcIik7Zm9yKGIgaW4gaylrLmhhc093blByb3BlcnR5KGIpJiZoW2JdIT09a1tiXSYmKGd8fChnPXt9KSxnW2JdPWtbYl0pfWVsc2UgZ3x8KGZ8fChmPVtdKSxmLnB1c2goYSxnKSksXG5nPWs7ZWxzZVwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PWE/KGs9az9rLl9faHRtbDp2b2lkIDAsaD1oP2guX19odG1sOnZvaWQgMCxudWxsIT1rJiZoIT09ayYmKGY9Znx8W10pLnB1c2goYSxcIlwiK2spKTpcImNoaWxkcmVuXCI9PT1hP2g9PT1rfHxcInN0cmluZ1wiIT09dHlwZW9mIGsmJlwibnVtYmVyXCIhPT10eXBlb2Yga3x8KGY9Znx8W10pLnB1c2goYSxcIlwiK2spOlwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCIhPT1hJiZcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiIT09YSYmKHJhLmhhc093blByb3BlcnR5KGEpPyhudWxsIT1rJiZTZShlLGEpLGZ8fGg9PT1rfHwoZj1bXSkpOihmPWZ8fFtdKS5wdXNoKGEsaykpfWcmJihmPWZ8fFtdKS5wdXNoKFwic3R5bGVcIixnKTtyZXR1cm4gZn1cbmZ1bmN0aW9uIFhlKGEsYixjLGQsZSl7XCJpbnB1dFwiPT09YyYmXCJyYWRpb1wiPT09ZS50eXBlJiZudWxsIT1lLm5hbWUmJkpjKGEsZSk7UWUoYyxkKTtkPVFlKGMsZSk7Zm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKz0yKXt2YXIgZz1iW2ZdLGg9YltmKzFdO1wic3R5bGVcIj09PWc/TmUoYSxoLFJlKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1nP0plKGEsaCk6XCJjaGlsZHJlblwiPT09Zz9LZShhLGgpOkZjKGEsZyxoLGQpfXN3aXRjaChjKXtjYXNlIFwiaW5wdXRcIjpLYyhhLGUpO2JyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOkRlKGEsZSk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmEuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU9dm9pZCAwLGI9YS5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlLGEuX3dyYXBwZXJTdGF0ZS53YXNNdWx0aXBsZT0hIWUubXVsdGlwbGUsYz1lLnZhbHVlLG51bGwhPWM/emUoYSwhIWUubXVsdGlwbGUsYywhMSk6YiE9PSEhZS5tdWx0aXBsZSYmKG51bGwhPWUuZGVmYXVsdFZhbHVlP1xuemUoYSwhIWUubXVsdGlwbGUsZS5kZWZhdWx0VmFsdWUsITApOnplKGEsISFlLm11bHRpcGxlLGUubXVsdGlwbGU/W106XCJcIiwhMSkpfX1cbmZ1bmN0aW9uIFllKGEsYixjLGQsZSl7c3dpdGNoKGIpe2Nhc2UgXCJpZnJhbWVcIjpjYXNlIFwib2JqZWN0XCI6SyhcImxvYWRcIixhKTticmVhaztjYXNlIFwidmlkZW9cIjpjYXNlIFwiYXVkaW9cIjpmb3IoZD0wO2Q8amIubGVuZ3RoO2QrKylLKGpiW2RdLGEpO2JyZWFrO2Nhc2UgXCJzb3VyY2VcIjpLKFwiZXJyb3JcIixhKTticmVhaztjYXNlIFwiaW1nXCI6Y2FzZSBcImltYWdlXCI6Y2FzZSBcImxpbmtcIjpLKFwiZXJyb3JcIixhKTtLKFwibG9hZFwiLGEpO2JyZWFrO2Nhc2UgXCJmb3JtXCI6SyhcInJlc2V0XCIsYSk7SyhcInN1Ym1pdFwiLGEpO2JyZWFrO2Nhc2UgXCJkZXRhaWxzXCI6SyhcInRvZ2dsZVwiLGEpO2JyZWFrO2Nhc2UgXCJpbnB1dFwiOkhjKGEsYyk7SyhcImludmFsaWRcIixhKTtTZShlLFwib25DaGFuZ2VcIik7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOkFlKGEsYyk7SyhcImludmFsaWRcIixhKTtTZShlLFwib25DaGFuZ2VcIik7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6Q2UoYSxjKSxLKFwiaW52YWxpZFwiLGEpLFNlKGUsXCJvbkNoYW5nZVwiKX1QZShiLFxuYyxSZSk7ZD1udWxsO2Zvcih2YXIgZiBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoZikpe3ZhciBnPWNbZl07XCJjaGlsZHJlblwiPT09Zj9cInN0cmluZ1wiPT09dHlwZW9mIGc/YS50ZXh0Q29udGVudCE9PWcmJihkPVtcImNoaWxkcmVuXCIsZ10pOlwibnVtYmVyXCI9PT10eXBlb2YgZyYmYS50ZXh0Q29udGVudCE9PVwiXCIrZyYmKGQ9W1wiY2hpbGRyZW5cIixcIlwiK2ddKTpyYS5oYXNPd25Qcm9wZXJ0eShmKSYmbnVsbCE9ZyYmU2UoZSxmKX1zd2l0Y2goYil7Y2FzZSBcImlucHV0XCI6Y2MoYSk7TWMoYSxjLCEwKTticmVhaztjYXNlIFwidGV4dGFyZWFcIjpjYyhhKTtFZShhLGMpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjpjYXNlIFwib3B0aW9uXCI6YnJlYWs7ZGVmYXVsdDpcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5vbkNsaWNrJiYoYS5vbmNsaWNrPXYpfXJldHVybiBkfWZ1bmN0aW9uIFplKGEsYil7cmV0dXJuIGEubm9kZVZhbHVlIT09Yn1cbnZhciAkZT17Y3JlYXRlRWxlbWVudDpUZSxjcmVhdGVUZXh0Tm9kZTpVZSxzZXRJbml0aWFsUHJvcGVydGllczpWZSxkaWZmUHJvcGVydGllczpXZSx1cGRhdGVQcm9wZXJ0aWVzOlhlLGRpZmZIeWRyYXRlZFByb3BlcnRpZXM6WWUsZGlmZkh5ZHJhdGVkVGV4dDpaZSx3YXJuRm9yVW5tYXRjaGVkVGV4dDpmdW5jdGlvbigpe30sd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudDpmdW5jdGlvbigpe30sd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dDpmdW5jdGlvbigpe30sd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50OmZ1bmN0aW9uKCl7fSx3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQ6ZnVuY3Rpb24oKXt9LHJlc3RvcmVDb250cm9sbGVkU3RhdGU6ZnVuY3Rpb24oYSxiLGMpe3N3aXRjaChiKXtjYXNlIFwiaW5wdXRcIjpLYyhhLGMpO2I9Yy5uYW1lO2lmKFwicmFkaW9cIj09PWMudHlwZSYmbnVsbCE9Yil7Zm9yKGM9YTtjLnBhcmVudE5vZGU7KWM9Yy5wYXJlbnROb2RlO1xuYz1jLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFtuYW1lPVwiK0pTT04uc3RyaW5naWZ5KFwiXCIrYikrJ11bdHlwZT1cInJhZGlvXCJdJyk7Zm9yKGI9MDtiPGMubGVuZ3RoO2IrKyl7dmFyIGQ9Y1tiXTtpZihkIT09YSYmZC5mb3JtPT09YS5mb3JtKXt2YXIgZT1QYShkKTtlP3ZvaWQgMDpBKFwiOTBcIik7ZGMoZCk7S2MoZCxlKX19fWJyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOkRlKGEsYyk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmI9Yy52YWx1ZSxudWxsIT1iJiZ6ZShhLCEhYy5tdWx0aXBsZSxiLCExKX19fSxhZj1udWxsLGJmPW51bGw7ZnVuY3Rpb24gY2YoYSxiKXtzd2l0Y2goYSl7Y2FzZSBcImJ1dHRvblwiOmNhc2UgXCJpbnB1dFwiOmNhc2UgXCJzZWxlY3RcIjpjYXNlIFwidGV4dGFyZWFcIjpyZXR1cm4hIWIuYXV0b0ZvY3VzfXJldHVybiExfVxuZnVuY3Rpb24gZGYoYSxiKXtyZXR1cm5cInRleHRhcmVhXCI9PT1hfHxcInN0cmluZ1wiPT09dHlwZW9mIGIuY2hpbGRyZW58fFwibnVtYmVyXCI9PT10eXBlb2YgYi5jaGlsZHJlbnx8XCJvYmplY3RcIj09PXR5cGVvZiBiLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZudWxsIT09Yi5kYW5nZXJvdXNseVNldElubmVySFRNTCYmXCJzdHJpbmdcIj09PXR5cGVvZiBiLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbH12YXIgZWY9Z2UsZmY9aWUsZ2Y9amU7ZnVuY3Rpb24gaGYoYSl7Zm9yKGE9YS5uZXh0U2libGluZzthJiYxIT09YS5ub2RlVHlwZSYmMyE9PWEubm9kZVR5cGU7KWE9YS5uZXh0U2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBqZihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YSYmMSE9PWEubm9kZVR5cGUmJjMhPT1hLm5vZGVUeXBlOylhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGF9bmV3IFNldDt2YXIga2Y9W10sbGY9LTE7ZnVuY3Rpb24gbWYoYSl7cmV0dXJue2N1cnJlbnQ6YX19XG5mdW5jdGlvbiBNKGEpezA+bGZ8fChhLmN1cnJlbnQ9a2ZbbGZdLGtmW2xmXT1udWxsLGxmLS0pfWZ1bmN0aW9uIE4oYSxiKXtsZisrO2tmW2xmXT1hLmN1cnJlbnQ7YS5jdXJyZW50PWJ9dmFyIG5mPW1mKGhhKSxPPW1mKCExKSxvZj1oYTtmdW5jdGlvbiBwZihhKXtyZXR1cm4gcWYoYSk/b2Y6bmYuY3VycmVudH1cbmZ1bmN0aW9uIHJmKGEsYil7dmFyIGM9YS50eXBlLmNvbnRleHRUeXBlcztpZighYylyZXR1cm4gaGE7dmFyIGQ9YS5zdGF0ZU5vZGU7aWYoZCYmZC5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PT09YilyZXR1cm4gZC5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dDt2YXIgZT17fSxmO2ZvcihmIGluIGMpZVtmXT1iW2ZdO2QmJihhPWEuc3RhdGVOb2RlLGEuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dD1iLGEuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ9ZSk7cmV0dXJuIGV9ZnVuY3Rpb24gcWYoYSl7cmV0dXJuIDI9PT1hLnRhZyYmbnVsbCE9YS50eXBlLmNoaWxkQ29udGV4dFR5cGVzfWZ1bmN0aW9uIHNmKGEpe3FmKGEpJiYoTShPLGEpLE0obmYsYSkpfWZ1bmN0aW9uIHRmKGEpe00oTyxhKTtNKG5mLGEpfVxuZnVuY3Rpb24gdWYoYSxiLGMpe25mLmN1cnJlbnQhPT1oYT9BKFwiMTY4XCIpOnZvaWQgMDtOKG5mLGIsYSk7TihPLGMsYSl9ZnVuY3Rpb24gdmYoYSxiKXt2YXIgYz1hLnN0YXRlTm9kZSxkPWEudHlwZS5jaGlsZENvbnRleHRUeXBlcztpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgYy5nZXRDaGlsZENvbnRleHQpcmV0dXJuIGI7Yz1jLmdldENoaWxkQ29udGV4dCgpO2Zvcih2YXIgZSBpbiBjKWUgaW4gZD92b2lkIDA6QShcIjEwOFwiLHVjKGEpfHxcIlVua25vd25cIixlKTtyZXR1cm4gcCh7fSxiLGMpfWZ1bmN0aW9uIHdmKGEpe2lmKCFxZihhKSlyZXR1cm4hMTt2YXIgYj1hLnN0YXRlTm9kZTtiPWImJmIuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHR8fGhhO29mPW5mLmN1cnJlbnQ7TihuZixiLGEpO04oTyxPLmN1cnJlbnQsYSk7cmV0dXJuITB9XG5mdW5jdGlvbiB4ZihhLGIpe3ZhciBjPWEuc3RhdGVOb2RlO2M/dm9pZCAwOkEoXCIxNjlcIik7aWYoYil7dmFyIGQ9dmYoYSxvZik7Yy5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dD1kO00oTyxhKTtNKG5mLGEpO04obmYsZCxhKX1lbHNlIE0oTyxhKTtOKE8sYixhKX1cbmZ1bmN0aW9uIHlmKGEsYixjLGQpe3RoaXMudGFnPWE7dGhpcy5rZXk9Yzt0aGlzLnNpYmxpbmc9dGhpcy5jaGlsZD10aGlzLnJldHVybj10aGlzLnN0YXRlTm9kZT10aGlzLnR5cGU9bnVsbDt0aGlzLmluZGV4PTA7dGhpcy5yZWY9bnVsbDt0aGlzLnBlbmRpbmdQcm9wcz1iO3RoaXMubWVtb2l6ZWRTdGF0ZT10aGlzLnVwZGF0ZVF1ZXVlPXRoaXMubWVtb2l6ZWRQcm9wcz1udWxsO3RoaXMubW9kZT1kO3RoaXMuZWZmZWN0VGFnPTA7dGhpcy5sYXN0RWZmZWN0PXRoaXMuZmlyc3RFZmZlY3Q9dGhpcy5uZXh0RWZmZWN0PW51bGw7dGhpcy5leHBpcmF0aW9uVGltZT0wO3RoaXMuYWx0ZXJuYXRlPW51bGx9XG5mdW5jdGlvbiB6ZihhLGIsYyl7dmFyIGQ9YS5hbHRlcm5hdGU7bnVsbD09PWQ/KGQ9bmV3IHlmKGEudGFnLGIsYS5rZXksYS5tb2RlKSxkLnR5cGU9YS50eXBlLGQuc3RhdGVOb2RlPWEuc3RhdGVOb2RlLGQuYWx0ZXJuYXRlPWEsYS5hbHRlcm5hdGU9ZCk6KGQucGVuZGluZ1Byb3BzPWIsZC5lZmZlY3RUYWc9MCxkLm5leHRFZmZlY3Q9bnVsbCxkLmZpcnN0RWZmZWN0PW51bGwsZC5sYXN0RWZmZWN0PW51bGwpO2QuZXhwaXJhdGlvblRpbWU9YztkLmNoaWxkPWEuY2hpbGQ7ZC5tZW1vaXplZFByb3BzPWEubWVtb2l6ZWRQcm9wcztkLm1lbW9pemVkU3RhdGU9YS5tZW1vaXplZFN0YXRlO2QudXBkYXRlUXVldWU9YS51cGRhdGVRdWV1ZTtkLnNpYmxpbmc9YS5zaWJsaW5nO2QuaW5kZXg9YS5pbmRleDtkLnJlZj1hLnJlZjtyZXR1cm4gZH1cbmZ1bmN0aW9uIEFmKGEsYixjKXt2YXIgZD1hLnR5cGUsZT1hLmtleTthPWEucHJvcHM7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGQpdmFyIGY9ZC5wcm90b3R5cGUmJmQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ/MjowO2Vsc2UgaWYoXCJzdHJpbmdcIj09PXR5cGVvZiBkKWY9NTtlbHNlIHN3aXRjaChkKXtjYXNlIGljOnJldHVybiBCZihhLmNoaWxkcmVuLGIsYyxlKTtjYXNlIHBjOmY9MTE7Ynw9MzticmVhaztjYXNlIGpjOmY9MTE7Ynw9MjticmVhaztjYXNlIGtjOnJldHVybiBkPW5ldyB5ZigxNSxhLGUsYnw0KSxkLnR5cGU9a2MsZC5leHBpcmF0aW9uVGltZT1jLGQ7Y2FzZSByYzpmPTE2O2J8PTI7YnJlYWs7ZGVmYXVsdDphOntzd2l0Y2goXCJvYmplY3RcIj09PXR5cGVvZiBkJiZudWxsIT09ZD9kLiQkdHlwZW9mOm51bGwpe2Nhc2UgbGM6Zj0xMzticmVhayBhO2Nhc2UgbWM6Zj0xMjticmVhayBhO2Nhc2UgcWM6Zj0xNDticmVhayBhO2RlZmF1bHQ6QShcIjEzMFwiLG51bGw9PWQ/XG5kOnR5cGVvZiBkLFwiXCIpfWY9dm9pZCAwfX1iPW5ldyB5ZihmLGEsZSxiKTtiLnR5cGU9ZDtiLmV4cGlyYXRpb25UaW1lPWM7cmV0dXJuIGJ9ZnVuY3Rpb24gQmYoYSxiLGMsZCl7YT1uZXcgeWYoMTAsYSxkLGIpO2EuZXhwaXJhdGlvblRpbWU9YztyZXR1cm4gYX1mdW5jdGlvbiBDZihhLGIsYyl7YT1uZXcgeWYoNixhLG51bGwsYik7YS5leHBpcmF0aW9uVGltZT1jO3JldHVybiBhfWZ1bmN0aW9uIERmKGEsYixjKXtiPW5ldyB5Zig0LG51bGwhPT1hLmNoaWxkcmVuP2EuY2hpbGRyZW46W10sYS5rZXksYik7Yi5leHBpcmF0aW9uVGltZT1jO2Iuc3RhdGVOb2RlPXtjb250YWluZXJJbmZvOmEuY29udGFpbmVySW5mbyxwZW5kaW5nQ2hpbGRyZW46bnVsbCxpbXBsZW1lbnRhdGlvbjphLmltcGxlbWVudGF0aW9ufTtyZXR1cm4gYn1cbmZ1bmN0aW9uIEVmKGEsYixjKXtiPW5ldyB5ZigzLG51bGwsbnVsbCxiPzM6MCk7YT17Y3VycmVudDpiLGNvbnRhaW5lckluZm86YSxwZW5kaW5nQ2hpbGRyZW46bnVsbCxlYXJsaWVzdFBlbmRpbmdUaW1lOjAsbGF0ZXN0UGVuZGluZ1RpbWU6MCxlYXJsaWVzdFN1c3BlbmRlZFRpbWU6MCxsYXRlc3RTdXNwZW5kZWRUaW1lOjAsbGF0ZXN0UGluZ2VkVGltZTowLHBlbmRpbmdDb21taXRFeHBpcmF0aW9uVGltZTowLGZpbmlzaGVkV29yazpudWxsLGNvbnRleHQ6bnVsbCxwZW5kaW5nQ29udGV4dDpudWxsLGh5ZHJhdGU6YyxyZW1haW5pbmdFeHBpcmF0aW9uVGltZTowLGZpcnN0QmF0Y2g6bnVsbCxuZXh0U2NoZWR1bGVkUm9vdDpudWxsfTtyZXR1cm4gYi5zdGF0ZU5vZGU9YX12YXIgRmY9bnVsbCxHZj1udWxsO2Z1bmN0aW9uIEhmKGEpe3JldHVybiBmdW5jdGlvbihiKXt0cnl7cmV0dXJuIGEoYil9Y2F0Y2goYyl7fX19XG5mdW5jdGlvbiBJZihhKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXylyZXR1cm4hMTt2YXIgYj1fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187aWYoYi5pc0Rpc2FibGVkfHwhYi5zdXBwb3J0c0ZpYmVyKXJldHVybiEwO3RyeXt2YXIgYz1iLmluamVjdChhKTtGZj1IZihmdW5jdGlvbihhKXtyZXR1cm4gYi5vbkNvbW1pdEZpYmVyUm9vdChjLGEpfSk7R2Y9SGYoZnVuY3Rpb24oYSl7cmV0dXJuIGIub25Db21taXRGaWJlclVubW91bnQoYyxhKX0pfWNhdGNoKGQpe31yZXR1cm4hMH1mdW5jdGlvbiBKZihhKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgRmYmJkZmKGEpfWZ1bmN0aW9uIEtmKGEpe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBHZiYmR2YoYSl9dmFyIExmPSExO1xuZnVuY3Rpb24gTWYoYSl7cmV0dXJue2V4cGlyYXRpb25UaW1lOjAsYmFzZVN0YXRlOmEsZmlyc3RVcGRhdGU6bnVsbCxsYXN0VXBkYXRlOm51bGwsZmlyc3RDYXB0dXJlZFVwZGF0ZTpudWxsLGxhc3RDYXB0dXJlZFVwZGF0ZTpudWxsLGZpcnN0RWZmZWN0Om51bGwsbGFzdEVmZmVjdDpudWxsLGZpcnN0Q2FwdHVyZWRFZmZlY3Q6bnVsbCxsYXN0Q2FwdHVyZWRFZmZlY3Q6bnVsbH19ZnVuY3Rpb24gTmYoYSl7cmV0dXJue2V4cGlyYXRpb25UaW1lOmEuZXhwaXJhdGlvblRpbWUsYmFzZVN0YXRlOmEuYmFzZVN0YXRlLGZpcnN0VXBkYXRlOmEuZmlyc3RVcGRhdGUsbGFzdFVwZGF0ZTphLmxhc3RVcGRhdGUsZmlyc3RDYXB0dXJlZFVwZGF0ZTpudWxsLGxhc3RDYXB0dXJlZFVwZGF0ZTpudWxsLGZpcnN0RWZmZWN0Om51bGwsbGFzdEVmZmVjdDpudWxsLGZpcnN0Q2FwdHVyZWRFZmZlY3Q6bnVsbCxsYXN0Q2FwdHVyZWRFZmZlY3Q6bnVsbH19XG5mdW5jdGlvbiBPZihhKXtyZXR1cm57ZXhwaXJhdGlvblRpbWU6YSx0YWc6MCxwYXlsb2FkOm51bGwsY2FsbGJhY2s6bnVsbCxuZXh0Om51bGwsbmV4dEVmZmVjdDpudWxsfX1mdW5jdGlvbiBQZihhLGIsYyl7bnVsbD09PWEubGFzdFVwZGF0ZT9hLmZpcnN0VXBkYXRlPWEubGFzdFVwZGF0ZT1iOihhLmxhc3RVcGRhdGUubmV4dD1iLGEubGFzdFVwZGF0ZT1iKTtpZigwPT09YS5leHBpcmF0aW9uVGltZXx8YS5leHBpcmF0aW9uVGltZT5jKWEuZXhwaXJhdGlvblRpbWU9Y31cbmZ1bmN0aW9uIFFmKGEsYixjKXt2YXIgZD1hLmFsdGVybmF0ZTtpZihudWxsPT09ZCl7dmFyIGU9YS51cGRhdGVRdWV1ZTt2YXIgZj1udWxsO251bGw9PT1lJiYoZT1hLnVwZGF0ZVF1ZXVlPU1mKGEubWVtb2l6ZWRTdGF0ZSkpfWVsc2UgZT1hLnVwZGF0ZVF1ZXVlLGY9ZC51cGRhdGVRdWV1ZSxudWxsPT09ZT9udWxsPT09Zj8oZT1hLnVwZGF0ZVF1ZXVlPU1mKGEubWVtb2l6ZWRTdGF0ZSksZj1kLnVwZGF0ZVF1ZXVlPU1mKGQubWVtb2l6ZWRTdGF0ZSkpOmU9YS51cGRhdGVRdWV1ZT1OZihmKTpudWxsPT09ZiYmKGY9ZC51cGRhdGVRdWV1ZT1OZihlKSk7bnVsbD09PWZ8fGU9PT1mP1BmKGUsYixjKTpudWxsPT09ZS5sYXN0VXBkYXRlfHxudWxsPT09Zi5sYXN0VXBkYXRlPyhQZihlLGIsYyksUGYoZixiLGMpKTooUGYoZSxiLGMpLGYubGFzdFVwZGF0ZT1iKX1cbmZ1bmN0aW9uIFJmKGEsYixjKXt2YXIgZD1hLnVwZGF0ZVF1ZXVlO2Q9bnVsbD09PWQ/YS51cGRhdGVRdWV1ZT1NZihhLm1lbW9pemVkU3RhdGUpOlNmKGEsZCk7bnVsbD09PWQubGFzdENhcHR1cmVkVXBkYXRlP2QuZmlyc3RDYXB0dXJlZFVwZGF0ZT1kLmxhc3RDYXB0dXJlZFVwZGF0ZT1iOihkLmxhc3RDYXB0dXJlZFVwZGF0ZS5uZXh0PWIsZC5sYXN0Q2FwdHVyZWRVcGRhdGU9Yik7aWYoMD09PWQuZXhwaXJhdGlvblRpbWV8fGQuZXhwaXJhdGlvblRpbWU+YylkLmV4cGlyYXRpb25UaW1lPWN9ZnVuY3Rpb24gU2YoYSxiKXt2YXIgYz1hLmFsdGVybmF0ZTtudWxsIT09YyYmYj09PWMudXBkYXRlUXVldWUmJihiPWEudXBkYXRlUXVldWU9TmYoYikpO3JldHVybiBifVxuZnVuY3Rpb24gVGYoYSxiLGMsZCxlLGYpe3N3aXRjaChjLnRhZyl7Y2FzZSAxOnJldHVybiBhPWMucGF5bG9hZCxcImZ1bmN0aW9uXCI9PT10eXBlb2YgYT9hLmNhbGwoZixkLGUpOmE7Y2FzZSAzOmEuZWZmZWN0VGFnPWEuZWZmZWN0VGFnJi0xMDI1fDY0O2Nhc2UgMDphPWMucGF5bG9hZDtlPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBhP2EuY2FsbChmLGQsZSk6YTtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSlicmVhaztyZXR1cm4gcCh7fSxkLGUpO2Nhc2UgMjpMZj0hMH1yZXR1cm4gZH1cbmZ1bmN0aW9uIFVmKGEsYixjLGQsZSl7TGY9ITE7aWYoISgwPT09Yi5leHBpcmF0aW9uVGltZXx8Yi5leHBpcmF0aW9uVGltZT5lKSl7Yj1TZihhLGIpO2Zvcih2YXIgZj1iLmJhc2VTdGF0ZSxnPW51bGwsaD0wLGs9Yi5maXJzdFVwZGF0ZSxuPWY7bnVsbCE9PWs7KXt2YXIgcj1rLmV4cGlyYXRpb25UaW1lO2lmKHI+ZSl7aWYobnVsbD09PWcmJihnPWssZj1uKSwwPT09aHx8aD5yKWg9cn1lbHNlIG49VGYoYSxiLGssbixjLGQpLG51bGwhPT1rLmNhbGxiYWNrJiYoYS5lZmZlY3RUYWd8PTMyLGsubmV4dEVmZmVjdD1udWxsLG51bGw9PT1iLmxhc3RFZmZlY3Q/Yi5maXJzdEVmZmVjdD1iLmxhc3RFZmZlY3Q9azooYi5sYXN0RWZmZWN0Lm5leHRFZmZlY3Q9ayxiLmxhc3RFZmZlY3Q9aykpO2s9ay5uZXh0fXI9bnVsbDtmb3Ioaz1iLmZpcnN0Q2FwdHVyZWRVcGRhdGU7bnVsbCE9PWs7KXt2YXIgdz1rLmV4cGlyYXRpb25UaW1lO2lmKHc+ZSl7aWYobnVsbD09PXImJihyPWssbnVsbD09PVxuZyYmKGY9bikpLDA9PT1ofHxoPncpaD13fWVsc2Ugbj1UZihhLGIsayxuLGMsZCksbnVsbCE9PWsuY2FsbGJhY2smJihhLmVmZmVjdFRhZ3w9MzIsay5uZXh0RWZmZWN0PW51bGwsbnVsbD09PWIubGFzdENhcHR1cmVkRWZmZWN0P2IuZmlyc3RDYXB0dXJlZEVmZmVjdD1iLmxhc3RDYXB0dXJlZEVmZmVjdD1rOihiLmxhc3RDYXB0dXJlZEVmZmVjdC5uZXh0RWZmZWN0PWssYi5sYXN0Q2FwdHVyZWRFZmZlY3Q9aykpO2s9ay5uZXh0fW51bGw9PT1nJiYoYi5sYXN0VXBkYXRlPW51bGwpO251bGw9PT1yP2IubGFzdENhcHR1cmVkVXBkYXRlPW51bGw6YS5lZmZlY3RUYWd8PTMyO251bGw9PT1nJiZudWxsPT09ciYmKGY9bik7Yi5iYXNlU3RhdGU9ZjtiLmZpcnN0VXBkYXRlPWc7Yi5maXJzdENhcHR1cmVkVXBkYXRlPXI7Yi5leHBpcmF0aW9uVGltZT1oO2EubWVtb2l6ZWRTdGF0ZT1ufX1cbmZ1bmN0aW9uIFZmKGEsYil7XCJmdW5jdGlvblwiIT09dHlwZW9mIGE/QShcIjE5MVwiLGEpOnZvaWQgMDthLmNhbGwoYil9XG5mdW5jdGlvbiBXZihhLGIsYyl7bnVsbCE9PWIuZmlyc3RDYXB0dXJlZFVwZGF0ZSYmKG51bGwhPT1iLmxhc3RVcGRhdGUmJihiLmxhc3RVcGRhdGUubmV4dD1iLmZpcnN0Q2FwdHVyZWRVcGRhdGUsYi5sYXN0VXBkYXRlPWIubGFzdENhcHR1cmVkVXBkYXRlKSxiLmZpcnN0Q2FwdHVyZWRVcGRhdGU9Yi5sYXN0Q2FwdHVyZWRVcGRhdGU9bnVsbCk7YT1iLmZpcnN0RWZmZWN0O2ZvcihiLmZpcnN0RWZmZWN0PWIubGFzdEVmZmVjdD1udWxsO251bGwhPT1hOyl7dmFyIGQ9YS5jYWxsYmFjaztudWxsIT09ZCYmKGEuY2FsbGJhY2s9bnVsbCxWZihkLGMpKTthPWEubmV4dEVmZmVjdH1hPWIuZmlyc3RDYXB0dXJlZEVmZmVjdDtmb3IoYi5maXJzdENhcHR1cmVkRWZmZWN0PWIubGFzdENhcHR1cmVkRWZmZWN0PW51bGw7bnVsbCE9PWE7KWI9YS5jYWxsYmFjayxudWxsIT09YiYmKGEuY2FsbGJhY2s9bnVsbCxWZihiLGMpKSxhPWEubmV4dEVmZmVjdH1cbmZ1bmN0aW9uIFhmKGEsYil7cmV0dXJue3ZhbHVlOmEsc291cmNlOmIsc3RhY2s6dmMoYil9fXZhciBZZj1tZihudWxsKSxaZj1tZihudWxsKSwkZj1tZigwKTtmdW5jdGlvbiBhZyhhKXt2YXIgYj1hLnR5cGUuX2NvbnRleHQ7TigkZixiLl9jaGFuZ2VkQml0cyxhKTtOKFpmLGIuX2N1cnJlbnRWYWx1ZSxhKTtOKFlmLGEsYSk7Yi5fY3VycmVudFZhbHVlPWEucGVuZGluZ1Byb3BzLnZhbHVlO2IuX2NoYW5nZWRCaXRzPWEuc3RhdGVOb2RlfWZ1bmN0aW9uIGJnKGEpe3ZhciBiPSRmLmN1cnJlbnQsYz1aZi5jdXJyZW50O00oWWYsYSk7TShaZixhKTtNKCRmLGEpO2E9YS50eXBlLl9jb250ZXh0O2EuX2N1cnJlbnRWYWx1ZT1jO2EuX2NoYW5nZWRCaXRzPWJ9dmFyIGNnPXt9LGRnPW1mKGNnKSxlZz1tZihjZyksZmc9bWYoY2cpO2Z1bmN0aW9uIGdnKGEpe2E9PT1jZz9BKFwiMTc0XCIpOnZvaWQgMDtyZXR1cm4gYX1cbmZ1bmN0aW9uIGlnKGEsYil7TihmZyxiLGEpO04oZWcsYSxhKTtOKGRnLGNnLGEpO3ZhciBjPWIubm9kZVR5cGU7c3dpdGNoKGMpe2Nhc2UgOTpjYXNlIDExOmI9KGI9Yi5kb2N1bWVudEVsZW1lbnQpP2IubmFtZXNwYWNlVVJJOkhlKG51bGwsXCJcIik7YnJlYWs7ZGVmYXVsdDpjPTg9PT1jP2IucGFyZW50Tm9kZTpiLGI9Yy5uYW1lc3BhY2VVUkl8fG51bGwsYz1jLnRhZ05hbWUsYj1IZShiLGMpfU0oZGcsYSk7TihkZyxiLGEpfWZ1bmN0aW9uIGpnKGEpe00oZGcsYSk7TShlZyxhKTtNKGZnLGEpfWZ1bmN0aW9uIGtnKGEpe2VnLmN1cnJlbnQ9PT1hJiYoTShkZyxhKSxNKGVnLGEpKX1mdW5jdGlvbiBsZyhhLGIsYyl7dmFyIGQ9YS5tZW1vaXplZFN0YXRlO2I9YihjLGQpO2Q9bnVsbD09PWJ8fHZvaWQgMD09PWI/ZDpwKHt9LGQsYik7YS5tZW1vaXplZFN0YXRlPWQ7YT1hLnVwZGF0ZVF1ZXVlO251bGwhPT1hJiYwPT09YS5leHBpcmF0aW9uVGltZSYmKGEuYmFzZVN0YXRlPWQpfVxudmFyIHBnPXtpc01vdW50ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5fcmVhY3RJbnRlcm5hbEZpYmVyKT8yPT09amQoYSk6ITF9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbihhLGIsYyl7YT1hLl9yZWFjdEludGVybmFsRmliZXI7dmFyIGQ9bWcoKTtkPW5nKGQsYSk7dmFyIGU9T2YoZCk7ZS5wYXlsb2FkPWI7dm9pZCAwIT09YyYmbnVsbCE9PWMmJihlLmNhbGxiYWNrPWMpO1FmKGEsZSxkKTtvZyhhLGQpfSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKGEsYixjKXthPWEuX3JlYWN0SW50ZXJuYWxGaWJlcjt2YXIgZD1tZygpO2Q9bmcoZCxhKTt2YXIgZT1PZihkKTtlLnRhZz0xO2UucGF5bG9hZD1iO3ZvaWQgMCE9PWMmJm51bGwhPT1jJiYoZS5jYWxsYmFjaz1jKTtRZihhLGUsZCk7b2coYSxkKX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKGEsYil7YT1hLl9yZWFjdEludGVybmFsRmliZXI7dmFyIGM9bWcoKTtjPW5nKGMsYSk7dmFyIGQ9T2YoYyk7ZC50YWc9Mjt2b2lkIDAhPT1cbmImJm51bGwhPT1iJiYoZC5jYWxsYmFjaz1iKTtRZihhLGQsYyk7b2coYSxjKX19O2Z1bmN0aW9uIHFnKGEsYixjLGQsZSxmKXt2YXIgZz1hLnN0YXRlTm9kZTthPWEudHlwZTtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5zaG91bGRDb21wb25lbnRVcGRhdGU/Zy5zaG91bGRDb21wb25lbnRVcGRhdGUoYyxlLGYpOmEucHJvdG90eXBlJiZhLnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudD8hZWEoYixjKXx8IWVhKGQsZSk6ITB9XG5mdW5jdGlvbiByZyhhLGIsYyxkKXthPWIuc3RhdGU7XCJmdW5jdGlvblwiPT09dHlwZW9mIGIuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmYi5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKGMsZCk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGIuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJmIuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoYyxkKTtiLnN0YXRlIT09YSYmcGcuZW5xdWV1ZVJlcGxhY2VTdGF0ZShiLGIuc3RhdGUsbnVsbCl9XG5mdW5jdGlvbiBzZyhhLGIpe3ZhciBjPWEudHlwZSxkPWEuc3RhdGVOb2RlLGU9YS5wZW5kaW5nUHJvcHMsZj1wZihhKTtkLnByb3BzPWU7ZC5zdGF0ZT1hLm1lbW9pemVkU3RhdGU7ZC5yZWZzPWhhO2QuY29udGV4dD1yZihhLGYpO2Y9YS51cGRhdGVRdWV1ZTtudWxsIT09ZiYmKFVmKGEsZixlLGQsYiksZC5zdGF0ZT1hLm1lbW9pemVkU3RhdGUpO2Y9YS50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcztcImZ1bmN0aW9uXCI9PT10eXBlb2YgZiYmKGxnKGEsZixlKSxkLnN0YXRlPWEubWVtb2l6ZWRTdGF0ZSk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGMuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8XCJmdW5jdGlvblwiIT09dHlwZW9mIGQuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGQuY29tcG9uZW50V2lsbE1vdW50fHwoYz1kLnN0YXRlLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLmNvbXBvbmVudFdpbGxNb3VudCYmXG5kLmNvbXBvbmVudFdpbGxNb3VudCgpLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQmJmQuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpLGMhPT1kLnN0YXRlJiZwZy5lbnF1ZXVlUmVwbGFjZVN0YXRlKGQsZC5zdGF0ZSxudWxsKSxmPWEudXBkYXRlUXVldWUsbnVsbCE9PWYmJihVZihhLGYsZSxkLGIpLGQuc3RhdGU9YS5tZW1vaXplZFN0YXRlKSk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGQuY29tcG9uZW50RGlkTW91bnQmJihhLmVmZmVjdFRhZ3w9NCl9dmFyIHRnPUFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiB1ZyhhLGIsYyl7YT1jLnJlZjtpZihudWxsIT09YSYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGEmJlwib2JqZWN0XCIhPT10eXBlb2YgYSl7aWYoYy5fb3duZXIpe2M9Yy5fb3duZXI7dmFyIGQ9dm9pZCAwO2MmJigyIT09Yy50YWc/QShcIjExMFwiKTp2b2lkIDAsZD1jLnN0YXRlTm9kZSk7ZD92b2lkIDA6QShcIjE0N1wiLGEpO3ZhciBlPVwiXCIrYTtpZihudWxsIT09YiYmbnVsbCE9PWIucmVmJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYi5yZWYmJmIucmVmLl9zdHJpbmdSZWY9PT1lKXJldHVybiBiLnJlZjtiPWZ1bmN0aW9uKGEpe3ZhciBiPWQucmVmcz09PWhhP2QucmVmcz17fTpkLnJlZnM7bnVsbD09PWE/ZGVsZXRlIGJbZV06YltlXT1hfTtiLl9zdHJpbmdSZWY9ZTtyZXR1cm4gYn1cInN0cmluZ1wiIT09dHlwZW9mIGE/QShcIjE0OFwiKTp2b2lkIDA7Yy5fb3duZXI/dm9pZCAwOkEoXCIyNTRcIixhKX1yZXR1cm4gYX1cbmZ1bmN0aW9uIHZnKGEsYil7XCJ0ZXh0YXJlYVwiIT09YS50eXBlJiZBKFwiMzFcIixcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGIpP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXMoYikuam9pbihcIiwgXCIpK1wifVwiOmIsXCJcIil9XG5mdW5jdGlvbiB3ZyhhKXtmdW5jdGlvbiBiKGIsYyl7aWYoYSl7dmFyIGQ9Yi5sYXN0RWZmZWN0O251bGwhPT1kPyhkLm5leHRFZmZlY3Q9YyxiLmxhc3RFZmZlY3Q9Yyk6Yi5maXJzdEVmZmVjdD1iLmxhc3RFZmZlY3Q9YztjLm5leHRFZmZlY3Q9bnVsbDtjLmVmZmVjdFRhZz04fX1mdW5jdGlvbiBjKGMsZCl7aWYoIWEpcmV0dXJuIG51bGw7Zm9yKDtudWxsIT09ZDspYihjLGQpLGQ9ZC5zaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIGQoYSxiKXtmb3IoYT1uZXcgTWFwO251bGwhPT1iOyludWxsIT09Yi5rZXk/YS5zZXQoYi5rZXksYik6YS5zZXQoYi5pbmRleCxiKSxiPWIuc2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBlKGEsYixjKXthPXpmKGEsYixjKTthLmluZGV4PTA7YS5zaWJsaW5nPW51bGw7cmV0dXJuIGF9ZnVuY3Rpb24gZihiLGMsZCl7Yi5pbmRleD1kO2lmKCFhKXJldHVybiBjO2Q9Yi5hbHRlcm5hdGU7aWYobnVsbCE9PWQpcmV0dXJuIGQ9ZC5pbmRleCxkPGM/KGIuZWZmZWN0VGFnPVxuMixjKTpkO2IuZWZmZWN0VGFnPTI7cmV0dXJuIGN9ZnVuY3Rpb24gZyhiKXthJiZudWxsPT09Yi5hbHRlcm5hdGUmJihiLmVmZmVjdFRhZz0yKTtyZXR1cm4gYn1mdW5jdGlvbiBoKGEsYixjLGQpe2lmKG51bGw9PT1ifHw2IT09Yi50YWcpcmV0dXJuIGI9Q2YoYyxhLm1vZGUsZCksYi5yZXR1cm49YSxiO2I9ZShiLGMsZCk7Yi5yZXR1cm49YTtyZXR1cm4gYn1mdW5jdGlvbiBrKGEsYixjLGQpe2lmKG51bGwhPT1iJiZiLnR5cGU9PT1jLnR5cGUpcmV0dXJuIGQ9ZShiLGMucHJvcHMsZCksZC5yZWY9dWcoYSxiLGMpLGQucmV0dXJuPWEsZDtkPUFmKGMsYS5tb2RlLGQpO2QucmVmPXVnKGEsYixjKTtkLnJldHVybj1hO3JldHVybiBkfWZ1bmN0aW9uIG4oYSxiLGMsZCl7aWYobnVsbD09PWJ8fDQhPT1iLnRhZ3x8Yi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyE9PWMuY29udGFpbmVySW5mb3x8Yi5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24hPT1jLmltcGxlbWVudGF0aW9uKXJldHVybiBiPVxuRGYoYyxhLm1vZGUsZCksYi5yZXR1cm49YSxiO2I9ZShiLGMuY2hpbGRyZW58fFtdLGQpO2IucmV0dXJuPWE7cmV0dXJuIGJ9ZnVuY3Rpb24gcihhLGIsYyxkLGYpe2lmKG51bGw9PT1ifHwxMCE9PWIudGFnKXJldHVybiBiPUJmKGMsYS5tb2RlLGQsZiksYi5yZXR1cm49YSxiO2I9ZShiLGMsZCk7Yi5yZXR1cm49YTtyZXR1cm4gYn1mdW5jdGlvbiB3KGEsYixjKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGJ8fFwibnVtYmVyXCI9PT10eXBlb2YgYilyZXR1cm4gYj1DZihcIlwiK2IsYS5tb2RlLGMpLGIucmV0dXJuPWEsYjtpZihcIm9iamVjdFwiPT09dHlwZW9mIGImJm51bGwhPT1iKXtzd2l0Y2goYi4kJHR5cGVvZil7Y2FzZSBnYzpyZXR1cm4gYz1BZihiLGEubW9kZSxjKSxjLnJlZj11ZyhhLG51bGwsYiksYy5yZXR1cm49YSxjO2Nhc2UgaGM6cmV0dXJuIGI9RGYoYixhLm1vZGUsYyksYi5yZXR1cm49YSxifWlmKHRnKGIpfHx0YyhiKSlyZXR1cm4gYj1CZihiLGEubW9kZSxjLG51bGwpLGIucmV0dXJuPVxuYSxiO3ZnKGEsYil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gUChhLGIsYyxkKXt2YXIgZT1udWxsIT09Yj9iLmtleTpudWxsO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgY3x8XCJudW1iZXJcIj09PXR5cGVvZiBjKXJldHVybiBudWxsIT09ZT9udWxsOmgoYSxiLFwiXCIrYyxkKTtpZihcIm9iamVjdFwiPT09dHlwZW9mIGMmJm51bGwhPT1jKXtzd2l0Y2goYy4kJHR5cGVvZil7Y2FzZSBnYzpyZXR1cm4gYy5rZXk9PT1lP2MudHlwZT09PWljP3IoYSxiLGMucHJvcHMuY2hpbGRyZW4sZCxlKTprKGEsYixjLGQpOm51bGw7Y2FzZSBoYzpyZXR1cm4gYy5rZXk9PT1lP24oYSxiLGMsZCk6bnVsbH1pZih0ZyhjKXx8dGMoYykpcmV0dXJuIG51bGwhPT1lP251bGw6cihhLGIsYyxkLG51bGwpO3ZnKGEsYyl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbmMoYSxiLGMsZCxlKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGR8fFwibnVtYmVyXCI9PT10eXBlb2YgZClyZXR1cm4gYT1hLmdldChjKXx8bnVsbCxoKGIsYSxcIlwiK2QsZSk7XG5pZihcIm9iamVjdFwiPT09dHlwZW9mIGQmJm51bGwhPT1kKXtzd2l0Y2goZC4kJHR5cGVvZil7Y2FzZSBnYzpyZXR1cm4gYT1hLmdldChudWxsPT09ZC5rZXk/YzpkLmtleSl8fG51bGwsZC50eXBlPT09aWM/cihiLGEsZC5wcm9wcy5jaGlsZHJlbixlLGQua2V5KTprKGIsYSxkLGUpO2Nhc2UgaGM6cmV0dXJuIGE9YS5nZXQobnVsbD09PWQua2V5P2M6ZC5rZXkpfHxudWxsLG4oYixhLGQsZSl9aWYodGcoZCl8fHRjKGQpKXJldHVybiBhPWEuZ2V0KGMpfHxudWxsLHIoYixhLGQsZSxudWxsKTt2ZyhiLGQpfXJldHVybiBudWxsfWZ1bmN0aW9uIEpkKGUsZyxoLGspe2Zvcih2YXIgdT1udWxsLHg9bnVsbCx0PWcscT1nPTAsbj1udWxsO251bGwhPT10JiZxPGgubGVuZ3RoO3ErKyl7dC5pbmRleD5xPyhuPXQsdD1udWxsKTpuPXQuc2libGluZzt2YXIgbD1QKGUsdCxoW3FdLGspO2lmKG51bGw9PT1sKXtudWxsPT09dCYmKHQ9bik7YnJlYWt9YSYmdCYmbnVsbD09PWwuYWx0ZXJuYXRlJiZiKGUsXG50KTtnPWYobCxnLHEpO251bGw9PT14P3U9bDp4LnNpYmxpbmc9bDt4PWw7dD1ufWlmKHE9PT1oLmxlbmd0aClyZXR1cm4gYyhlLHQpLHU7aWYobnVsbD09PXQpe2Zvcig7cTxoLmxlbmd0aDtxKyspaWYodD13KGUsaFtxXSxrKSlnPWYodCxnLHEpLG51bGw9PT14P3U9dDp4LnNpYmxpbmc9dCx4PXQ7cmV0dXJuIHV9Zm9yKHQ9ZChlLHQpO3E8aC5sZW5ndGg7cSsrKWlmKG49bmModCxlLHEsaFtxXSxrKSlhJiZudWxsIT09bi5hbHRlcm5hdGUmJnQuZGVsZXRlKG51bGw9PT1uLmtleT9xOm4ua2V5KSxnPWYobixnLHEpLG51bGw9PT14P3U9bjp4LnNpYmxpbmc9bix4PW47YSYmdC5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiBiKGUsYSl9KTtyZXR1cm4gdX1mdW5jdGlvbiBFKGUsZyxoLGspe3ZhciB1PXRjKGgpO1wiZnVuY3Rpb25cIiE9PXR5cGVvZiB1P0EoXCIxNTBcIik6dm9pZCAwO2g9dS5jYWxsKGgpO251bGw9PWg/QShcIjE1MVwiKTp2b2lkIDA7Zm9yKHZhciB0PXU9bnVsbCxuPWcseD1cbmc9MCx5PW51bGwsbD1oLm5leHQoKTtudWxsIT09biYmIWwuZG9uZTt4KyssbD1oLm5leHQoKSl7bi5pbmRleD54Pyh5PW4sbj1udWxsKTp5PW4uc2libGluZzt2YXIgcj1QKGUsbixsLnZhbHVlLGspO2lmKG51bGw9PT1yKXtufHwobj15KTticmVha31hJiZuJiZudWxsPT09ci5hbHRlcm5hdGUmJmIoZSxuKTtnPWYocixnLHgpO251bGw9PT10P3U9cjp0LnNpYmxpbmc9cjt0PXI7bj15fWlmKGwuZG9uZSlyZXR1cm4gYyhlLG4pLHU7aWYobnVsbD09PW4pe2Zvcig7IWwuZG9uZTt4KyssbD1oLm5leHQoKSlsPXcoZSxsLnZhbHVlLGspLG51bGwhPT1sJiYoZz1mKGwsZyx4KSxudWxsPT09dD91PWw6dC5zaWJsaW5nPWwsdD1sKTtyZXR1cm4gdX1mb3Iobj1kKGUsbik7IWwuZG9uZTt4KyssbD1oLm5leHQoKSlsPW5jKG4sZSx4LGwudmFsdWUsayksbnVsbCE9PWwmJihhJiZudWxsIT09bC5hbHRlcm5hdGUmJm4uZGVsZXRlKG51bGw9PT1sLmtleT94Omwua2V5KSxnPWYobCxnLHgpLG51bGw9PT1cbnQ/dT1sOnQuc2libGluZz1sLHQ9bCk7YSYmbi5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiBiKGUsYSl9KTtyZXR1cm4gdX1yZXR1cm4gZnVuY3Rpb24oYSxkLGYsaCl7dmFyIGs9XCJvYmplY3RcIj09PXR5cGVvZiBmJiZudWxsIT09ZiYmZi50eXBlPT09aWMmJm51bGw9PT1mLmtleTtrJiYoZj1mLnByb3BzLmNoaWxkcmVuKTt2YXIgbj1cIm9iamVjdFwiPT09dHlwZW9mIGYmJm51bGwhPT1mO2lmKG4pc3dpdGNoKGYuJCR0eXBlb2Ype2Nhc2UgZ2M6YTp7bj1mLmtleTtmb3Ioaz1kO251bGwhPT1rOyl7aWYoay5rZXk9PT1uKWlmKDEwPT09ay50YWc/Zi50eXBlPT09aWM6ay50eXBlPT09Zi50eXBlKXtjKGEsay5zaWJsaW5nKTtkPWUoayxmLnR5cGU9PT1pYz9mLnByb3BzLmNoaWxkcmVuOmYucHJvcHMsaCk7ZC5yZWY9dWcoYSxrLGYpO2QucmV0dXJuPWE7YT1kO2JyZWFrIGF9ZWxzZXtjKGEsayk7YnJlYWt9ZWxzZSBiKGEsayk7az1rLnNpYmxpbmd9Zi50eXBlPT09aWM/KGQ9QmYoZi5wcm9wcy5jaGlsZHJlbixcbmEubW9kZSxoLGYua2V5KSxkLnJldHVybj1hLGE9ZCk6KGg9QWYoZixhLm1vZGUsaCksaC5yZWY9dWcoYSxkLGYpLGgucmV0dXJuPWEsYT1oKX1yZXR1cm4gZyhhKTtjYXNlIGhjOmE6e2ZvcihrPWYua2V5O251bGwhPT1kOyl7aWYoZC5rZXk9PT1rKWlmKDQ9PT1kLnRhZyYmZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbz09PWYuY29udGFpbmVySW5mbyYmZC5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb249PT1mLmltcGxlbWVudGF0aW9uKXtjKGEsZC5zaWJsaW5nKTtkPWUoZCxmLmNoaWxkcmVufHxbXSxoKTtkLnJldHVybj1hO2E9ZDticmVhayBhfWVsc2V7YyhhLGQpO2JyZWFrfWVsc2UgYihhLGQpO2Q9ZC5zaWJsaW5nfWQ9RGYoZixhLm1vZGUsaCk7ZC5yZXR1cm49YTthPWR9cmV0dXJuIGcoYSl9aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBmfHxcIm51bWJlclwiPT09dHlwZW9mIGYpcmV0dXJuIGY9XCJcIitmLG51bGwhPT1kJiY2PT09ZC50YWc/KGMoYSxkLnNpYmxpbmcpLGQ9ZShkLGYsaCksZC5yZXR1cm49XG5hLGE9ZCk6KGMoYSxkKSxkPUNmKGYsYS5tb2RlLGgpLGQucmV0dXJuPWEsYT1kKSxnKGEpO2lmKHRnKGYpKXJldHVybiBKZChhLGQsZixoKTtpZih0YyhmKSlyZXR1cm4gRShhLGQsZixoKTtuJiZ2ZyhhLGYpO2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgZiYmIWspc3dpdGNoKGEudGFnKXtjYXNlIDI6Y2FzZSAxOmg9YS50eXBlLEEoXCIxNTJcIixoLmRpc3BsYXlOYW1lfHxoLm5hbWV8fFwiQ29tcG9uZW50XCIpfXJldHVybiBjKGEsZCl9fXZhciB4Zz13ZyghMCkseWc9d2coITEpLHpnPW51bGwsQWc9bnVsbCxCZz0hMTtmdW5jdGlvbiBDZyhhLGIpe3ZhciBjPW5ldyB5Zig1LG51bGwsbnVsbCwwKTtjLnR5cGU9XCJERUxFVEVEXCI7Yy5zdGF0ZU5vZGU9YjtjLnJldHVybj1hO2MuZWZmZWN0VGFnPTg7bnVsbCE9PWEubGFzdEVmZmVjdD8oYS5sYXN0RWZmZWN0Lm5leHRFZmZlY3Q9YyxhLmxhc3RFZmZlY3Q9Yyk6YS5maXJzdEVmZmVjdD1hLmxhc3RFZmZlY3Q9Y31cbmZ1bmN0aW9uIERnKGEsYil7c3dpdGNoKGEudGFnKXtjYXNlIDU6dmFyIGM9YS50eXBlO2I9MSE9PWIubm9kZVR5cGV8fGMudG9Mb3dlckNhc2UoKSE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9udWxsOmI7cmV0dXJuIG51bGwhPT1iPyhhLnN0YXRlTm9kZT1iLCEwKTohMTtjYXNlIDY6cmV0dXJuIGI9XCJcIj09PWEucGVuZGluZ1Byb3BzfHwzIT09Yi5ub2RlVHlwZT9udWxsOmIsbnVsbCE9PWI/KGEuc3RhdGVOb2RlPWIsITApOiExO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIEVnKGEpe2lmKEJnKXt2YXIgYj1BZztpZihiKXt2YXIgYz1iO2lmKCFEZyhhLGIpKXtiPWhmKGMpO2lmKCFifHwhRGcoYSxiKSl7YS5lZmZlY3RUYWd8PTI7Qmc9ITE7emc9YTtyZXR1cm59Q2coemcsYyl9emc9YTtBZz1qZihiKX1lbHNlIGEuZWZmZWN0VGFnfD0yLEJnPSExLHpnPWF9fVxuZnVuY3Rpb24gRmcoYSl7Zm9yKGE9YS5yZXR1cm47bnVsbCE9PWEmJjUhPT1hLnRhZyYmMyE9PWEudGFnOylhPWEucmV0dXJuO3pnPWF9ZnVuY3Rpb24gR2coYSl7aWYoYSE9PXpnKXJldHVybiExO2lmKCFCZylyZXR1cm4gRmcoYSksQmc9ITAsITE7dmFyIGI9YS50eXBlO2lmKDUhPT1hLnRhZ3x8XCJoZWFkXCIhPT1iJiZcImJvZHlcIiE9PWImJiFkZihiLGEubWVtb2l6ZWRQcm9wcykpZm9yKGI9QWc7YjspQ2coYSxiKSxiPWhmKGIpO0ZnKGEpO0FnPXpnP2hmKGEuc3RhdGVOb2RlKTpudWxsO3JldHVybiEwfWZ1bmN0aW9uIEhnKCl7QWc9emc9bnVsbDtCZz0hMX1mdW5jdGlvbiBRKGEsYixjKXtJZyhhLGIsYyxiLmV4cGlyYXRpb25UaW1lKX1mdW5jdGlvbiBJZyhhLGIsYyxkKXtiLmNoaWxkPW51bGw9PT1hP3lnKGIsbnVsbCxjLGQpOnhnKGIsYS5jaGlsZCxjLGQpfVxuZnVuY3Rpb24gSmcoYSxiKXt2YXIgYz1iLnJlZjtpZihudWxsPT09YSYmbnVsbCE9PWN8fG51bGwhPT1hJiZhLnJlZiE9PWMpYi5lZmZlY3RUYWd8PTEyOH1mdW5jdGlvbiBLZyhhLGIsYyxkLGUpe0pnKGEsYik7dmFyIGY9MCE9PShiLmVmZmVjdFRhZyY2NCk7aWYoIWMmJiFmKXJldHVybiBkJiZ4ZihiLCExKSxSKGEsYik7Yz1iLnN0YXRlTm9kZTtlYy5jdXJyZW50PWI7dmFyIGc9Zj9udWxsOmMucmVuZGVyKCk7Yi5lZmZlY3RUYWd8PTE7ZiYmKElnKGEsYixudWxsLGUpLGIuY2hpbGQ9bnVsbCk7SWcoYSxiLGcsZSk7Yi5tZW1vaXplZFN0YXRlPWMuc3RhdGU7Yi5tZW1vaXplZFByb3BzPWMucHJvcHM7ZCYmeGYoYiwhMCk7cmV0dXJuIGIuY2hpbGR9XG5mdW5jdGlvbiBMZyhhKXt2YXIgYj1hLnN0YXRlTm9kZTtiLnBlbmRpbmdDb250ZXh0P3VmKGEsYi5wZW5kaW5nQ29udGV4dCxiLnBlbmRpbmdDb250ZXh0IT09Yi5jb250ZXh0KTpiLmNvbnRleHQmJnVmKGEsYi5jb250ZXh0LCExKTtpZyhhLGIuY29udGFpbmVySW5mbyl9XG5mdW5jdGlvbiBNZyhhLGIsYyxkKXt2YXIgZT1hLmNoaWxkO251bGwhPT1lJiYoZS5yZXR1cm49YSk7Zm9yKDtudWxsIT09ZTspe3N3aXRjaChlLnRhZyl7Y2FzZSAxMjp2YXIgZj1lLnN0YXRlTm9kZXwwO2lmKGUudHlwZT09PWImJjAhPT0oZiZjKSl7Zm9yKGY9ZTtudWxsIT09Zjspe3ZhciBnPWYuYWx0ZXJuYXRlO2lmKDA9PT1mLmV4cGlyYXRpb25UaW1lfHxmLmV4cGlyYXRpb25UaW1lPmQpZi5leHBpcmF0aW9uVGltZT1kLG51bGwhPT1nJiYoMD09PWcuZXhwaXJhdGlvblRpbWV8fGcuZXhwaXJhdGlvblRpbWU+ZCkmJihnLmV4cGlyYXRpb25UaW1lPWQpO2Vsc2UgaWYobnVsbCE9PWcmJigwPT09Zy5leHBpcmF0aW9uVGltZXx8Zy5leHBpcmF0aW9uVGltZT5kKSlnLmV4cGlyYXRpb25UaW1lPWQ7ZWxzZSBicmVhaztmPWYucmV0dXJufWY9bnVsbH1lbHNlIGY9ZS5jaGlsZDticmVhaztjYXNlIDEzOmY9ZS50eXBlPT09YS50eXBlP251bGw6ZS5jaGlsZDticmVhaztkZWZhdWx0OmY9XG5lLmNoaWxkfWlmKG51bGwhPT1mKWYucmV0dXJuPWU7ZWxzZSBmb3IoZj1lO251bGwhPT1mOyl7aWYoZj09PWEpe2Y9bnVsbDticmVha31lPWYuc2libGluZztpZihudWxsIT09ZSl7ZS5yZXR1cm49Zi5yZXR1cm47Zj1lO2JyZWFrfWY9Zi5yZXR1cm59ZT1mfX1cbmZ1bmN0aW9uIFFnKGEsYixjKXt2YXIgZD1iLnR5cGUuX2NvbnRleHQsZT1iLnBlbmRpbmdQcm9wcyxmPWIubWVtb2l6ZWRQcm9wcyxnPSEwO2lmKE8uY3VycmVudClnPSExO2Vsc2UgaWYoZj09PWUpcmV0dXJuIGIuc3RhdGVOb2RlPTAsYWcoYiksUihhLGIpO3ZhciBoPWUudmFsdWU7Yi5tZW1vaXplZFByb3BzPWU7aWYobnVsbD09PWYpaD0xMDczNzQxODIzO2Vsc2UgaWYoZi52YWx1ZT09PWUudmFsdWUpe2lmKGYuY2hpbGRyZW49PT1lLmNoaWxkcmVuJiZnKXJldHVybiBiLnN0YXRlTm9kZT0wLGFnKGIpLFIoYSxiKTtoPTB9ZWxzZXt2YXIgaz1mLnZhbHVlO2lmKGs9PT1oJiYoMCE9PWt8fDEvaz09PTEvaCl8fGshPT1rJiZoIT09aCl7aWYoZi5jaGlsZHJlbj09PWUuY2hpbGRyZW4mJmcpcmV0dXJuIGIuc3RhdGVOb2RlPTAsYWcoYiksUihhLGIpO2g9MH1lbHNlIGlmKGg9XCJmdW5jdGlvblwiPT09dHlwZW9mIGQuX2NhbGN1bGF0ZUNoYW5nZWRCaXRzP2QuX2NhbGN1bGF0ZUNoYW5nZWRCaXRzKGssXG5oKToxMDczNzQxODIzLGh8PTAsMD09PWgpe2lmKGYuY2hpbGRyZW49PT1lLmNoaWxkcmVuJiZnKXJldHVybiBiLnN0YXRlTm9kZT0wLGFnKGIpLFIoYSxiKX1lbHNlIE1nKGIsZCxoLGMpfWIuc3RhdGVOb2RlPWg7YWcoYik7UShhLGIsZS5jaGlsZHJlbik7cmV0dXJuIGIuY2hpbGR9ZnVuY3Rpb24gUihhLGIpe251bGwhPT1hJiZiLmNoaWxkIT09YS5jaGlsZD9BKFwiMTUzXCIpOnZvaWQgMDtpZihudWxsIT09Yi5jaGlsZCl7YT1iLmNoaWxkO3ZhciBjPXpmKGEsYS5wZW5kaW5nUHJvcHMsYS5leHBpcmF0aW9uVGltZSk7Yi5jaGlsZD1jO2ZvcihjLnJldHVybj1iO251bGwhPT1hLnNpYmxpbmc7KWE9YS5zaWJsaW5nLGM9Yy5zaWJsaW5nPXpmKGEsYS5wZW5kaW5nUHJvcHMsYS5leHBpcmF0aW9uVGltZSksYy5yZXR1cm49YjtjLnNpYmxpbmc9bnVsbH1yZXR1cm4gYi5jaGlsZH1cbmZ1bmN0aW9uIFJnKGEsYixjKXtpZigwPT09Yi5leHBpcmF0aW9uVGltZXx8Yi5leHBpcmF0aW9uVGltZT5jKXtzd2l0Y2goYi50YWcpe2Nhc2UgMzpMZyhiKTticmVhaztjYXNlIDI6d2YoYik7YnJlYWs7Y2FzZSA0OmlnKGIsYi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyk7YnJlYWs7Y2FzZSAxMzphZyhiKX1yZXR1cm4gbnVsbH1zd2l0Y2goYi50YWcpe2Nhc2UgMDpudWxsIT09YT9BKFwiMTU1XCIpOnZvaWQgMDt2YXIgZD1iLnR5cGUsZT1iLnBlbmRpbmdQcm9wcyxmPXBmKGIpO2Y9cmYoYixmKTtkPWQoZSxmKTtiLmVmZmVjdFRhZ3w9MTtcIm9iamVjdFwiPT09dHlwZW9mIGQmJm51bGwhPT1kJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5yZW5kZXImJnZvaWQgMD09PWQuJCR0eXBlb2Y/KGY9Yi50eXBlLGIudGFnPTIsYi5tZW1vaXplZFN0YXRlPW51bGwhPT1kLnN0YXRlJiZ2b2lkIDAhPT1kLnN0YXRlP2Quc3RhdGU6bnVsbCxmPWYuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLFwiZnVuY3Rpb25cIj09PVxudHlwZW9mIGYmJmxnKGIsZixlKSxlPXdmKGIpLGQudXBkYXRlcj1wZyxiLnN0YXRlTm9kZT1kLGQuX3JlYWN0SW50ZXJuYWxGaWJlcj1iLHNnKGIsYyksYT1LZyhhLGIsITAsZSxjKSk6KGIudGFnPTEsUShhLGIsZCksYi5tZW1vaXplZFByb3BzPWUsYT1iLmNoaWxkKTtyZXR1cm4gYTtjYXNlIDE6cmV0dXJuIGU9Yi50eXBlLGM9Yi5wZW5kaW5nUHJvcHMsTy5jdXJyZW50fHxiLm1lbW9pemVkUHJvcHMhPT1jPyhkPXBmKGIpLGQ9cmYoYixkKSxlPWUoYyxkKSxiLmVmZmVjdFRhZ3w9MSxRKGEsYixlKSxiLm1lbW9pemVkUHJvcHM9YyxhPWIuY2hpbGQpOmE9UihhLGIpLGE7Y2FzZSAyOmU9d2YoYik7aWYobnVsbD09PWEpaWYobnVsbD09PWIuc3RhdGVOb2RlKXt2YXIgZz1iLnBlbmRpbmdQcm9wcyxoPWIudHlwZTtkPXBmKGIpO3ZhciBrPTI9PT1iLnRhZyYmbnVsbCE9Yi50eXBlLmNvbnRleHRUeXBlcztmPWs/cmYoYixkKTpoYTtnPW5ldyBoKGcsZik7Yi5tZW1vaXplZFN0YXRlPW51bGwhPT1cbmcuc3RhdGUmJnZvaWQgMCE9PWcuc3RhdGU/Zy5zdGF0ZTpudWxsO2cudXBkYXRlcj1wZztiLnN0YXRlTm9kZT1nO2cuX3JlYWN0SW50ZXJuYWxGaWJlcj1iO2smJihrPWIuc3RhdGVOb2RlLGsuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dD1kLGsuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ9Zik7c2coYixjKTtkPSEwfWVsc2V7aD1iLnR5cGU7ZD1iLnN0YXRlTm9kZTtrPWIubWVtb2l6ZWRQcm9wcztmPWIucGVuZGluZ1Byb3BzO2QucHJvcHM9azt2YXIgbj1kLmNvbnRleHQ7Zz1wZihiKTtnPXJmKGIsZyk7dmFyIHI9aC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7KGg9XCJmdW5jdGlvblwiPT09dHlwZW9mIHJ8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKXx8XCJmdW5jdGlvblwiIT09dHlwZW9mIGQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBkLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHN8fFxuKGshPT1mfHxuIT09ZykmJnJnKGIsZCxmLGcpO0xmPSExO3ZhciB3PWIubWVtb2l6ZWRTdGF0ZTtuPWQuc3RhdGU9dzt2YXIgUD1iLnVwZGF0ZVF1ZXVlO251bGwhPT1QJiYoVWYoYixQLGYsZCxjKSxuPWIubWVtb2l6ZWRTdGF0ZSk7ayE9PWZ8fHchPT1ufHxPLmN1cnJlbnR8fExmPyhcImZ1bmN0aW9uXCI9PT10eXBlb2YgciYmKGxnKGIscixmKSxuPWIubWVtb2l6ZWRTdGF0ZSksKGs9TGZ8fHFnKGIsayxmLHcsbixnKSk/KGh8fFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBkLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBkLmNvbXBvbmVudFdpbGxNb3VudHx8KFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLmNvbXBvbmVudFdpbGxNb3VudCYmZC5jb21wb25lbnRXaWxsTW91bnQoKSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZkLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSksXCJmdW5jdGlvblwiPT09dHlwZW9mIGQuY29tcG9uZW50RGlkTW91bnQmJlxuKGIuZWZmZWN0VGFnfD00KSk6KFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLmNvbXBvbmVudERpZE1vdW50JiYoYi5lZmZlY3RUYWd8PTQpLGIubWVtb2l6ZWRQcm9wcz1mLGIubWVtb2l6ZWRTdGF0ZT1uKSxkLnByb3BzPWYsZC5zdGF0ZT1uLGQuY29udGV4dD1nLGQ9ayk6KFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLmNvbXBvbmVudERpZE1vdW50JiYoYi5lZmZlY3RUYWd8PTQpLGQ9ITEpfWVsc2UgaD1iLnR5cGUsZD1iLnN0YXRlTm9kZSxmPWIubWVtb2l6ZWRQcm9wcyxrPWIucGVuZGluZ1Byb3BzLGQucHJvcHM9ZixuPWQuY29udGV4dCxnPXBmKGIpLGc9cmYoYixnKSxyPWguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLChoPVwiZnVuY3Rpb25cIj09PXR5cGVvZiByfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSl8fFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBkLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgZC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzfHxcbihmIT09a3x8biE9PWcpJiZyZyhiLGQsayxnKSxMZj0hMSxuPWIubWVtb2l6ZWRTdGF0ZSx3PWQuc3RhdGU9bixQPWIudXBkYXRlUXVldWUsbnVsbCE9PVAmJihVZihiLFAsayxkLGMpLHc9Yi5tZW1vaXplZFN0YXRlKSxmIT09a3x8biE9PXd8fE8uY3VycmVudHx8TGY/KFwiZnVuY3Rpb25cIj09PXR5cGVvZiByJiYobGcoYixyLGspLHc9Yi5tZW1vaXplZFN0YXRlKSwocj1MZnx8cWcoYixmLGssbix3LGcpKT8oaHx8XCJmdW5jdGlvblwiIT09dHlwZW9mIGQuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBkLmNvbXBvbmVudFdpbGxVcGRhdGV8fChcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5jb21wb25lbnRXaWxsVXBkYXRlJiZkLmNvbXBvbmVudFdpbGxVcGRhdGUoayx3LGcpLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJiZkLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlKGssdyxnKSksXCJmdW5jdGlvblwiPT09dHlwZW9mIGQuY29tcG9uZW50RGlkVXBkYXRlJiZcbihiLmVmZmVjdFRhZ3w9NCksXCJmdW5jdGlvblwiPT09dHlwZW9mIGQuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUmJihiLmVmZmVjdFRhZ3w9MjU2KSk6KFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBkLmNvbXBvbmVudERpZFVwZGF0ZXx8Zj09PWEubWVtb2l6ZWRQcm9wcyYmbj09PWEubWVtb2l6ZWRTdGF0ZXx8KGIuZWZmZWN0VGFnfD00KSxcImZ1bmN0aW9uXCIhPT10eXBlb2YgZC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8Zj09PWEubWVtb2l6ZWRQcm9wcyYmbj09PWEubWVtb2l6ZWRTdGF0ZXx8KGIuZWZmZWN0VGFnfD0yNTYpLGIubWVtb2l6ZWRQcm9wcz1rLGIubWVtb2l6ZWRTdGF0ZT13KSxkLnByb3BzPWssZC5zdGF0ZT13LGQuY29udGV4dD1nLGQ9cik6KFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBkLmNvbXBvbmVudERpZFVwZGF0ZXx8Zj09PWEubWVtb2l6ZWRQcm9wcyYmbj09PWEubWVtb2l6ZWRTdGF0ZXx8KGIuZWZmZWN0VGFnfD00KSxcImZ1bmN0aW9uXCIhPT10eXBlb2YgZC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8XG5mPT09YS5tZW1vaXplZFByb3BzJiZuPT09YS5tZW1vaXplZFN0YXRlfHwoYi5lZmZlY3RUYWd8PTI1NiksZD0hMSk7cmV0dXJuIEtnKGEsYixkLGUsYyk7Y2FzZSAzOkxnKGIpO2U9Yi51cGRhdGVRdWV1ZTtpZihudWxsIT09ZSlpZihkPWIubWVtb2l6ZWRTdGF0ZSxkPW51bGwhPT1kP2QuZWxlbWVudDpudWxsLFVmKGIsZSxiLnBlbmRpbmdQcm9wcyxudWxsLGMpLGU9Yi5tZW1vaXplZFN0YXRlLmVsZW1lbnQsZT09PWQpSGcoKSxhPVIoYSxiKTtlbHNle2Q9Yi5zdGF0ZU5vZGU7aWYoZD0obnVsbD09PWF8fG51bGw9PT1hLmNoaWxkKSYmZC5oeWRyYXRlKUFnPWpmKGIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLHpnPWIsZD1CZz0hMDtkPyhiLmVmZmVjdFRhZ3w9MixiLmNoaWxkPXlnKGIsbnVsbCxlLGMpKTooSGcoKSxRKGEsYixlKSk7YT1iLmNoaWxkfWVsc2UgSGcoKSxhPVIoYSxiKTtyZXR1cm4gYTtjYXNlIDU6YTp7Z2coZmcuY3VycmVudCk7ZT1nZyhkZy5jdXJyZW50KTtkPUhlKGUsXG5iLnR5cGUpO2UhPT1kJiYoTihlZyxiLGIpLE4oZGcsZCxiKSk7bnVsbD09PWEmJkVnKGIpO2U9Yi50eXBlO2s9Yi5tZW1vaXplZFByb3BzO2Q9Yi5wZW5kaW5nUHJvcHM7Zj1udWxsIT09YT9hLm1lbW9pemVkUHJvcHM6bnVsbDtpZighTy5jdXJyZW50JiZrPT09ZCl7aWYoaz1iLm1vZGUmMSYmISFkLmhpZGRlbiliLmV4cGlyYXRpb25UaW1lPTEwNzM3NDE4MjM7aWYoIWt8fDEwNzM3NDE4MjMhPT1jKXthPVIoYSxiKTticmVhayBhfX1rPWQuY2hpbGRyZW47ZGYoZSxkKT9rPW51bGw6ZiYmZGYoZSxmKSYmKGIuZWZmZWN0VGFnfD0xNik7SmcoYSxiKTsxMDczNzQxODIzIT09YyYmYi5tb2RlJjEmJmQuaGlkZGVuPyhiLmV4cGlyYXRpb25UaW1lPTEwNzM3NDE4MjMsYi5tZW1vaXplZFByb3BzPWQsYT1udWxsKTooUShhLGIsayksYi5tZW1vaXplZFByb3BzPWQsYT1iLmNoaWxkKX1yZXR1cm4gYTtjYXNlIDY6cmV0dXJuIG51bGw9PT1hJiZFZyhiKSxiLm1lbW9pemVkUHJvcHM9Yi5wZW5kaW5nUHJvcHMsXG5udWxsO2Nhc2UgMTY6cmV0dXJuIG51bGw7Y2FzZSA0OnJldHVybiBpZyhiLGIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLGU9Yi5wZW5kaW5nUHJvcHMsTy5jdXJyZW50fHxiLm1lbW9pemVkUHJvcHMhPT1lPyhudWxsPT09YT9iLmNoaWxkPXhnKGIsbnVsbCxlLGMpOlEoYSxiLGUpLGIubWVtb2l6ZWRQcm9wcz1lLGE9Yi5jaGlsZCk6YT1SKGEsYiksYTtjYXNlIDE0OnJldHVybiBlPWIudHlwZS5yZW5kZXIsYz1iLnBlbmRpbmdQcm9wcyxkPWIucmVmLE8uY3VycmVudHx8Yi5tZW1vaXplZFByb3BzIT09Y3x8ZCE9PShudWxsIT09YT9hLnJlZjpudWxsKT8oZT1lKGMsZCksUShhLGIsZSksYi5tZW1vaXplZFByb3BzPWMsYT1iLmNoaWxkKTphPVIoYSxiKSxhO2Nhc2UgMTA6cmV0dXJuIGM9Yi5wZW5kaW5nUHJvcHMsTy5jdXJyZW50fHxiLm1lbW9pemVkUHJvcHMhPT1jPyhRKGEsYixjKSxiLm1lbW9pemVkUHJvcHM9YyxhPWIuY2hpbGQpOmE9UihhLGIpLGE7Y2FzZSAxMTpyZXR1cm4gYz1cbmIucGVuZGluZ1Byb3BzLmNoaWxkcmVuLE8uY3VycmVudHx8bnVsbCE9PWMmJmIubWVtb2l6ZWRQcm9wcyE9PWM/KFEoYSxiLGMpLGIubWVtb2l6ZWRQcm9wcz1jLGE9Yi5jaGlsZCk6YT1SKGEsYiksYTtjYXNlIDE1OnJldHVybiBjPWIucGVuZGluZ1Byb3BzLGIubWVtb2l6ZWRQcm9wcz09PWM/YT1SKGEsYik6KFEoYSxiLGMuY2hpbGRyZW4pLGIubWVtb2l6ZWRQcm9wcz1jLGE9Yi5jaGlsZCksYTtjYXNlIDEzOnJldHVybiBRZyhhLGIsYyk7Y2FzZSAxMjphOmlmKGQ9Yi50eXBlLGY9Yi5wZW5kaW5nUHJvcHMsaz1iLm1lbW9pemVkUHJvcHMsZT1kLl9jdXJyZW50VmFsdWUsZz1kLl9jaGFuZ2VkQml0cyxPLmN1cnJlbnR8fDAhPT1nfHxrIT09Zil7Yi5tZW1vaXplZFByb3BzPWY7aD1mLnVuc3RhYmxlX29ic2VydmVkQml0cztpZih2b2lkIDA9PT1ofHxudWxsPT09aCloPTEwNzM3NDE4MjM7Yi5zdGF0ZU5vZGU9aDtpZigwIT09KGcmaCkpTWcoYixkLGcsYyk7ZWxzZSBpZihrPT09Zil7YT1cblIoYSxiKTticmVhayBhfWM9Zi5jaGlsZHJlbjtjPWMoZSk7Yi5lZmZlY3RUYWd8PTE7UShhLGIsYyk7YT1iLmNoaWxkfWVsc2UgYT1SKGEsYik7cmV0dXJuIGE7ZGVmYXVsdDpBKFwiMTU2XCIpfX1mdW5jdGlvbiBTZyhhKXthLmVmZmVjdFRhZ3w9NH12YXIgVGc9dm9pZCAwLFVnPXZvaWQgMCxWZz12b2lkIDA7VGc9ZnVuY3Rpb24oKXt9O1VnPWZ1bmN0aW9uKGEsYixjKXsoYi51cGRhdGVRdWV1ZT1jKSYmU2coYil9O1ZnPWZ1bmN0aW9uKGEsYixjLGQpe2MhPT1kJiZTZyhiKX07XG5mdW5jdGlvbiBXZyhhLGIpe3ZhciBjPWIucGVuZGluZ1Byb3BzO3N3aXRjaChiLnRhZyl7Y2FzZSAxOnJldHVybiBudWxsO2Nhc2UgMjpyZXR1cm4gc2YoYiksbnVsbDtjYXNlIDM6amcoYik7dGYoYik7dmFyIGQ9Yi5zdGF0ZU5vZGU7ZC5wZW5kaW5nQ29udGV4dCYmKGQuY29udGV4dD1kLnBlbmRpbmdDb250ZXh0LGQucGVuZGluZ0NvbnRleHQ9bnVsbCk7aWYobnVsbD09PWF8fG51bGw9PT1hLmNoaWxkKUdnKGIpLGIuZWZmZWN0VGFnJj0tMztUZyhiKTtyZXR1cm4gbnVsbDtjYXNlIDU6a2coYik7ZD1nZyhmZy5jdXJyZW50KTt2YXIgZT1iLnR5cGU7aWYobnVsbCE9PWEmJm51bGwhPWIuc3RhdGVOb2RlKXt2YXIgZj1hLm1lbW9pemVkUHJvcHMsZz1iLnN0YXRlTm9kZSxoPWdnKGRnLmN1cnJlbnQpO2c9V2UoZyxlLGYsYyxkKTtVZyhhLGIsZyxlLGYsYyxkLGgpO2EucmVmIT09Yi5yZWYmJihiLmVmZmVjdFRhZ3w9MTI4KX1lbHNle2lmKCFjKXJldHVybiBudWxsPT09Yi5zdGF0ZU5vZGU/XG5BKFwiMTY2XCIpOnZvaWQgMCxudWxsO2E9Z2coZGcuY3VycmVudCk7aWYoR2coYikpYz1iLnN0YXRlTm9kZSxlPWIudHlwZSxmPWIubWVtb2l6ZWRQcm9wcyxjW0NdPWIsY1tNYV09ZixkPVllKGMsZSxmLGEsZCksYi51cGRhdGVRdWV1ZT1kLG51bGwhPT1kJiZTZyhiKTtlbHNle2E9VGUoZSxjLGQsYSk7YVtDXT1iO2FbTWFdPWM7YTpmb3IoZj1iLmNoaWxkO251bGwhPT1mOyl7aWYoNT09PWYudGFnfHw2PT09Zi50YWcpYS5hcHBlbmRDaGlsZChmLnN0YXRlTm9kZSk7ZWxzZSBpZig0IT09Zi50YWcmJm51bGwhPT1mLmNoaWxkKXtmLmNoaWxkLnJldHVybj1mO2Y9Zi5jaGlsZDtjb250aW51ZX1pZihmPT09YilicmVhaztmb3IoO251bGw9PT1mLnNpYmxpbmc7KXtpZihudWxsPT09Zi5yZXR1cm58fGYucmV0dXJuPT09YilicmVhayBhO2Y9Zi5yZXR1cm59Zi5zaWJsaW5nLnJldHVybj1mLnJldHVybjtmPWYuc2libGluZ31WZShhLGUsYyxkKTtjZihlLGMpJiZTZyhiKTtiLnN0YXRlTm9kZT1cbmF9bnVsbCE9PWIucmVmJiYoYi5lZmZlY3RUYWd8PTEyOCl9cmV0dXJuIG51bGw7Y2FzZSA2OmlmKGEmJm51bGwhPWIuc3RhdGVOb2RlKVZnKGEsYixhLm1lbW9pemVkUHJvcHMsYyk7ZWxzZXtpZihcInN0cmluZ1wiIT09dHlwZW9mIGMpcmV0dXJuIG51bGw9PT1iLnN0YXRlTm9kZT9BKFwiMTY2XCIpOnZvaWQgMCxudWxsO2Q9Z2coZmcuY3VycmVudCk7Z2coZGcuY3VycmVudCk7R2coYik/KGQ9Yi5zdGF0ZU5vZGUsYz1iLm1lbW9pemVkUHJvcHMsZFtDXT1iLFplKGQsYykmJlNnKGIpKTooZD1VZShjLGQpLGRbQ109YixiLnN0YXRlTm9kZT1kKX1yZXR1cm4gbnVsbDtjYXNlIDE0OnJldHVybiBudWxsO2Nhc2UgMTY6cmV0dXJuIG51bGw7Y2FzZSAxMDpyZXR1cm4gbnVsbDtjYXNlIDExOnJldHVybiBudWxsO2Nhc2UgMTU6cmV0dXJuIG51bGw7Y2FzZSA0OnJldHVybiBqZyhiKSxUZyhiKSxudWxsO2Nhc2UgMTM6cmV0dXJuIGJnKGIpLG51bGw7Y2FzZSAxMjpyZXR1cm4gbnVsbDtjYXNlIDA6QShcIjE2N1wiKTtcbmRlZmF1bHQ6QShcIjE1NlwiKX19ZnVuY3Rpb24gWGcoYSxiKXt2YXIgYz1iLnNvdXJjZTtudWxsPT09Yi5zdGFjayYmbnVsbCE9PWMmJnZjKGMpO251bGwhPT1jJiZ1YyhjKTtiPWIudmFsdWU7bnVsbCE9PWEmJjI9PT1hLnRhZyYmdWMoYSk7dHJ5e2ImJmIuc3VwcHJlc3NSZWFjdEVycm9yTG9nZ2luZ3x8Y29uc29sZS5lcnJvcihiKX1jYXRjaChkKXtkJiZkLnN1cHByZXNzUmVhY3RFcnJvckxvZ2dpbmd8fGNvbnNvbGUuZXJyb3IoZCl9fWZ1bmN0aW9uIFlnKGEpe3ZhciBiPWEucmVmO2lmKG51bGwhPT1iKWlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKXRyeXtiKG51bGwpfWNhdGNoKGMpe1pnKGEsYyl9ZWxzZSBiLmN1cnJlbnQ9bnVsbH1cbmZ1bmN0aW9uICRnKGEpe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBLZiYmS2YoYSk7c3dpdGNoKGEudGFnKXtjYXNlIDI6WWcoYSk7dmFyIGI9YS5zdGF0ZU5vZGU7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGIuY29tcG9uZW50V2lsbFVubW91bnQpdHJ5e2IucHJvcHM9YS5tZW1vaXplZFByb3BzLGIuc3RhdGU9YS5tZW1vaXplZFN0YXRlLGIuY29tcG9uZW50V2lsbFVubW91bnQoKX1jYXRjaChjKXtaZyhhLGMpfWJyZWFrO2Nhc2UgNTpZZyhhKTticmVhaztjYXNlIDQ6YWgoYSl9fWZ1bmN0aW9uIGJoKGEpe3JldHVybiA1PT09YS50YWd8fDM9PT1hLnRhZ3x8ND09PWEudGFnfVxuZnVuY3Rpb24gY2goYSl7YTp7Zm9yKHZhciBiPWEucmV0dXJuO251bGwhPT1iOyl7aWYoYmgoYikpe3ZhciBjPWI7YnJlYWsgYX1iPWIucmV0dXJufUEoXCIxNjBcIik7Yz12b2lkIDB9dmFyIGQ9Yj12b2lkIDA7c3dpdGNoKGMudGFnKXtjYXNlIDU6Yj1jLnN0YXRlTm9kZTtkPSExO2JyZWFrO2Nhc2UgMzpiPWMuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87ZD0hMDticmVhaztjYXNlIDQ6Yj1jLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO2Q9ITA7YnJlYWs7ZGVmYXVsdDpBKFwiMTYxXCIpfWMuZWZmZWN0VGFnJjE2JiYoS2UoYixcIlwiKSxjLmVmZmVjdFRhZyY9LTE3KTthOmI6Zm9yKGM9YTs7KXtmb3IoO251bGw9PT1jLnNpYmxpbmc7KXtpZihudWxsPT09Yy5yZXR1cm58fGJoKGMucmV0dXJuKSl7Yz1udWxsO2JyZWFrIGF9Yz1jLnJldHVybn1jLnNpYmxpbmcucmV0dXJuPWMucmV0dXJuO2ZvcihjPWMuc2libGluZzs1IT09Yy50YWcmJjYhPT1jLnRhZzspe2lmKGMuZWZmZWN0VGFnJjIpY29udGludWUgYjtcbmlmKG51bGw9PT1jLmNoaWxkfHw0PT09Yy50YWcpY29udGludWUgYjtlbHNlIGMuY2hpbGQucmV0dXJuPWMsYz1jLmNoaWxkfWlmKCEoYy5lZmZlY3RUYWcmMikpe2M9Yy5zdGF0ZU5vZGU7YnJlYWsgYX19Zm9yKHZhciBlPWE7Oyl7aWYoNT09PWUudGFnfHw2PT09ZS50YWcpaWYoYylpZihkKXt2YXIgZj1iLGc9ZS5zdGF0ZU5vZGUsaD1jOzg9PT1mLm5vZGVUeXBlP2YucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZyxoKTpmLmluc2VydEJlZm9yZShnLGgpfWVsc2UgYi5pbnNlcnRCZWZvcmUoZS5zdGF0ZU5vZGUsYyk7ZWxzZSBkPyhmPWIsZz1lLnN0YXRlTm9kZSw4PT09Zi5ub2RlVHlwZT9mLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGcsZik6Zi5hcHBlbmRDaGlsZChnKSk6Yi5hcHBlbmRDaGlsZChlLnN0YXRlTm9kZSk7ZWxzZSBpZig0IT09ZS50YWcmJm51bGwhPT1lLmNoaWxkKXtlLmNoaWxkLnJldHVybj1lO2U9ZS5jaGlsZDtjb250aW51ZX1pZihlPT09YSlicmVhaztmb3IoO251bGw9PT1cbmUuc2libGluZzspe2lmKG51bGw9PT1lLnJldHVybnx8ZS5yZXR1cm49PT1hKXJldHVybjtlPWUucmV0dXJufWUuc2libGluZy5yZXR1cm49ZS5yZXR1cm47ZT1lLnNpYmxpbmd9fVxuZnVuY3Rpb24gYWgoYSl7Zm9yKHZhciBiPWEsYz0hMSxkPXZvaWQgMCxlPXZvaWQgMDs7KXtpZighYyl7Yz1iLnJldHVybjthOmZvcig7Oyl7bnVsbD09PWM/QShcIjE2MFwiKTp2b2lkIDA7c3dpdGNoKGMudGFnKXtjYXNlIDU6ZD1jLnN0YXRlTm9kZTtlPSExO2JyZWFrIGE7Y2FzZSAzOmQ9Yy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztlPSEwO2JyZWFrIGE7Y2FzZSA0OmQ9Yy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztlPSEwO2JyZWFrIGF9Yz1jLnJldHVybn1jPSEwfWlmKDU9PT1iLnRhZ3x8Nj09PWIudGFnKXthOmZvcih2YXIgZj1iLGc9Zjs7KWlmKCRnKGcpLG51bGwhPT1nLmNoaWxkJiY0IT09Zy50YWcpZy5jaGlsZC5yZXR1cm49ZyxnPWcuY2hpbGQ7ZWxzZXtpZihnPT09ZilicmVhaztmb3IoO251bGw9PT1nLnNpYmxpbmc7KXtpZihudWxsPT09Zy5yZXR1cm58fGcucmV0dXJuPT09ZilicmVhayBhO2c9Zy5yZXR1cm59Zy5zaWJsaW5nLnJldHVybj1nLnJldHVybjtnPWcuc2libGluZ31lP1xuKGY9ZCxnPWIuc3RhdGVOb2RlLDg9PT1mLm5vZGVUeXBlP2YucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChnKTpmLnJlbW92ZUNoaWxkKGcpKTpkLnJlbW92ZUNoaWxkKGIuc3RhdGVOb2RlKX1lbHNlIGlmKDQ9PT1iLnRhZz9kPWIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm86JGcoYiksbnVsbCE9PWIuY2hpbGQpe2IuY2hpbGQucmV0dXJuPWI7Yj1iLmNoaWxkO2NvbnRpbnVlfWlmKGI9PT1hKWJyZWFrO2Zvcig7bnVsbD09PWIuc2libGluZzspe2lmKG51bGw9PT1iLnJldHVybnx8Yi5yZXR1cm49PT1hKXJldHVybjtiPWIucmV0dXJuOzQ9PT1iLnRhZyYmKGM9ITEpfWIuc2libGluZy5yZXR1cm49Yi5yZXR1cm47Yj1iLnNpYmxpbmd9fVxuZnVuY3Rpb24gZGgoYSxiKXtzd2l0Y2goYi50YWcpe2Nhc2UgMjpicmVhaztjYXNlIDU6dmFyIGM9Yi5zdGF0ZU5vZGU7aWYobnVsbCE9Yyl7dmFyIGQ9Yi5tZW1vaXplZFByb3BzO2E9bnVsbCE9PWE/YS5tZW1vaXplZFByb3BzOmQ7dmFyIGU9Yi50eXBlLGY9Yi51cGRhdGVRdWV1ZTtiLnVwZGF0ZVF1ZXVlPW51bGw7bnVsbCE9PWYmJihjW01hXT1kLFhlKGMsZixlLGEsZCkpfWJyZWFrO2Nhc2UgNjpudWxsPT09Yi5zdGF0ZU5vZGU/QShcIjE2MlwiKTp2b2lkIDA7Yi5zdGF0ZU5vZGUubm9kZVZhbHVlPWIubWVtb2l6ZWRQcm9wczticmVhaztjYXNlIDM6YnJlYWs7Y2FzZSAxNTpicmVhaztjYXNlIDE2OmJyZWFrO2RlZmF1bHQ6QShcIjE2M1wiKX19ZnVuY3Rpb24gZWgoYSxiLGMpe2M9T2YoYyk7Yy50YWc9MztjLnBheWxvYWQ9e2VsZW1lbnQ6bnVsbH07dmFyIGQ9Yi52YWx1ZTtjLmNhbGxiYWNrPWZ1bmN0aW9uKCl7ZmgoZCk7WGcoYSxiKX07cmV0dXJuIGN9XG5mdW5jdGlvbiBnaChhLGIsYyl7Yz1PZihjKTtjLnRhZz0zO3ZhciBkPWEuc3RhdGVOb2RlO251bGwhPT1kJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5jb21wb25lbnREaWRDYXRjaCYmKGMuY2FsbGJhY2s9ZnVuY3Rpb24oKXtudWxsPT09aGg/aGg9bmV3IFNldChbdGhpc10pOmhoLmFkZCh0aGlzKTt2YXIgYz1iLnZhbHVlLGQ9Yi5zdGFjaztYZyhhLGIpO3RoaXMuY29tcG9uZW50RGlkQ2F0Y2goYyx7Y29tcG9uZW50U3RhY2s6bnVsbCE9PWQ/ZDpcIlwifSl9KTtyZXR1cm4gY31cbmZ1bmN0aW9uIGloKGEsYixjLGQsZSxmKXtjLmVmZmVjdFRhZ3w9NTEyO2MuZmlyc3RFZmZlY3Q9Yy5sYXN0RWZmZWN0PW51bGw7ZD1YZihkLGMpO2E9Yjtkb3tzd2l0Y2goYS50YWcpe2Nhc2UgMzphLmVmZmVjdFRhZ3w9MTAyNDtkPWVoKGEsZCxmKTtSZihhLGQsZik7cmV0dXJuO2Nhc2UgMjppZihiPWQsYz1hLnN0YXRlTm9kZSwwPT09KGEuZWZmZWN0VGFnJjY0KSYmbnVsbCE9PWMmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLmNvbXBvbmVudERpZENhdGNoJiYobnVsbD09PWhofHwhaGguaGFzKGMpKSl7YS5lZmZlY3RUYWd8PTEwMjQ7ZD1naChhLGIsZik7UmYoYSxkLGYpO3JldHVybn19YT1hLnJldHVybn13aGlsZShudWxsIT09YSl9XG5mdW5jdGlvbiBqaChhKXtzd2l0Y2goYS50YWcpe2Nhc2UgMjpzZihhKTt2YXIgYj1hLmVmZmVjdFRhZztyZXR1cm4gYiYxMDI0PyhhLmVmZmVjdFRhZz1iJi0xMDI1fDY0LGEpOm51bGw7Y2FzZSAzOnJldHVybiBqZyhhKSx0ZihhKSxiPWEuZWZmZWN0VGFnLGImMTAyND8oYS5lZmZlY3RUYWc9YiYtMTAyNXw2NCxhKTpudWxsO2Nhc2UgNTpyZXR1cm4ga2coYSksbnVsbDtjYXNlIDE2OnJldHVybiBiPWEuZWZmZWN0VGFnLGImMTAyND8oYS5lZmZlY3RUYWc9YiYtMTAyNXw2NCxhKTpudWxsO2Nhc2UgNDpyZXR1cm4gamcoYSksbnVsbDtjYXNlIDEzOnJldHVybiBiZyhhKSxudWxsO2RlZmF1bHQ6cmV0dXJuIG51bGx9fXZhciBraD1lZigpLGxoPTIsbWg9a2gsbmg9MCxvaD0wLHBoPSExLFM9bnVsbCxxaD1udWxsLFQ9MCxyaD0tMSxzaD0hMSxVPW51bGwsdGg9ITEsdWg9ITEsaGg9bnVsbDtcbmZ1bmN0aW9uIHZoKCl7aWYobnVsbCE9PVMpZm9yKHZhciBhPVMucmV0dXJuO251bGwhPT1hOyl7dmFyIGI9YTtzd2l0Y2goYi50YWcpe2Nhc2UgMjpzZihiKTticmVhaztjYXNlIDM6amcoYik7dGYoYik7YnJlYWs7Y2FzZSA1OmtnKGIpO2JyZWFrO2Nhc2UgNDpqZyhiKTticmVhaztjYXNlIDEzOmJnKGIpfWE9YS5yZXR1cm59cWg9bnVsbDtUPTA7cmg9LTE7c2g9ITE7Uz1udWxsO3VoPSExfVxuZnVuY3Rpb24gd2goYSl7Zm9yKDs7KXt2YXIgYj1hLmFsdGVybmF0ZSxjPWEucmV0dXJuLGQ9YS5zaWJsaW5nO2lmKDA9PT0oYS5lZmZlY3RUYWcmNTEyKSl7Yj1XZyhiLGEsVCk7dmFyIGU9YTtpZigxMDczNzQxODIzPT09VHx8MTA3Mzc0MTgyMyE9PWUuZXhwaXJhdGlvblRpbWUpe3ZhciBmPTA7c3dpdGNoKGUudGFnKXtjYXNlIDM6Y2FzZSAyOnZhciBnPWUudXBkYXRlUXVldWU7bnVsbCE9PWcmJihmPWcuZXhwaXJhdGlvblRpbWUpfWZvcihnPWUuY2hpbGQ7bnVsbCE9PWc7KTAhPT1nLmV4cGlyYXRpb25UaW1lJiYoMD09PWZ8fGY+Zy5leHBpcmF0aW9uVGltZSkmJihmPWcuZXhwaXJhdGlvblRpbWUpLGc9Zy5zaWJsaW5nO2UuZXhwaXJhdGlvblRpbWU9Zn1pZihudWxsIT09YilyZXR1cm4gYjtudWxsIT09YyYmMD09PShjLmVmZmVjdFRhZyY1MTIpJiYobnVsbD09PWMuZmlyc3RFZmZlY3QmJihjLmZpcnN0RWZmZWN0PWEuZmlyc3RFZmZlY3QpLG51bGwhPT1hLmxhc3RFZmZlY3QmJlxuKG51bGwhPT1jLmxhc3RFZmZlY3QmJihjLmxhc3RFZmZlY3QubmV4dEVmZmVjdD1hLmZpcnN0RWZmZWN0KSxjLmxhc3RFZmZlY3Q9YS5sYXN0RWZmZWN0KSwxPGEuZWZmZWN0VGFnJiYobnVsbCE9PWMubGFzdEVmZmVjdD9jLmxhc3RFZmZlY3QubmV4dEVmZmVjdD1hOmMuZmlyc3RFZmZlY3Q9YSxjLmxhc3RFZmZlY3Q9YSkpO2lmKG51bGwhPT1kKXJldHVybiBkO2lmKG51bGwhPT1jKWE9YztlbHNle3VoPSEwO2JyZWFrfX1lbHNle2E9amgoYSxzaCxUKTtpZihudWxsIT09YSlyZXR1cm4gYS5lZmZlY3RUYWcmPTUxMSxhO251bGwhPT1jJiYoYy5maXJzdEVmZmVjdD1jLmxhc3RFZmZlY3Q9bnVsbCxjLmVmZmVjdFRhZ3w9NTEyKTtpZihudWxsIT09ZClyZXR1cm4gZDtpZihudWxsIT09YylhPWM7ZWxzZSBicmVha319cmV0dXJuIG51bGx9XG5mdW5jdGlvbiB4aChhKXt2YXIgYj1SZyhhLmFsdGVybmF0ZSxhLFQpO251bGw9PT1iJiYoYj13aChhKSk7ZWMuY3VycmVudD1udWxsO3JldHVybiBifVxuZnVuY3Rpb24geWgoYSxiLGMpe3BoP0EoXCIyNDNcIik6dm9pZCAwO3BoPSEwO2lmKGIhPT1UfHxhIT09cWh8fG51bGw9PT1TKXZoKCkscWg9YSxUPWIscmg9LTEsUz16ZihxaC5jdXJyZW50LG51bGwsVCksYS5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWU9MDt2YXIgZD0hMTtzaD0hY3x8VDw9bGg7ZG97dHJ5e2lmKGMpZm9yKDtudWxsIT09UyYmIXpoKCk7KVM9eGgoUyk7ZWxzZSBmb3IoO251bGwhPT1TOylTPXhoKFMpfWNhdGNoKGYpe2lmKG51bGw9PT1TKWQ9ITAsZmgoZik7ZWxzZXtudWxsPT09Uz9BKFwiMjcxXCIpOnZvaWQgMDtjPVM7dmFyIGU9Yy5yZXR1cm47aWYobnVsbD09PWUpe2Q9ITA7ZmgoZik7YnJlYWt9aWgoYSxlLGMsZixzaCxULG1oKTtTPXdoKGMpfX1icmVha313aGlsZSgxKTtwaD0hMTtpZihkKXJldHVybiBudWxsO2lmKG51bGw9PT1TKXtpZih1aClyZXR1cm4gYS5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWU9YixhLmN1cnJlbnQuYWx0ZXJuYXRlO3NoP0EoXCIyNjJcIik6XG52b2lkIDA7MDw9cmgmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj1hLmN1cnJlbnQuZXhwaXJhdGlvblRpbWU7MCE9PWImJigwPT09YS5yZW1haW5pbmdFeHBpcmF0aW9uVGltZXx8YS5yZW1haW5pbmdFeHBpcmF0aW9uVGltZTxiKSYmQWgoYSxiKX0scmgpO0JoKGEuY3VycmVudC5leHBpcmF0aW9uVGltZSl9cmV0dXJuIG51bGx9XG5mdW5jdGlvbiBaZyhhLGIpe3ZhciBjO2E6e3BoJiYhdGg/QShcIjI2M1wiKTp2b2lkIDA7Zm9yKGM9YS5yZXR1cm47bnVsbCE9PWM7KXtzd2l0Y2goYy50YWcpe2Nhc2UgMjp2YXIgZD1jLnN0YXRlTm9kZTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaHx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGQuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09aGh8fCFoaC5oYXMoZCkpKXthPVhmKGIsYSk7YT1naChjLGEsMSk7UWYoYyxhLDEpO29nKGMsMSk7Yz12b2lkIDA7YnJlYWsgYX1icmVhaztjYXNlIDM6YT1YZihiLGEpO2E9ZWgoYyxhLDEpO1FmKGMsYSwxKTtvZyhjLDEpO2M9dm9pZCAwO2JyZWFrIGF9Yz1jLnJldHVybn0zPT09YS50YWcmJihjPVhmKGIsYSksYz1laChhLGMsMSksUWYoYSxjLDEpLG9nKGEsMSkpO2M9dm9pZCAwfXJldHVybiBjfVxuZnVuY3Rpb24gQ2goKXt2YXIgYT0yKzI1KigoKG1nKCktMis1MDApLzI1fDApKzEpO2E8PW5oJiYoYT1uaCsxKTtyZXR1cm4gbmg9YX1mdW5jdGlvbiBuZyhhLGIpe2E9MCE9PW9oP29oOnBoP3RoPzE6VDpiLm1vZGUmMT9EaD8yKzEwKigoKGEtMisxNSkvMTB8MCkrMSk6MisyNSooKChhLTIrNTAwKS8yNXwwKSsxKToxO0RoJiYoMD09PUVofHxhPkVoKSYmKEVoPWEpO3JldHVybiBhfVxuZnVuY3Rpb24gb2coYSxiKXtmb3IoO251bGwhPT1hOyl7aWYoMD09PWEuZXhwaXJhdGlvblRpbWV8fGEuZXhwaXJhdGlvblRpbWU+YilhLmV4cGlyYXRpb25UaW1lPWI7bnVsbCE9PWEuYWx0ZXJuYXRlJiYoMD09PWEuYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lfHxhLmFsdGVybmF0ZS5leHBpcmF0aW9uVGltZT5iKSYmKGEuYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lPWIpO2lmKG51bGw9PT1hLnJldHVybilpZigzPT09YS50YWcpe3ZhciBjPWEuc3RhdGVOb2RlOyFwaCYmMCE9PVQmJmI8VCYmdmgoKTt2YXIgZD1jLmN1cnJlbnQuZXhwaXJhdGlvblRpbWU7cGgmJiF0aCYmcWg9PT1jfHxBaChjLGQpO0ZoPkdoJiZBKFwiMTg1XCIpfWVsc2UgYnJlYWs7YT1hLnJldHVybn19ZnVuY3Rpb24gbWcoKXttaD1lZigpLWtoO3JldHVybiBsaD0obWgvMTB8MCkrMn1cbmZ1bmN0aW9uIEhoKGEpe3ZhciBiPW9oO29oPTIrMjUqKCgobWcoKS0yKzUwMCkvMjV8MCkrMSk7dHJ5e3JldHVybiBhKCl9ZmluYWxseXtvaD1ifX1mdW5jdGlvbiBJaChhLGIsYyxkLGUpe3ZhciBmPW9oO29oPTE7dHJ5e3JldHVybiBhKGIsYyxkLGUpfWZpbmFsbHl7b2g9Zn19dmFyIEpoPW51bGwsVj1udWxsLEtoPTAsTGg9dm9pZCAwLFc9ITEsWD1udWxsLFk9MCxFaD0wLE1oPSExLE5oPSExLE9oPW51bGwsUGg9bnVsbCxaPSExLFFoPSExLERoPSExLFJoPW51bGwsR2g9MUUzLEZoPTAsU2g9MTtmdW5jdGlvbiBUaChhKXtpZigwIT09S2gpe2lmKGE+S2gpcmV0dXJuO251bGwhPT1MaCYmZ2YoTGgpfXZhciBiPWVmKCkta2g7S2g9YTtMaD1mZihVaCx7dGltZW91dDoxMCooYS0yKS1ifSl9XG5mdW5jdGlvbiBBaChhLGIpe2lmKG51bGw9PT1hLm5leHRTY2hlZHVsZWRSb290KWEucmVtYWluaW5nRXhwaXJhdGlvblRpbWU9YixudWxsPT09Vj8oSmg9Vj1hLGEubmV4dFNjaGVkdWxlZFJvb3Q9YSk6KFY9Vi5uZXh0U2NoZWR1bGVkUm9vdD1hLFYubmV4dFNjaGVkdWxlZFJvb3Q9SmgpO2Vsc2V7dmFyIGM9YS5yZW1haW5pbmdFeHBpcmF0aW9uVGltZTtpZigwPT09Y3x8YjxjKWEucmVtYWluaW5nRXhwaXJhdGlvblRpbWU9Yn1XfHwoWj9RaCYmKFg9YSxZPTEsVmgoYSwxLCExKSk6MT09PWI/V2goKTpUaChiKSl9XG5mdW5jdGlvbiBYaCgpe3ZhciBhPTAsYj1udWxsO2lmKG51bGwhPT1WKWZvcih2YXIgYz1WLGQ9Smg7bnVsbCE9PWQ7KXt2YXIgZT1kLnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lO2lmKDA9PT1lKXtudWxsPT09Y3x8bnVsbD09PVY/QShcIjI0NFwiKTp2b2lkIDA7aWYoZD09PWQubmV4dFNjaGVkdWxlZFJvb3Qpe0poPVY9ZC5uZXh0U2NoZWR1bGVkUm9vdD1udWxsO2JyZWFrfWVsc2UgaWYoZD09PUpoKUpoPWU9ZC5uZXh0U2NoZWR1bGVkUm9vdCxWLm5leHRTY2hlZHVsZWRSb290PWUsZC5uZXh0U2NoZWR1bGVkUm9vdD1udWxsO2Vsc2UgaWYoZD09PVYpe1Y9YztWLm5leHRTY2hlZHVsZWRSb290PUpoO2QubmV4dFNjaGVkdWxlZFJvb3Q9bnVsbDticmVha31lbHNlIGMubmV4dFNjaGVkdWxlZFJvb3Q9ZC5uZXh0U2NoZWR1bGVkUm9vdCxkLm5leHRTY2hlZHVsZWRSb290PW51bGw7ZD1jLm5leHRTY2hlZHVsZWRSb290fWVsc2V7aWYoMD09PWF8fGU8YSlhPWUsYj1kO2lmKGQ9PT1WKWJyZWFrO1xuYz1kO2Q9ZC5uZXh0U2NoZWR1bGVkUm9vdH19Yz1YO251bGwhPT1jJiZjPT09YiYmMT09PWE/RmgrKzpGaD0wO1g9YjtZPWF9ZnVuY3Rpb24gVWgoYSl7WWgoMCwhMCxhKX1mdW5jdGlvbiBXaCgpe1loKDEsITEsbnVsbCl9ZnVuY3Rpb24gWWgoYSxiLGMpe1BoPWM7WGgoKTtpZihiKWZvcig7bnVsbCE9PVgmJjAhPT1ZJiYoMD09PWF8fGE+PVkpJiYoIU1ofHxtZygpPj1ZKTspbWcoKSxWaChYLFksIU1oKSxYaCgpO2Vsc2UgZm9yKDtudWxsIT09WCYmMCE9PVkmJigwPT09YXx8YT49WSk7KVZoKFgsWSwhMSksWGgoKTtudWxsIT09UGgmJihLaD0wLExoPW51bGwpOzAhPT1ZJiZUaChZKTtQaD1udWxsO01oPSExO1poKCl9ZnVuY3Rpb24gJGgoYSxiKXtXP0EoXCIyNTNcIik6dm9pZCAwO1g9YTtZPWI7VmgoYSxiLCExKTtXaCgpO1poKCl9XG5mdW5jdGlvbiBaaCgpe0ZoPTA7aWYobnVsbCE9PVJoKXt2YXIgYT1SaDtSaD1udWxsO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO3RyeXtjLl9vbkNvbXBsZXRlKCl9Y2F0Y2goZCl7Tmh8fChOaD0hMCxPaD1kKX19fWlmKE5oKXRocm93IGE9T2gsT2g9bnVsbCxOaD0hMSxhO31mdW5jdGlvbiBWaChhLGIsYyl7Vz9BKFwiMjQ1XCIpOnZvaWQgMDtXPSEwO2M/KGM9YS5maW5pc2hlZFdvcmssbnVsbCE9PWM/YWkoYSxjLGIpOihjPXloKGEsYiwhMCksbnVsbCE9PWMmJih6aCgpP2EuZmluaXNoZWRXb3JrPWM6YWkoYSxjLGIpKSkpOihjPWEuZmluaXNoZWRXb3JrLG51bGwhPT1jP2FpKGEsYyxiKTooYz15aChhLGIsITEpLG51bGwhPT1jJiZhaShhLGMsYikpKTtXPSExfVxuZnVuY3Rpb24gYWkoYSxiLGMpe3ZhciBkPWEuZmlyc3RCYXRjaDtpZihudWxsIT09ZCYmZC5fZXhwaXJhdGlvblRpbWU8PWMmJihudWxsPT09Umg/Umg9W2RdOlJoLnB1c2goZCksZC5fZGVmZXIpKXthLmZpbmlzaGVkV29yaz1iO2EucmVtYWluaW5nRXhwaXJhdGlvblRpbWU9MDtyZXR1cm59YS5maW5pc2hlZFdvcms9bnVsbDt0aD1waD0hMDtjPWIuc3RhdGVOb2RlO2MuY3VycmVudD09PWI/QShcIjE3N1wiKTp2b2lkIDA7ZD1jLnBlbmRpbmdDb21taXRFeHBpcmF0aW9uVGltZTswPT09ZD9BKFwiMjYxXCIpOnZvaWQgMDtjLnBlbmRpbmdDb21taXRFeHBpcmF0aW9uVGltZT0wO21nKCk7ZWMuY3VycmVudD1udWxsO2lmKDE8Yi5lZmZlY3RUYWcpaWYobnVsbCE9PWIubGFzdEVmZmVjdCl7Yi5sYXN0RWZmZWN0Lm5leHRFZmZlY3Q9Yjt2YXIgZT1iLmZpcnN0RWZmZWN0fWVsc2UgZT1iO2Vsc2UgZT1iLmZpcnN0RWZmZWN0O2FmPUhkO3ZhciBmPWRhKCk7aWYoVWQoZikpe2lmKFwic2VsZWN0aW9uU3RhcnRcImluXG5mKXZhciBnPXtzdGFydDpmLnNlbGVjdGlvblN0YXJ0LGVuZDpmLnNlbGVjdGlvbkVuZH07ZWxzZSBhOnt2YXIgaD13aW5kb3cuZ2V0U2VsZWN0aW9uJiZ3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7aWYoaCYmMCE9PWgucmFuZ2VDb3VudCl7Zz1oLmFuY2hvck5vZGU7dmFyIGs9aC5hbmNob3JPZmZzZXQsbj1oLmZvY3VzTm9kZTtoPWguZm9jdXNPZmZzZXQ7dHJ5e2cubm9kZVR5cGUsbi5ub2RlVHlwZX1jYXRjaChXYSl7Zz1udWxsO2JyZWFrIGF9dmFyIHI9MCx3PS0xLFA9LTEsbmM9MCxKZD0wLEU9Zix0PW51bGw7Yjpmb3IoOzspe2Zvcih2YXIgeDs7KXtFIT09Z3x8MCE9PWsmJjMhPT1FLm5vZGVUeXBlfHwodz1yK2spO0UhPT1ufHwwIT09aCYmMyE9PUUubm9kZVR5cGV8fChQPXIraCk7Mz09PUUubm9kZVR5cGUmJihyKz1FLm5vZGVWYWx1ZS5sZW5ndGgpO2lmKG51bGw9PT0oeD1FLmZpcnN0Q2hpbGQpKWJyZWFrO3Q9RTtFPXh9Zm9yKDs7KXtpZihFPT09ZilicmVhayBiO3Q9PT1nJiZcbisrbmM9PT1rJiYodz1yKTt0PT09biYmKytKZD09PWgmJihQPXIpO2lmKG51bGwhPT0oeD1FLm5leHRTaWJsaW5nKSlicmVhaztFPXQ7dD1FLnBhcmVudE5vZGV9RT14fWc9LTE9PT13fHwtMT09PVA/bnVsbDp7c3RhcnQ6dyxlbmQ6UH19ZWxzZSBnPW51bGx9Zz1nfHx7c3RhcnQ6MCxlbmQ6MH19ZWxzZSBnPW51bGw7YmY9e2ZvY3VzZWRFbGVtOmYsc2VsZWN0aW9uUmFuZ2U6Z307SWQoITEpO2ZvcihVPWU7bnVsbCE9PVU7KXtmPSExO2c9dm9pZCAwO3RyeXtmb3IoO251bGwhPT1VOyl7aWYoVS5lZmZlY3RUYWcmMjU2KXt2YXIgdT1VLmFsdGVybmF0ZTtrPVU7c3dpdGNoKGsudGFnKXtjYXNlIDI6aWYoay5lZmZlY3RUYWcmMjU2JiZudWxsIT09dSl7dmFyIHk9dS5tZW1vaXplZFByb3BzLEQ9dS5tZW1vaXplZFN0YXRlLGphPWsuc3RhdGVOb2RlO2phLnByb3BzPWsubWVtb2l6ZWRQcm9wcztqYS5zdGF0ZT1rLm1lbW9pemVkU3RhdGU7dmFyIG1pPWphLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHksXG5EKTtqYS5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZT1taX1icmVhaztjYXNlIDM6Y2FzZSA1OmNhc2UgNjpjYXNlIDQ6YnJlYWs7ZGVmYXVsdDpBKFwiMTYzXCIpfX1VPVUubmV4dEVmZmVjdH19Y2F0Y2goV2Epe2Y9ITAsZz1XYX1mJiYobnVsbD09PVU/QShcIjE3OFwiKTp2b2lkIDAsWmcoVSxnKSxudWxsIT09VSYmKFU9VS5uZXh0RWZmZWN0KSl9Zm9yKFU9ZTtudWxsIT09VTspe3U9ITE7eT12b2lkIDA7dHJ5e2Zvcig7bnVsbCE9PVU7KXt2YXIgcT1VLmVmZmVjdFRhZztxJjE2JiZLZShVLnN0YXRlTm9kZSxcIlwiKTtpZihxJjEyOCl7dmFyIHo9VS5hbHRlcm5hdGU7aWYobnVsbCE9PXope3ZhciBsPXoucmVmO251bGwhPT1sJiYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGw/bChudWxsKTpsLmN1cnJlbnQ9bnVsbCl9fXN3aXRjaChxJjE0KXtjYXNlIDI6Y2goVSk7VS5lZmZlY3RUYWcmPS0zO2JyZWFrO2Nhc2UgNjpjaChVKTtVLmVmZmVjdFRhZyY9LTM7ZGgoVS5hbHRlcm5hdGUsXG5VKTticmVhaztjYXNlIDQ6ZGgoVS5hbHRlcm5hdGUsVSk7YnJlYWs7Y2FzZSA4OkQ9VSxhaChEKSxELnJldHVybj1udWxsLEQuY2hpbGQ9bnVsbCxELmFsdGVybmF0ZSYmKEQuYWx0ZXJuYXRlLmNoaWxkPW51bGwsRC5hbHRlcm5hdGUucmV0dXJuPW51bGwpfVU9VS5uZXh0RWZmZWN0fX1jYXRjaChXYSl7dT0hMCx5PVdhfXUmJihudWxsPT09VT9BKFwiMTc4XCIpOnZvaWQgMCxaZyhVLHkpLG51bGwhPT1VJiYoVT1VLm5leHRFZmZlY3QpKX1sPWJmO3o9ZGEoKTtxPWwuZm9jdXNlZEVsZW07dT1sLnNlbGVjdGlvblJhbmdlO2lmKHohPT1xJiZmYShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQscSkpe251bGwhPT11JiZVZChxKSYmKHo9dS5zdGFydCxsPXUuZW5kLHZvaWQgMD09PWwmJihsPXopLFwic2VsZWN0aW9uU3RhcnRcImluIHE/KHEuc2VsZWN0aW9uU3RhcnQ9eixxLnNlbGVjdGlvbkVuZD1NYXRoLm1pbihsLHEudmFsdWUubGVuZ3RoKSk6d2luZG93LmdldFNlbGVjdGlvbiYmKHo9d2luZG93LmdldFNlbGVjdGlvbigpLFxueT1xW2xiKCldLmxlbmd0aCxsPU1hdGgubWluKHUuc3RhcnQseSksdT12b2lkIDA9PT11LmVuZD9sOk1hdGgubWluKHUuZW5kLHkpLCF6LmV4dGVuZCYmbD51JiYoeT11LHU9bCxsPXkpLHk9VGQocSxsKSxEPVRkKHEsdSkseSYmRCYmKDEhPT16LnJhbmdlQ291bnR8fHouYW5jaG9yTm9kZSE9PXkubm9kZXx8ei5hbmNob3JPZmZzZXQhPT15Lm9mZnNldHx8ei5mb2N1c05vZGUhPT1ELm5vZGV8fHouZm9jdXNPZmZzZXQhPT1ELm9mZnNldCkmJihqYT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLGphLnNldFN0YXJ0KHkubm9kZSx5Lm9mZnNldCksei5yZW1vdmVBbGxSYW5nZXMoKSxsPnU/KHouYWRkUmFuZ2UoamEpLHouZXh0ZW5kKEQubm9kZSxELm9mZnNldCkpOihqYS5zZXRFbmQoRC5ub2RlLEQub2Zmc2V0KSx6LmFkZFJhbmdlKGphKSkpKSk7ej1bXTtmb3IobD1xO2w9bC5wYXJlbnROb2RlOykxPT09bC5ub2RlVHlwZSYmei5wdXNoKHtlbGVtZW50OmwsbGVmdDpsLnNjcm9sbExlZnQsXG50b3A6bC5zY3JvbGxUb3B9KTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgcS5mb2N1cyYmcS5mb2N1cygpO2ZvcihxPTA7cTx6Lmxlbmd0aDtxKyspbD16W3FdLGwuZWxlbWVudC5zY3JvbGxMZWZ0PWwubGVmdCxsLmVsZW1lbnQuc2Nyb2xsVG9wPWwudG9wfWJmPW51bGw7SWQoYWYpO2FmPW51bGw7Yy5jdXJyZW50PWI7Zm9yKFU9ZTtudWxsIT09VTspe2U9ITE7cT12b2lkIDA7dHJ5e2Zvcih6PWQ7bnVsbCE9PVU7KXt2YXIgaGc9VS5lZmZlY3RUYWc7aWYoaGcmMzYpe3ZhciBvYz1VLmFsdGVybmF0ZTtsPVU7dT16O3N3aXRjaChsLnRhZyl7Y2FzZSAyOnZhciBjYT1sLnN0YXRlTm9kZTtpZihsLmVmZmVjdFRhZyY0KWlmKG51bGw9PT1vYyljYS5wcm9wcz1sLm1lbW9pemVkUHJvcHMsY2Euc3RhdGU9bC5tZW1vaXplZFN0YXRlLGNhLmNvbXBvbmVudERpZE1vdW50KCk7ZWxzZXt2YXIgd2k9b2MubWVtb2l6ZWRQcm9wcyx4aT1vYy5tZW1vaXplZFN0YXRlO2NhLnByb3BzPWwubWVtb2l6ZWRQcm9wcztcbmNhLnN0YXRlPWwubWVtb2l6ZWRTdGF0ZTtjYS5jb21wb25lbnREaWRVcGRhdGUod2kseGksY2EuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGUpfXZhciBOZz1sLnVwZGF0ZVF1ZXVlO251bGwhPT1OZyYmKGNhLnByb3BzPWwubWVtb2l6ZWRQcm9wcyxjYS5zdGF0ZT1sLm1lbW9pemVkU3RhdGUsV2YobCxOZyxjYSx1KSk7YnJlYWs7Y2FzZSAzOnZhciBPZz1sLnVwZGF0ZVF1ZXVlO2lmKG51bGwhPT1PZyl7eT1udWxsO2lmKG51bGwhPT1sLmNoaWxkKXN3aXRjaChsLmNoaWxkLnRhZyl7Y2FzZSA1Onk9bC5jaGlsZC5zdGF0ZU5vZGU7YnJlYWs7Y2FzZSAyOnk9bC5jaGlsZC5zdGF0ZU5vZGV9V2YobCxPZyx5LHUpfWJyZWFrO2Nhc2UgNTp2YXIgeWk9bC5zdGF0ZU5vZGU7bnVsbD09PW9jJiZsLmVmZmVjdFRhZyY0JiZjZihsLnR5cGUsbC5tZW1vaXplZFByb3BzKSYmeWkuZm9jdXMoKTticmVhaztjYXNlIDY6YnJlYWs7Y2FzZSA0OmJyZWFrO2Nhc2UgMTU6YnJlYWs7Y2FzZSAxNjpicmVhaztcbmRlZmF1bHQ6QShcIjE2M1wiKX19aWYoaGcmMTI4KXtsPXZvaWQgMDt2YXIgeWM9VS5yZWY7aWYobnVsbCE9PXljKXt2YXIgUGc9VS5zdGF0ZU5vZGU7c3dpdGNoKFUudGFnKXtjYXNlIDU6bD1QZzticmVhaztkZWZhdWx0Omw9UGd9XCJmdW5jdGlvblwiPT09dHlwZW9mIHljP3ljKGwpOnljLmN1cnJlbnQ9bH19dmFyIHppPVUubmV4dEVmZmVjdDtVLm5leHRFZmZlY3Q9bnVsbDtVPXppfX1jYXRjaChXYSl7ZT0hMCxxPVdhfWUmJihudWxsPT09VT9BKFwiMTc4XCIpOnZvaWQgMCxaZyhVLHEpLG51bGwhPT1VJiYoVT1VLm5leHRFZmZlY3QpKX1waD10aD0hMTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgSmYmJkpmKGIuc3RhdGVOb2RlKTtiPWMuY3VycmVudC5leHBpcmF0aW9uVGltZTswPT09YiYmKGhoPW51bGwpO2EucmVtYWluaW5nRXhwaXJhdGlvblRpbWU9Yn1mdW5jdGlvbiB6aCgpe3JldHVybiBudWxsPT09UGh8fFBoLnRpbWVSZW1haW5pbmcoKT5TaD8hMTpNaD0hMH1cbmZ1bmN0aW9uIGZoKGEpe251bGw9PT1YP0EoXCIyNDZcIik6dm9pZCAwO1gucmVtYWluaW5nRXhwaXJhdGlvblRpbWU9MDtOaHx8KE5oPSEwLE9oPWEpfWZ1bmN0aW9uIEJoKGEpe251bGw9PT1YP0EoXCIyNDZcIik6dm9pZCAwO1gucmVtYWluaW5nRXhwaXJhdGlvblRpbWU9YX1mdW5jdGlvbiBiaShhLGIpe3ZhciBjPVo7Wj0hMDt0cnl7cmV0dXJuIGEoYil9ZmluYWxseXsoWj1jKXx8V3x8V2goKX19ZnVuY3Rpb24gY2koYSxiKXtpZihaJiYhUWgpe1FoPSEwO3RyeXtyZXR1cm4gYShiKX1maW5hbGx5e1FoPSExfX1yZXR1cm4gYShiKX1mdW5jdGlvbiBkaShhLGIpe1c/QShcIjE4N1wiKTp2b2lkIDA7dmFyIGM9WjtaPSEwO3RyeXtyZXR1cm4gSWgoYSxiKX1maW5hbGx5e1o9YyxXaCgpfX1cbmZ1bmN0aW9uIGVpKGEsYixjKXtpZihEaClyZXR1cm4gYShiLGMpO1p8fFd8fDA9PT1FaHx8KFloKEVoLCExLG51bGwpLEVoPTApO3ZhciBkPURoLGU9WjtaPURoPSEwO3RyeXtyZXR1cm4gYShiLGMpfWZpbmFsbHl7RGg9ZCwoWj1lKXx8V3x8V2goKX19ZnVuY3Rpb24gZmkoYSl7dmFyIGI9WjtaPSEwO3RyeXtJaChhKX1maW5hbGx5eyhaPWIpfHxXfHxZaCgxLCExLG51bGwpfX1cbmZ1bmN0aW9uIGdpKGEsYixjLGQsZSl7dmFyIGY9Yi5jdXJyZW50O2lmKGMpe2M9Yy5fcmVhY3RJbnRlcm5hbEZpYmVyO3ZhciBnO2I6ezI9PT1qZChjKSYmMj09PWMudGFnP3ZvaWQgMDpBKFwiMTcwXCIpO2ZvcihnPWM7MyE9PWcudGFnOyl7aWYocWYoZykpe2c9Zy5zdGF0ZU5vZGUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQ7YnJlYWsgYn0oZz1nLnJldHVybik/dm9pZCAwOkEoXCIxNzFcIil9Zz1nLnN0YXRlTm9kZS5jb250ZXh0fWM9cWYoYyk/dmYoYyxnKTpnfWVsc2UgYz1oYTtudWxsPT09Yi5jb250ZXh0P2IuY29udGV4dD1jOmIucGVuZGluZ0NvbnRleHQ9YztiPWU7ZT1PZihkKTtlLnBheWxvYWQ9e2VsZW1lbnQ6YX07Yj12b2lkIDA9PT1iP251bGw6YjtudWxsIT09YiYmKGUuY2FsbGJhY2s9Yik7UWYoZixlLGQpO29nKGYsZCk7cmV0dXJuIGR9XG5mdW5jdGlvbiBoaShhKXt2YXIgYj1hLl9yZWFjdEludGVybmFsRmliZXI7dm9pZCAwPT09YiYmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLnJlbmRlcj9BKFwiMTg4XCIpOkEoXCIyNjhcIixPYmplY3Qua2V5cyhhKSkpO2E9bWQoYik7cmV0dXJuIG51bGw9PT1hP251bGw6YS5zdGF0ZU5vZGV9ZnVuY3Rpb24gaWkoYSxiLGMsZCl7dmFyIGU9Yi5jdXJyZW50LGY9bWcoKTtlPW5nKGYsZSk7cmV0dXJuIGdpKGEsYixjLGUsZCl9ZnVuY3Rpb24gamkoYSl7YT1hLmN1cnJlbnQ7aWYoIWEuY2hpbGQpcmV0dXJuIG51bGw7c3dpdGNoKGEuY2hpbGQudGFnKXtjYXNlIDU6cmV0dXJuIGEuY2hpbGQuc3RhdGVOb2RlO2RlZmF1bHQ6cmV0dXJuIGEuY2hpbGQuc3RhdGVOb2RlfX1cbmZ1bmN0aW9uIGtpKGEpe3ZhciBiPWEuZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U7cmV0dXJuIElmKHAoe30sYSx7ZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6ZnVuY3Rpb24oYSl7YT1tZChhKTtyZXR1cm4gbnVsbD09PWE/bnVsbDphLnN0YXRlTm9kZX0sZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGI/YihhKTpudWxsfX0pKX1cbnZhciBsaT17dXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZTpnaSxjcmVhdGVDb250YWluZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBFZihhLGIsYyl9LHVwZGF0ZUNvbnRhaW5lcjppaSxmbHVzaFJvb3Q6JGgscmVxdWVzdFdvcms6QWgsY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbjpDaCxiYXRjaGVkVXBkYXRlczpiaSx1bmJhdGNoZWRVcGRhdGVzOmNpLGRlZmVycmVkVXBkYXRlczpIaCxzeW5jVXBkYXRlczpJaCxpbnRlcmFjdGl2ZVVwZGF0ZXM6ZWksZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXM6ZnVuY3Rpb24oKXtXfHwwPT09RWh8fChZaChFaCwhMSxudWxsKSxFaD0wKX0sZmx1c2hDb250cm9sbGVkOmZpLGZsdXNoU3luYzpkaSxnZXRQdWJsaWNSb290SW5zdGFuY2U6amksZmluZEhvc3RJbnN0YW5jZTpoaSxmaW5kSG9zdEluc3RhbmNlV2l0aE5vUG9ydGFsczpmdW5jdGlvbihhKXthPW5kKGEpO3JldHVybiBudWxsPT09YT9udWxsOmEuc3RhdGVOb2RlfSxpbmplY3RJbnRvRGV2VG9vbHM6a2l9O1xuZnVuY3Rpb24gbmkoYSxiLGMpe3ZhciBkPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsO3JldHVybnskJHR5cGVvZjpoYyxrZXk6bnVsbD09ZD9udWxsOlwiXCIrZCxjaGlsZHJlbjphLGNvbnRhaW5lckluZm86YixpbXBsZW1lbnRhdGlvbjpjfX1LYi5pbmplY3RGaWJlckNvbnRyb2xsZWRIb3N0Q29tcG9uZW50KCRlKTtmdW5jdGlvbiBvaShhKXt0aGlzLl9leHBpcmF0aW9uVGltZT1DaCgpO3RoaXMuX3Jvb3Q9YTt0aGlzLl9jYWxsYmFja3M9dGhpcy5fbmV4dD1udWxsO3RoaXMuX2hhc0NoaWxkcmVuPXRoaXMuX2RpZENvbXBsZXRlPSExO3RoaXMuX2NoaWxkcmVuPW51bGw7dGhpcy5fZGVmZXI9ITB9XG5vaS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGEpe3RoaXMuX2RlZmVyP3ZvaWQgMDpBKFwiMjUwXCIpO3RoaXMuX2hhc0NoaWxkcmVuPSEwO3RoaXMuX2NoaWxkcmVuPWE7dmFyIGI9dGhpcy5fcm9vdC5faW50ZXJuYWxSb290LGM9dGhpcy5fZXhwaXJhdGlvblRpbWUsZD1uZXcgcGk7Z2koYSxiLG51bGwsYyxkLl9vbkNvbW1pdCk7cmV0dXJuIGR9O29pLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGEpe2lmKHRoaXMuX2RpZENvbXBsZXRlKWEoKTtlbHNle3ZhciBiPXRoaXMuX2NhbGxiYWNrcztudWxsPT09YiYmKGI9dGhpcy5fY2FsbGJhY2tzPVtdKTtiLnB1c2goYSl9fTtcbm9pLnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9yb290Ll9pbnRlcm5hbFJvb3QsYj1hLmZpcnN0QmF0Y2g7dGhpcy5fZGVmZXImJm51bGwhPT1iP3ZvaWQgMDpBKFwiMjUxXCIpO2lmKHRoaXMuX2hhc0NoaWxkcmVuKXt2YXIgYz10aGlzLl9leHBpcmF0aW9uVGltZTtpZihiIT09dGhpcyl7dGhpcy5faGFzQ2hpbGRyZW4mJihjPXRoaXMuX2V4cGlyYXRpb25UaW1lPWIuX2V4cGlyYXRpb25UaW1lLHRoaXMucmVuZGVyKHRoaXMuX2NoaWxkcmVuKSk7Zm9yKHZhciBkPW51bGwsZT1iO2UhPT10aGlzOylkPWUsZT1lLl9uZXh0O251bGw9PT1kP0EoXCIyNTFcIik6dm9pZCAwO2QuX25leHQ9ZS5fbmV4dDt0aGlzLl9uZXh0PWI7YS5maXJzdEJhdGNoPXRoaXN9dGhpcy5fZGVmZXI9ITE7JGgoYSxjKTtiPXRoaXMuX25leHQ7dGhpcy5fbmV4dD1udWxsO2I9YS5maXJzdEJhdGNoPWI7bnVsbCE9PWImJmIuX2hhc0NoaWxkcmVuJiZiLnJlbmRlcihiLl9jaGlsZHJlbil9ZWxzZSB0aGlzLl9uZXh0PVxubnVsbCx0aGlzLl9kZWZlcj0hMX07b2kucHJvdG90eXBlLl9vbkNvbXBsZXRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2RpZENvbXBsZXRlKXt0aGlzLl9kaWRDb21wbGV0ZT0hMDt2YXIgYT10aGlzLl9jYWxsYmFja3M7aWYobnVsbCE9PWEpZm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspKDAsYVtiXSkoKX19O2Z1bmN0aW9uIHBpKCl7dGhpcy5fY2FsbGJhY2tzPW51bGw7dGhpcy5fZGlkQ29tbWl0PSExO3RoaXMuX29uQ29tbWl0PXRoaXMuX29uQ29tbWl0LmJpbmQodGhpcyl9cGkucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSl7aWYodGhpcy5fZGlkQ29tbWl0KWEoKTtlbHNle3ZhciBiPXRoaXMuX2NhbGxiYWNrcztudWxsPT09YiYmKGI9dGhpcy5fY2FsbGJhY2tzPVtdKTtiLnB1c2goYSl9fTtcbnBpLnByb3RvdHlwZS5fb25Db21taXQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fZGlkQ29tbWl0KXt0aGlzLl9kaWRDb21taXQ9ITA7dmFyIGE9dGhpcy5fY2FsbGJhY2tzO2lmKG51bGwhPT1hKWZvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO1wiZnVuY3Rpb25cIiE9PXR5cGVvZiBjP0EoXCIxOTFcIixjKTp2b2lkIDA7YygpfX19O2Z1bmN0aW9uIHFpKGEsYixjKXt0aGlzLl9pbnRlcm5hbFJvb3Q9RWYoYSxiLGMpfXFpLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9pbnRlcm5hbFJvb3QsZD1uZXcgcGk7Yj12b2lkIDA9PT1iP251bGw6YjtudWxsIT09YiYmZC50aGVuKGIpO2lpKGEsYyxudWxsLGQuX29uQ29tbWl0KTtyZXR1cm4gZH07XG5xaS5wcm90b3R5cGUudW5tb3VudD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl9pbnRlcm5hbFJvb3QsYz1uZXcgcGk7YT12b2lkIDA9PT1hP251bGw6YTtudWxsIT09YSYmYy50aGVuKGEpO2lpKG51bGwsYixudWxsLGMuX29uQ29tbWl0KTtyZXR1cm4gY307cWkucHJvdG90eXBlLmxlZ2FjeV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5faW50ZXJuYWxSb290LGU9bmV3IHBpO2M9dm9pZCAwPT09Yz9udWxsOmM7bnVsbCE9PWMmJmUudGhlbihjKTtpaShiLGQsYSxlLl9vbkNvbW1pdCk7cmV0dXJuIGV9O1xucWkucHJvdG90eXBlLmNyZWF0ZUJhdGNoPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG9pKHRoaXMpLGI9YS5fZXhwaXJhdGlvblRpbWUsYz10aGlzLl9pbnRlcm5hbFJvb3QsZD1jLmZpcnN0QmF0Y2g7aWYobnVsbD09PWQpYy5maXJzdEJhdGNoPWEsYS5fbmV4dD1udWxsO2Vsc2V7Zm9yKGM9bnVsbDtudWxsIT09ZCYmZC5fZXhwaXJhdGlvblRpbWU8PWI7KWM9ZCxkPWQuX25leHQ7YS5fbmV4dD1kO251bGwhPT1jJiYoYy5fbmV4dD1hKX1yZXR1cm4gYX07ZnVuY3Rpb24gcmkoYSl7cmV0dXJuISghYXx8MSE9PWEubm9kZVR5cGUmJjkhPT1hLm5vZGVUeXBlJiYxMSE9PWEubm9kZVR5cGUmJig4IT09YS5ub2RlVHlwZXx8XCIgcmVhY3QtbW91bnQtcG9pbnQtdW5zdGFibGUgXCIhPT1hLm5vZGVWYWx1ZSkpfVNiPWxpLmJhdGNoZWRVcGRhdGVzO1RiPWxpLmludGVyYWN0aXZlVXBkYXRlcztVYj1saS5mbHVzaEludGVyYWN0aXZlVXBkYXRlcztcbmZ1bmN0aW9uIHNpKGEsYil7Ynx8KGI9YT85PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLmZpcnN0Q2hpbGQ6bnVsbCxiPSEoIWJ8fDEhPT1iLm5vZGVUeXBlfHwhYi5oYXNBdHRyaWJ1dGUoXCJkYXRhLXJlYWN0cm9vdFwiKSkpO2lmKCFiKWZvcih2YXIgYztjPWEubGFzdENoaWxkOylhLnJlbW92ZUNoaWxkKGMpO3JldHVybiBuZXcgcWkoYSwhMSxiKX1cbmZ1bmN0aW9uIHRpKGEsYixjLGQsZSl7cmkoYyk/dm9pZCAwOkEoXCIyMDBcIik7dmFyIGY9Yy5fcmVhY3RSb290Q29udGFpbmVyO2lmKGYpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBlKXt2YXIgZz1lO2U9ZnVuY3Rpb24oKXt2YXIgYT1qaShmLl9pbnRlcm5hbFJvb3QpO2cuY2FsbChhKX19bnVsbCE9YT9mLmxlZ2FjeV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihhLGIsZSk6Zi5yZW5kZXIoYixlKX1lbHNle2Y9Yy5fcmVhY3RSb290Q29udGFpbmVyPXNpKGMsZCk7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGUpe3ZhciBoPWU7ZT1mdW5jdGlvbigpe3ZhciBhPWppKGYuX2ludGVybmFsUm9vdCk7aC5jYWxsKGEpfX1jaShmdW5jdGlvbigpe251bGwhPWE/Zi5sZWdhY3lfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIoYSxiLGUpOmYucmVuZGVyKGIsZSl9KX1yZXR1cm4gamkoZi5faW50ZXJuYWxSb290KX1cbmZ1bmN0aW9uIHVpKGEsYil7dmFyIGM9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGw7cmkoYik/dm9pZCAwOkEoXCIyMDBcIik7cmV0dXJuIG5pKGEsYixudWxsLGMpfVxudmFyIHZpPXtjcmVhdGVQb3J0YWw6dWksZmluZERPTU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/bnVsbDoxPT09YS5ub2RlVHlwZT9hOmhpKGEpfSxoeWRyYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGkobnVsbCxhLGIsITAsYyl9LHJlbmRlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRpKG51bGwsYSxiLCExLGMpfSx1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjpmdW5jdGlvbihhLGIsYyxkKXtudWxsPT1hfHx2b2lkIDA9PT1hLl9yZWFjdEludGVybmFsRmliZXI/QShcIjM4XCIpOnZvaWQgMDtyZXR1cm4gdGkoYSxiLGMsITEsZCl9LHVubW91bnRDb21wb25lbnRBdE5vZGU6ZnVuY3Rpb24oYSl7cmkoYSk/dm9pZCAwOkEoXCI0MFwiKTtyZXR1cm4gYS5fcmVhY3RSb290Q29udGFpbmVyPyhjaShmdW5jdGlvbigpe3RpKG51bGwsbnVsbCxhLCExLGZ1bmN0aW9uKCl7YS5fcmVhY3RSb290Q29udGFpbmVyPW51bGx9KX0pLCEwKTohMX0sdW5zdGFibGVfY3JlYXRlUG9ydGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHVpLmFwcGx5KHZvaWQgMCxcbmFyZ3VtZW50cyl9LHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzOmJpLHVuc3RhYmxlX2RlZmVycmVkVXBkYXRlczpIaCx1bnN0YWJsZV9pbnRlcmFjdGl2ZVVwZGF0ZXM6ZWksZmx1c2hTeW5jOmRpLHVuc3RhYmxlX2ZsdXNoQ29udHJvbGxlZDpmaSxfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDp7RXZlbnRQbHVnaW5IdWI6S2EsRXZlbnRQbHVnaW5SZWdpc3RyeTp2YSxFdmVudFByb3BhZ2F0b3JzOiRhLFJlYWN0Q29udHJvbGxlZENvbXBvbmVudDpSYixSZWFjdERPTUNvbXBvbmVudFRyZWU6UWEsUmVhY3RET01FdmVudExpc3RlbmVyOk5kfSx1bnN0YWJsZV9jcmVhdGVSb290OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBxaShhLCEwLG51bGwhPWImJiEwPT09Yi5oeWRyYXRlKX19O2tpKHtmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTpOYSxidW5kbGVUeXBlOjAsdmVyc2lvbjpcIjE2LjQuMVwiLHJlbmRlcmVyUGFja2FnZU5hbWU6XCJyZWFjdC1kb21cIn0pO1xudmFyIEFpPXtkZWZhdWx0OnZpfSxCaT1BaSYmdml8fEFpO21vZHVsZS5leHBvcnRzPUJpLmRlZmF1bHQ/QmkuZGVmYXVsdDpCaTtcbiIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuNC4xXG4gKiByZWFjdC1kb20uZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbnZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzJyk7XG52YXIgZ2V0QWN0aXZlRWxlbWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL2dldEFjdGl2ZUVsZW1lbnQnKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKCdmYmpzL2xpYi9zaGFsbG93RXF1YWwnKTtcbnZhciBjb250YWluc05vZGUgPSByZXF1aXJlKCdmYmpzL2xpYi9jb250YWluc05vZGUnKTtcbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5T2JqZWN0Jyk7XG52YXIgaHlwaGVuYXRlU3R5bGVOYW1lID0gcmVxdWlyZSgnZmJqcy9saWIvaHlwaGVuYXRlU3R5bGVOYW1lJyk7XG52YXIgY2FtZWxpemVTdHlsZU5hbWUgPSByZXF1aXJlKCdmYmpzL2xpYi9jYW1lbGl6ZVN0eWxlTmFtZScpO1xuXG4vLyBSZWx5aW5nIG9uIHRoZSBgaW52YXJpYW50KClgIGltcGxlbWVudGF0aW9uIGxldHMgdXNcbi8vIGhhdmUgcHJlc2VydmUgdGhlIGZvcm1hdCBhbmQgcGFyYW1zIGluIHRoZSB3d3cgYnVpbGRzLlxuXG4hUmVhY3QgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdERPTSB3YXMgbG9hZGVkIGJlZm9yZSBSZWFjdC4gTWFrZSBzdXJlIHlvdSBsb2FkIHRoZSBSZWFjdCBwYWNrYWdlIGJlZm9yZSBsb2FkaW5nIFJlYWN0RE9NLicpIDogdm9pZCAwO1xuXG52YXIgaW52b2tlR3VhcmRlZENhbGxiYWNrID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMsIGNvbnRleHQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdGhpcy5faGFzQ2F1Z2h0RXJyb3IgPSBmYWxzZTtcbiAgdGhpcy5fY2F1Z2h0RXJyb3IgPSBudWxsO1xuICB2YXIgZnVuY0FyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDMpO1xuICB0cnkge1xuICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgZnVuY0FyZ3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRoaXMuX2NhdWdodEVycm9yID0gZXJyb3I7XG4gICAgdGhpcy5faGFzQ2F1Z2h0RXJyb3IgPSB0cnVlO1xuICB9XG59O1xuXG57XG4gIC8vIEluIERFViBtb2RlLCB3ZSBzd2FwIG91dCBpbnZva2VHdWFyZGVkQ2FsbGJhY2sgZm9yIGEgc3BlY2lhbCB2ZXJzaW9uXG4gIC8vIHRoYXQgcGxheXMgbW9yZSBuaWNlbHkgd2l0aCB0aGUgYnJvd3NlcidzIERldlRvb2xzLiBUaGUgaWRlYSBpcyB0byBwcmVzZXJ2ZVxuICAvLyBcIlBhdXNlIG9uIGV4Y2VwdGlvbnNcIiBiZWhhdmlvci4gQmVjYXVzZSBSZWFjdCB3cmFwcyBhbGwgdXNlci1wcm92aWRlZFxuICAvLyBmdW5jdGlvbnMgaW4gaW52b2tlR3VhcmRlZENhbGxiYWNrLCBhbmQgdGhlIHByb2R1Y3Rpb24gdmVyc2lvbiBvZlxuICAvLyBpbnZva2VHdWFyZGVkQ2FsbGJhY2sgdXNlcyBhIHRyeS1jYXRjaCwgYWxsIHVzZXIgZXhjZXB0aW9ucyBhcmUgdHJlYXRlZFxuICAvLyBsaWtlIGNhdWdodCBleGNlcHRpb25zLCBhbmQgdGhlIERldlRvb2xzIHdvbid0IHBhdXNlIHVubGVzcyB0aGUgZGV2ZWxvcGVyXG4gIC8vIHRha2VzIHRoZSBleHRyYSBzdGVwIG9mIGVuYWJsaW5nIHBhdXNlIG9uIGNhdWdodCBleGNlcHRpb25zLiBUaGlzIGlzXG4gIC8vIHVudGludHVpdGl2ZSwgdGhvdWdoLCBiZWNhdXNlIGV2ZW4gdGhvdWdoIFJlYWN0IGhhcyBjYXVnaHQgdGhlIGVycm9yLCBmcm9tXG4gIC8vIHRoZSBkZXZlbG9wZXIncyBwZXJzcGVjdGl2ZSwgdGhlIGVycm9yIGlzIHVuY2F1Z2h0LlxuICAvL1xuICAvLyBUbyBwcmVzZXJ2ZSB0aGUgZXhwZWN0ZWQgXCJQYXVzZSBvbiBleGNlcHRpb25zXCIgYmVoYXZpb3IsIHdlIGRvbid0IHVzZSBhXG4gIC8vIHRyeS1jYXRjaCBpbiBERVYuIEluc3RlYWQsIHdlIHN5bmNocm9ub3VzbHkgZGlzcGF0Y2ggYSBmYWtlIGV2ZW50IHRvIGEgZmFrZVxuICAvLyBET00gbm9kZSwgYW5kIGNhbGwgdGhlIHVzZXItcHJvdmlkZWQgY2FsbGJhY2sgZnJvbSBpbnNpZGUgYW4gZXZlbnQgaGFuZGxlclxuICAvLyBmb3IgdGhhdCBmYWtlIGV2ZW50LiBJZiB0aGUgY2FsbGJhY2sgdGhyb3dzLCB0aGUgZXJyb3IgaXMgXCJjYXB0dXJlZFwiIHVzaW5nXG4gIC8vIGEgZ2xvYmFsIGV2ZW50IGhhbmRsZXIuIEJ1dCBiZWNhdXNlIHRoZSBlcnJvciBoYXBwZW5zIGluIGEgZGlmZmVyZW50XG4gIC8vIGV2ZW50IGxvb3AgY29udGV4dCwgaXQgZG9lcyBub3QgaW50ZXJydXB0IHRoZSBub3JtYWwgcHJvZ3JhbSBmbG93LlxuICAvLyBFZmZlY3RpdmVseSwgdGhpcyBnaXZlcyB1cyB0cnktY2F0Y2ggYmVoYXZpb3Igd2l0aG91dCBhY3R1YWxseSB1c2luZ1xuICAvLyB0cnktY2F0Y2guIE5lYXQhXG5cbiAgLy8gQ2hlY2sgdGhhdCB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgQVBJcyB3ZSBuZWVkIHRvIGltcGxlbWVudCBvdXIgc3BlY2lhbFxuICAvLyBERVYgdmVyc2lvbiBvZiBpbnZva2VHdWFyZGVkQ2FsbGJhY2tcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZGlzcGF0Y2hFdmVudCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBmYWtlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3JlYWN0Jyk7XG5cbiAgICB2YXIgaW52b2tlR3VhcmRlZENhbGxiYWNrRGV2ID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMsIGNvbnRleHQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgIC8vIElmIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3Qgd2Uga25vdyBmb3Igc3VyZSB3ZSB3aWxsIGNyYXNoIGluIHRoaXMgbWV0aG9kXG4gICAgICAvLyB3aGVuIHdlIGNhbGwgZG9jdW1lbnQuY3JlYXRlRXZlbnQoKS4gSG93ZXZlciB0aGlzIGNhbiBjYXVzZSBjb25mdXNpbmdcbiAgICAgIC8vIGVycm9yczogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29raW5jdWJhdG9yL2NyZWF0ZS1yZWFjdC1hcHAvaXNzdWVzLzM0ODJcbiAgICAgIC8vIFNvIHdlIHByZWVtcHRpdmVseSB0aHJvdyB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UgaW5zdGVhZC5cbiAgICAgICEodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykgPyBpbnZhcmlhbnQoZmFsc2UsICdUaGUgYGRvY3VtZW50YCBnbG9iYWwgd2FzIGRlZmluZWQgd2hlbiBSZWFjdCB3YXMgaW5pdGlhbGl6ZWQsIGJ1dCBpcyBub3QgZGVmaW5lZCBhbnltb3JlLiBUaGlzIGNhbiBoYXBwZW4gaW4gYSB0ZXN0IGVudmlyb25tZW50IGlmIGEgY29tcG9uZW50IHNjaGVkdWxlcyBhbiB1cGRhdGUgZnJvbSBhbiBhc3luY2hyb25vdXMgY2FsbGJhY2ssIGJ1dCB0aGUgdGVzdCBoYXMgYWxyZWFkeSBmaW5pc2hlZCBydW5uaW5nLiBUbyBzb2x2ZSB0aGlzLCB5b3UgY2FuIGVpdGhlciB1bm1vdW50IHRoZSBjb21wb25lbnQgYXQgdGhlIGVuZCBvZiB5b3VyIHRlc3QgKGFuZCBlbnN1cmUgdGhhdCBhbnkgYXN5bmNocm9ub3VzIG9wZXJhdGlvbnMgZ2V0IGNhbmNlbGVkIGluIGBjb21wb25lbnRXaWxsVW5tb3VudGApLCBvciB5b3UgY2FuIGNoYW5nZSB0aGUgdGVzdCBpdHNlbGYgdG8gYmUgYXN5bmNocm9ub3VzLicpIDogdm9pZCAwO1xuICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXG4gICAgICAvLyBLZWVwcyB0cmFjayBvZiB3aGV0aGVyIHRoZSB1c2VyLXByb3ZpZGVkIGNhbGxiYWNrIHRocmV3IGFuIGVycm9yLiBXZVxuICAgICAgLy8gc2V0IHRoaXMgdG8gdHJ1ZSBhdCB0aGUgYmVnaW5uaW5nLCB0aGVuIHNldCBpdCB0byBmYWxzZSByaWdodCBhZnRlclxuICAgICAgLy8gY2FsbGluZyB0aGUgZnVuY3Rpb24uIElmIHRoZSBmdW5jdGlvbiBlcnJvcnMsIGBkaWRFcnJvcmAgd2lsbCBuZXZlciBiZVxuICAgICAgLy8gc2V0IHRvIGZhbHNlLiBUaGlzIHN0cmF0ZWd5IHdvcmtzIGV2ZW4gaWYgdGhlIGJyb3dzZXIgaXMgZmxha3kgYW5kXG4gICAgICAvLyBmYWlscyB0byBjYWxsIG91ciBnbG9iYWwgZXJyb3IgaGFuZGxlciwgYmVjYXVzZSBpdCBkb2Vzbid0IHJlbHkgb25cbiAgICAgIC8vIHRoZSBlcnJvciBldmVudCBhdCBhbGwuXG4gICAgICB2YXIgZGlkRXJyb3IgPSB0cnVlO1xuXG4gICAgICAvLyBDcmVhdGUgYW4gZXZlbnQgaGFuZGxlciBmb3Igb3VyIGZha2UgZXZlbnQuIFdlIHdpbGwgc3luY2hyb25vdXNseVxuICAgICAgLy8gZGlzcGF0Y2ggb3VyIGZha2UgZXZlbnQgdXNpbmcgYGRpc3BhdGNoRXZlbnRgLiBJbnNpZGUgdGhlIGhhbmRsZXIsIHdlXG4gICAgICAvLyBjYWxsIHRoZSB1c2VyLXByb3ZpZGVkIGNhbGxiYWNrLlxuICAgICAgdmFyIGZ1bmNBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKTtcbiAgICAgIGZ1bmN0aW9uIGNhbGxDYWxsYmFjaygpIHtcbiAgICAgICAgLy8gV2UgaW1tZWRpYXRlbHkgcmVtb3ZlIHRoZSBjYWxsYmFjayBmcm9tIGV2ZW50IGxpc3RlbmVycyBzbyB0aGF0XG4gICAgICAgIC8vIG5lc3RlZCBgaW52b2tlR3VhcmRlZENhbGxiYWNrYCBjYWxscyBkbyBub3QgY2xhc2guIE90aGVyd2lzZSwgYVxuICAgICAgICAvLyBuZXN0ZWQgY2FsbCB3b3VsZCB0cmlnZ2VyIHRoZSBmYWtlIGV2ZW50IGhhbmRsZXJzIG9mIGFueSBjYWxsIGhpZ2hlclxuICAgICAgICAvLyBpbiB0aGUgc3RhY2suXG4gICAgICAgIGZha2VOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgY2FsbENhbGxiYWNrLCBmYWxzZSk7XG4gICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgZnVuY0FyZ3MpO1xuICAgICAgICBkaWRFcnJvciA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBnbG9iYWwgZXJyb3IgZXZlbnQgaGFuZGxlci4gV2UgdXNlIHRoaXMgdG8gY2FwdHVyZSB0aGUgdmFsdWVcbiAgICAgIC8vIHRoYXQgd2FzIHRocm93bi4gSXQncyBwb3NzaWJsZSB0aGF0IHRoaXMgZXJyb3IgaGFuZGxlciB3aWxsIGZpcmUgbW9yZVxuICAgICAgLy8gdGhhbiBvbmNlOyBmb3IgZXhhbXBsZSwgaWYgbm9uLVJlYWN0IGNvZGUgYWxzbyBjYWxscyBgZGlzcGF0Y2hFdmVudGBcbiAgICAgIC8vIGFuZCBhIGhhbmRsZXIgZm9yIHRoYXQgZXZlbnQgdGhyb3dzLiBXZSBzaG91bGQgYmUgcmVzaWxpZW50IHRvIG1vc3Qgb2ZcbiAgICAgIC8vIHRob3NlIGNhc2VzLiBFdmVuIGlmIG91ciBlcnJvciBldmVudCBoYW5kbGVyIGZpcmVzIG1vcmUgdGhhbiBvbmNlLCB0aGVcbiAgICAgIC8vIGxhc3QgZXJyb3IgZXZlbnQgaXMgYWx3YXlzIHVzZWQuIElmIHRoZSBjYWxsYmFjayBhY3R1YWxseSBkb2VzIGVycm9yLFxuICAgICAgLy8gd2Uga25vdyB0aGF0IHRoZSBsYXN0IGVycm9yIGV2ZW50IGlzIHRoZSBjb3JyZWN0IG9uZSwgYmVjYXVzZSBpdCdzIG5vdFxuICAgICAgLy8gcG9zc2libGUgZm9yIGFueXRoaW5nIGVsc2UgdG8gaGF2ZSBoYXBwZW5lZCBpbiBiZXR3ZWVuIG91ciBjYWxsYmFja1xuICAgICAgLy8gZXJyb3JpbmcgYW5kIHRoZSBjb2RlIHRoYXQgZm9sbG93cyB0aGUgYGRpc3BhdGNoRXZlbnRgIGNhbGwgYmVsb3cuIElmXG4gICAgICAvLyB0aGUgY2FsbGJhY2sgZG9lc24ndCBlcnJvciwgYnV0IHRoZSBlcnJvciBldmVudCB3YXMgZmlyZWQsIHdlIGtub3cgdG9cbiAgICAgIC8vIGlnbm9yZSBpdCBiZWNhdXNlIGBkaWRFcnJvcmAgd2lsbCBiZSBmYWxzZSwgYXMgZGVzY3JpYmVkIGFib3ZlLlxuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAgLy8gVXNlIHRoaXMgdG8gdHJhY2sgd2hldGhlciB0aGUgZXJyb3IgZXZlbnQgaXMgZXZlciBjYWxsZWQuXG4gICAgICB2YXIgZGlkU2V0RXJyb3IgPSBmYWxzZTtcbiAgICAgIHZhciBpc0Nyb3NzT3JpZ2luRXJyb3IgPSBmYWxzZTtcblxuICAgICAgZnVuY3Rpb24gb25FcnJvcihldmVudCkge1xuICAgICAgICBlcnJvciA9IGV2ZW50LmVycm9yO1xuICAgICAgICBkaWRTZXRFcnJvciA9IHRydWU7XG4gICAgICAgIGlmIChlcnJvciA9PT0gbnVsbCAmJiBldmVudC5jb2xubyA9PT0gMCAmJiBldmVudC5saW5lbm8gPT09IDApIHtcbiAgICAgICAgICBpc0Nyb3NzT3JpZ2luRXJyb3IgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBhIGZha2UgZXZlbnQgdHlwZS5cbiAgICAgIHZhciBldnRUeXBlID0gJ3JlYWN0LScgKyAobmFtZSA/IG5hbWUgOiAnaW52b2tlZ3VhcmRlZGNhbGxiYWNrJyk7XG5cbiAgICAgIC8vIEF0dGFjaCBvdXIgZXZlbnQgaGFuZGxlcnNcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgICAgZmFrZU5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBjYWxsQ2FsbGJhY2ssIGZhbHNlKTtcblxuICAgICAgLy8gU3luY2hyb25vdXNseSBkaXNwYXRjaCBvdXIgZmFrZSBldmVudC4gSWYgdGhlIHVzZXItcHJvdmlkZWQgZnVuY3Rpb25cbiAgICAgIC8vIGVycm9ycywgaXQgd2lsbCB0cmlnZ2VyIG91ciBnbG9iYWwgZXJyb3IgaGFuZGxlci5cbiAgICAgIGV2dC5pbml0RXZlbnQoZXZ0VHlwZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgIGZha2VOb2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblxuICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgIGlmICghZGlkU2V0RXJyb3IpIHtcbiAgICAgICAgICAvLyBUaGUgY2FsbGJhY2sgZXJyb3JlZCwgYnV0IHRoZSBlcnJvciBldmVudCBuZXZlciBmaXJlZC5cbiAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignQW4gZXJyb3Igd2FzIHRocm93biBpbnNpZGUgb25lIG9mIHlvdXIgY29tcG9uZW50cywgYnV0IFJlYWN0ICcgKyBcImRvZXNuJ3Qga25vdyB3aGF0IGl0IHdhcy4gVGhpcyBpcyBsaWtlbHkgZHVlIHRvIGJyb3dzZXIgXCIgKyAnZmxha2luZXNzLiBSZWFjdCBkb2VzIGl0cyBiZXN0IHRvIHByZXNlcnZlIHRoZSBcIlBhdXNlIG9uICcgKyAnZXhjZXB0aW9uc1wiIGJlaGF2aW9yIG9mIHRoZSBEZXZUb29scywgd2hpY2ggcmVxdWlyZXMgc29tZSAnICsgXCJERVYtbW9kZSBvbmx5IHRyaWNrcy4gSXQncyBwb3NzaWJsZSB0aGF0IHRoZXNlIGRvbid0IHdvcmsgaW4gXCIgKyAneW91ciBicm93c2VyLiBUcnkgdHJpZ2dlcmluZyB0aGUgZXJyb3IgaW4gcHJvZHVjdGlvbiBtb2RlLCAnICsgJ29yIHN3aXRjaGluZyB0byBhIG1vZGVybiBicm93c2VyLiBJZiB5b3Ugc3VzcGVjdCB0aGF0IHRoaXMgaXMgJyArICdhY3R1YWxseSBhbiBpc3N1ZSB3aXRoIFJlYWN0LCBwbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Nyb3NzT3JpZ2luRXJyb3IpIHtcbiAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihcIkEgY3Jvc3Mtb3JpZ2luIGVycm9yIHdhcyB0aHJvd24uIFJlYWN0IGRvZXNuJ3QgaGF2ZSBhY2Nlc3MgdG8gXCIgKyAndGhlIGFjdHVhbCBlcnJvciBvYmplY3QgaW4gZGV2ZWxvcG1lbnQuICcgKyAnU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtY3Jvc3NvcmlnaW4tZXJyb3IgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGFzQ2F1Z2h0RXJyb3IgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jYXVnaHRFcnJvciA9IGVycm9yO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faGFzQ2F1Z2h0RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2F1Z2h0RXJyb3IgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgb3VyIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgfTtcblxuICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayA9IGludm9rZUd1YXJkZWRDYWxsYmFja0RldjtcbiAgfVxufVxuXG52YXIgaW52b2tlR3VhcmRlZENhbGxiYWNrJDEgPSBpbnZva2VHdWFyZGVkQ2FsbGJhY2s7XG5cbnZhciBSZWFjdEVycm9yVXRpbHMgPSB7XG4gIC8vIFVzZWQgYnkgRmliZXIgdG8gc2ltdWxhdGUgYSB0cnktY2F0Y2guXG4gIF9jYXVnaHRFcnJvcjogbnVsbCxcbiAgX2hhc0NhdWdodEVycm9yOiBmYWxzZSxcblxuICAvLyBVc2VkIGJ5IGV2ZW50IHN5c3RlbSB0byBjYXB0dXJlL3JldGhyb3cgdGhlIGZpcnN0IGVycm9yLlxuICBfcmV0aHJvd0Vycm9yOiBudWxsLFxuICBfaGFzUmV0aHJvd0Vycm9yOiBmYWxzZSxcblxuICAvKipcbiAgICogQ2FsbCBhIGZ1bmN0aW9uIHdoaWxlIGd1YXJkaW5nIGFnYWluc3QgZXJyb3JzIHRoYXQgaGFwcGVucyB3aXRoaW4gaXQuXG4gICAqIFJldHVybnMgYW4gZXJyb3IgaWYgaXQgdGhyb3dzLCBvdGhlcndpc2UgbnVsbC5cbiAgICpcbiAgICogSW4gcHJvZHVjdGlvbiwgdGhpcyBpcyBpbXBsZW1lbnRlZCB1c2luZyBhIHRyeS1jYXRjaC4gVGhlIHJlYXNvbiB3ZSBkb24ndFxuICAgKiB1c2UgYSB0cnktY2F0Y2ggZGlyZWN0bHkgaXMgc28gdGhhdCB3ZSBjYW4gc3dhcCBvdXQgYSBkaWZmZXJlbnRcbiAgICogaW1wbGVtZW50YXRpb24gaW4gREVWIG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG9mIHRoZSBndWFyZCB0byB1c2UgZm9yIGxvZ2dpbmcgb3IgZGVidWdnaW5nXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gdXNlIHdoZW4gY2FsbGluZyB0aGUgZnVuY3Rpb25cbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFyZ3VtZW50cyBmb3IgZnVuY3Rpb25cbiAgICovXG4gIGludm9rZUd1YXJkZWRDYWxsYmFjazogZnVuY3Rpb24gKG5hbWUsIGZ1bmMsIGNvbnRleHQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMS5hcHBseShSZWFjdEVycm9yVXRpbHMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNhbWUgYXMgaW52b2tlR3VhcmRlZENhbGxiYWNrLCBidXQgaW5zdGVhZCBvZiByZXR1cm5pbmcgYW4gZXJyb3IsIGl0IHN0b3Jlc1xuICAgKiBpdCBpbiBhIGdsb2JhbCBzbyBpdCBjYW4gYmUgcmV0aHJvd24gYnkgYHJldGhyb3dDYXVnaHRFcnJvcmAgbGF0ZXIuXG4gICAqIFRPRE86IFNlZSBpZiBfY2F1Z2h0RXJyb3IgYW5kIF9yZXRocm93RXJyb3IgY2FuIGJlIHVuaWZpZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG9mIHRoZSBndWFyZCB0byB1c2UgZm9yIGxvZ2dpbmcgb3IgZGVidWdnaW5nXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gdXNlIHdoZW4gY2FsbGluZyB0aGUgZnVuY3Rpb25cbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFyZ3VtZW50cyBmb3IgZnVuY3Rpb25cbiAgICovXG4gIGludm9rZUd1YXJkZWRDYWxsYmFja0FuZENhdGNoRmlyc3RFcnJvcjogZnVuY3Rpb24gKG5hbWUsIGZ1bmMsIGNvbnRleHQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKFJlYWN0RXJyb3JVdGlscy5oYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICB2YXIgZXJyb3IgPSBSZWFjdEVycm9yVXRpbHMuY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgaWYgKCFSZWFjdEVycm9yVXRpbHMuX2hhc1JldGhyb3dFcnJvcikge1xuICAgICAgICBSZWFjdEVycm9yVXRpbHMuX2hhc1JldGhyb3dFcnJvciA9IHRydWU7XG4gICAgICAgIFJlYWN0RXJyb3JVdGlscy5fcmV0aHJvd0Vycm9yID0gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEdXJpbmcgZXhlY3V0aW9uIG9mIGd1YXJkZWQgZnVuY3Rpb25zIHdlIHdpbGwgY2FwdHVyZSB0aGUgZmlyc3QgZXJyb3Igd2hpY2hcbiAgICogd2Ugd2lsbCByZXRocm93IHRvIGJlIGhhbmRsZWQgYnkgdGhlIHRvcCBsZXZlbCBlcnJvciBoYW5kbGVyLlxuICAgKi9cbiAgcmV0aHJvd0NhdWdodEVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJldGhyb3dDYXVnaHRFcnJvci5hcHBseShSZWFjdEVycm9yVXRpbHMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgaGFzQ2F1Z2h0RXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUmVhY3RFcnJvclV0aWxzLl9oYXNDYXVnaHRFcnJvcjtcbiAgfSxcblxuICBjbGVhckNhdWdodEVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKFJlYWN0RXJyb3JVdGlscy5faGFzQ2F1Z2h0RXJyb3IpIHtcbiAgICAgIHZhciBlcnJvciA9IFJlYWN0RXJyb3JVdGlscy5fY2F1Z2h0RXJyb3I7XG4gICAgICBSZWFjdEVycm9yVXRpbHMuX2NhdWdodEVycm9yID0gbnVsbDtcbiAgICAgIFJlYWN0RXJyb3JVdGlscy5faGFzQ2F1Z2h0RXJyb3IgPSBmYWxzZTtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnY2xlYXJDYXVnaHRFcnJvciB3YXMgY2FsbGVkIGJ1dCBubyBlcnJvciB3YXMgY2FwdHVyZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgcmV0aHJvd0NhdWdodEVycm9yID0gZnVuY3Rpb24gKCkge1xuICBpZiAoUmVhY3RFcnJvclV0aWxzLl9oYXNSZXRocm93RXJyb3IpIHtcbiAgICB2YXIgZXJyb3IgPSBSZWFjdEVycm9yVXRpbHMuX3JldGhyb3dFcnJvcjtcbiAgICBSZWFjdEVycm9yVXRpbHMuX3JldGhyb3dFcnJvciA9IG51bGw7XG4gICAgUmVhY3RFcnJvclV0aWxzLl9oYXNSZXRocm93RXJyb3IgPSBmYWxzZTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLyoqXG4gKiBJbmplY3RhYmxlIG9yZGVyaW5nIG9mIGV2ZW50IHBsdWdpbnMuXG4gKi9cbnZhciBldmVudFBsdWdpbk9yZGVyID0gbnVsbDtcblxuLyoqXG4gKiBJbmplY3RhYmxlIG1hcHBpbmcgZnJvbSBuYW1lcyB0byBldmVudCBwbHVnaW4gbW9kdWxlcy5cbiAqL1xudmFyIG5hbWVzVG9QbHVnaW5zID0ge307XG5cbi8qKlxuICogUmVjb21wdXRlcyB0aGUgcGx1Z2luIGxpc3QgdXNpbmcgdGhlIGluamVjdGVkIHBsdWdpbnMgYW5kIHBsdWdpbiBvcmRlcmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWNvbXB1dGVQbHVnaW5PcmRlcmluZygpIHtcbiAgaWYgKCFldmVudFBsdWdpbk9yZGVyKSB7XG4gICAgLy8gV2FpdCB1bnRpbCBhbiBgZXZlbnRQbHVnaW5PcmRlcmAgaXMgaW5qZWN0ZWQuXG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAodmFyIHBsdWdpbk5hbWUgaW4gbmFtZXNUb1BsdWdpbnMpIHtcbiAgICB2YXIgcGx1Z2luTW9kdWxlID0gbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgdmFyIHBsdWdpbkluZGV4ID0gZXZlbnRQbHVnaW5PcmRlci5pbmRleE9mKHBsdWdpbk5hbWUpO1xuICAgICEocGx1Z2luSW5kZXggPiAtMSkgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IGV2ZW50IHBsdWdpbnMgdGhhdCBkbyBub3QgZXhpc3QgaW4gdGhlIHBsdWdpbiBvcmRlcmluZywgYCVzYC4nLCBwbHVnaW5OYW1lKSA6IHZvaWQgMDtcbiAgICBpZiAocGx1Z2luc1twbHVnaW5JbmRleF0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAhcGx1Z2luTW9kdWxlLmV4dHJhY3RFdmVudHMgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBFdmVudCBwbHVnaW5zIG11c3QgaW1wbGVtZW50IGFuIGBleHRyYWN0RXZlbnRzYCBtZXRob2QsIGJ1dCBgJXNgIGRvZXMgbm90LicsIHBsdWdpbk5hbWUpIDogdm9pZCAwO1xuICAgIHBsdWdpbnNbcGx1Z2luSW5kZXhdID0gcGx1Z2luTW9kdWxlO1xuICAgIHZhciBwdWJsaXNoZWRFdmVudHMgPSBwbHVnaW5Nb2R1bGUuZXZlbnRUeXBlcztcbiAgICBmb3IgKHZhciBldmVudE5hbWUgaW4gcHVibGlzaGVkRXZlbnRzKSB7XG4gICAgICAhcHVibGlzaEV2ZW50Rm9yUGx1Z2luKHB1Ymxpc2hlZEV2ZW50c1tldmVudE5hbWVdLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBGYWlsZWQgdG8gcHVibGlzaCBldmVudCBgJXNgIGZvciBwbHVnaW4gYCVzYC4nLCBldmVudE5hbWUsIHBsdWdpbk5hbWUpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFB1Ymxpc2hlcyBhbiBldmVudCBzbyB0aGF0IGl0IGNhbiBiZSBkaXNwYXRjaGVkIGJ5IHRoZSBzdXBwbGllZCBwbHVnaW4uXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIERpc3BhdGNoIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBldmVudC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBQbHVnaW5Nb2R1bGUgUGx1Z2luIHB1Ymxpc2hpbmcgdGhlIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgd2FzIHN1Y2Nlc3NmdWxseSBwdWJsaXNoZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwdWJsaXNoRXZlbnRGb3JQbHVnaW4oZGlzcGF0Y2hDb25maWcsIHBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSB7XG4gICEhZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgZXZlbnQgbmFtZSwgYCVzYC4nLCBldmVudE5hbWUpIDogdm9pZCAwO1xuICBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbZXZlbnROYW1lXSA9IGRpc3BhdGNoQ29uZmlnO1xuXG4gIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lcyA9IGRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO1xuICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICBmb3IgKHZhciBwaGFzZU5hbWUgaW4gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIGlmIChwaGFzZWRSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShwaGFzZU5hbWUpKSB7XG4gICAgICAgIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lID0gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VOYW1lXTtcbiAgICAgICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUocGhhc2VkUmVnaXN0cmF0aW9uTmFtZSwgcGx1Z2luTW9kdWxlLCBldmVudE5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChkaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSwgcGx1Z2luTW9kdWxlLCBldmVudE5hbWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBQdWJsaXNoZXMgYSByZWdpc3RyYXRpb24gbmFtZSB0aGF0IGlzIHVzZWQgdG8gaWRlbnRpZnkgZGlzcGF0Y2hlZCBldmVudHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgUmVnaXN0cmF0aW9uIG5hbWUgdG8gYWRkLlxuICogQHBhcmFtIHtvYmplY3R9IFBsdWdpbk1vZHVsZSBQbHVnaW4gcHVibGlzaGluZyB0aGUgZXZlbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShyZWdpc3RyYXRpb25OYW1lLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICAhIXJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lIHJlZ2lzdHJhdGlvbiBuYW1lLCBgJXNgLicsIHJlZ2lzdHJhdGlvbk5hbWUpIDogdm9pZCAwO1xuICByZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA9IHBsdWdpbk1vZHVsZTtcbiAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXSA9IHBsdWdpbk1vZHVsZS5ldmVudFR5cGVzW2V2ZW50TmFtZV0uZGVwZW5kZW5jaWVzO1xuXG4gIHtcbiAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSByZWdpc3RyYXRpb25OYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV0gPSByZWdpc3RyYXRpb25OYW1lO1xuXG4gICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWUgPT09ICdvbkRvdWJsZUNsaWNrJykge1xuICAgICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcy5vbmRibGNsaWNrID0gcmVnaXN0cmF0aW9uTmFtZTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgcGx1Z2lucyBzbyB0aGF0IHRoZXkgY2FuIGV4dHJhY3QgYW5kIGRpc3BhdGNoIGV2ZW50cy5cbiAqXG4gKiBAc2VlIHtFdmVudFBsdWdpbkh1Yn1cbiAqL1xuXG4vKipcbiAqIE9yZGVyZWQgbGlzdCBvZiBpbmplY3RlZCBwbHVnaW5zLlxuICovXG52YXIgcGx1Z2lucyA9IFtdO1xuXG4vKipcbiAqIE1hcHBpbmcgZnJvbSBldmVudCBuYW1lIHRvIGRpc3BhdGNoIGNvbmZpZ1xuICovXG52YXIgZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzID0ge307XG5cbi8qKlxuICogTWFwcGluZyBmcm9tIHJlZ2lzdHJhdGlvbiBuYW1lIHRvIHBsdWdpbiBtb2R1bGVcbiAqL1xudmFyIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzID0ge307XG5cbi8qKlxuICogTWFwcGluZyBmcm9tIHJlZ2lzdHJhdGlvbiBuYW1lIHRvIGV2ZW50IG5hbWVcbiAqL1xudmFyIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMgPSB7fTtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gbG93ZXJjYXNlIHJlZ2lzdHJhdGlvbiBuYW1lcyB0byB0aGUgcHJvcGVybHkgY2FzZWQgdmVyc2lvbixcbiAqIHVzZWQgdG8gd2FybiBpbiB0aGUgY2FzZSBvZiBtaXNzaW5nIGV2ZW50IGhhbmRsZXJzLiBBdmFpbGFibGVcbiAqIG9ubHkgaW4gdHJ1ZS5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzID0ge307XG4vLyBUcnVzdCB0aGUgZGV2ZWxvcGVyIHRvIG9ubHkgdXNlIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMgaW4gdHJ1ZVxuXG4vKipcbiAqIEluamVjdHMgYW4gb3JkZXJpbmcgb2YgcGx1Z2lucyAoYnkgcGx1Z2luIG5hbWUpLiBUaGlzIGFsbG93cyB0aGUgb3JkZXJpbmdcbiAqIHRvIGJlIGRlY291cGxlZCBmcm9tIGluamVjdGlvbiBvZiB0aGUgYWN0dWFsIHBsdWdpbnMgc28gdGhhdCBvcmRlcmluZyBpc1xuICogYWx3YXlzIGRldGVybWluaXN0aWMgcmVnYXJkbGVzcyBvZiBwYWNrYWdpbmcsIG9uLXRoZS1mbHkgaW5qZWN0aW9uLCBldGMuXG4gKlxuICogQHBhcmFtIHthcnJheX0gSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyXG4gKiBAaW50ZXJuYWxcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbk9yZGVyfVxuICovXG5mdW5jdGlvbiBpbmplY3RFdmVudFBsdWdpbk9yZGVyKGluamVjdGVkRXZlbnRQbHVnaW5PcmRlcikge1xuICAhIWV2ZW50UGx1Z2luT3JkZXIgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IGV2ZW50IHBsdWdpbiBvcmRlcmluZyBtb3JlIHRoYW4gb25jZS4gWW91IGFyZSBsaWtlbHkgdHJ5aW5nIHRvIGxvYWQgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0LicpIDogdm9pZCAwO1xuICAvLyBDbG9uZSB0aGUgb3JkZXJpbmcgc28gaXQgY2Fubm90IGJlIGR5bmFtaWNhbGx5IG11dGF0ZWQuXG4gIGV2ZW50UGx1Z2luT3JkZXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIpO1xuICByZWNvbXB1dGVQbHVnaW5PcmRlcmluZygpO1xufVxuXG4vKipcbiAqIEluamVjdHMgcGx1Z2lucyB0byBiZSB1c2VkIGJ5IGBFdmVudFBsdWdpbkh1YmAuIFRoZSBwbHVnaW4gbmFtZXMgbXVzdCBiZVxuICogaW4gdGhlIG9yZGVyaW5nIGluamVjdGVkIGJ5IGBpbmplY3RFdmVudFBsdWdpbk9yZGVyYC5cbiAqXG4gKiBQbHVnaW5zIGNhbiBiZSBpbmplY3RlZCBhcyBwYXJ0IG9mIHBhZ2UgaW5pdGlhbGl6YXRpb24gb3Igb24tdGhlLWZseS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gaW5qZWN0ZWROYW1lc1RvUGx1Z2lucyBNYXAgZnJvbSBuYW1lcyB0byBwbHVnaW4gbW9kdWxlcy5cbiAqIEBpbnRlcm5hbFxuICogQHNlZSB7RXZlbnRQbHVnaW5IdWIuaW5qZWN0aW9uLmluamVjdEV2ZW50UGx1Z2luc0J5TmFtZX1cbiAqL1xuZnVuY3Rpb24gaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lKGluamVjdGVkTmFtZXNUb1BsdWdpbnMpIHtcbiAgdmFyIGlzT3JkZXJpbmdEaXJ0eSA9IGZhbHNlO1xuICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIGluamVjdGVkTmFtZXNUb1BsdWdpbnMpIHtcbiAgICBpZiAoIWluamVjdGVkTmFtZXNUb1BsdWdpbnMuaGFzT3duUHJvcGVydHkocGx1Z2luTmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgcGx1Z2luTW9kdWxlID0gaW5qZWN0ZWROYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXTtcbiAgICBpZiAoIW5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpIHx8IG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdICE9PSBwbHVnaW5Nb2R1bGUpIHtcbiAgICAgICEhbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IHR3byBkaWZmZXJlbnQgZXZlbnQgcGx1Z2lucyB1c2luZyB0aGUgc2FtZSBuYW1lLCBgJXNgLicsIHBsdWdpbk5hbWUpIDogdm9pZCAwO1xuICAgICAgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPSBwbHVnaW5Nb2R1bGU7XG4gICAgICBpc09yZGVyaW5nRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoaXNPcmRlcmluZ0RpcnR5KSB7XG4gICAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbiAgfVxufVxuXG52YXIgRXZlbnRQbHVnaW5SZWdpc3RyeSA9IE9iamVjdC5mcmVlemUoe1xuXHRwbHVnaW5zOiBwbHVnaW5zLFxuXHRldmVudE5hbWVEaXNwYXRjaENvbmZpZ3M6IGV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyxcblx0cmVnaXN0cmF0aW9uTmFtZU1vZHVsZXM6IHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLFxuXHRyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzOiByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzLFxuXHRwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzOiBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzLFxuXHRpbmplY3RFdmVudFBsdWdpbk9yZGVyOiBpbmplY3RFdmVudFBsdWdpbk9yZGVyLFxuXHRpbmplY3RFdmVudFBsdWdpbnNCeU5hbWU6IGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZVxufSk7XG5cbnZhciBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlID0gbnVsbDtcbnZhciBnZXRJbnN0YW5jZUZyb21Ob2RlID0gbnVsbDtcbnZhciBnZXROb2RlRnJvbUluc3RhbmNlID0gbnVsbDtcblxudmFyIGluamVjdGlvbiQxID0ge1xuICBpbmplY3RDb21wb25lbnRUcmVlOiBmdW5jdGlvbiAoSW5qZWN0ZWQpIHtcbiAgICBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlID0gSW5qZWN0ZWQuZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZTtcbiAgICBnZXRJbnN0YW5jZUZyb21Ob2RlID0gSW5qZWN0ZWQuZ2V0SW5zdGFuY2VGcm9tTm9kZTtcbiAgICBnZXROb2RlRnJvbUluc3RhbmNlID0gSW5qZWN0ZWQuZ2V0Tm9kZUZyb21JbnN0YW5jZTtcblxuICAgIHtcbiAgICAgICEoZ2V0Tm9kZUZyb21JbnN0YW5jZSAmJiBnZXRJbnN0YW5jZUZyb21Ob2RlKSA/IHdhcm5pbmcoZmFsc2UsICdFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbi5pbmplY3RDb21wb25lbnRUcmVlKC4uLik6IEluamVjdGVkICcgKyAnbW9kdWxlIGlzIG1pc3NpbmcgZ2V0Tm9kZUZyb21JbnN0YW5jZSBvciBnZXRJbnN0YW5jZUZyb21Ob2RlLicpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxufTtcblxudmFyIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzID0gdm9pZCAwO1xue1xuICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG5cbiAgICB2YXIgbGlzdGVuZXJzSXNBcnIgPSBBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKTtcbiAgICB2YXIgbGlzdGVuZXJzTGVuID0gbGlzdGVuZXJzSXNBcnIgPyBkaXNwYXRjaExpc3RlbmVycy5sZW5ndGggOiBkaXNwYXRjaExpc3RlbmVycyA/IDEgOiAwO1xuXG4gICAgdmFyIGluc3RhbmNlc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaEluc3RhbmNlcyk7XG4gICAgdmFyIGluc3RhbmNlc0xlbiA9IGluc3RhbmNlc0lzQXJyID8gZGlzcGF0Y2hJbnN0YW5jZXMubGVuZ3RoIDogZGlzcGF0Y2hJbnN0YW5jZXMgPyAxIDogMDtcblxuICAgICEoaW5zdGFuY2VzSXNBcnIgPT09IGxpc3RlbmVyc0lzQXJyICYmIGluc3RhbmNlc0xlbiA9PT0gbGlzdGVuZXJzTGVuKSA/IHdhcm5pbmcoZmFsc2UsICdFdmVudFBsdWdpblV0aWxzOiBJbnZhbGlkIGBldmVudGAuJykgOiB2b2lkIDA7XG4gIH07XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggdGhlIGV2ZW50IHRvIHRoZSBsaXN0ZW5lci5cbiAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50IFN5bnRoZXRpY0V2ZW50IHRvIGhhbmRsZVxuICogQHBhcmFtIHtib29sZWFufSBzaW11bGF0ZWQgSWYgdGhlIGV2ZW50IGlzIHNpbXVsYXRlZCAoY2hhbmdlcyBleG4gYmVoYXZpb3IpXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lciBBcHBsaWNhdGlvbi1sZXZlbCBjYWxsYmFja1xuICogQHBhcmFtIHsqfSBpbnN0IEludGVybmFsIGNvbXBvbmVudCBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIHNpbXVsYXRlZCwgbGlzdGVuZXIsIGluc3QpIHtcbiAgdmFyIHR5cGUgPSBldmVudC50eXBlIHx8ICd1bmtub3duLWV2ZW50JztcbiAgZXZlbnQuY3VycmVudFRhcmdldCA9IGdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCk7XG4gIFJlYWN0RXJyb3JVdGlscy5pbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3IodHlwZSwgbGlzdGVuZXIsIHVuZGVmaW5lZCwgZXZlbnQpO1xuICBldmVudC5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbn1cblxuLyoqXG4gKiBTdGFuZGFyZC9zaW1wbGUgaXRlcmF0aW9uIHRocm91Z2ggYW4gZXZlbnQncyBjb2xsZWN0ZWQgZGlzcGF0Y2hlcy5cbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyKGV2ZW50LCBzaW11bGF0ZWQpIHtcbiAgdmFyIGRpc3BhdGNoTGlzdGVuZXJzID0gZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xuICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG4gIHtcbiAgICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyhldmVudCk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcnMpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXNwYXRjaExpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLyBMaXN0ZW5lcnMgYW5kIEluc3RhbmNlcyBhcmUgdHdvIHBhcmFsbGVsIGFycmF5cyB0aGF0IGFyZSBhbHdheXMgaW4gc3luYy5cbiAgICAgIGV4ZWN1dGVEaXNwYXRjaChldmVudCwgc2ltdWxhdGVkLCBkaXNwYXRjaExpc3RlbmVyc1tpXSwgZGlzcGF0Y2hJbnN0YW5jZXNbaV0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkaXNwYXRjaExpc3RlbmVycykge1xuICAgIGV4ZWN1dGVEaXNwYXRjaChldmVudCwgc2ltdWxhdGVkLCBkaXNwYXRjaExpc3RlbmVycywgZGlzcGF0Y2hJbnN0YW5jZXMpO1xuICB9XG4gIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IG51bGw7XG4gIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IG51bGw7XG59XG5cbi8qKlxuICogQHNlZSBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbFxuICovXG5cblxuLyoqXG4gKiBFeGVjdXRpb24gb2YgYSBcImRpcmVjdFwiIGRpc3BhdGNoIC0gdGhlcmUgbXVzdCBiZSBhdCBtb3N0IG9uZSBkaXNwYXRjaFxuICogYWNjdW11bGF0ZWQgb24gdGhlIGV2ZW50IG9yIGl0IGlzIGNvbnNpZGVyZWQgYW4gZXJyb3IuIEl0IGRvZXNuJ3QgcmVhbGx5IG1ha2VcbiAqIHNlbnNlIGZvciBhbiBldmVudCB3aXRoIG11bHRpcGxlIGRpc3BhdGNoZXMgKGJ1YmJsZWQpIHRvIGtlZXAgdHJhY2sgb2YgdGhlXG4gKiByZXR1cm4gdmFsdWVzIGF0IGVhY2ggZGlzcGF0Y2ggZXhlY3V0aW9uLCBidXQgaXQgZG9lcyB0ZW5kIHRvIG1ha2Ugc2Vuc2Ugd2hlblxuICogZGVhbGluZyB3aXRoIFwiZGlyZWN0XCIgZGlzcGF0Y2hlcy5cbiAqXG4gKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGV4ZWN1dGluZyB0aGUgc2luZ2xlIGRpc3BhdGNoLlxuICovXG5cblxuLyoqXG4gKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZmYgbnVtYmVyIG9mIGRpc3BhdGNoZXMgYWNjdW11bGF0ZWQgaXMgZ3JlYXRlciB0aGFuIDAuXG4gKi9cblxuLyoqXG4gKiBBY2N1bXVsYXRlcyBpdGVtcyB0aGF0IG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIGludG8gdGhlIGZpcnN0IG9uZS4gVGhpc1xuICogaXMgdXNlZCB0byBjb25zZXJ2ZSBtZW1vcnkgYnkgYXZvaWRpbmcgYXJyYXkgYWxsb2NhdGlvbnMsIGFuZCB0aHVzIHNhY3JpZmljZXNcbiAqIEFQSSBjbGVhbm5lc3MuIFNpbmNlIGBjdXJyZW50YCBjYW4gYmUgbnVsbCBiZWZvcmUgYmVpbmcgcGFzc2VkIGluIGFuZCBub3RcbiAqIG51bGwgYWZ0ZXIgdGhpcyBmdW5jdGlvbiwgbWFrZSBzdXJlIHRvIGFzc2lnbiBpdCBiYWNrIHRvIGBjdXJyZW50YDpcbiAqXG4gKiBgYSA9IGFjY3VtdWxhdGVJbnRvKGEsIGIpO2BcbiAqXG4gKiBUaGlzIEFQSSBzaG91bGQgYmUgc3BhcmluZ2x5IHVzZWQuIFRyeSBgYWNjdW11bGF0ZWAgZm9yIHNvbWV0aGluZyBjbGVhbmVyLlxuICpcbiAqIEByZXR1cm4geyp8YXJyYXk8Kj59IEFuIGFjY3VtdWxhdGlvbiBvZiBpdGVtcy5cbiAqL1xuXG5mdW5jdGlvbiBhY2N1bXVsYXRlSW50byhjdXJyZW50LCBuZXh0KSB7XG4gICEobmV4dCAhPSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ2FjY3VtdWxhdGVJbnRvKC4uLik6IEFjY3VtdWxhdGVkIGl0ZW1zIG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLicpIDogdm9pZCAwO1xuXG4gIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIC8vIEJvdGggYXJlIG5vdCBlbXB0eS4gV2FybmluZzogTmV2ZXIgY2FsbCB4LmNvbmNhdCh5KSB3aGVuIHlvdSBhcmUgbm90XG4gIC8vIGNlcnRhaW4gdGhhdCB4IGlzIGFuIEFycmF5ICh4IGNvdWxkIGJlIGEgc3RyaW5nIHdpdGggY29uY2F0IG1ldGhvZCkuXG4gIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnQpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dCkpIHtcbiAgICAgIGN1cnJlbnQucHVzaC5hcHBseShjdXJyZW50LCBuZXh0KTtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cbiAgICBjdXJyZW50LnB1c2gobmV4dCk7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShuZXh0KSkge1xuICAgIC8vIEEgYml0IHRvbyBkYW5nZXJvdXMgdG8gbXV0YXRlIGBuZXh0YC5cbiAgICByZXR1cm4gW2N1cnJlbnRdLmNvbmNhdChuZXh0KTtcbiAgfVxuXG4gIHJldHVybiBbY3VycmVudCwgbmV4dF07XG59XG5cbi8qKlxuICogQHBhcmFtIHthcnJheX0gYXJyIGFuIFwiYWNjdW11bGF0aW9uXCIgb2YgaXRlbXMgd2hpY2ggaXMgZWl0aGVyIGFuIEFycmF5IG9yXG4gKiBhIHNpbmdsZSBpdGVtLiBVc2VmdWwgd2hlbiBwYWlyZWQgd2l0aCB0aGUgYGFjY3VtdWxhdGVgIG1vZHVsZS4gVGhpcyBpcyBhXG4gKiBzaW1wbGUgdXRpbGl0eSB0aGF0IGFsbG93cyB1cyB0byByZWFzb24gYWJvdXQgYSBjb2xsZWN0aW9uIG9mIGl0ZW1zLCBidXRcbiAqIGhhbmRsaW5nIHRoZSBjYXNlIHdoZW4gdGhlcmUgaXMgZXhhY3RseSBvbmUgaXRlbSAoYW5kIHdlIGRvIG5vdCBuZWVkIHRvXG4gKiBhbGxvY2F0ZSBhbiBhcnJheSkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiBDYWxsYmFjayBpbnZva2VkIHdpdGggZWFjaCBlbGVtZW50IG9yIGEgY29sbGVjdGlvbi5cbiAqIEBwYXJhbSB7P30gW3Njb3BlXSBTY29wZSB1c2VkIGFzIGB0aGlzYCBpbiBhIGNhbGxiYWNrLlxuICovXG5mdW5jdGlvbiBmb3JFYWNoQWNjdW11bGF0ZWQoYXJyLCBjYiwgc2NvcGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGFyci5mb3JFYWNoKGNiLCBzY29wZSk7XG4gIH0gZWxzZSBpZiAoYXJyKSB7XG4gICAgY2IuY2FsbChzY29wZSwgYXJyKTtcbiAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIHF1ZXVlIG9mIGV2ZW50cyB0aGF0IGhhdmUgYWNjdW11bGF0ZWQgdGhlaXIgZGlzcGF0Y2hlcyBhbmQgYXJlXG4gKiB3YWl0aW5nIHRvIGhhdmUgdGhlaXIgZGlzcGF0Y2hlcyBleGVjdXRlZC5cbiAqL1xudmFyIGV2ZW50UXVldWUgPSBudWxsO1xuXG4vKipcbiAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYW5kIHJlbGVhc2VzIGl0IGJhY2sgaW50byB0aGUgcG9vbCwgdW5sZXNzIHBlcnNpc3RlbnQuXG4gKlxuICogQHBhcmFtIHs/b2JqZWN0fSBldmVudCBTeW50aGV0aWMgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2ltdWxhdGVkIElmIHRoZSBldmVudCBpcyBzaW11bGF0ZWQgKGNoYW5nZXMgZXhuIGJlaGF2aW9yKVxuICogQHByaXZhdGVcbiAqL1xudmFyIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZSA9IGZ1bmN0aW9uIChldmVudCwgc2ltdWxhdGVkKSB7XG4gIGlmIChldmVudCkge1xuICAgIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCwgc2ltdWxhdGVkKTtcblxuICAgIGlmICghZXZlbnQuaXNQZXJzaXN0ZW50KCkpIHtcbiAgICAgIGV2ZW50LmNvbnN0cnVjdG9yLnJlbGVhc2UoZXZlbnQpO1xuICAgIH1cbiAgfVxufTtcbnZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQgPSBmdW5jdGlvbiAoZSkge1xuICByZXR1cm4gZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlKGUsIHRydWUpO1xufTtcbnZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCA9IGZ1bmN0aW9uIChlKSB7XG4gIHJldHVybiBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UoZSwgZmFsc2UpO1xufTtcblxuZnVuY3Rpb24gaXNJbnRlcmFjdGl2ZSh0YWcpIHtcbiAgcmV0dXJuIHRhZyA9PT0gJ2J1dHRvbicgfHwgdGFnID09PSAnaW5wdXQnIHx8IHRhZyA9PT0gJ3NlbGVjdCcgfHwgdGFnID09PSAndGV4dGFyZWEnO1xufVxuXG5mdW5jdGlvbiBzaG91bGRQcmV2ZW50TW91c2VFdmVudChuYW1lLCB0eXBlLCBwcm9wcykge1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdvbkNsaWNrJzpcbiAgICBjYXNlICdvbkNsaWNrQ2FwdHVyZSc6XG4gICAgY2FzZSAnb25Eb3VibGVDbGljayc6XG4gICAgY2FzZSAnb25Eb3VibGVDbGlja0NhcHR1cmUnOlxuICAgIGNhc2UgJ29uTW91c2VEb3duJzpcbiAgICBjYXNlICdvbk1vdXNlRG93bkNhcHR1cmUnOlxuICAgIGNhc2UgJ29uTW91c2VNb3ZlJzpcbiAgICBjYXNlICdvbk1vdXNlTW92ZUNhcHR1cmUnOlxuICAgIGNhc2UgJ29uTW91c2VVcCc6XG4gICAgY2FzZSAnb25Nb3VzZVVwQ2FwdHVyZSc6XG4gICAgICByZXR1cm4gISEocHJvcHMuZGlzYWJsZWQgJiYgaXNJbnRlcmFjdGl2ZSh0eXBlKSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgYSB1bmlmaWVkIGludGVyZmFjZSBmb3IgZXZlbnQgcGx1Z2lucyB0byBiZSBpbnN0YWxsZWQgYW5kIGNvbmZpZ3VyZWQuXG4gKlxuICogRXZlbnQgcGx1Z2lucyBjYW4gaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIGBleHRyYWN0RXZlbnRzYCB7ZnVuY3Rpb24oc3RyaW5nLCBET01FdmVudFRhcmdldCwgc3RyaW5nLCBvYmplY3QpOiAqfVxuICogICAgIFJlcXVpcmVkLiBXaGVuIGEgdG9wLWxldmVsIGV2ZW50IGlzIGZpcmVkLCB0aGlzIG1ldGhvZCBpcyBleHBlY3RlZCB0b1xuICogICAgIGV4dHJhY3Qgc3ludGhldGljIGV2ZW50cyB0aGF0IHdpbGwgaW4gdHVybiBiZSBxdWV1ZWQgYW5kIGRpc3BhdGNoZWQuXG4gKlxuICogICBgZXZlbnRUeXBlc2Age29iamVjdH1cbiAqICAgICBPcHRpb25hbCwgcGx1Z2lucyB0aGF0IGZpcmUgZXZlbnRzIG11c3QgcHVibGlzaCBhIG1hcHBpbmcgb2YgcmVnaXN0cmF0aW9uXG4gKiAgICAgbmFtZXMgdGhhdCBhcmUgdXNlZCB0byByZWdpc3RlciBsaXN0ZW5lcnMuIFZhbHVlcyBvZiB0aGlzIG1hcHBpbmcgbXVzdFxuICogICAgIGJlIG9iamVjdHMgdGhhdCBjb250YWluIGByZWdpc3RyYXRpb25OYW1lYCBvciBgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNgLlxuICpcbiAqICAgYGV4ZWN1dGVEaXNwYXRjaGAge2Z1bmN0aW9uKG9iamVjdCwgZnVuY3Rpb24sIHN0cmluZyl9XG4gKiAgICAgT3B0aW9uYWwsIGFsbG93cyBwbHVnaW5zIHRvIG92ZXJyaWRlIGhvdyBhbiBldmVudCBnZXRzIGRpc3BhdGNoZWQuIEJ5XG4gKiAgICAgZGVmYXVsdCwgdGhlIGxpc3RlbmVyIGlzIHNpbXBseSBpbnZva2VkLlxuICpcbiAqIEVhY2ggcGx1Z2luIHRoYXQgaXMgaW5qZWN0ZWQgaW50byBgRXZlbnRzUGx1Z2luSHViYCBpcyBpbW1lZGlhdGVseSBvcGVyYWJsZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cblxuLyoqXG4gKiBNZXRob2RzIGZvciBpbmplY3RpbmcgZGVwZW5kZW5jaWVzLlxuICovXG52YXIgaW5qZWN0aW9uID0ge1xuICAvKipcbiAgICogQHBhcmFtIHthcnJheX0gSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGluamVjdEV2ZW50UGx1Z2luT3JkZXI6IGluamVjdEV2ZW50UGx1Z2luT3JkZXIsXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpbmplY3RlZE5hbWVzVG9QbHVnaW5zIE1hcCBmcm9tIG5hbWVzIHRvIHBsdWdpbiBtb2R1bGVzLlxuICAgKi9cbiAgaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lOiBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWVcbn07XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGluc3QgVGhlIGluc3RhbmNlLCB3aGljaCBpcyB0aGUgc291cmNlIG9mIGV2ZW50cy5cbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdpc3RyYXRpb25OYW1lIE5hbWUgb2YgbGlzdGVuZXIgKGUuZy4gYG9uQ2xpY2tgKS5cbiAqIEByZXR1cm4gez9mdW5jdGlvbn0gVGhlIHN0b3JlZCBjYWxsYmFjay5cbiAqL1xuZnVuY3Rpb24gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSkge1xuICB2YXIgbGlzdGVuZXIgPSB2b2lkIDA7XG5cbiAgLy8gVE9ETzogc2hvdWxkUHJldmVudE1vdXNlRXZlbnQgaXMgRE9NLXNwZWNpZmljIGFuZCBkZWZpbml0ZWx5IHNob3VsZCBub3RcbiAgLy8gbGl2ZSBoZXJlOyBuZWVkcyB0byBiZSBtb3ZlZCB0byBhIGJldHRlciBwbGFjZSBzb29uXG4gIHZhciBzdGF0ZU5vZGUgPSBpbnN0LnN0YXRlTm9kZTtcbiAgaWYgKCFzdGF0ZU5vZGUpIHtcbiAgICAvLyBXb3JrIGluIHByb2dyZXNzIChleDogb25sb2FkIGV2ZW50cyBpbiBpbmNyZW1lbnRhbCBtb2RlKS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcHJvcHMgPSBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlKHN0YXRlTm9kZSk7XG4gIGlmICghcHJvcHMpIHtcbiAgICAvLyBXb3JrIGluIHByb2dyZXNzLlxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxpc3RlbmVyID0gcHJvcHNbcmVnaXN0cmF0aW9uTmFtZV07XG4gIGlmIChzaG91bGRQcmV2ZW50TW91c2VFdmVudChyZWdpc3RyYXRpb25OYW1lLCBpbnN0LnR5cGUsIHByb3BzKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gICEoIWxpc3RlbmVyIHx8IHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBgJXNgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGEgdmFsdWUgb2YgYCVzYCB0eXBlLicsIHJlZ2lzdHJhdGlvbk5hbWUsIHR5cGVvZiBsaXN0ZW5lcikgOiB2b2lkIDA7XG4gIHJldHVybiBsaXN0ZW5lcjtcbn1cblxuLyoqXG4gKiBBbGxvd3MgcmVnaXN0ZXJlZCBwbHVnaW5zIGFuIG9wcG9ydHVuaXR5IHRvIGV4dHJhY3QgZXZlbnRzIGZyb20gdG9wLWxldmVsXG4gKiBuYXRpdmUgYnJvd3NlciBldmVudHMuXG4gKlxuICogQHJldHVybiB7Kn0gQW4gYWNjdW11bGF0aW9uIG9mIHN5bnRoZXRpYyBldmVudHMuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdEV2ZW50cyh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB2YXIgZXZlbnRzID0gbnVsbDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gTm90IGV2ZXJ5IHBsdWdpbiBpbiB0aGUgb3JkZXJpbmcgbWF5IGJlIGxvYWRlZCBhdCBydW50aW1lLlxuICAgIHZhciBwb3NzaWJsZVBsdWdpbiA9IHBsdWdpbnNbaV07XG4gICAgaWYgKHBvc3NpYmxlUGx1Z2luKSB7XG4gICAgICB2YXIgZXh0cmFjdGVkRXZlbnRzID0gcG9zc2libGVQbHVnaW4uZXh0cmFjdEV2ZW50cyh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICBpZiAoZXh0cmFjdGVkRXZlbnRzKSB7XG4gICAgICAgIGV2ZW50cyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50cywgZXh0cmFjdGVkRXZlbnRzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV2ZW50cztcbn1cblxuZnVuY3Rpb24gcnVuRXZlbnRzSW5CYXRjaChldmVudHMsIHNpbXVsYXRlZCkge1xuICBpZiAoZXZlbnRzICE9PSBudWxsKSB7XG4gICAgZXZlbnRRdWV1ZSA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50UXVldWUsIGV2ZW50cyk7XG4gIH1cblxuICAvLyBTZXQgYGV2ZW50UXVldWVgIHRvIG51bGwgYmVmb3JlIHByb2Nlc3NpbmcgaXQgc28gdGhhdCB3ZSBjYW4gdGVsbCBpZiBtb3JlXG4gIC8vIGV2ZW50cyBnZXQgZW5xdWV1ZWQgd2hpbGUgcHJvY2Vzc2luZy5cbiAgdmFyIHByb2Nlc3NpbmdFdmVudFF1ZXVlID0gZXZlbnRRdWV1ZTtcbiAgZXZlbnRRdWV1ZSA9IG51bGw7XG5cbiAgaWYgKCFwcm9jZXNzaW5nRXZlbnRRdWV1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChzaW11bGF0ZWQpIHtcbiAgICBmb3JFYWNoQWNjdW11bGF0ZWQocHJvY2Vzc2luZ0V2ZW50UXVldWUsIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVNpbXVsYXRlZCk7XG4gIH0gZWxzZSB7XG4gICAgZm9yRWFjaEFjY3VtdWxhdGVkKHByb2Nlc3NpbmdFdmVudFF1ZXVlLCBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCk7XG4gIH1cbiAgISFldmVudFF1ZXVlID8gaW52YXJpYW50KGZhbHNlLCAncHJvY2Vzc0V2ZW50UXVldWUoKTogQWRkaXRpb25hbCBldmVudHMgd2VyZSBlbnF1ZXVlZCB3aGlsZSBwcm9jZXNzaW5nIGFuIGV2ZW50IHF1ZXVlLiBTdXBwb3J0IGZvciB0aGlzIGhhcyBub3QgeWV0IGJlZW4gaW1wbGVtZW50ZWQuJykgOiB2b2lkIDA7XG4gIC8vIFRoaXMgd291bGQgYmUgYSBnb29kIHRpbWUgdG8gcmV0aHJvdyBpZiBhbnkgb2YgdGhlIGV2ZW50IGhhbmRsZXJzIHRocmV3LlxuICBSZWFjdEVycm9yVXRpbHMucmV0aHJvd0NhdWdodEVycm9yKCk7XG59XG5cbmZ1bmN0aW9uIHJ1bkV4dHJhY3RlZEV2ZW50c0luQmF0Y2godG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgdmFyIGV2ZW50cyA9IGV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICBydW5FdmVudHNJbkJhdGNoKGV2ZW50cywgZmFsc2UpO1xufVxuXG52YXIgRXZlbnRQbHVnaW5IdWIgPSBPYmplY3QuZnJlZXplKHtcblx0aW5qZWN0aW9uOiBpbmplY3Rpb24sXG5cdGdldExpc3RlbmVyOiBnZXRMaXN0ZW5lcixcblx0cnVuRXZlbnRzSW5CYXRjaDogcnVuRXZlbnRzSW5CYXRjaCxcblx0cnVuRXh0cmFjdGVkRXZlbnRzSW5CYXRjaDogcnVuRXh0cmFjdGVkRXZlbnRzSW5CYXRjaFxufSk7XG5cbnZhciBJbmRldGVybWluYXRlQ29tcG9uZW50ID0gMDsgLy8gQmVmb3JlIHdlIGtub3cgd2hldGhlciBpdCBpcyBmdW5jdGlvbmFsIG9yIGNsYXNzXG52YXIgRnVuY3Rpb25hbENvbXBvbmVudCA9IDE7XG52YXIgQ2xhc3NDb21wb25lbnQgPSAyO1xudmFyIEhvc3RSb290ID0gMzsgLy8gUm9vdCBvZiBhIGhvc3QgdHJlZS4gQ291bGQgYmUgbmVzdGVkIGluc2lkZSBhbm90aGVyIG5vZGUuXG52YXIgSG9zdFBvcnRhbCA9IDQ7IC8vIEEgc3VidHJlZS4gQ291bGQgYmUgYW4gZW50cnkgcG9pbnQgdG8gYSBkaWZmZXJlbnQgcmVuZGVyZXIuXG52YXIgSG9zdENvbXBvbmVudCA9IDU7XG52YXIgSG9zdFRleHQgPSA2O1xuXG5cblxudmFyIEZyYWdtZW50ID0gMTA7XG52YXIgTW9kZSA9IDExO1xudmFyIENvbnRleHRDb25zdW1lciA9IDEyO1xudmFyIENvbnRleHRQcm92aWRlciA9IDEzO1xudmFyIEZvcndhcmRSZWYgPSAxNDtcbnZhciBQcm9maWxlciA9IDE1O1xudmFyIFRpbWVvdXRDb21wb25lbnQgPSAxNjtcblxudmFyIHJhbmRvbUtleSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xudmFyIGludGVybmFsSW5zdGFuY2VLZXkgPSAnX19yZWFjdEludGVybmFsSW5zdGFuY2UkJyArIHJhbmRvbUtleTtcbnZhciBpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXkgPSAnX19yZWFjdEV2ZW50SGFuZGxlcnMkJyArIHJhbmRvbUtleTtcblxuZnVuY3Rpb24gcHJlY2FjaGVGaWJlck5vZGUoaG9zdEluc3QsIG5vZGUpIHtcbiAgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IGhvc3RJbnN0O1xufVxuXG4vKipcbiAqIEdpdmVuIGEgRE9NIG5vZGUsIHJldHVybiB0aGUgY2xvc2VzdCBSZWFjdERPTUNvbXBvbmVudCBvclxuICogUmVhY3RET01UZXh0Q29tcG9uZW50IGluc3RhbmNlIGFuY2VzdG9yLlxuICovXG5mdW5jdGlvbiBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShub2RlKSB7XG4gIGlmIChub2RlW2ludGVybmFsSW5zdGFuY2VLZXldKSB7XG4gICAgcmV0dXJuIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gIH1cblxuICB3aGlsZSAoIW5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0pIHtcbiAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUb3Agb2YgdGhlIHRyZWUuIFRoaXMgbm9kZSBtdXN0IG5vdCBiZSBwYXJ0IG9mIGEgUmVhY3QgdHJlZSAob3IgaXNcbiAgICAgIC8vIHVubW91bnRlZCwgcG90ZW50aWFsbHkpLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgdmFyIGluc3QgPSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuICBpZiAoaW5zdC50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgaW5zdC50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgLy8gSW4gRmliZXIsIHRoaXMgd2lsbCBhbHdheXMgYmUgdGhlIGRlZXBlc3Qgcm9vdC5cbiAgICByZXR1cm4gaW5zdDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgRE9NIG5vZGUsIHJldHVybiB0aGUgUmVhY3RET01Db21wb25lbnQgb3IgUmVhY3RET01UZXh0Q29tcG9uZW50XG4gKiBpbnN0YW5jZSwgb3IgbnVsbCBpZiB0aGUgbm9kZSB3YXMgbm90IHJlbmRlcmVkIGJ5IHRoaXMgUmVhY3QuXG4gKi9cbmZ1bmN0aW9uIGdldEluc3RhbmNlRnJvbU5vZGUkMShub2RlKSB7XG4gIHZhciBpbnN0ID0gbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XTtcbiAgaWYgKGluc3QpIHtcbiAgICBpZiAoaW5zdC50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgaW5zdC50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICByZXR1cm4gaW5zdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgUmVhY3RET01Db21wb25lbnQgb3IgUmVhY3RET01UZXh0Q29tcG9uZW50LCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmdcbiAqIERPTSBub2RlLlxuICovXG5mdW5jdGlvbiBnZXROb2RlRnJvbUluc3RhbmNlJDEoaW5zdCkge1xuICBpZiAoaW5zdC50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgaW5zdC50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgLy8gSW4gRmliZXIgdGhpcywgaXMganVzdCB0aGUgc3RhdGUgbm9kZSByaWdodCBub3cuIFdlIGFzc3VtZSBpdCB3aWxsIGJlXG4gICAgLy8gYSBob3N0IGNvbXBvbmVudCBvciBob3N0IHRleHQuXG4gICAgcmV0dXJuIGluc3Quc3RhdGVOb2RlO1xuICB9XG5cbiAgLy8gV2l0aG91dCB0aGlzIGZpcnN0IGludmFyaWFudCwgcGFzc2luZyBhIG5vbi1ET00tY29tcG9uZW50IHRyaWdnZXJzIHRoZSBuZXh0XG4gIC8vIGludmFyaWFudCBmb3IgYSBtaXNzaW5nIHBhcmVudCwgd2hpY2ggaXMgc3VwZXIgY29uZnVzaW5nLlxuICBpbnZhcmlhbnQoZmFsc2UsICdnZXROb2RlRnJvbUluc3RhbmNlOiBJbnZhbGlkIGFyZ3VtZW50LicpO1xufVxuXG5mdW5jdGlvbiBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlJDEobm9kZSkge1xuICByZXR1cm4gbm9kZVtpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXldIHx8IG51bGw7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUZpYmVyUHJvcHMobm9kZSwgcHJvcHMpIHtcbiAgbm9kZVtpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXldID0gcHJvcHM7XG59XG5cbnZhciBSZWFjdERPTUNvbXBvbmVudFRyZWUgPSBPYmplY3QuZnJlZXplKHtcblx0cHJlY2FjaGVGaWJlck5vZGU6IHByZWNhY2hlRmliZXJOb2RlLFxuXHRnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZTogZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUsXG5cdGdldEluc3RhbmNlRnJvbU5vZGU6IGdldEluc3RhbmNlRnJvbU5vZGUkMSxcblx0Z2V0Tm9kZUZyb21JbnN0YW5jZTogZ2V0Tm9kZUZyb21JbnN0YW5jZSQxLFxuXHRnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlOiBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlJDEsXG5cdHVwZGF0ZUZpYmVyUHJvcHM6IHVwZGF0ZUZpYmVyUHJvcHNcbn0pO1xuXG5mdW5jdGlvbiBnZXRQYXJlbnQoaW5zdCkge1xuICBkbyB7XG4gICAgaW5zdCA9IGluc3QucmV0dXJuO1xuICAgIC8vIFRPRE86IElmIHRoaXMgaXMgYSBIb3N0Um9vdCB3ZSBtaWdodCB3YW50IHRvIGJhaWwgb3V0LlxuICAgIC8vIFRoYXQgaXMgZGVwZW5kaW5nIG9uIGlmIHdlIHdhbnQgbmVzdGVkIHN1YnRyZWVzIChsYXllcnMpIHRvIGJ1YmJsZVxuICAgIC8vIGV2ZW50cyB0byB0aGVpciBwYXJlbnQuIFdlIGNvdWxkIGFsc28gZ28gdGhyb3VnaCBwYXJlbnROb2RlIG9uIHRoZVxuICAgIC8vIGhvc3Qgbm9kZSBidXQgdGhhdCB3b3VsZG4ndCB3b3JrIGZvciBSZWFjdCBOYXRpdmUgYW5kIGRvZXNuJ3QgbGV0IHVzXG4gICAgLy8gZG8gdGhlIHBvcnRhbCBmZWF0dXJlLlxuICB9IHdoaWxlIChpbnN0ICYmIGluc3QudGFnICE9PSBIb3N0Q29tcG9uZW50KTtcbiAgaWYgKGluc3QpIHtcbiAgICByZXR1cm4gaW5zdDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxvd2VzdCBjb21tb24gYW5jZXN0b3Igb2YgQSBhbmQgQiwgb3IgbnVsbCBpZiB0aGV5IGFyZSBpblxuICogZGlmZmVyZW50IHRyZWVzLlxuICovXG5mdW5jdGlvbiBnZXRMb3dlc3RDb21tb25BbmNlc3RvcihpbnN0QSwgaW5zdEIpIHtcbiAgdmFyIGRlcHRoQSA9IDA7XG4gIGZvciAodmFyIHRlbXBBID0gaW5zdEE7IHRlbXBBOyB0ZW1wQSA9IGdldFBhcmVudCh0ZW1wQSkpIHtcbiAgICBkZXB0aEErKztcbiAgfVxuICB2YXIgZGVwdGhCID0gMDtcbiAgZm9yICh2YXIgdGVtcEIgPSBpbnN0QjsgdGVtcEI7IHRlbXBCID0gZ2V0UGFyZW50KHRlbXBCKSkge1xuICAgIGRlcHRoQisrO1xuICB9XG5cbiAgLy8gSWYgQSBpcyBkZWVwZXIsIGNyYXdsIHVwLlxuICB3aGlsZSAoZGVwdGhBIC0gZGVwdGhCID4gMCkge1xuICAgIGluc3RBID0gZ2V0UGFyZW50KGluc3RBKTtcbiAgICBkZXB0aEEtLTtcbiAgfVxuXG4gIC8vIElmIEIgaXMgZGVlcGVyLCBjcmF3bCB1cC5cbiAgd2hpbGUgKGRlcHRoQiAtIGRlcHRoQSA+IDApIHtcbiAgICBpbnN0QiA9IGdldFBhcmVudChpbnN0Qik7XG4gICAgZGVwdGhCLS07XG4gIH1cblxuICAvLyBXYWxrIGluIGxvY2tzdGVwIHVudGlsIHdlIGZpbmQgYSBtYXRjaC5cbiAgdmFyIGRlcHRoID0gZGVwdGhBO1xuICB3aGlsZSAoZGVwdGgtLSkge1xuICAgIGlmIChpbnN0QSA9PT0gaW5zdEIgfHwgaW5zdEEgPT09IGluc3RCLmFsdGVybmF0ZSkge1xuICAgICAgcmV0dXJuIGluc3RBO1xuICAgIH1cbiAgICBpbnN0QSA9IGdldFBhcmVudChpbnN0QSk7XG4gICAgaW5zdEIgPSBnZXRQYXJlbnQoaW5zdEIpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybiBpZiBBIGlzIGFuIGFuY2VzdG9yIG9mIEIuXG4gKi9cblxuXG4vKipcbiAqIFJldHVybiB0aGUgcGFyZW50IGluc3RhbmNlIG9mIHRoZSBwYXNzZWQtaW4gaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudEluc3RhbmNlKGluc3QpIHtcbiAgcmV0dXJuIGdldFBhcmVudChpbnN0KTtcbn1cblxuLyoqXG4gKiBTaW11bGF0ZXMgdGhlIHRyYXZlcnNhbCBvZiBhIHR3by1waGFzZSwgY2FwdHVyZS9idWJibGUgZXZlbnQgZGlzcGF0Y2guXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlVHdvUGhhc2UoaW5zdCwgZm4sIGFyZykge1xuICB2YXIgcGF0aCA9IFtdO1xuICB3aGlsZSAoaW5zdCkge1xuICAgIHBhdGgucHVzaChpbnN0KTtcbiAgICBpbnN0ID0gZ2V0UGFyZW50KGluc3QpO1xuICB9XG4gIHZhciBpID0gdm9pZCAwO1xuICBmb3IgKGkgPSBwYXRoLmxlbmd0aDsgaS0tID4gMDspIHtcbiAgICBmbihwYXRoW2ldLCAnY2FwdHVyZWQnLCBhcmcpO1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgZm4ocGF0aFtpXSwgJ2J1YmJsZWQnLCBhcmcpO1xuICB9XG59XG5cbi8qKlxuICogVHJhdmVyc2VzIHRoZSBJRCBoaWVyYXJjaHkgYW5kIGludm9rZXMgdGhlIHN1cHBsaWVkIGBjYmAgb24gYW55IElEcyB0aGF0XG4gKiBzaG91bGQgd291bGQgcmVjZWl2ZSBhIGBtb3VzZUVudGVyYCBvciBgbW91c2VMZWF2ZWAgZXZlbnQuXG4gKlxuICogRG9lcyBub3QgaW52b2tlIHRoZSBjYWxsYmFjayBvbiB0aGUgbmVhcmVzdCBjb21tb24gYW5jZXN0b3IgYmVjYXVzZSBub3RoaW5nXG4gKiBcImVudGVyZWRcIiBvciBcImxlZnRcIiB0aGF0IGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlRW50ZXJMZWF2ZShmcm9tLCB0bywgZm4sIGFyZ0Zyb20sIGFyZ1RvKSB7XG4gIHZhciBjb21tb24gPSBmcm9tICYmIHRvID8gZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IoZnJvbSwgdG8pIDogbnVsbDtcbiAgdmFyIHBhdGhGcm9tID0gW107XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKCFmcm9tKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKGZyb20gPT09IGNvbW1vbikge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBhbHRlcm5hdGUgPSBmcm9tLmFsdGVybmF0ZTtcbiAgICBpZiAoYWx0ZXJuYXRlICE9PSBudWxsICYmIGFsdGVybmF0ZSA9PT0gY29tbW9uKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgcGF0aEZyb20ucHVzaChmcm9tKTtcbiAgICBmcm9tID0gZ2V0UGFyZW50KGZyb20pO1xuICB9XG4gIHZhciBwYXRoVG8gPSBbXTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAoIXRvKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHRvID09PSBjb21tb24pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgX2FsdGVybmF0ZSA9IHRvLmFsdGVybmF0ZTtcbiAgICBpZiAoX2FsdGVybmF0ZSAhPT0gbnVsbCAmJiBfYWx0ZXJuYXRlID09PSBjb21tb24pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwYXRoVG8ucHVzaCh0byk7XG4gICAgdG8gPSBnZXRQYXJlbnQodG8pO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aEZyb20ubGVuZ3RoOyBpKyspIHtcbiAgICBmbihwYXRoRnJvbVtpXSwgJ2J1YmJsZWQnLCBhcmdGcm9tKTtcbiAgfVxuICBmb3IgKHZhciBfaSA9IHBhdGhUby5sZW5ndGg7IF9pLS0gPiAwOykge1xuICAgIGZuKHBhdGhUb1tfaV0sICdjYXB0dXJlZCcsIGFyZ1RvKTtcbiAgfVxufVxuXG4vKipcbiAqIFNvbWUgZXZlbnQgdHlwZXMgaGF2ZSBhIG5vdGlvbiBvZiBkaWZmZXJlbnQgcmVnaXN0cmF0aW9uIG5hbWVzIGZvciBkaWZmZXJlbnRcbiAqIFwicGhhc2VzXCIgb2YgcHJvcGFnYXRpb24uIFRoaXMgZmluZHMgbGlzdGVuZXJzIGJ5IGEgZ2l2ZW4gcGhhc2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcHJvcGFnYXRpb25QaGFzZSkge1xuICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3Byb3BhZ2F0aW9uUGhhc2VdO1xuICByZXR1cm4gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG59XG5cbi8qKlxuICogQSBzbWFsbCBzZXQgb2YgcHJvcGFnYXRpb24gcGF0dGVybnMsIGVhY2ggb2Ygd2hpY2ggd2lsbCBhY2NlcHQgYSBzbWFsbCBhbW91bnRcbiAqIG9mIGluZm9ybWF0aW9uLCBhbmQgZ2VuZXJhdGUgYSBzZXQgb2YgXCJkaXNwYXRjaCByZWFkeSBldmVudCBvYmplY3RzXCIgLSB3aGljaFxuICogYXJlIHNldHMgb2YgZXZlbnRzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYW5ub3RhdGVkIHdpdGggYSBzZXQgb2YgZGlzcGF0Y2hlZFxuICogbGlzdGVuZXIgZnVuY3Rpb25zL2lkcy4gVGhlIEFQSSBpcyBkZXNpZ25lZCB0aGlzIHdheSB0byBkaXNjb3VyYWdlIHRoZXNlXG4gKiBwcm9wYWdhdGlvbiBzdHJhdGVnaWVzIGZyb20gYWN0dWFsbHkgZXhlY3V0aW5nIHRoZSBkaXNwYXRjaGVzLCBzaW5jZSB3ZVxuICogYWx3YXlzIHdhbnQgdG8gY29sbGVjdCB0aGUgZW50aXJlIHNldCBvZiBkaXNwYXRjaGVzIGJlZm9yZSBleGVjdXRpbmcgZXZlbiBhXG4gKiBzaW5nbGUgb25lLlxuICovXG5cbi8qKlxuICogVGFncyBhIGBTeW50aGV0aWNFdmVudGAgd2l0aCBkaXNwYXRjaGVkIGxpc3RlbmVycy4gQ3JlYXRpbmcgdGhpcyBmdW5jdGlvblxuICogaGVyZSwgYWxsb3dzIHVzIHRvIG5vdCBoYXZlIHRvIGJpbmQgb3IgY3JlYXRlIGZ1bmN0aW9ucyBmb3IgZWFjaCBldmVudC5cbiAqIE11dGF0aW5nIHRoZSBldmVudCdzIG1lbWJlcnMgYWxsb3dzIHVzIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBhIHdyYXBwaW5nXG4gKiBcImRpc3BhdGNoXCIgb2JqZWN0IHRoYXQgcGFpcnMgdGhlIGV2ZW50IHdpdGggdGhlIGxpc3RlbmVyLlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzKGluc3QsIHBoYXNlLCBldmVudCkge1xuICB7XG4gICAgIWluc3QgPyB3YXJuaW5nKGZhbHNlLCAnRGlzcGF0Y2hpbmcgaW5zdCBtdXN0IG5vdCBiZSBudWxsJykgOiB2b2lkIDA7XG4gIH1cbiAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJBdFBoYXNlKGluc3QsIGV2ZW50LCBwaGFzZSk7XG4gIGlmIChsaXN0ZW5lcikge1xuICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcywgaW5zdCk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb2xsZWN0IGRpc3BhdGNoZXMgKG11c3QgYmUgZW50aXJlbHkgY29sbGVjdGVkIGJlZm9yZSBkaXNwYXRjaGluZyAtIHNlZSB1bml0XG4gKiB0ZXN0cykuIExhemlseSBhbGxvY2F0ZSB0aGUgYXJyYXkgdG8gY29uc2VydmUgbWVtb3J5LiAgV2UgbXVzdCBsb29wIHRocm91Z2hcbiAqIGVhY2ggZXZlbnQgYW5kIHBlcmZvcm0gdGhlIHRyYXZlcnNhbCBmb3IgZWFjaCBvbmUuIFdlIGNhbm5vdCBwZXJmb3JtIGFcbiAqIHNpbmdsZSB0cmF2ZXJzYWwgZm9yIHRoZSBlbnRpcmUgY29sbGVjdGlvbiBvZiBldmVudHMgYmVjYXVzZSBlYWNoIGV2ZW50IG1heVxuICogaGF2ZSBhIGRpZmZlcmVudCB0YXJnZXQuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGUoZXZlbnQpIHtcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgdHJhdmVyc2VUd29QaGFzZShldmVudC5fdGFyZ2V0SW5zdCwgYWNjdW11bGF0ZURpcmVjdGlvbmFsRGlzcGF0Y2hlcywgZXZlbnQpO1xuICB9XG59XG5cbi8qKlxuICogU2FtZSBhcyBgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZWAsIGJ1dCBza2lwcyBvdmVyIHRoZSB0YXJnZXRJRC5cbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQoZXZlbnQpIHtcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgdmFyIHRhcmdldEluc3QgPSBldmVudC5fdGFyZ2V0SW5zdDtcbiAgICB2YXIgcGFyZW50SW5zdCA9IHRhcmdldEluc3QgPyBnZXRQYXJlbnRJbnN0YW5jZSh0YXJnZXRJbnN0KSA6IG51bGw7XG4gICAgdHJhdmVyc2VUd29QaGFzZShwYXJlbnRJbnN0LCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBY2N1bXVsYXRlcyB3aXRob3V0IHJlZ2FyZCB0byBkaXJlY3Rpb24sIGRvZXMgbm90IGxvb2sgZm9yIHBoYXNlZFxuICogcmVnaXN0cmF0aW9uIG5hbWVzLiBTYW1lIGFzIGBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZWAgYnV0IHdpdGhvdXRcbiAqIHJlcXVpcmluZyB0aGF0IHRoZSBgZGlzcGF0Y2hNYXJrZXJgIGJlIHRoZSBzYW1lIGFzIHRoZSBkaXNwYXRjaGVkIElELlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlzcGF0Y2hlcyhpbnN0LCBpZ25vcmVkRGlyZWN0aW9uLCBldmVudCkge1xuICBpZiAoaW5zdCAmJiBldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWUgPSBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lO1xuICAgIHZhciBsaXN0ZW5lciA9IGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMsIGluc3QpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY3VtdWxhdGVzIGRpc3BhdGNoZXMgb24gYW4gYFN5bnRoZXRpY0V2ZW50YCwgYnV0IG9ubHkgZm9yIHRoZVxuICogYGRpc3BhdGNoTWFya2VyYC5cbiAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50XG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgYWNjdW11bGF0ZURpc3BhdGNoZXMoZXZlbnQuX3RhcmdldEluc3QsIG51bGwsIGV2ZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50cykge1xuICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKTtcbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQoZXZlbnRzKSB7XG4gIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVTa2lwVGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzKGxlYXZlLCBlbnRlciwgZnJvbSwgdG8pIHtcbiAgdHJhdmVyc2VFbnRlckxlYXZlKGZyb20sIHRvLCBhY2N1bXVsYXRlRGlzcGF0Y2hlcywgbGVhdmUsIGVudGVyKTtcbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXMoZXZlbnRzKSB7XG4gIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlKTtcbn1cblxudmFyIEV2ZW50UHJvcGFnYXRvcnMgPSBPYmplY3QuZnJlZXplKHtcblx0YWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlczogYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyxcblx0YWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQ6IGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0LFxuXHRhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXM6IGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyxcblx0YWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXM6IGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzXG59KTtcblxuLy8gRG8gbm90IHVzZXMgdGhlIGJlbG93IHR3byBtZXRob2RzIGRpcmVjdGx5IVxuLy8gSW5zdGVhZCB1c2UgY29uc3RhbnRzIGV4cG9ydGVkIGZyb20gRE9NVG9wTGV2ZWxFdmVudFR5cGVzIGluIFJlYWN0RE9NLlxuLy8gKEl0IGlzIHRoZSBvbmx5IG1vZHVsZSB0aGF0IGlzIGFsbG93ZWQgdG8gYWNjZXNzIHRoZXNlIG1ldGhvZHMuKVxuXG5mdW5jdGlvbiB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUodG9wTGV2ZWxUeXBlKSB7XG4gIHJldHVybiB0b3BMZXZlbFR5cGU7XG59XG5cbmZ1bmN0aW9uIHVuc2FmZUNhc3RET01Ub3BMZXZlbFR5cGVUb1N0cmluZyh0b3BMZXZlbFR5cGUpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIG1hcHBpbmcgb2Ygc3RhbmRhcmQgdmVuZG9yIHByZWZpeGVzIHVzaW5nIHRoZSBkZWZpbmVkIHN0eWxlIHByb3BlcnR5IGFuZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZVByb3BcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG1ha2VQcmVmaXhNYXAoc3R5bGVQcm9wLCBldmVudE5hbWUpIHtcbiAgdmFyIHByZWZpeGVzID0ge307XG5cbiAgcHJlZml4ZXNbc3R5bGVQcm9wLnRvTG93ZXJDYXNlKCldID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHByZWZpeGVzWydXZWJraXQnICsgc3R5bGVQcm9wXSA9ICd3ZWJraXQnICsgZXZlbnROYW1lO1xuICBwcmVmaXhlc1snTW96JyArIHN0eWxlUHJvcF0gPSAnbW96JyArIGV2ZW50TmFtZTtcbiAgcHJlZml4ZXNbJ21zJyArIHN0eWxlUHJvcF0gPSAnTVMnICsgZXZlbnROYW1lO1xuICBwcmVmaXhlc1snTycgKyBzdHlsZVByb3BdID0gJ28nICsgZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgcmV0dXJuIHByZWZpeGVzO1xufVxuXG4vKipcbiAqIEEgbGlzdCBvZiBldmVudCBuYW1lcyB0byBhIGNvbmZpZ3VyYWJsZSBsaXN0IG9mIHZlbmRvciBwcmVmaXhlcy5cbiAqL1xudmFyIHZlbmRvclByZWZpeGVzID0ge1xuICBhbmltYXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoJ0FuaW1hdGlvbicsICdBbmltYXRpb25FbmQnKSxcbiAgYW5pbWF0aW9uaXRlcmF0aW9uOiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uSXRlcmF0aW9uJyksXG4gIGFuaW1hdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uU3RhcnQnKSxcbiAgdHJhbnNpdGlvbmVuZDogbWFrZVByZWZpeE1hcCgnVHJhbnNpdGlvbicsICdUcmFuc2l0aW9uRW5kJylcbn07XG5cbi8qKlxuICogRXZlbnQgbmFtZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBkZXRlY3RlZCBhbmQgcHJlZml4ZWQgKGlmIGFwcGxpY2FibGUpLlxuICovXG52YXIgcHJlZml4ZWRFdmVudE5hbWVzID0ge307XG5cbi8qKlxuICogRWxlbWVudCB0byBjaGVjayBmb3IgcHJlZml4ZXMgb24uXG4gKi9cbnZhciBzdHlsZSA9IHt9O1xuXG4vKipcbiAqIEJvb3RzdHJhcCBpZiBhIERPTSBleGlzdHMuXG4gKi9cbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcblxuICAvLyBPbiBzb21lIHBsYXRmb3JtcywgaW4gcGFydGljdWxhciBzb21lIHJlbGVhc2VzIG9mIEFuZHJvaWQgNC54LFxuICAvLyB0aGUgdW4tcHJlZml4ZWQgXCJhbmltYXRpb25cIiBhbmQgXCJ0cmFuc2l0aW9uXCIgcHJvcGVydGllcyBhcmUgZGVmaW5lZCBvbiB0aGVcbiAgLy8gc3R5bGUgb2JqZWN0IGJ1dCB0aGUgZXZlbnRzIHRoYXQgZmlyZSB3aWxsIHN0aWxsIGJlIHByZWZpeGVkLCBzbyB3ZSBuZWVkXG4gIC8vIHRvIGNoZWNrIGlmIHRoZSB1bi1wcmVmaXhlZCBldmVudHMgYXJlIHVzYWJsZSwgYW5kIGlmIG5vdCByZW1vdmUgdGhlbSBmcm9tIHRoZSBtYXAuXG4gIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25lbmQuYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25pdGVyYXRpb24uYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25zdGFydC5hbmltYXRpb247XG4gIH1cblxuICAvLyBTYW1lIGFzIGFib3ZlXG4gIGlmICghKCdUcmFuc2l0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcbiAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uO1xuICB9XG59XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IHZlbmRvciBwcmVmaXhlZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKGV2ZW50TmFtZSkge1xuICBpZiAocHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gIH0gZWxzZSBpZiAoIXZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gZXZlbnROYW1lO1xuICB9XG5cbiAgdmFyIHByZWZpeE1hcCA9IHZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV07XG5cbiAgZm9yICh2YXIgc3R5bGVQcm9wIGluIHByZWZpeE1hcCkge1xuICAgIGlmIChwcmVmaXhNYXAuaGFzT3duUHJvcGVydHkoc3R5bGVQcm9wKSAmJiBzdHlsZVByb3AgaW4gc3R5bGUpIHtcbiAgICAgIHJldHVybiBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSA9IHByZWZpeE1hcFtzdHlsZVByb3BdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBldmVudE5hbWU7XG59XG5cbi8qKlxuICogVG8gaWRlbnRpZnkgdG9wIGxldmVsIGV2ZW50cyBpbiBSZWFjdERPTSwgd2UgdXNlIGNvbnN0YW50cyBkZWZpbmVkIGJ5IHRoaXNcbiAqIG1vZHVsZS4gVGhpcyBpcyB0aGUgb25seSBtb2R1bGUgdGhhdCB1c2VzIHRoZSB1bnNhZmUqIG1ldGhvZHMgdG8gZXhwcmVzc1xuICogdGhhdCB0aGUgY29uc3RhbnRzIGFjdHVhbGx5IGNvcnJlc3BvbmQgdG8gdGhlIGJyb3dzZXIgZXZlbnQgbmFtZXMuIFRoaXMgbGV0c1xuICogdXMgc2F2ZSBzb21lIGJ1bmRsZSBzaXplIGJ5IGF2b2lkaW5nIGEgdG9wIGxldmVsIHR5cGUgLT4gZXZlbnQgbmFtZSBtYXAuXG4gKiBUaGUgcmVzdCBvZiBSZWFjdERPTSBjb2RlIHNob3VsZCBpbXBvcnQgdG9wIGxldmVsIHR5cGVzIGZyb20gdGhpcyBmaWxlLlxuICovXG52YXIgVE9QX0FCT1JUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdhYm9ydCcpO1xudmFyIFRPUF9BTklNQVRJT05fRU5EID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25lbmQnKSk7XG52YXIgVE9QX0FOSU1BVElPTl9JVEVSQVRJT04gPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ2FuaW1hdGlvbml0ZXJhdGlvbicpKTtcbnZhciBUT1BfQU5JTUFUSU9OX1NUQVJUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25zdGFydCcpKTtcbnZhciBUT1BfQkxVUiA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnYmx1cicpO1xudmFyIFRPUF9DQU5fUExBWSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnY2FucGxheScpO1xudmFyIFRPUF9DQU5fUExBWV9USFJPVUdIID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdjYW5wbGF5dGhyb3VnaCcpO1xudmFyIFRPUF9DQU5DRUwgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2NhbmNlbCcpO1xudmFyIFRPUF9DSEFOR0UgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2NoYW5nZScpO1xudmFyIFRPUF9DTElDSyA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnY2xpY2snKTtcbnZhciBUT1BfQ0xPU0UgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2Nsb3NlJyk7XG52YXIgVE9QX0NPTVBPU0lUSU9OX0VORCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnY29tcG9zaXRpb25lbmQnKTtcbnZhciBUT1BfQ09NUE9TSVRJT05fU1RBUlQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2NvbXBvc2l0aW9uc3RhcnQnKTtcbnZhciBUT1BfQ09NUE9TSVRJT05fVVBEQVRFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdjb21wb3NpdGlvbnVwZGF0ZScpO1xudmFyIFRPUF9DT05URVhUX01FTlUgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2NvbnRleHRtZW51Jyk7XG52YXIgVE9QX0NPUFkgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2NvcHknKTtcbnZhciBUT1BfQ1VUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdjdXQnKTtcbnZhciBUT1BfRE9VQkxFX0NMSUNLID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdkYmxjbGljaycpO1xudmFyIFRPUF9EUkFHID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdkcmFnJyk7XG52YXIgVE9QX0RSQUdfRU5EID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdkcmFnZW5kJyk7XG52YXIgVE9QX0RSQUdfRU5URVIgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2RyYWdlbnRlcicpO1xudmFyIFRPUF9EUkFHX0VYSVQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2RyYWdleGl0Jyk7XG52YXIgVE9QX0RSQUdfTEVBVkUgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2RyYWdsZWF2ZScpO1xudmFyIFRPUF9EUkFHX09WRVIgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2RyYWdvdmVyJyk7XG52YXIgVE9QX0RSQUdfU1RBUlQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2RyYWdzdGFydCcpO1xudmFyIFRPUF9EUk9QID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdkcm9wJyk7XG52YXIgVE9QX0RVUkFUSU9OX0NIQU5HRSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnZHVyYXRpb25jaGFuZ2UnKTtcbnZhciBUT1BfRU1QVElFRCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnZW1wdGllZCcpO1xudmFyIFRPUF9FTkNSWVBURUQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2VuY3J5cHRlZCcpO1xudmFyIFRPUF9FTkRFRCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnZW5kZWQnKTtcbnZhciBUT1BfRVJST1IgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2Vycm9yJyk7XG52YXIgVE9QX0ZPQ1VTID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdmb2N1cycpO1xudmFyIFRPUF9HT1RfUE9JTlRFUl9DQVBUVVJFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdnb3Rwb2ludGVyY2FwdHVyZScpO1xudmFyIFRPUF9JTlBVVCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnaW5wdXQnKTtcbnZhciBUT1BfSU5WQUxJRCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnaW52YWxpZCcpO1xudmFyIFRPUF9LRVlfRE9XTiA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgna2V5ZG93bicpO1xudmFyIFRPUF9LRVlfUFJFU1MgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2tleXByZXNzJyk7XG52YXIgVE9QX0tFWV9VUCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgna2V5dXAnKTtcbnZhciBUT1BfTE9BRCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnbG9hZCcpO1xudmFyIFRPUF9MT0FEX1NUQVJUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdsb2Fkc3RhcnQnKTtcbnZhciBUT1BfTE9BREVEX0RBVEEgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2xvYWRlZGRhdGEnKTtcbnZhciBUT1BfTE9BREVEX01FVEFEQVRBID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdsb2FkZWRtZXRhZGF0YScpO1xudmFyIFRPUF9MT1NUX1BPSU5URVJfQ0FQVFVSRSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnbG9zdHBvaW50ZXJjYXB0dXJlJyk7XG52YXIgVE9QX01PVVNFX0RPV04gPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ21vdXNlZG93bicpO1xudmFyIFRPUF9NT1VTRV9NT1ZFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdtb3VzZW1vdmUnKTtcbnZhciBUT1BfTU9VU0VfT1VUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdtb3VzZW91dCcpO1xudmFyIFRPUF9NT1VTRV9PVkVSID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdtb3VzZW92ZXInKTtcbnZhciBUT1BfTU9VU0VfVVAgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ21vdXNldXAnKTtcbnZhciBUT1BfUEFTVEUgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3Bhc3RlJyk7XG52YXIgVE9QX1BBVVNFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdwYXVzZScpO1xudmFyIFRPUF9QTEFZID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdwbGF5Jyk7XG52YXIgVE9QX1BMQVlJTkcgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3BsYXlpbmcnKTtcbnZhciBUT1BfUE9JTlRFUl9DQU5DRUwgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3BvaW50ZXJjYW5jZWwnKTtcbnZhciBUT1BfUE9JTlRFUl9ET1dOID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdwb2ludGVyZG93bicpO1xuXG5cbnZhciBUT1BfUE9JTlRFUl9NT1ZFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdwb2ludGVybW92ZScpO1xudmFyIFRPUF9QT0lOVEVSX09VVCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgncG9pbnRlcm91dCcpO1xudmFyIFRPUF9QT0lOVEVSX09WRVIgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3BvaW50ZXJvdmVyJyk7XG52YXIgVE9QX1BPSU5URVJfVVAgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3BvaW50ZXJ1cCcpO1xudmFyIFRPUF9QUk9HUkVTUyA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgncHJvZ3Jlc3MnKTtcbnZhciBUT1BfUkFURV9DSEFOR0UgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3JhdGVjaGFuZ2UnKTtcbnZhciBUT1BfUkVTRVQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3Jlc2V0Jyk7XG52YXIgVE9QX1NDUk9MTCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnc2Nyb2xsJyk7XG52YXIgVE9QX1NFRUtFRCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnc2Vla2VkJyk7XG52YXIgVE9QX1NFRUtJTkcgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3NlZWtpbmcnKTtcbnZhciBUT1BfU0VMRUNUSU9OX0NIQU5HRSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnc2VsZWN0aW9uY2hhbmdlJyk7XG52YXIgVE9QX1NUQUxMRUQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3N0YWxsZWQnKTtcbnZhciBUT1BfU1VCTUlUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdzdWJtaXQnKTtcbnZhciBUT1BfU1VTUEVORCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnc3VzcGVuZCcpO1xudmFyIFRPUF9URVhUX0lOUFVUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCd0ZXh0SW5wdXQnKTtcbnZhciBUT1BfVElNRV9VUERBVEUgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3RpbWV1cGRhdGUnKTtcbnZhciBUT1BfVE9HR0xFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCd0b2dnbGUnKTtcbnZhciBUT1BfVE9VQ0hfQ0FOQ0VMID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCd0b3VjaGNhbmNlbCcpO1xudmFyIFRPUF9UT1VDSF9FTkQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3RvdWNoZW5kJyk7XG52YXIgVE9QX1RPVUNIX01PVkUgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3RvdWNobW92ZScpO1xudmFyIFRPUF9UT1VDSF9TVEFSVCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgndG91Y2hzdGFydCcpO1xudmFyIFRPUF9UUkFOU0lUSU9OX0VORCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZShnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSgndHJhbnNpdGlvbmVuZCcpKTtcbnZhciBUT1BfVk9MVU1FX0NIQU5HRSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgndm9sdW1lY2hhbmdlJyk7XG52YXIgVE9QX1dBSVRJTkcgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3dhaXRpbmcnKTtcbnZhciBUT1BfV0hFRUwgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3doZWVsJyk7XG5cbi8vIExpc3Qgb2YgZXZlbnRzIHRoYXQgbmVlZCB0byBiZSBpbmRpdmlkdWFsbHkgYXR0YWNoZWQgdG8gbWVkaWEgZWxlbWVudHMuXG4vLyBOb3RlIHRoYXQgZXZlbnRzIGluIHRoaXMgbGlzdCB3aWxsICpub3QqIGJlIGxpc3RlbmVkIHRvIGF0IHRoZSB0b3AgbGV2ZWxcbi8vIHVubGVzcyB0aGV5J3JlIGV4cGxpY2l0bHkgd2hpdGVsaXN0ZWQgaW4gYFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5saXN0ZW5Ub2AuXG52YXIgbWVkaWFFdmVudFR5cGVzID0gW1RPUF9BQk9SVCwgVE9QX0NBTl9QTEFZLCBUT1BfQ0FOX1BMQVlfVEhST1VHSCwgVE9QX0RVUkFUSU9OX0NIQU5HRSwgVE9QX0VNUFRJRUQsIFRPUF9FTkNSWVBURUQsIFRPUF9FTkRFRCwgVE9QX0VSUk9SLCBUT1BfTE9BREVEX0RBVEEsIFRPUF9MT0FERURfTUVUQURBVEEsIFRPUF9MT0FEX1NUQVJULCBUT1BfUEFVU0UsIFRPUF9QTEFZLCBUT1BfUExBWUlORywgVE9QX1BST0dSRVNTLCBUT1BfUkFURV9DSEFOR0UsIFRPUF9TRUVLRUQsIFRPUF9TRUVLSU5HLCBUT1BfU1RBTExFRCwgVE9QX1NVU1BFTkQsIFRPUF9USU1FX1VQREFURSwgVE9QX1ZPTFVNRV9DSEFOR0UsIFRPUF9XQUlUSU5HXTtcblxuZnVuY3Rpb24gZ2V0UmF3RXZlbnROYW1lKHRvcExldmVsVHlwZSkge1xuICByZXR1cm4gdW5zYWZlQ2FzdERPTVRvcExldmVsVHlwZVRvU3RyaW5nKHRvcExldmVsVHlwZSk7XG59XG5cbnZhciBjb250ZW50S2V5ID0gbnVsbDtcblxuLyoqXG4gKiBHZXRzIHRoZSBrZXkgdXNlZCB0byBhY2Nlc3MgdGV4dCBjb250ZW50IG9uIGEgRE9NIG5vZGUuXG4gKlxuICogQHJldHVybiB7P3N0cmluZ30gS2V5IHVzZWQgdG8gYWNjZXNzIHRleHQgY29udGVudC5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBnZXRUZXh0Q29udGVudEFjY2Vzc29yKCkge1xuICBpZiAoIWNvbnRlbnRLZXkgJiYgRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgLy8gUHJlZmVyIHRleHRDb250ZW50IHRvIGlubmVyVGV4dCBiZWNhdXNlIG1hbnkgYnJvd3NlcnMgc3VwcG9ydCBib3RoIGJ1dFxuICAgIC8vIFNWRyA8dGV4dD4gZWxlbWVudHMgZG9uJ3Qgc3VwcG9ydCBpbm5lclRleHQgZXZlbiB3aGVuIDxkaXY+IGRvZXMuXG4gICAgY29udGVudEtleSA9ICd0ZXh0Q29udGVudCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gJ3RleHRDb250ZW50JyA6ICdpbm5lclRleHQnO1xuICB9XG4gIHJldHVybiBjb250ZW50S2V5O1xufVxuXG4vKipcbiAqIFRoaXMgaGVscGVyIG9iamVjdCBzdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgdGV4dCBjb250ZW50IG9mIGEgdGFyZ2V0IG5vZGUsXG4gKiBhbGxvd2luZyBjb21wYXJpc29uIG9mIGNvbnRlbnQgYmVmb3JlIGFuZCBhZnRlciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIElkZW50aWZ5IHRoZSBub2RlIHdoZXJlIHNlbGVjdGlvbiBjdXJyZW50bHkgYmVnaW5zLCB0aGVuIG9ic2VydmVcbiAqIGJvdGggaXRzIHRleHQgY29udGVudCBhbmQgaXRzIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIERPTS4gU2luY2UgdGhlXG4gKiBicm93c2VyIG1heSBuYXRpdmVseSByZXBsYWNlIHRoZSB0YXJnZXQgbm9kZSBkdXJpbmcgY29tcG9zaXRpb24sIHdlIGNhblxuICogdXNlIGl0cyBwb3NpdGlvbiB0byBmaW5kIGl0cyByZXBsYWNlbWVudC5cbiAqXG4gKlxuICovXG52YXIgY29tcG9zaXRpb25TdGF0ZSA9IHtcbiAgX3Jvb3Q6IG51bGwsXG4gIF9zdGFydFRleHQ6IG51bGwsXG4gIF9mYWxsYmFja1RleHQ6IG51bGxcbn07XG5cbmZ1bmN0aW9uIGluaXRpYWxpemUobmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgY29tcG9zaXRpb25TdGF0ZS5fcm9vdCA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICBjb21wb3NpdGlvblN0YXRlLl9zdGFydFRleHQgPSBnZXRUZXh0KCk7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXNldCgpIHtcbiAgY29tcG9zaXRpb25TdGF0ZS5fcm9vdCA9IG51bGw7XG4gIGNvbXBvc2l0aW9uU3RhdGUuX3N0YXJ0VGV4dCA9IG51bGw7XG4gIGNvbXBvc2l0aW9uU3RhdGUuX2ZhbGxiYWNrVGV4dCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldERhdGEoKSB7XG4gIGlmIChjb21wb3NpdGlvblN0YXRlLl9mYWxsYmFja1RleHQpIHtcbiAgICByZXR1cm4gY29tcG9zaXRpb25TdGF0ZS5fZmFsbGJhY2tUZXh0O1xuICB9XG5cbiAgdmFyIHN0YXJ0ID0gdm9pZCAwO1xuICB2YXIgc3RhcnRWYWx1ZSA9IGNvbXBvc2l0aW9uU3RhdGUuX3N0YXJ0VGV4dDtcbiAgdmFyIHN0YXJ0TGVuZ3RoID0gc3RhcnRWYWx1ZS5sZW5ndGg7XG4gIHZhciBlbmQgPSB2b2lkIDA7XG4gIHZhciBlbmRWYWx1ZSA9IGdldFRleHQoKTtcbiAgdmFyIGVuZExlbmd0aCA9IGVuZFZhbHVlLmxlbmd0aDtcblxuICBmb3IgKHN0YXJ0ID0gMDsgc3RhcnQgPCBzdGFydExlbmd0aDsgc3RhcnQrKykge1xuICAgIGlmIChzdGFydFZhbHVlW3N0YXJ0XSAhPT0gZW5kVmFsdWVbc3RhcnRdKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgbWluRW5kID0gc3RhcnRMZW5ndGggLSBzdGFydDtcbiAgZm9yIChlbmQgPSAxOyBlbmQgPD0gbWluRW5kOyBlbmQrKykge1xuICAgIGlmIChzdGFydFZhbHVlW3N0YXJ0TGVuZ3RoIC0gZW5kXSAhPT0gZW5kVmFsdWVbZW5kTGVuZ3RoIC0gZW5kXSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIHNsaWNlVGFpbCA9IGVuZCA+IDEgPyAxIC0gZW5kIDogdW5kZWZpbmVkO1xuICBjb21wb3NpdGlvblN0YXRlLl9mYWxsYmFja1RleHQgPSBlbmRWYWx1ZS5zbGljZShzdGFydCwgc2xpY2VUYWlsKTtcbiAgcmV0dXJuIGNvbXBvc2l0aW9uU3RhdGUuX2ZhbGxiYWNrVGV4dDtcbn1cblxuZnVuY3Rpb24gZ2V0VGV4dCgpIHtcbiAgaWYgKCd2YWx1ZScgaW4gY29tcG9zaXRpb25TdGF0ZS5fcm9vdCkge1xuICAgIHJldHVybiBjb21wb3NpdGlvblN0YXRlLl9yb290LnZhbHVlO1xuICB9XG4gIHJldHVybiBjb21wb3NpdGlvblN0YXRlLl9yb290W2dldFRleHRDb250ZW50QWNjZXNzb3IoKV07XG59XG5cbi8qIGVzbGludCB2YWxpZC10eXBlb2Y6IDAgKi9cblxudmFyIGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5ID0gZmFsc2U7XG52YXIgRVZFTlRfUE9PTF9TSVpFID0gMTA7XG5cbnZhciBzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllcyA9IFsnZGlzcGF0Y2hDb25maWcnLCAnX3RhcmdldEluc3QnLCAnbmF0aXZlRXZlbnQnLCAnaXNEZWZhdWx0UHJldmVudGVkJywgJ2lzUHJvcGFnYXRpb25TdG9wcGVkJywgJ19kaXNwYXRjaExpc3RlbmVycycsICdfZGlzcGF0Y2hJbnN0YW5jZXMnXTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIEV2ZW50SW50ZXJmYWNlID0ge1xuICB0eXBlOiBudWxsLFxuICB0YXJnZXQ6IG51bGwsXG4gIC8vIGN1cnJlbnRUYXJnZXQgaXMgc2V0IHdoZW4gZGlzcGF0Y2hpbmc7IG5vIHVzZSBpbiBjb3B5aW5nIGl0IGhlcmVcbiAgY3VycmVudFRhcmdldDogZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwsXG4gIGV2ZW50UGhhc2U6IG51bGwsXG4gIGJ1YmJsZXM6IG51bGwsXG4gIGNhbmNlbGFibGU6IG51bGwsXG4gIHRpbWVTdGFtcDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIGV2ZW50LnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuICB9LFxuICBkZWZhdWx0UHJldmVudGVkOiBudWxsLFxuICBpc1RydXN0ZWQ6IG51bGxcbn07XG5cbi8qKlxuICogU3ludGhldGljIGV2ZW50cyBhcmUgZGlzcGF0Y2hlZCBieSBldmVudCBwbHVnaW5zLCB0eXBpY2FsbHkgaW4gcmVzcG9uc2UgdG8gYVxuICogdG9wLWxldmVsIGV2ZW50IGRlbGVnYXRpb24gaGFuZGxlci5cbiAqXG4gKiBUaGVzZSBzeXN0ZW1zIHNob3VsZCBnZW5lcmFsbHkgdXNlIHBvb2xpbmcgdG8gcmVkdWNlIHRoZSBmcmVxdWVuY3kgb2YgZ2FyYmFnZVxuICogY29sbGVjdGlvbi4gVGhlIHN5c3RlbSBzaG91bGQgY2hlY2sgYGlzUGVyc2lzdGVudGAgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlXG4gKiBldmVudCBzaG91bGQgYmUgcmVsZWFzZWQgaW50byB0aGUgcG9vbCBhZnRlciBiZWluZyBkaXNwYXRjaGVkLiBVc2VycyB0aGF0XG4gKiBuZWVkIGEgcGVyc2lzdGVkIGV2ZW50IHNob3VsZCBpbnZva2UgYHBlcnNpc3RgLlxuICpcbiAqIFN5bnRoZXRpYyBldmVudHMgKGFuZCBzdWJjbGFzc2VzKSBpbXBsZW1lbnQgdGhlIERPTSBMZXZlbCAzIEV2ZW50cyBBUEkgYnlcbiAqIG5vcm1hbGl6aW5nIGJyb3dzZXIgcXVpcmtzLiBTdWJjbGFzc2VzIGRvIG5vdCBuZWNlc3NhcmlseSBoYXZlIHRvIGltcGxlbWVudCBhXG4gKiBET00gaW50ZXJmYWNlOyBjdXN0b20gYXBwbGljYXRpb24tc3BlY2lmaWMgZXZlbnRzIGNhbiBhbHNvIHN1YmNsYXNzIHRoaXMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIENvbmZpZ3VyYXRpb24gdXNlZCB0byBkaXNwYXRjaCB0aGlzIGV2ZW50LlxuICogQHBhcmFtIHsqfSB0YXJnZXRJbnN0IE1hcmtlciBpZGVudGlmeWluZyB0aGUgZXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gbmF0aXZlRXZlbnRUYXJnZXQgVGFyZ2V0IG5vZGUuXG4gKi9cbmZ1bmN0aW9uIFN5bnRoZXRpY0V2ZW50KGRpc3BhdGNoQ29uZmlnLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAge1xuICAgIC8vIHRoZXNlIGhhdmUgYSBnZXR0ZXIvc2V0dGVyIGZvciB3YXJuaW5nc1xuICAgIGRlbGV0ZSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgIGRlbGV0ZSB0aGlzLnByZXZlbnREZWZhdWx0O1xuICAgIGRlbGV0ZSB0aGlzLnN0b3BQcm9wYWdhdGlvbjtcbiAgfVxuXG4gIHRoaXMuZGlzcGF0Y2hDb25maWcgPSBkaXNwYXRjaENvbmZpZztcbiAgdGhpcy5fdGFyZ2V0SW5zdCA9IHRhcmdldEluc3Q7XG4gIHRoaXMubmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudDtcblxuICB2YXIgSW50ZXJmYWNlID0gdGhpcy5jb25zdHJ1Y3Rvci5JbnRlcmZhY2U7XG4gIGZvciAodmFyIHByb3BOYW1lIGluIEludGVyZmFjZSkge1xuICAgIGlmICghSW50ZXJmYWNlLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHtcbiAgICAgIGRlbGV0ZSB0aGlzW3Byb3BOYW1lXTsgLy8gdGhpcyBoYXMgYSBnZXR0ZXIvc2V0dGVyIGZvciB3YXJuaW5nc1xuICAgIH1cbiAgICB2YXIgbm9ybWFsaXplID0gSW50ZXJmYWNlW3Byb3BOYW1lXTtcbiAgICBpZiAobm9ybWFsaXplKSB7XG4gICAgICB0aGlzW3Byb3BOYW1lXSA9IG5vcm1hbGl6ZShuYXRpdmVFdmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9wTmFtZSA9PT0gJ3RhcmdldCcpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBuYXRpdmVFdmVudFRhcmdldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbcHJvcE5hbWVdID0gbmF0aXZlRXZlbnRbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBkZWZhdWx0UHJldmVudGVkID0gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCAhPSBudWxsID8gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCA6IG5hdGl2ZUV2ZW50LnJldHVyblZhbHVlID09PSBmYWxzZTtcbiAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlO1xuICB9XG4gIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2U7XG4gIHJldHVybiB0aGlzO1xufVxuXG5fYXNzaWduKFN5bnRoZXRpY0V2ZW50LnByb3RvdHlwZSwge1xuICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICBpZiAoIWV2ZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV2ZW50LnJldHVyblZhbHVlICE9PSAndW5rbm93bicpIHtcbiAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0sXG5cbiAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICBpZiAoIWV2ZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXZlbnQuY2FuY2VsQnViYmxlICE9PSAndW5rbm93bicpIHtcbiAgICAgIC8vIFRoZSBDaGFuZ2VFdmVudFBsdWdpbiByZWdpc3RlcnMgYSBcInByb3BlcnR5Y2hhbmdlXCIgZXZlbnQgZm9yXG4gICAgICAvLyBJRS4gVGhpcyBldmVudCBkb2VzIG5vdCBzdXBwb3J0IGJ1YmJsaW5nIG9yIGNhbmNlbGxpbmcsIGFuZFxuICAgICAgLy8gYW55IHJlZmVyZW5jZXMgdG8gY2FuY2VsQnViYmxlIHRocm93IFwiTWVtYmVyIG5vdCBmb3VuZFwiLiAgQVxuICAgICAgLy8gdHlwZW9mIGNoZWNrIG9mIFwidW5rbm93blwiIGNpcmN1bXZlbnRzIHRoaXMgaXNzdWUgKGFuZCBpcyBhbHNvXG4gICAgICAvLyBJRSBzcGVjaWZpYykuXG4gICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogV2UgcmVsZWFzZSBhbGwgZGlzcGF0Y2hlZCBgU3ludGhldGljRXZlbnRgcyBhZnRlciBlYWNoIGV2ZW50IGxvb3AsIGFkZGluZ1xuICAgKiB0aGVtIGJhY2sgaW50byB0aGUgcG9vbC4gVGhpcyBhbGxvd3MgYSB3YXkgdG8gaG9sZCBvbnRvIGEgcmVmZXJlbmNlIHRoYXRcbiAgICogd29uJ3QgYmUgYWRkZWQgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgKi9cbiAgcGVyc2lzdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNQZXJzaXN0ZW50ID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGlzIGV2ZW50IHNob3VsZCBiZSByZWxlYXNlZCBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhpcyBzaG91bGQgbm90IGJlIHJlbGVhc2VkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBpc1BlcnNpc3RlbnQ6IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSxcblxuICAvKipcbiAgICogYFBvb2xlZENsYXNzYCBsb29rcyBmb3IgYGRlc3RydWN0b3JgIG9uIGVhY2ggaW5zdGFuY2UgaXQgcmVsZWFzZXMuXG4gICAqL1xuICBkZXN0cnVjdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuICAgIGZvciAodmFyIHByb3BOYW1lIGluIEludGVyZmFjZSkge1xuICAgICAge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgcHJvcE5hbWUsIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24ocHJvcE5hbWUsIEludGVyZmFjZVtwcm9wTmFtZV0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpc1tzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllc1tpXV0gPSBudWxsO1xuICAgIH1cbiAgICB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hdGl2ZUV2ZW50JywgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbignbmF0aXZlRXZlbnQnLCBudWxsKSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3ByZXZlbnREZWZhdWx0JywgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbigncHJldmVudERlZmF1bHQnLCBlbXB0eUZ1bmN0aW9uKSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3N0b3BQcm9wYWdhdGlvbicsIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24oJ3N0b3BQcm9wYWdhdGlvbicsIGVtcHR5RnVuY3Rpb24pKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5TeW50aGV0aWNFdmVudC5JbnRlcmZhY2UgPSBFdmVudEludGVyZmFjZTtcblxuLyoqXG4gKiBIZWxwZXIgdG8gcmVkdWNlIGJvaWxlcnBsYXRlIHdoZW4gY3JlYXRpbmcgc3ViY2xhc3Nlcy5cbiAqL1xuU3ludGhldGljRXZlbnQuZXh0ZW5kID0gZnVuY3Rpb24gKEludGVyZmFjZSkge1xuICB2YXIgU3VwZXIgPSB0aGlzO1xuXG4gIHZhciBFID0gZnVuY3Rpb24gKCkge307XG4gIEUucHJvdG90eXBlID0gU3VwZXIucHJvdG90eXBlO1xuICB2YXIgcHJvdG90eXBlID0gbmV3IEUoKTtcblxuICBmdW5jdGlvbiBDbGFzcygpIHtcbiAgICByZXR1cm4gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuICBfYXNzaWduKHByb3RvdHlwZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgQ2xhc3MucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDbGFzcztcblxuICBDbGFzcy5JbnRlcmZhY2UgPSBfYXNzaWduKHt9LCBTdXBlci5JbnRlcmZhY2UsIEludGVyZmFjZSk7XG4gIENsYXNzLmV4dGVuZCA9IFN1cGVyLmV4dGVuZDtcbiAgYWRkRXZlbnRQb29saW5nVG8oQ2xhc3MpO1xuXG4gIHJldHVybiBDbGFzcztcbn07XG5cbi8qKiBQcm94eWluZyBhZnRlciBldmVyeXRoaW5nIHNldCBvbiBTeW50aGV0aWNFdmVudFxuICogdG8gcmVzb2x2ZSBQcm94eSBpc3N1ZSBvbiBzb21lIFdlYktpdCBicm93c2Vyc1xuICogaW4gd2hpY2ggc29tZSBFdmVudCBwcm9wZXJ0aWVzIGFyZSBzZXQgdG8gdW5kZWZpbmVkIChHSCMxMDAxMClcbiAqL1xue1xuICB2YXIgaXNQcm94eVN1cHBvcnRlZCA9IHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEyMDExXG4gICFPYmplY3QuaXNTZWFsZWQobmV3IFByb3h5KHt9LCB7fSkpO1xuXG4gIGlmIChpc1Byb3h5U3VwcG9ydGVkKSB7XG4gICAgLyplc2xpbnQtZGlzYWJsZSBuby1mdW5jLWFzc2lnbiAqL1xuICAgIFN5bnRoZXRpY0V2ZW50ID0gbmV3IFByb3h5KFN5bnRoZXRpY0V2ZW50LCB7XG4gICAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uICh0YXJnZXQsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHkodGFyZ2V0LCBPYmplY3QuY3JlYXRlKHRhcmdldC5wcm90b3R5cGUpLCBhcmdzKTtcbiAgICAgIH0sXG4gICAgICBhcHBseTogZnVuY3Rpb24gKGNvbnN0cnVjdG9yLCB0aGF0LCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkoY29uc3RydWN0b3IuYXBwbHkodGhhdCwgYXJncyksIHtcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAocHJvcCAhPT0gJ2lzUGVyc2lzdGVudCcgJiYgIXRhcmdldC5jb25zdHJ1Y3Rvci5JbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcCkgJiYgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMuaW5kZXhPZihwcm9wKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgIShkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSB8fCB0YXJnZXQuaXNQZXJzaXN0ZW50KCkpID8gd2FybmluZyhmYWxzZSwgXCJUaGlzIHN5bnRoZXRpYyBldmVudCBpcyByZXVzZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuIElmIHlvdSdyZSBcIiArIFwic2VlaW5nIHRoaXMsIHlvdSdyZSBhZGRpbmcgYSBuZXcgcHJvcGVydHkgaW4gdGhlIHN5bnRoZXRpYyBldmVudCBvYmplY3QuIFwiICsgJ1RoZSBwcm9wZXJ0eSBpcyBuZXZlciByZWxlYXNlZC4gU2VlICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicpIDogdm9pZCAwO1xuICAgICAgICAgICAgICBkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyplc2xpbnQtZW5hYmxlIG5vLWZ1bmMtYXNzaWduICovXG4gIH1cbn1cblxuYWRkRXZlbnRQb29saW5nVG8oU3ludGhldGljRXZlbnQpO1xuXG4vKipcbiAqIEhlbHBlciB0byBudWxsaWZ5IHN5bnRoZXRpY0V2ZW50IGluc3RhbmNlIHByb3BlcnRpZXMgd2hlbiBkZXN0cnVjdGluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wTmFtZVxuICogQHBhcmFtIHs/b2JqZWN0fSBnZXRWYWxcbiAqIEByZXR1cm4ge29iamVjdH0gZGVmaW5lUHJvcGVydHkgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24ocHJvcE5hbWUsIGdldFZhbCkge1xuICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBnZXRWYWwgPT09ICdmdW5jdGlvbic7XG4gIHJldHVybiB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHNldDogc2V0LFxuICAgIGdldDogZ2V0XG4gIH07XG5cbiAgZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gJ3NldHRpbmcgdGhlIG1ldGhvZCcgOiAnc2V0dGluZyB0aGUgcHJvcGVydHknO1xuICAgIHdhcm4oYWN0aW9uLCAnVGhpcyBpcyBlZmZlY3RpdmVseSBhIG5vLW9wJyk7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldCgpIHtcbiAgICB2YXIgYWN0aW9uID0gaXNGdW5jdGlvbiA/ICdhY2Nlc3NpbmcgdGhlIG1ldGhvZCcgOiAnYWNjZXNzaW5nIHRoZSBwcm9wZXJ0eSc7XG4gICAgdmFyIHJlc3VsdCA9IGlzRnVuY3Rpb24gPyAnVGhpcyBpcyBhIG5vLW9wIGZ1bmN0aW9uJyA6ICdUaGlzIGlzIHNldCB0byBudWxsJztcbiAgICB3YXJuKGFjdGlvbiwgcmVzdWx0KTtcbiAgICByZXR1cm4gZ2V0VmFsO1xuICB9XG5cbiAgZnVuY3Rpb24gd2FybihhY3Rpb24sIHJlc3VsdCkge1xuICAgIHZhciB3YXJuaW5nQ29uZGl0aW9uID0gZmFsc2U7XG4gICAgIXdhcm5pbmdDb25kaXRpb24gPyB3YXJuaW5nKGZhbHNlLCBcIlRoaXMgc3ludGhldGljIGV2ZW50IGlzIHJldXNlZCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy4gSWYgeW91J3JlIHNlZWluZyB0aGlzLCBcIiArIFwieW91J3JlICVzIGAlc2Agb24gYSByZWxlYXNlZC9udWxsaWZpZWQgc3ludGhldGljIGV2ZW50LiAlcy4gXCIgKyAnSWYgeW91IG11c3Qga2VlcCB0aGUgb3JpZ2luYWwgc3ludGhldGljIGV2ZW50IGFyb3VuZCwgdXNlIGV2ZW50LnBlcnNpc3QoKS4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGFjdGlvbiwgcHJvcE5hbWUsIHJlc3VsdCkgOiB2b2lkIDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UG9vbGVkRXZlbnQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVJbnN0KSB7XG4gIHZhciBFdmVudENvbnN0cnVjdG9yID0gdGhpcztcbiAgaWYgKEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLnBvcCgpO1xuICAgIEV2ZW50Q29uc3RydWN0b3IuY2FsbChpbnN0YW5jZSwgZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVJbnN0KTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbiAgcmV0dXJuIG5ldyBFdmVudENvbnN0cnVjdG9yKGRpc3BhdGNoQ29uZmlnLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlSW5zdCk7XG59XG5cbmZ1bmN0aW9uIHJlbGVhc2VQb29sZWRFdmVudChldmVudCkge1xuICB2YXIgRXZlbnRDb25zdHJ1Y3RvciA9IHRoaXM7XG4gICEoZXZlbnQgaW5zdGFuY2VvZiBFdmVudENvbnN0cnVjdG9yKSA/IGludmFyaWFudChmYWxzZSwgJ1RyeWluZyB0byByZWxlYXNlIGFuIGV2ZW50IGluc3RhbmNlICBpbnRvIGEgcG9vbCBvZiBhIGRpZmZlcmVudCB0eXBlLicpIDogdm9pZCAwO1xuICBldmVudC5kZXN0cnVjdG9yKCk7XG4gIGlmIChFdmVudENvbnN0cnVjdG9yLmV2ZW50UG9vbC5sZW5ndGggPCBFVkVOVF9QT09MX1NJWkUpIHtcbiAgICBFdmVudENvbnN0cnVjdG9yLmV2ZW50UG9vbC5wdXNoKGV2ZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRFdmVudFBvb2xpbmdUbyhFdmVudENvbnN0cnVjdG9yKSB7XG4gIEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sID0gW107XG4gIEV2ZW50Q29uc3RydWN0b3IuZ2V0UG9vbGVkID0gZ2V0UG9vbGVkRXZlbnQ7XG4gIEV2ZW50Q29uc3RydWN0b3IucmVsZWFzZSA9IHJlbGVhc2VQb29sZWRFdmVudDtcbn1cblxudmFyIFN5bnRoZXRpY0V2ZW50JDEgPSBTeW50aGV0aWNFdmVudDtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWNvbXBvc2l0aW9uZXZlbnRzXG4gKi9cbnZhciBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBkYXRhOiBudWxsXG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMTMxMTA1XG4gKiAgICAgIC8jZXZlbnRzLWlucHV0ZXZlbnRzXG4gKi9cbnZhciBTeW50aGV0aWNJbnB1dEV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBkYXRhOiBudWxsXG59KTtcblxudmFyIEVORF9LRVlDT0RFUyA9IFs5LCAxMywgMjcsIDMyXTsgLy8gVGFiLCBSZXR1cm4sIEVzYywgU3BhY2VcbnZhciBTVEFSVF9LRVlDT0RFID0gMjI5O1xuXG52YXIgY2FuVXNlQ29tcG9zaXRpb25FdmVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnQ29tcG9zaXRpb25FdmVudCcgaW4gd2luZG93O1xuXG52YXIgZG9jdW1lbnRNb2RlID0gbnVsbDtcbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHtcbiAgZG9jdW1lbnRNb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xufVxuXG4vLyBXZWJraXQgb2ZmZXJzIGEgdmVyeSB1c2VmdWwgYHRleHRJbnB1dGAgZXZlbnQgdGhhdCBjYW4gYmUgdXNlZCB0b1xuLy8gZGlyZWN0bHkgcmVwcmVzZW50IGBiZWZvcmVJbnB1dGAuIFRoZSBJRSBgdGV4dGlucHV0YCBldmVudCBpcyBub3QgYXNcbi8vIHVzZWZ1bCwgc28gd2UgZG9uJ3QgdXNlIGl0LlxudmFyIGNhblVzZVRleHRJbnB1dEV2ZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdUZXh0RXZlbnQnIGluIHdpbmRvdyAmJiAhZG9jdW1lbnRNb2RlO1xuXG4vLyBJbiBJRTkrLCB3ZSBoYXZlIGFjY2VzcyB0byBjb21wb3NpdGlvbiBldmVudHMsIGJ1dCB0aGUgZGF0YSBzdXBwbGllZFxuLy8gYnkgdGhlIG5hdGl2ZSBjb21wb3NpdGlvbmVuZCBldmVudCBtYXkgYmUgaW5jb3JyZWN0LiBKYXBhbmVzZSBpZGVvZ3JhcGhpY1xuLy8gc3BhY2VzLCBmb3IgaW5zdGFuY2UgKFxcdTMwMDApIGFyZSBub3QgcmVjb3JkZWQgY29ycmVjdGx5LlxudmFyIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICghY2FuVXNlQ29tcG9zaXRpb25FdmVudCB8fCBkb2N1bWVudE1vZGUgJiYgZG9jdW1lbnRNb2RlID4gOCAmJiBkb2N1bWVudE1vZGUgPD0gMTEpO1xuXG52YXIgU1BBQ0VCQVJfQ09ERSA9IDMyO1xudmFyIFNQQUNFQkFSX0NIQVIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFNQQUNFQkFSX0NPREUpO1xuXG4vLyBFdmVudHMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgbmFtZXMuXG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgYmVmb3JlSW5wdXQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogJ29uQmVmb3JlSW5wdXQnLFxuICAgICAgY2FwdHVyZWQ6ICdvbkJlZm9yZUlucHV0Q2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9DT01QT1NJVElPTl9FTkQsIFRPUF9LRVlfUFJFU1MsIFRPUF9URVhUX0lOUFVULCBUT1BfUEFTVEVdXG4gIH0sXG4gIGNvbXBvc2l0aW9uRW5kOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNvbXBvc2l0aW9uRW5kJyxcbiAgICAgIGNhcHR1cmVkOiAnb25Db21wb3NpdGlvbkVuZENhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFtUT1BfQkxVUiwgVE9QX0NPTVBPU0lUSU9OX0VORCwgVE9QX0tFWV9ET1dOLCBUT1BfS0VZX1BSRVNTLCBUT1BfS0VZX1VQLCBUT1BfTU9VU0VfRE9XTl1cbiAgfSxcbiAgY29tcG9zaXRpb25TdGFydDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiAnb25Db21wb3NpdGlvblN0YXJ0JyxcbiAgICAgIGNhcHR1cmVkOiAnb25Db21wb3NpdGlvblN0YXJ0Q2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9CTFVSLCBUT1BfQ09NUE9TSVRJT05fU1RBUlQsIFRPUF9LRVlfRE9XTiwgVE9QX0tFWV9QUkVTUywgVE9QX0tFWV9VUCwgVE9QX01PVVNFX0RPV05dXG4gIH0sXG4gIGNvbXBvc2l0aW9uVXBkYXRlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNvbXBvc2l0aW9uVXBkYXRlJyxcbiAgICAgIGNhcHR1cmVkOiAnb25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFtUT1BfQkxVUiwgVE9QX0NPTVBPU0lUSU9OX1VQREFURSwgVE9QX0tFWV9ET1dOLCBUT1BfS0VZX1BSRVNTLCBUT1BfS0VZX1VQLCBUT1BfTU9VU0VfRE9XTl1cbiAgfVxufTtcblxuLy8gVHJhY2sgd2hldGhlciB3ZSd2ZSBldmVyIGhhbmRsZWQgYSBrZXlwcmVzcyBvbiB0aGUgc3BhY2Uga2V5LlxudmFyIGhhc1NwYWNlS2V5cHJlc3MgPSBmYWxzZTtcblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciBhIG5hdGl2ZSBrZXlwcmVzcyBldmVudCBpcyBhc3N1bWVkIHRvIGJlIGEgY29tbWFuZC5cbiAqIFRoaXMgaXMgcmVxdWlyZWQgYmVjYXVzZSBGaXJlZm94IGZpcmVzIGBrZXlwcmVzc2AgZXZlbnRzIGZvciBrZXkgY29tbWFuZHNcbiAqIChjdXQsIGNvcHksIHNlbGVjdC1hbGwsIGV0Yy4pIGV2ZW4gdGhvdWdoIG5vIGNoYXJhY3RlciBpcyBpbnNlcnRlZC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlwcmVzc0NvbW1hbmQobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIChuYXRpdmVFdmVudC5jdHJsS2V5IHx8IG5hdGl2ZUV2ZW50LmFsdEtleSB8fCBuYXRpdmVFdmVudC5tZXRhS2V5KSAmJlxuICAvLyBjdHJsS2V5ICYmIGFsdEtleSBpcyBlcXVpdmFsZW50IHRvIEFsdEdyLCBhbmQgaXMgbm90IGEgY29tbWFuZC5cbiAgIShuYXRpdmVFdmVudC5jdHJsS2V5ICYmIG5hdGl2ZUV2ZW50LmFsdEtleSk7XG59XG5cbi8qKlxuICogVHJhbnNsYXRlIG5hdGl2ZSB0b3AgbGV2ZWwgZXZlbnRzIGludG8gZXZlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZVxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRDb21wb3NpdGlvbkV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlIFRPUF9DT01QT1NJVElPTl9TVEFSVDpcbiAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgY2FzZSBUT1BfQ09NUE9TSVRJT05fRU5EOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gICAgY2FzZSBUT1BfQ09NUE9TSVRJT05fVVBEQVRFOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25VcGRhdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBEb2VzIG91ciBmYWxsYmFjayBiZXN0LWd1ZXNzIG1vZGVsIHRoaW5rIHRoaXMgZXZlbnQgc2lnbmlmaWVzIHRoYXRcbiAqIGNvbXBvc2l0aW9uIGhhcyBiZWd1bj9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gVE9QX0tFWV9ET1dOICYmIG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IFNUQVJUX0tFWUNPREU7XG59XG5cbi8qKlxuICogRG9lcyBvdXIgZmFsbGJhY2sgbW9kZSB0aGluayB0aGF0IHRoaXMgZXZlbnQgaXMgdGhlIGVuZCBvZiBjb21wb3NpdGlvbj9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSBUT1BfS0VZX1VQOlxuICAgICAgLy8gQ29tbWFuZCBrZXlzIGluc2VydCBvciBjbGVhciBJTUUgaW5wdXQuXG4gICAgICByZXR1cm4gRU5EX0tFWUNPREVTLmluZGV4T2YobmF0aXZlRXZlbnQua2V5Q29kZSkgIT09IC0xO1xuICAgIGNhc2UgVE9QX0tFWV9ET1dOOlxuICAgICAgLy8gRXhwZWN0IElNRSBrZXlDb2RlIG9uIGVhY2gga2V5ZG93bi4gSWYgd2UgZ2V0IGFueSBvdGhlclxuICAgICAgLy8gY29kZSB3ZSBtdXN0IGhhdmUgZXhpdGVkIGVhcmxpZXIuXG4gICAgICByZXR1cm4gbmF0aXZlRXZlbnQua2V5Q29kZSAhPT0gU1RBUlRfS0VZQ09ERTtcbiAgICBjYXNlIFRPUF9LRVlfUFJFU1M6XG4gICAgY2FzZSBUT1BfTU9VU0VfRE9XTjpcbiAgICBjYXNlIFRPUF9CTFVSOlxuICAgICAgLy8gRXZlbnRzIGFyZSBub3QgcG9zc2libGUgd2l0aG91dCBjYW5jZWxsaW5nIElNRS5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBHb29nbGUgSW5wdXQgVG9vbHMgcHJvdmlkZXMgY29tcG9zaXRpb24gZGF0YSB2aWEgYSBDdXN0b21FdmVudCxcbiAqIHdpdGggdGhlIGBkYXRhYCBwcm9wZXJ0eSBwb3B1bGF0ZWQgaW4gdGhlIGBkZXRhaWxgIG9iamVjdC4gSWYgdGhpc1xuICogaXMgYXZhaWxhYmxlIG9uIHRoZSBldmVudCBvYmplY3QsIHVzZSBpdC4gSWYgbm90LCB0aGlzIGlzIGEgcGxhaW5cbiAqIGNvbXBvc2l0aW9uIGV2ZW50IGFuZCB3ZSBoYXZlIG5vdGhpbmcgc3BlY2lhbCB0byBleHRyYWN0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudFxuICogQHJldHVybiB7P3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCkge1xuICB2YXIgZGV0YWlsID0gbmF0aXZlRXZlbnQuZGV0YWlsO1xuICBpZiAodHlwZW9mIGRldGFpbCA9PT0gJ29iamVjdCcgJiYgJ2RhdGEnIGluIGRldGFpbCkge1xuICAgIHJldHVybiBkZXRhaWwuZGF0YTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gVHJhY2sgdGhlIGN1cnJlbnQgSU1FIGNvbXBvc2l0aW9uIHN0YXR1cywgaWYgYW55LlxudmFyIGlzQ29tcG9zaW5nID0gZmFsc2U7XG5cbi8qKlxuICogQHJldHVybiB7P29iamVjdH0gQSBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50LlxuICovXG5mdW5jdGlvbiBleHRyYWN0Q29tcG9zaXRpb25FdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB2YXIgZXZlbnRUeXBlID0gdm9pZCAwO1xuICB2YXIgZmFsbGJhY2tEYXRhID0gdm9pZCAwO1xuXG4gIGlmIChjYW5Vc2VDb21wb3NpdGlvbkV2ZW50KSB7XG4gICAgZXZlbnRUeXBlID0gZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUodG9wTGV2ZWxUeXBlKTtcbiAgfSBlbHNlIGlmICghaXNDb21wb3NpbmcpIHtcbiAgICBpZiAoaXNGYWxsYmFja0NvbXBvc2l0aW9uU3RhcnQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkpIHtcbiAgICAgIGV2ZW50VHlwZSA9IGV2ZW50VHlwZXMuY29tcG9zaXRpb25TdGFydDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgZXZlbnRUeXBlID0gZXZlbnRUeXBlcy5jb21wb3NpdGlvbkVuZDtcbiAgfVxuXG4gIGlmICghZXZlbnRUeXBlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAodXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEpIHtcbiAgICAvLyBUaGUgY3VycmVudCBjb21wb3NpdGlvbiBpcyBzdG9yZWQgc3RhdGljYWxseSBhbmQgbXVzdCBub3QgYmVcbiAgICAvLyBvdmVyd3JpdHRlbiB3aGlsZSBjb21wb3NpdGlvbiBjb250aW51ZXMuXG4gICAgaWYgKCFpc0NvbXBvc2luZyAmJiBldmVudFR5cGUgPT09IGV2ZW50VHlwZXMuY29tcG9zaXRpb25TdGFydCkge1xuICAgICAgaXNDb21wb3NpbmcgPSBpbml0aWFsaXplKG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSA9PT0gZXZlbnRUeXBlcy5jb21wb3NpdGlvbkVuZCkge1xuICAgICAgaWYgKGlzQ29tcG9zaW5nKSB7XG4gICAgICAgIGZhbGxiYWNrRGF0YSA9IGdldERhdGEoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgZXZlbnQgPSBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50LmdldFBvb2xlZChldmVudFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG5cbiAgaWYgKGZhbGxiYWNrRGF0YSkge1xuICAgIC8vIEluamVjdCBkYXRhIGdlbmVyYXRlZCBmcm9tIGZhbGxiYWNrIHBhdGggaW50byB0aGUgc3ludGhldGljIGV2ZW50LlxuICAgIC8vIFRoaXMgbWF0Y2hlcyB0aGUgcHJvcGVydHkgb2YgbmF0aXZlIENvbXBvc2l0aW9uRXZlbnRJbnRlcmZhY2UuXG4gICAgZXZlbnQuZGF0YSA9IGZhbGxiYWNrRGF0YTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3VzdG9tRGF0YSA9IGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgIGlmIChjdXN0b21EYXRhICE9PSBudWxsKSB7XG4gICAgICBldmVudC5kYXRhID0gY3VzdG9tRGF0YTtcbiAgICB9XG4gIH1cblxuICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VG9wTGV2ZWxUeXBlfSB0b3BMZXZlbFR5cGUgTnVtYmVyIGZyb20gYFRvcExldmVsVHlwZWAuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBUaGUgc3RyaW5nIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBgYmVmb3JlSW5wdXRgIGV2ZW50LlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlIFRPUF9DT01QT1NJVElPTl9FTkQ6XG4gICAgICByZXR1cm4gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCk7XG4gICAgY2FzZSBUT1BfS0VZX1BSRVNTOlxuICAgICAgLyoqXG4gICAgICAgKiBJZiBuYXRpdmUgYHRleHRJbnB1dGAgZXZlbnRzIGFyZSBhdmFpbGFibGUsIG91ciBnb2FsIGlzIHRvIG1ha2VcbiAgICAgICAqIHVzZSBvZiB0aGVtLiBIb3dldmVyLCB0aGVyZSBpcyBhIHNwZWNpYWwgY2FzZTogdGhlIHNwYWNlYmFyIGtleS5cbiAgICAgICAqIEluIFdlYmtpdCwgcHJldmVudGluZyBkZWZhdWx0IG9uIGEgc3BhY2ViYXIgYHRleHRJbnB1dGAgZXZlbnRcbiAgICAgICAqIGNhbmNlbHMgY2hhcmFjdGVyIGluc2VydGlvbiwgYnV0IGl0ICphbHNvKiBjYXVzZXMgdGhlIGJyb3dzZXJcbiAgICAgICAqIHRvIGZhbGwgYmFjayB0byBpdHMgZGVmYXVsdCBzcGFjZWJhciBiZWhhdmlvciBvZiBzY3JvbGxpbmcgdGhlXG4gICAgICAgKiBwYWdlLlxuICAgICAgICpcbiAgICAgICAqIFRyYWNraW5nIGF0OlxuICAgICAgICogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM1NTEwM1xuICAgICAgICpcbiAgICAgICAqIFRvIGF2b2lkIHRoaXMgaXNzdWUsIHVzZSB0aGUga2V5cHJlc3MgZXZlbnQgYXMgaWYgbm8gYHRleHRJbnB1dGBcbiAgICAgICAqIGV2ZW50IGlzIGF2YWlsYWJsZS5cbiAgICAgICAqL1xuICAgICAgdmFyIHdoaWNoID0gbmF0aXZlRXZlbnQud2hpY2g7XG4gICAgICBpZiAod2hpY2ggIT09IFNQQUNFQkFSX0NPREUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGhhc1NwYWNlS2V5cHJlc3MgPSB0cnVlO1xuICAgICAgcmV0dXJuIFNQQUNFQkFSX0NIQVI7XG5cbiAgICBjYXNlIFRPUF9URVhUX0lOUFVUOlxuICAgICAgLy8gUmVjb3JkIHRoZSBjaGFyYWN0ZXJzIHRvIGJlIGFkZGVkIHRvIHRoZSBET00uXG4gICAgICB2YXIgY2hhcnMgPSBuYXRpdmVFdmVudC5kYXRhO1xuXG4gICAgICAvLyBJZiBpdCdzIGEgc3BhY2ViYXIgY2hhcmFjdGVyLCBhc3N1bWUgdGhhdCB3ZSBoYXZlIGFscmVhZHkgaGFuZGxlZFxuICAgICAgLy8gaXQgYXQgdGhlIGtleXByZXNzIGxldmVsIGFuZCBiYWlsIGltbWVkaWF0ZWx5LiBBbmRyb2lkIENocm9tZVxuICAgICAgLy8gZG9lc24ndCBnaXZlIHVzIGtleWNvZGVzLCBzbyB3ZSBuZWVkIHRvIGJsYWNrbGlzdCBpdC5cbiAgICAgIGlmIChjaGFycyA9PT0gU1BBQ0VCQVJfQ0hBUiAmJiBoYXNTcGFjZUtleXByZXNzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hhcnM7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gRm9yIG90aGVyIG5hdGl2ZSBldmVudCB0eXBlcywgZG8gbm90aGluZy5cbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogRm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHByb3ZpZGUgdGhlIGB0ZXh0SW5wdXRgIGV2ZW50LCBleHRyYWN0IHRoZVxuICogYXBwcm9wcmlhdGUgc3RyaW5nIHRvIHVzZSBmb3IgU3ludGhldGljSW5wdXRFdmVudC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wTGV2ZWxUeXBlIE51bWJlciBmcm9tIGBUb3BMZXZlbEV2ZW50VHlwZXNgLlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7P3N0cmluZ30gVGhlIGZhbGxiYWNrIHN0cmluZyBmb3IgdGhpcyBgYmVmb3JlSW5wdXRgIGV2ZW50LlxuICovXG5mdW5jdGlvbiBnZXRGYWxsYmFja0JlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICAvLyBJZiB3ZSBhcmUgY3VycmVudGx5IGNvbXBvc2luZyAoSU1FKSBhbmQgdXNpbmcgYSBmYWxsYmFjayB0byBkbyBzbyxcbiAgLy8gdHJ5IHRvIGV4dHJhY3QgdGhlIGNvbXBvc2VkIGNoYXJhY3RlcnMgZnJvbSB0aGUgZmFsbGJhY2sgb2JqZWN0LlxuICAvLyBJZiBjb21wb3NpdGlvbiBldmVudCBpcyBhdmFpbGFibGUsIHdlIGV4dHJhY3QgYSBzdHJpbmcgb25seSBhdFxuICAvLyBjb21wb3NpdGlvbmV2ZW50LCBvdGhlcndpc2UgZXh0cmFjdCBpdCBhdCBmYWxsYmFjayBldmVudHMuXG4gIGlmIChpc0NvbXBvc2luZykge1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IFRPUF9DT01QT1NJVElPTl9FTkQgfHwgIWNhblVzZUNvbXBvc2l0aW9uRXZlbnQgJiYgaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICB2YXIgY2hhcnMgPSBnZXREYXRhKCk7XG4gICAgICByZXNldCgpO1xuICAgICAgaXNDb21wb3NpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybiBjaGFycztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgVE9QX1BBU1RFOlxuICAgICAgLy8gSWYgYSBwYXN0ZSBldmVudCBvY2N1cnMgYWZ0ZXIgYSBrZXlwcmVzcywgdGhyb3cgb3V0IHRoZSBpbnB1dFxuICAgICAgLy8gY2hhcnMuIFBhc3RlIGV2ZW50cyBzaG91bGQgbm90IGxlYWQgdG8gQmVmb3JlSW5wdXQgZXZlbnRzLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSBUT1BfS0VZX1BSRVNTOlxuICAgICAgLyoqXG4gICAgICAgKiBBcyBvZiB2MjcsIEZpcmVmb3ggbWF5IGZpcmUga2V5cHJlc3MgZXZlbnRzIGV2ZW4gd2hlbiBubyBjaGFyYWN0ZXJcbiAgICAgICAqIHdpbGwgYmUgaW5zZXJ0ZWQuIEEgZmV3IHBvc3NpYmlsaXRpZXM6XG4gICAgICAgKlxuICAgICAgICogLSBgd2hpY2hgIGlzIGAwYC4gQXJyb3cga2V5cywgRXNjIGtleSwgZXRjLlxuICAgICAgICpcbiAgICAgICAqIC0gYHdoaWNoYCBpcyB0aGUgcHJlc3NlZCBrZXkgY29kZSwgYnV0IG5vIGNoYXIgaXMgYXZhaWxhYmxlLlxuICAgICAgICogICBFeDogJ0FsdEdyICsgZGAgaW4gUG9saXNoLiBUaGVyZSBpcyBubyBtb2RpZmllZCBjaGFyYWN0ZXIgZm9yXG4gICAgICAgKiAgIHRoaXMga2V5IGNvbWJpbmF0aW9uIGFuZCBubyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQgaW50byB0aGVcbiAgICAgICAqICAgZG9jdW1lbnQsIGJ1dCBGRiBmaXJlcyB0aGUga2V5cHJlc3MgZm9yIGNoYXIgY29kZSBgMTAwYCBhbnl3YXkuXG4gICAgICAgKiAgIE5vIGBpbnB1dGAgZXZlbnQgd2lsbCBvY2N1ci5cbiAgICAgICAqXG4gICAgICAgKiAtIGB3aGljaGAgaXMgdGhlIHByZXNzZWQga2V5IGNvZGUsIGJ1dCBhIGNvbW1hbmQgY29tYmluYXRpb24gaXNcbiAgICAgICAqICAgYmVpbmcgdXNlZC4gRXg6IGBDbWQrQ2AuIE5vIGNoYXJhY3RlciBpcyBpbnNlcnRlZCwgYW5kIG5vXG4gICAgICAgKiAgIGBpbnB1dGAgZXZlbnQgd2lsbCBvY2N1ci5cbiAgICAgICAqL1xuICAgICAgaWYgKCFpc0tleXByZXNzQ29tbWFuZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgLy8gSUUgZmlyZXMgdGhlIGBrZXlwcmVzc2AgZXZlbnQgd2hlbiBhIHVzZXIgdHlwZXMgYW4gZW1vamkgdmlhXG4gICAgICAgIC8vIFRvdWNoIGtleWJvYXJkIG9mIFdpbmRvd3MuICBJbiBzdWNoIGEgY2FzZSwgdGhlIGBjaGFyYCBwcm9wZXJ0eVxuICAgICAgICAvLyBob2xkcyBhbiBlbW9qaSBjaGFyYWN0ZXIgbGlrZSBgXFx1RDgzRFxcdURFMEFgLiAgQmVjYXVzZSBpdHMgbGVuZ3RoXG4gICAgICAgIC8vIGlzIDIsIHRoZSBwcm9wZXJ0eSBgd2hpY2hgIGRvZXMgbm90IHJlcHJlc2VudCBhbiBlbW9qaSBjb3JyZWN0bHkuXG4gICAgICAgIC8vIEluIHN1Y2ggYSBjYXNlLCB3ZSBkaXJlY3RseSByZXR1cm4gdGhlIGBjaGFyYCBwcm9wZXJ0eSBpbnN0ZWFkIG9mXG4gICAgICAgIC8vIHVzaW5nIGB3aGljaGAuXG4gICAgICAgIGlmIChuYXRpdmVFdmVudC5jaGFyICYmIG5hdGl2ZUV2ZW50LmNoYXIubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybiBuYXRpdmVFdmVudC5jaGFyO1xuICAgICAgICB9IGVsc2UgaWYgKG5hdGl2ZUV2ZW50LndoaWNoKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobmF0aXZlRXZlbnQud2hpY2gpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlIFRPUF9DT01QT1NJVElPTl9FTkQ6XG4gICAgICByZXR1cm4gdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgPyBudWxsIDogbmF0aXZlRXZlbnQuZGF0YTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBFeHRyYWN0IGEgU3ludGhldGljSW5wdXRFdmVudCBmb3IgYGJlZm9yZUlucHV0YCwgYmFzZWQgb24gZWl0aGVyIG5hdGl2ZVxuICogYHRleHRJbnB1dGAgb3IgZmFsbGJhY2sgYmVoYXZpb3IuXG4gKlxuICogQHJldHVybiB7P29iamVjdH0gQSBTeW50aGV0aWNJbnB1dEV2ZW50LlxuICovXG5mdW5jdGlvbiBleHRyYWN0QmVmb3JlSW5wdXRFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB2YXIgY2hhcnMgPSB2b2lkIDA7XG5cbiAgaWYgKGNhblVzZVRleHRJbnB1dEV2ZW50KSB7XG4gICAgY2hhcnMgPSBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9IGVsc2Uge1xuICAgIGNoYXJzID0gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9XG5cbiAgLy8gSWYgbm8gY2hhcmFjdGVycyBhcmUgYmVpbmcgaW5zZXJ0ZWQsIG5vIEJlZm9yZUlucHV0IGV2ZW50IHNob3VsZFxuICAvLyBiZSBmaXJlZC5cbiAgaWYgKCFjaGFycykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljSW5wdXRFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5iZWZvcmVJbnB1dCwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICBldmVudC5kYXRhID0gY2hhcnM7XG4gIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIGBvbkJlZm9yZUlucHV0YCBldmVudCB0byBtYXRjaFxuICogaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAxMzExMDUvI2V2ZW50cy1pbnB1dGV2ZW50cy5cbiAqXG4gKiBUaGlzIGV2ZW50IHBsdWdpbiBpcyBiYXNlZCBvbiB0aGUgbmF0aXZlIGB0ZXh0SW5wdXRgIGV2ZW50XG4gKiBhdmFpbGFibGUgaW4gQ2hyb21lLCBTYWZhcmksIE9wZXJhLCBhbmQgSUUuIFRoaXMgZXZlbnQgZmlyZXMgYWZ0ZXJcbiAqIGBvbktleVByZXNzYCBhbmQgYG9uQ29tcG9zaXRpb25FbmRgLCBidXQgYmVmb3JlIGBvbklucHV0YC5cbiAqXG4gKiBgYmVmb3JlSW5wdXRgIGlzIHNwZWMnZCBidXQgbm90IGltcGxlbWVudGVkIGluIGFueSBicm93c2VycywgYW5kXG4gKiB0aGUgYGlucHV0YCBldmVudCBkb2VzIG5vdCBwcm92aWRlIGFueSB1c2VmdWwgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBoYXNcbiAqIGFjdHVhbGx5IGJlZW4gYWRkZWQsIGNvbnRyYXJ5IHRvIHRoZSBzcGVjLiBUaHVzLCBgdGV4dElucHV0YCBpcyB0aGUgYmVzdFxuICogYXZhaWxhYmxlIGV2ZW50IHRvIGlkZW50aWZ5IHRoZSBjaGFyYWN0ZXJzIHRoYXQgaGF2ZSBhY3R1YWxseSBiZWVuIGluc2VydGVkXG4gKiBpbnRvIHRoZSB0YXJnZXQgbm9kZS5cbiAqXG4gKiBUaGlzIHBsdWdpbiBpcyBhbHNvIHJlc3BvbnNpYmxlIGZvciBlbWl0dGluZyBgY29tcG9zaXRpb25gIGV2ZW50cywgdGh1c1xuICogYWxsb3dpbmcgdXMgdG8gc2hhcmUgY29tcG9zaXRpb24gZmFsbGJhY2sgY29kZSBmb3IgYm90aCBgYmVmb3JlSW5wdXRgIGFuZFxuICogYGNvbXBvc2l0aW9uYCBldmVudCB0eXBlcy5cbiAqL1xudmFyIEJlZm9yZUlucHV0RXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG5cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgdmFyIGNvbXBvc2l0aW9uID0gZXh0cmFjdENvbXBvc2l0aW9uRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuXG4gICAgdmFyIGJlZm9yZUlucHV0ID0gZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuXG4gICAgaWYgKGNvbXBvc2l0aW9uID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gYmVmb3JlSW5wdXQ7XG4gICAgfVxuXG4gICAgaWYgKGJlZm9yZUlucHV0ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gY29tcG9zaXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIFtjb21wb3NpdGlvbiwgYmVmb3JlSW5wdXRdO1xuICB9XG59O1xuXG4vLyBVc2UgdG8gcmVzdG9yZSBjb250cm9sbGVkIHN0YXRlIGFmdGVyIGEgY2hhbmdlIGV2ZW50IGhhcyBmaXJlZC5cblxudmFyIGZpYmVySG9zdENvbXBvbmVudCA9IG51bGw7XG5cbnZhciBSZWFjdENvbnRyb2xsZWRDb21wb25lbnRJbmplY3Rpb24gPSB7XG4gIGluamVjdEZpYmVyQ29udHJvbGxlZEhvc3RDb21wb25lbnQ6IGZ1bmN0aW9uIChob3N0Q29tcG9uZW50SW1wbCkge1xuICAgIC8vIFRoZSBmaWJlciBpbXBsZW1lbnRhdGlvbiBkb2Vzbid0IHVzZSBkeW5hbWljIGRpc3BhdGNoIHNvIHdlIG5lZWQgdG9cbiAgICAvLyBpbmplY3QgdGhlIGltcGxlbWVudGF0aW9uLlxuICAgIGZpYmVySG9zdENvbXBvbmVudCA9IGhvc3RDb21wb25lbnRJbXBsO1xuICB9XG59O1xuXG52YXIgcmVzdG9yZVRhcmdldCA9IG51bGw7XG52YXIgcmVzdG9yZVF1ZXVlID0gbnVsbDtcblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlT2ZUYXJnZXQodGFyZ2V0KSB7XG4gIC8vIFdlIHBlcmZvcm0gdGhpcyB0cmFuc2xhdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBldmVudCBsb29wIHNvIHRoYXQgd2VcbiAgLy8gYWx3YXlzIHJlY2VpdmUgdGhlIGNvcnJlY3QgZmliZXIgaGVyZVxuICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0KTtcbiAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgLy8gVW5tb3VudGVkXG4gICAgcmV0dXJuO1xuICB9XG4gICEoZmliZXJIb3N0Q29tcG9uZW50ICYmIHR5cGVvZiBmaWJlckhvc3RDb21wb25lbnQucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJykgPyBpbnZhcmlhbnQoZmFsc2UsICdGaWJlciBuZWVkcyB0byBiZSBpbmplY3RlZCB0byBoYW5kbGUgYSBmaWJlciB0YXJnZXQgZm9yIGNvbnRyb2xsZWQgZXZlbnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICB2YXIgcHJvcHMgPSBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlKGludGVybmFsSW5zdGFuY2Uuc3RhdGVOb2RlKTtcbiAgZmliZXJIb3N0Q29tcG9uZW50LnJlc3RvcmVDb250cm9sbGVkU3RhdGUoaW50ZXJuYWxJbnN0YW5jZS5zdGF0ZU5vZGUsIGludGVybmFsSW5zdGFuY2UudHlwZSwgcHJvcHMpO1xufVxuXG52YXIgaW5qZWN0aW9uJDIgPSBSZWFjdENvbnRyb2xsZWRDb21wb25lbnRJbmplY3Rpb247XG5cbmZ1bmN0aW9uIGVucXVldWVTdGF0ZVJlc3RvcmUodGFyZ2V0KSB7XG4gIGlmIChyZXN0b3JlVGFyZ2V0KSB7XG4gICAgaWYgKHJlc3RvcmVRdWV1ZSkge1xuICAgICAgcmVzdG9yZVF1ZXVlLnB1c2godGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdG9yZVF1ZXVlID0gW3RhcmdldF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlc3RvcmVUYXJnZXQgPSB0YXJnZXQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gbmVlZHNTdGF0ZVJlc3RvcmUoKSB7XG4gIHJldHVybiByZXN0b3JlVGFyZ2V0ICE9PSBudWxsIHx8IHJlc3RvcmVRdWV1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlSWZOZWVkZWQoKSB7XG4gIGlmICghcmVzdG9yZVRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgdGFyZ2V0ID0gcmVzdG9yZVRhcmdldDtcbiAgdmFyIHF1ZXVlZFRhcmdldHMgPSByZXN0b3JlUXVldWU7XG4gIHJlc3RvcmVUYXJnZXQgPSBudWxsO1xuICByZXN0b3JlUXVldWUgPSBudWxsO1xuXG4gIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KHRhcmdldCk7XG4gIGlmIChxdWV1ZWRUYXJnZXRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZWRUYXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN0b3JlU3RhdGVPZlRhcmdldChxdWV1ZWRUYXJnZXRzW2ldKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q29udHJvbGxlZENvbXBvbmVudCA9IE9iamVjdC5mcmVlemUoe1xuXHRpbmplY3Rpb246IGluamVjdGlvbiQyLFxuXHRlbnF1ZXVlU3RhdGVSZXN0b3JlOiBlbnF1ZXVlU3RhdGVSZXN0b3JlLFxuXHRuZWVkc1N0YXRlUmVzdG9yZTogbmVlZHNTdGF0ZVJlc3RvcmUsXG5cdHJlc3RvcmVTdGF0ZUlmTmVlZGVkOiByZXN0b3JlU3RhdGVJZk5lZWRlZFxufSk7XG5cbi8vIFVzZWQgYXMgYSB3YXkgdG8gY2FsbCBiYXRjaGVkVXBkYXRlcyB3aGVuIHdlIGRvbid0IGhhdmUgYSByZWZlcmVuY2UgdG9cbi8vIHRoZSByZW5kZXJlci4gU3VjaCBhcyB3aGVuIHdlJ3JlIGRpc3BhdGNoaW5nIGV2ZW50cyBvciBpZiB0aGlyZCBwYXJ0eVxuLy8gbGlicmFyaWVzIG5lZWQgdG8gY2FsbCBiYXRjaGVkVXBkYXRlcy4gRXZlbnR1YWxseSwgdGhpcyBBUEkgd2lsbCBnbyBhd2F5IHdoZW5cbi8vIGV2ZXJ5dGhpbmcgaXMgYmF0Y2hlZCBieSBkZWZhdWx0LiBXZSdsbCB0aGVuIGhhdmUgYSBzaW1pbGFyIEFQSSB0byBvcHQtb3V0IG9mXG4vLyBzY2hlZHVsZWQgd29yayBhbmQgaW5zdGVhZCBkbyBzeW5jaHJvbm91cyB3b3JrLlxuXG4vLyBEZWZhdWx0c1xudmFyIF9iYXRjaGVkVXBkYXRlcyA9IGZ1bmN0aW9uIChmbiwgYm9va2tlZXBpbmcpIHtcbiAgcmV0dXJuIGZuKGJvb2trZWVwaW5nKTtcbn07XG52YXIgX2ludGVyYWN0aXZlVXBkYXRlcyA9IGZ1bmN0aW9uIChmbiwgYSwgYikge1xuICByZXR1cm4gZm4oYSwgYik7XG59O1xudmFyIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IGZ1bmN0aW9uICgpIHt9O1xuXG52YXIgaXNCYXRjaGluZyA9IGZhbHNlO1xuZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMoZm4sIGJvb2trZWVwaW5nKSB7XG4gIGlmIChpc0JhdGNoaW5nKSB7XG4gICAgLy8gSWYgd2UgYXJlIGN1cnJlbnRseSBpbnNpZGUgYW5vdGhlciBiYXRjaCwgd2UgbmVlZCB0byB3YWl0IHVudGlsIGl0XG4gICAgLy8gZnVsbHkgY29tcGxldGVzIGJlZm9yZSByZXN0b3Jpbmcgc3RhdGUuXG4gICAgcmV0dXJuIGZuKGJvb2trZWVwaW5nKTtcbiAgfVxuICBpc0JhdGNoaW5nID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gX2JhdGNoZWRVcGRhdGVzKGZuLCBib29ra2VlcGluZyk7XG4gIH0gZmluYWxseSB7XG4gICAgLy8gSGVyZSB3ZSB3YWl0IHVudGlsIGFsbCB1cGRhdGVzIGhhdmUgcHJvcGFnYXRlZCwgd2hpY2ggaXMgaW1wb3J0YW50XG4gICAgLy8gd2hlbiB1c2luZyBjb250cm9sbGVkIGNvbXBvbmVudHMgd2l0aGluIGxheWVyczpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE2OThcbiAgICAvLyBUaGVuIHdlIHJlc3RvcmUgc3RhdGUgb2YgYW55IGNvbnRyb2xsZWQgY29tcG9uZW50LlxuICAgIGlzQmF0Y2hpbmcgPSBmYWxzZTtcbiAgICB2YXIgY29udHJvbGxlZENvbXBvbmVudHNIYXZlUGVuZGluZ1VwZGF0ZXMgPSBuZWVkc1N0YXRlUmVzdG9yZSgpO1xuICAgIGlmIChjb250cm9sbGVkQ29tcG9uZW50c0hhdmVQZW5kaW5nVXBkYXRlcykge1xuICAgICAgLy8gSWYgYSBjb250cm9sbGVkIGV2ZW50IHdhcyBmaXJlZCwgd2UgbWF5IG5lZWQgdG8gcmVzdG9yZSB0aGUgc3RhdGUgb2ZcbiAgICAgIC8vIHRoZSBET00gbm9kZSBiYWNrIHRvIHRoZSBjb250cm9sbGVkIHZhbHVlLiBUaGlzIGlzIG5lY2Vzc2FyeSB3aGVuIFJlYWN0XG4gICAgICAvLyBiYWlscyBvdXQgb2YgdGhlIHVwZGF0ZSB3aXRob3V0IHRvdWNoaW5nIHRoZSBET00uXG4gICAgICBfZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMoKTtcbiAgICAgIHJlc3RvcmVTdGF0ZUlmTmVlZGVkKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGludGVyYWN0aXZlVXBkYXRlcyhmbiwgYSwgYikge1xuICByZXR1cm4gX2ludGVyYWN0aXZlVXBkYXRlcyhmbiwgYSwgYik7XG59XG5cblxuXG52YXIgaW5qZWN0aW9uJDMgPSB7XG4gIGluamVjdFJlbmRlcmVyOiBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICBfYmF0Y2hlZFVwZGF0ZXMgPSByZW5kZXJlci5iYXRjaGVkVXBkYXRlcztcbiAgICBfaW50ZXJhY3RpdmVVcGRhdGVzID0gcmVuZGVyZXIuaW50ZXJhY3RpdmVVcGRhdGVzO1xuICAgIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IHJlbmRlcmVyLmZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzO1xuICB9XG59O1xuXG4vKipcbiAqIEBzZWUgaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvdGhlLWlucHV0LWVsZW1lbnQuaHRtbCNpbnB1dC10eXBlLWF0dHItc3VtbWFyeVxuICovXG52YXIgc3VwcG9ydGVkSW5wdXRUeXBlcyA9IHtcbiAgY29sb3I6IHRydWUsXG4gIGRhdGU6IHRydWUsXG4gIGRhdGV0aW1lOiB0cnVlLFxuICAnZGF0ZXRpbWUtbG9jYWwnOiB0cnVlLFxuICBlbWFpbDogdHJ1ZSxcbiAgbW9udGg6IHRydWUsXG4gIG51bWJlcjogdHJ1ZSxcbiAgcGFzc3dvcmQ6IHRydWUsXG4gIHJhbmdlOiB0cnVlLFxuICBzZWFyY2g6IHRydWUsXG4gIHRlbDogdHJ1ZSxcbiAgdGV4dDogdHJ1ZSxcbiAgdGltZTogdHJ1ZSxcbiAgdXJsOiB0cnVlLFxuICB3ZWVrOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBpc1RleHRJbnB1dEVsZW1lbnQoZWxlbSkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ2lucHV0Jykge1xuICAgIHJldHVybiAhIXN1cHBvcnRlZElucHV0VHlwZXNbZWxlbS50eXBlXTtcbiAgfVxuXG4gIGlmIChub2RlTmFtZSA9PT0gJ3RleHRhcmVhJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEhUTUwgbm9kZVR5cGUgdmFsdWVzIHRoYXQgcmVwcmVzZW50IHRoZSB0eXBlIG9mIHRoZSBub2RlXG4gKi9cblxudmFyIEVMRU1FTlRfTk9ERSA9IDE7XG52YXIgVEVYVF9OT0RFID0gMztcbnZhciBDT01NRU5UX05PREUgPSA4O1xudmFyIERPQ1VNRU5UX05PREUgPSA5O1xudmFyIERPQ1VNRU5UX0ZSQUdNRU5UX05PREUgPSAxMTtcblxuLyoqXG4gKiBHZXRzIHRoZSB0YXJnZXQgbm9kZSBmcm9tIGEgbmF0aXZlIGJyb3dzZXIgZXZlbnQgYnkgYWNjb3VudGluZyBmb3JcbiAqIGluY29uc2lzdGVuY2llcyBpbiBicm93c2VyIERPTSBBUElzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge0RPTUV2ZW50VGFyZ2V0fSBUYXJnZXQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpIHtcbiAgLy8gRmFsbGJhY2sgdG8gbmF0aXZlRXZlbnQuc3JjRWxlbWVudCBmb3IgSUU5XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTI1MDZcbiAgdmFyIHRhcmdldCA9IG5hdGl2ZUV2ZW50LnRhcmdldCB8fCBuYXRpdmVFdmVudC5zcmNFbGVtZW50IHx8IHdpbmRvdztcblxuICAvLyBOb3JtYWxpemUgU1ZHIDx1c2U+IGVsZW1lbnQgZXZlbnRzICM0OTYzXG4gIGlmICh0YXJnZXQuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpIHtcbiAgICB0YXJnZXQgPSB0YXJnZXQuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQ7XG4gIH1cblxuICAvLyBTYWZhcmkgbWF5IGZpcmUgZXZlbnRzIG9uIHRleHQgbm9kZXMgKE5vZGUuVEVYVF9OT0RFIGlzIDMpLlxuICAvLyBAc2VlIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzX3Byb3BlcnRpZXMuaHRtbFxuICByZXR1cm4gdGFyZ2V0Lm5vZGVUeXBlID09PSBURVhUX05PREUgPyB0YXJnZXQucGFyZW50Tm9kZSA6IHRhcmdldDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYW4gZXZlbnQgaXMgc3VwcG9ydGVkIGluIHRoZSBjdXJyZW50IGV4ZWN1dGlvbiBlbnZpcm9ubWVudC5cbiAqXG4gKiBOT1RFOiBUaGlzIHdpbGwgbm90IHdvcmsgY29ycmVjdGx5IGZvciBub24tZ2VuZXJpYyBldmVudHMgc3VjaCBhcyBgY2hhbmdlYCxcbiAqIGByZXNldGAsIGBsb2FkYCwgYGVycm9yYCwgYW5kIGBzZWxlY3RgLlxuICpcbiAqIEJvcnJvd3MgZnJvbSBNb2Rlcm5penIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVN1ZmZpeCBFdmVudCBuYW1lLCBlLmcuIFwiY2xpY2tcIi5cbiAqIEBwYXJhbSB7P2Jvb2xlYW59IGNhcHR1cmUgQ2hlY2sgaWYgdGhlIGNhcHR1cmUgcGhhc2UgaXMgc3VwcG9ydGVkLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgaXMgc3VwcG9ydGVkLlxuICogQGludGVybmFsXG4gKiBAbGljZW5zZSBNb2Rlcm5penIgMy4wLjBwcmUgKEN1c3RvbSBCdWlsZCkgfCBNSVRcbiAqL1xuZnVuY3Rpb24gaXNFdmVudFN1cHBvcnRlZChldmVudE5hbWVTdWZmaXgsIGNhcHR1cmUpIHtcbiAgaWYgKCFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gfHwgY2FwdHVyZSAmJiAhKCdhZGRFdmVudExpc3RlbmVyJyBpbiBkb2N1bWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgZXZlbnROYW1lID0gJ29uJyArIGV2ZW50TmFtZVN1ZmZpeDtcbiAgdmFyIGlzU3VwcG9ydGVkID0gZXZlbnROYW1lIGluIGRvY3VtZW50O1xuXG4gIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGV2ZW50TmFtZSwgJ3JldHVybjsnKTtcbiAgICBpc1N1cHBvcnRlZCA9IHR5cGVvZiBlbGVtZW50W2V2ZW50TmFtZV0gPT09ICdmdW5jdGlvbic7XG4gIH1cblxuICByZXR1cm4gaXNTdXBwb3J0ZWQ7XG59XG5cbmZ1bmN0aW9uIGlzQ2hlY2thYmxlKGVsZW0pIHtcbiAgdmFyIHR5cGUgPSBlbGVtLnR5cGU7XG4gIHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWU7XG4gIHJldHVybiBub2RlTmFtZSAmJiBub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnICYmICh0eXBlID09PSAnY2hlY2tib3gnIHx8IHR5cGUgPT09ICdyYWRpbycpO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFja2VyKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuX3ZhbHVlVHJhY2tlcjtcbn1cblxuZnVuY3Rpb24gZGV0YWNoVHJhY2tlcihub2RlKSB7XG4gIG5vZGUuX3ZhbHVlVHJhY2tlciA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlRnJvbU5vZGUobm9kZSkge1xuICB2YXIgdmFsdWUgPSAnJztcbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgaWYgKGlzQ2hlY2thYmxlKG5vZGUpKSB7XG4gICAgdmFsdWUgPSBub2RlLmNoZWNrZWQgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gbm9kZS52YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gdHJhY2tWYWx1ZU9uTm9kZShub2RlKSB7XG4gIHZhciB2YWx1ZUZpZWxkID0gaXNDaGVja2FibGUobm9kZSkgPyAnY2hlY2tlZCcgOiAndmFsdWUnO1xuICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobm9kZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHZhbHVlRmllbGQpO1xuXG4gIHZhciBjdXJyZW50VmFsdWUgPSAnJyArIG5vZGVbdmFsdWVGaWVsZF07XG5cbiAgLy8gaWYgc29tZW9uZSBoYXMgYWxyZWFkeSBkZWZpbmVkIGEgdmFsdWUgb3IgU2FmYXJpLCB0aGVuIGJhaWxcbiAgLy8gYW5kIGRvbid0IHRyYWNrIHZhbHVlIHdpbGwgY2F1c2Ugb3ZlciByZXBvcnRpbmcgb2YgY2hhbmdlcyxcbiAgLy8gYnV0IGl0J3MgYmV0dGVyIHRoZW4gYSBoYXJkIGZhaWx1cmVcbiAgLy8gKG5lZWRlZCBmb3IgY2VydGFpbiB0ZXN0cyB0aGF0IHNweU9uIGlucHV0IHZhbHVlcyBhbmQgU2FmYXJpKVxuICBpZiAobm9kZS5oYXNPd25Qcm9wZXJ0eSh2YWx1ZUZpZWxkKSB8fCB0eXBlb2YgZGVzY3JpcHRvciA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGRlc2NyaXB0b3IuZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBkZXNjcmlwdG9yLnNldCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgZ2V0ID0gZGVzY3JpcHRvci5nZXQsXG4gICAgICBzZXQgPSBkZXNjcmlwdG9yLnNldDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9kZSwgdmFsdWVGaWVsZCwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXQuY2FsbCh0aGlzKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBjdXJyZW50VmFsdWUgPSAnJyArIHZhbHVlO1xuICAgICAgc2V0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIC8vIFdlIGNvdWxkJ3ZlIHBhc3NlZCB0aGlzIHRoZSBmaXJzdCB0aW1lXG4gIC8vIGJ1dCBpdCB0cmlnZ2VycyBhIGJ1ZyBpbiBJRTExIGFuZCBFZGdlIDE0LzE1LlxuICAvLyBDYWxsaW5nIGRlZmluZVByb3BlcnR5KCkgYWdhaW4gc2hvdWxkIGJlIGVxdWl2YWxlbnQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTE3NjhcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIHZhbHVlRmllbGQsIHtcbiAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGVcbiAgfSk7XG5cbiAgdmFyIHRyYWNrZXIgPSB7XG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgfSxcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBjdXJyZW50VmFsdWUgPSAnJyArIHZhbHVlO1xuICAgIH0sXG4gICAgc3RvcFRyYWNraW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICBkZXRhY2hUcmFja2VyKG5vZGUpO1xuICAgICAgZGVsZXRlIG5vZGVbdmFsdWVGaWVsZF07XG4gICAgfVxuICB9O1xuICByZXR1cm4gdHJhY2tlcjtcbn1cblxuZnVuY3Rpb24gdHJhY2sobm9kZSkge1xuICBpZiAoZ2V0VHJhY2tlcihub2RlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRPRE86IE9uY2UgaXQncyBqdXN0IEZpYmVyIHdlIGNhbiBtb3ZlIHRoaXMgdG8gbm9kZS5fd3JhcHBlclN0YXRlXG4gIG5vZGUuX3ZhbHVlVHJhY2tlciA9IHRyYWNrVmFsdWVPbk5vZGUobm9kZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVZhbHVlSWZDaGFuZ2VkKG5vZGUpIHtcbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHRyYWNrZXIgPSBnZXRUcmFja2VyKG5vZGUpO1xuICAvLyBpZiB0aGVyZSBpcyBubyB0cmFja2VyIGF0IHRoaXMgcG9pbnQgaXQncyB1bmxpa2VseVxuICAvLyB0aGF0IHRyeWluZyBhZ2FpbiB3aWxsIHN1Y2NlZWRcbiAgaWYgKCF0cmFja2VyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgbGFzdFZhbHVlID0gdHJhY2tlci5nZXRWYWx1ZSgpO1xuICB2YXIgbmV4dFZhbHVlID0gZ2V0VmFsdWVGcm9tTm9kZShub2RlKTtcbiAgaWYgKG5leHRWYWx1ZSAhPT0gbGFzdFZhbHVlKSB7XG4gICAgdHJhY2tlci5zZXRWYWx1ZShuZXh0VmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIFJlYWN0SW50ZXJuYWxzID0gUmVhY3QuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG5cbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IFJlYWN0SW50ZXJuYWxzLlJlYWN0Q3VycmVudE93bmVyO1xudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuXG52YXIgZGVzY3JpYmVDb21wb25lbnRGcmFtZSA9IGZ1bmN0aW9uIChuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSkge1xuICByZXR1cm4gJ1xcbiAgICBpbiAnICsgKG5hbWUgfHwgJ1Vua25vd24nKSArIChzb3VyY2UgPyAnIChhdCAnICsgc291cmNlLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sICcnKSArICc6JyArIHNvdXJjZS5saW5lTnVtYmVyICsgJyknIDogb3duZXJOYW1lID8gJyAoY3JlYXRlZCBieSAnICsgb3duZXJOYW1lICsgJyknIDogJycpO1xufTtcblxuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbi8vIG5vciBwb2x5ZmlsbCwgdGhlbiBhIHBsYWluIG51bWJlciBpcyB1c2VkIGZvciBwZXJmb3JtYW5jZS5cbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKSA6IDB4ZWFjYTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKSA6IDB4ZWFjYjtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKSA6IDB4ZWFjYztcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKSA6IDB4ZWFkMjtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKSA6IDB4ZWFjZDtcbnZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5jb250ZXh0JykgOiAweGVhY2U7XG52YXIgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuYXN5bmNfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mb3J3YXJkX3JlZicpIDogMHhlYWQwO1xudmFyIFJFQUNUX1RJTUVPVVRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnRpbWVvdXQnKSA6IDB4ZWFkMTtcblxudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xudmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuXG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgaWYgKG1heWJlSXRlcmFibGUgPT09IG51bGwgfHwgdHlwZW9mIG1heWJlSXRlcmFibGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIG1heWJlSXRlcmF0b3IgPSBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdO1xuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikge1xuICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lO1xuICB9XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX0FTWU5DX01PREVfVFlQRTpcbiAgICAgIHJldHVybiAnQXN5bmNNb2RlJztcbiAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgIHJldHVybiAnQ29udGV4dC5Db25zdW1lcic7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuICdSZWFjdEZyYWdtZW50JztcbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuICdSZWFjdFBvcnRhbCc7XG4gICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgcmV0dXJuICdQcm9maWxlcignICsgZmliZXIucGVuZGluZ1Byb3BzLmlkICsgJyknO1xuICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgIHJldHVybiAnQ29udGV4dC5Qcm92aWRlcic7XG4gICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgcmV0dXJuICdTdHJpY3RNb2RlJztcbiAgICBjYXNlIFJFQUNUX1RJTUVPVVRfVFlQRTpcbiAgICAgIHJldHVybiAnVGltZW91dCc7XG4gIH1cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSB0eXBlLnJlbmRlci5kaXNwbGF5TmFtZSB8fCB0eXBlLnJlbmRlci5uYW1lIHx8ICcnO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb25OYW1lICE9PSAnJyA/ICdGb3J3YXJkUmVmKCcgKyBmdW5jdGlvbk5hbWUgKyAnKScgOiAnRm9yd2FyZFJlZic7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBkZXNjcmliZUZpYmVyKGZpYmVyKSB7XG4gIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgY2FzZSBJbmRldGVybWluYXRlQ29tcG9uZW50OlxuICAgIGNhc2UgRnVuY3Rpb25hbENvbXBvbmVudDpcbiAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHZhciBvd25lciA9IGZpYmVyLl9kZWJ1Z093bmVyO1xuICAgICAgdmFyIHNvdXJjZSA9IGZpYmVyLl9kZWJ1Z1NvdXJjZTtcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcik7XG4gICAgICB2YXIgb3duZXJOYW1lID0gbnVsbDtcbiAgICAgIGlmIChvd25lcikge1xuICAgICAgICBvd25lck5hbWUgPSBnZXRDb21wb25lbnROYW1lKG93bmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXNjcmliZUNvbXBvbmVudEZyYW1lKG5hbWUsIHNvdXJjZSwgb3duZXJOYW1lKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gY2FuIG9ubHkgYmUgY2FsbGVkIHdpdGggYSB3b3JrLWluLXByb2dyZXNzIGZpYmVyIGFuZFxuLy8gb25seSBkdXJpbmcgYmVnaW4gb3IgY29tcGxldGUgcGhhc2UuIERvIG5vdCBjYWxsIGl0IHVuZGVyIGFueSBvdGhlclxuLy8gY2lyY3Vtc3RhbmNlcy5cbmZ1bmN0aW9uIGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIod29ya0luUHJvZ3Jlc3MpIHtcbiAgdmFyIGluZm8gPSAnJztcbiAgdmFyIG5vZGUgPSB3b3JrSW5Qcm9ncmVzcztcbiAgZG8ge1xuICAgIGluZm8gKz0gZGVzY3JpYmVGaWJlcihub2RlKTtcbiAgICAvLyBPdGhlcndpc2UgdGhpcyByZXR1cm4gcG9pbnRlciBtaWdodCBwb2ludCB0byB0aGUgd3JvbmcgdHJlZTpcbiAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gIH0gd2hpbGUgKG5vZGUpO1xuICByZXR1cm4gaW5mbztcbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDEoKSB7XG4gIHtcbiAgICB2YXIgZmliZXIgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQ7XG4gICAgaWYgKGZpYmVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIG93bmVyID0gZmliZXIuX2RlYnVnT3duZXI7XG4gICAgaWYgKG93bmVyICE9PSBudWxsICYmIHR5cGVvZiBvd25lciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lKG93bmVyKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMSgpIHtcbiAge1xuICAgIHZhciBmaWJlciA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudDtcbiAgICBpZiAoZmliZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBTYWZlIGJlY2F1c2UgaWYgY3VycmVudCBmaWJlciBleGlzdHMsIHdlIGFyZSByZWNvbmNpbGluZyxcbiAgICAvLyBhbmQgaXQgaXMgZ3VhcmFudGVlZCB0byBiZSB0aGUgd29yay1pbi1wcm9ncmVzcyB2ZXJzaW9uLlxuICAgIHJldHVybiBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKGZpYmVyKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzZXRDdXJyZW50RmliZXIoKSB7XG4gIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0Q3VycmVudFN0YWNrID0gbnVsbDtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50ID0gbnVsbDtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5waGFzZSA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHNldEN1cnJlbnRGaWJlcihmaWJlcikge1xuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldEN1cnJlbnRTdGFjayA9IGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMTtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50ID0gZmliZXI7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIucGhhc2UgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBzZXRDdXJyZW50UGhhc2UocGhhc2UpIHtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5waGFzZSA9IHBoYXNlO1xufVxuXG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlciA9IHtcbiAgY3VycmVudDogbnVsbCxcbiAgcGhhc2U6IG51bGwsXG4gIHJlc2V0Q3VycmVudEZpYmVyOiByZXNldEN1cnJlbnRGaWJlcixcbiAgc2V0Q3VycmVudEZpYmVyOiBzZXRDdXJyZW50RmliZXIsXG4gIHNldEN1cnJlbnRQaGFzZTogc2V0Q3VycmVudFBoYXNlLFxuICBnZXRDdXJyZW50RmliZXJPd25lck5hbWU6IGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQxLFxuICBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtOiBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDFcbn07XG5cbi8vIEEgcmVzZXJ2ZWQgYXR0cmlidXRlLlxuLy8gSXQgaXMgaGFuZGxlZCBieSBSZWFjdCBzZXBhcmF0ZWx5IGFuZCBzaG91bGRuJ3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxudmFyIFJFU0VSVkVEID0gMDtcblxuLy8gQSBzaW1wbGUgc3RyaW5nIGF0dHJpYnV0ZS5cbi8vIEF0dHJpYnV0ZXMgdGhhdCBhcmVuJ3QgaW4gdGhlIHdoaXRlbGlzdCBhcmUgcHJlc3VtZWQgdG8gaGF2ZSB0aGlzIHR5cGUuXG52YXIgU1RSSU5HID0gMTtcblxuLy8gQSBzdHJpbmcgYXR0cmlidXRlIHRoYXQgYWNjZXB0cyBib29sZWFucyBpbiBSZWFjdC4gSW4gSFRNTCwgdGhlc2UgYXJlIGNhbGxlZFxuLy8gXCJlbnVtZXJhdGVkXCIgYXR0cmlidXRlcyB3aXRoIFwidHJ1ZVwiIGFuZCBcImZhbHNlXCIgYXMgcG9zc2libGUgdmFsdWVzLlxuLy8gV2hlbiB0cnVlLCBpdCBzaG91bGQgYmUgc2V0IHRvIGEgXCJ0cnVlXCIgc3RyaW5nLlxuLy8gV2hlbiBmYWxzZSwgaXQgc2hvdWxkIGJlIHNldCB0byBhIFwiZmFsc2VcIiBzdHJpbmcuXG52YXIgQk9PTEVBTklTSF9TVFJJTkcgPSAyO1xuXG4vLyBBIHJlYWwgYm9vbGVhbiBhdHRyaWJ1dGUuXG4vLyBXaGVuIHRydWUsIGl0IHNob3VsZCBiZSBwcmVzZW50IChzZXQgZWl0aGVyIHRvIGFuIGVtcHR5IHN0cmluZyBvciBpdHMgbmFtZSkuXG4vLyBXaGVuIGZhbHNlLCBpdCBzaG91bGQgYmUgb21pdHRlZC5cbnZhciBCT09MRUFOID0gMztcblxuLy8gQW4gYXR0cmlidXRlIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBmbGFnIGFzIHdlbGwgYXMgd2l0aCBhIHZhbHVlLlxuLy8gV2hlbiB0cnVlLCBpdCBzaG91bGQgYmUgcHJlc2VudCAoc2V0IGVpdGhlciB0byBhbiBlbXB0eSBzdHJpbmcgb3IgaXRzIG5hbWUpLlxuLy8gV2hlbiBmYWxzZSwgaXQgc2hvdWxkIGJlIG9taXR0ZWQuXG4vLyBGb3IgYW55IG90aGVyIHZhbHVlLCBzaG91bGQgYmUgcHJlc2VudCB3aXRoIHRoYXQgdmFsdWUuXG52YXIgT1ZFUkxPQURFRF9CT09MRUFOID0gNDtcblxuLy8gQW4gYXR0cmlidXRlIHRoYXQgbXVzdCBiZSBudW1lcmljIG9yIHBhcnNlIGFzIGEgbnVtZXJpYy5cbi8vIFdoZW4gZmFsc3ksIGl0IHNob3VsZCBiZSByZW1vdmVkLlxudmFyIE5VTUVSSUMgPSA1O1xuXG4vLyBBbiBhdHRyaWJ1dGUgdGhhdCBtdXN0IGJlIHBvc2l0aXZlIG51bWVyaWMgb3IgcGFyc2UgYXMgYSBwb3NpdGl2ZSBudW1lcmljLlxuLy8gV2hlbiBmYWxzeSwgaXQgc2hvdWxkIGJlIHJlbW92ZWQuXG52YXIgUE9TSVRJVkVfTlVNRVJJQyA9IDY7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbnZhciBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSID0gJzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkQnO1xuLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG52YXIgQVRUUklCVVRFX05BTUVfQ0hBUiA9IEFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIgKyAnXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDAnO1xuXG5cbnZhciBST09UX0FUVFJJQlVURV9OQU1FID0gJ2RhdGEtcmVhY3Ryb290JztcbnZhciBWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWCA9IG5ldyBSZWdFeHAoJ15bJyArIEFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIgKyAnXVsnICsgQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcblxudmFyIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fTtcbnZhciB2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fTtcblxuZnVuY3Rpb24gaXNBdHRyaWJ1dGVOYW1lU2FmZShhdHRyaWJ1dGVOYW1lKSB7XG4gIGlmICh2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlTmFtZSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZS5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGVOYW1lKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVgudGVzdChhdHRyaWJ1dGVOYW1lKSkge1xuICAgIHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZVthdHRyaWJ1dGVOYW1lXSA9IHRydWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZVthdHRyaWJ1dGVOYW1lXSA9IHRydWU7XG4gIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZTogYCVzYCcsIGF0dHJpYnV0ZU5hbWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkSWdub3JlQXR0cmlidXRlKG5hbWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgaWYgKHByb3BlcnR5SW5mbyAhPT0gbnVsbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUluZm8udHlwZSA9PT0gUkVTRVJWRUQ7XG4gIH1cbiAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChuYW1lLmxlbmd0aCA+IDIgJiYgKG5hbWVbMF0gPT09ICdvJyB8fCBuYW1lWzBdID09PSAnTycpICYmIChuYW1lWzFdID09PSAnbicgfHwgbmFtZVsxXSA9PT0gJ04nKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkUmVtb3ZlQXR0cmlidXRlV2l0aFdhcm5pbmcobmFtZSwgdmFsdWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgaWYgKHByb3BlcnR5SW5mbyAhPT0gbnVsbCAmJiBwcm9wZXJ0eUluZm8udHlwZSA9PT0gUkVTRVJWRUQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgLy8gJEZsb3dJc3N1ZSBzeW1ib2wgaXMgcGVyZmVjdGx5IHZhbGlkIGhlcmVcbiAgICBjYXNlICdzeW1ib2wnOlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICB7XG4gICAgICAgIGlmIChpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcGVydHlJbmZvICE9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuICFwcm9wZXJ0eUluZm8uYWNjZXB0c0Jvb2xlYW5zO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmVmaXggPSBuYW1lLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgNSk7XG4gICAgICAgICAgcmV0dXJuIHByZWZpeCAhPT0gJ2RhdGEtJyAmJiBwcmVmaXggIT09ICdhcmlhLSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChzaG91bGRSZW1vdmVBdHRyaWJ1dGVXaXRoV2FybmluZyhuYW1lLCB2YWx1ZSwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHByb3BlcnR5SW5mbyAhPT0gbnVsbCkge1xuICAgIHN3aXRjaCAocHJvcGVydHlJbmZvLnR5cGUpIHtcbiAgICAgIGNhc2UgQk9PTEVBTjpcbiAgICAgICAgcmV0dXJuICF2YWx1ZTtcbiAgICAgIGNhc2UgT1ZFUkxPQURFRF9CT09MRUFOOlxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IGZhbHNlO1xuICAgICAgY2FzZSBOVU1FUklDOlxuICAgICAgICByZXR1cm4gaXNOYU4odmFsdWUpO1xuICAgICAgY2FzZSBQT1NJVElWRV9OVU1FUklDOlxuICAgICAgICByZXR1cm4gaXNOYU4odmFsdWUpIHx8IHZhbHVlIDwgMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eUluZm8obmFtZSkge1xuICByZXR1cm4gcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHByb3BlcnRpZXNbbmFtZV0gOiBudWxsO1xufVxuXG5mdW5jdGlvbiBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgdHlwZSwgbXVzdFVzZVByb3BlcnR5LCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVOYW1lc3BhY2UpIHtcbiAgdGhpcy5hY2NlcHRzQm9vbGVhbnMgPSB0eXBlID09PSBCT09MRUFOSVNIX1NUUklORyB8fCB0eXBlID09PSBCT09MRUFOIHx8IHR5cGUgPT09IE9WRVJMT0FERURfQk9PTEVBTjtcbiAgdGhpcy5hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcbiAgdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2UgPSBhdHRyaWJ1dGVOYW1lc3BhY2U7XG4gIHRoaXMubXVzdFVzZVByb3BlcnR5ID0gbXVzdFVzZVByb3BlcnR5O1xuICB0aGlzLnByb3BlcnR5TmFtZSA9IG5hbWU7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG59XG5cbi8vIFdoZW4gYWRkaW5nIGF0dHJpYnV0ZXMgdG8gdGhpcyBsaXN0LCBiZSBzdXJlIHRvIGFsc28gYWRkIHRoZW0gdG9cbi8vIHRoZSBgcG9zc2libGVTdGFuZGFyZE5hbWVzYCBtb2R1bGUgdG8gZW5zdXJlIGNhc2luZyBhbmQgaW5jb3JyZWN0XG4vLyBuYW1lIHdhcm5pbmdzLlxudmFyIHByb3BlcnRpZXMgPSB7fTtcblxuLy8gVGhlc2UgcHJvcHMgYXJlIHJlc2VydmVkIGJ5IFJlYWN0LiBUaGV5IHNob3VsZG4ndCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG5bJ2NoaWxkcmVuJywgJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJyxcbi8vIFRPRE86IFRoaXMgcHJldmVudHMgdGhlIGFzc2lnbm1lbnQgb2YgZGVmYXVsdFZhbHVlIHRvIHJlZ3VsYXJcbi8vIGVsZW1lbnRzIChub3QganVzdCBpbnB1dHMpLiBOb3cgdGhhdCBSZWFjdERPTUlucHV0IGFzc2lnbnMgdG8gdGhlXG4vLyBkZWZhdWx0VmFsdWUgcHJvcGVydHkgLS0gZG8gd2UgbmVlZCB0aGlzP1xuJ2RlZmF1bHRWYWx1ZScsICdkZWZhdWx0Q2hlY2tlZCcsICdpbm5lckhUTUwnLCAnc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nJywgJ3N1cHByZXNzSHlkcmF0aW9uV2FybmluZycsICdzdHlsZSddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgUkVTRVJWRUQsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsKTtcbn0gLy8gYXR0cmlidXRlTmFtZXNwYWNlXG4pO1xuXG4vLyBBIGZldyBSZWFjdCBzdHJpbmcgYXR0cmlidXRlcyBoYXZlIGEgZGlmZmVyZW50IG5hbWUuXG4vLyBUaGlzIGlzIGEgbWFwcGluZyBmcm9tIFJlYWN0IHByb3AgbmFtZXMgdG8gdGhlIGF0dHJpYnV0ZSBuYW1lcy5cbltbJ2FjY2VwdENoYXJzZXQnLCAnYWNjZXB0LWNoYXJzZXQnXSwgWydjbGFzc05hbWUnLCAnY2xhc3MnXSwgWydodG1sRm9yJywgJ2ZvciddLCBbJ2h0dHBFcXVpdicsICdodHRwLWVxdWl2J11dLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIG5hbWUgPSBfcmVmWzBdLFxuICAgICAgYXR0cmlidXRlTmFtZSA9IF9yZWZbMV07XG5cbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59IC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuKTtcblxuLy8gVGhlc2UgYXJlIFwiZW51bWVyYXRlZFwiIEhUTUwgYXR0cmlidXRlcyB0aGF0IGFjY2VwdCBcInRydWVcIiBhbmQgXCJmYWxzZVwiLlxuLy8gSW4gUmVhY3QsIHdlIGxldCB1c2VycyBwYXNzIGB0cnVlYCBhbmQgYGZhbHNlYCBldmVuIHRob3VnaCB0ZWNobmljYWxseVxuLy8gdGhlc2UgYXJlbid0IGJvb2xlYW4gYXR0cmlidXRlcyAodGhleSBhcmUgY29lcmNlZCB0byBzdHJpbmdzKS5cblsnY29udGVudEVkaXRhYmxlJywgJ2RyYWdnYWJsZScsICdzcGVsbENoZWNrJywgJ3ZhbHVlJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOSVNIX1NUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBuYW1lLnRvTG93ZXJDYXNlKCksIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59IC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuKTtcblxuLy8gVGhlc2UgYXJlIFwiZW51bWVyYXRlZFwiIFNWRyBhdHRyaWJ1dGVzIHRoYXQgYWNjZXB0IFwidHJ1ZVwiIGFuZCBcImZhbHNlXCIuXG4vLyBJbiBSZWFjdCwgd2UgbGV0IHVzZXJzIHBhc3MgYHRydWVgIGFuZCBgZmFsc2VgIGV2ZW4gdGhvdWdoIHRlY2huaWNhbGx5XG4vLyB0aGVzZSBhcmVuJ3QgYm9vbGVhbiBhdHRyaWJ1dGVzICh0aGV5IGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MpLlxuLy8gU2luY2UgdGhlc2UgYXJlIFNWRyBhdHRyaWJ1dGVzLCB0aGVpciBhdHRyaWJ1dGUgbmFtZXMgYXJlIGNhc2Utc2Vuc2l0aXZlLlxuWydhdXRvUmV2ZXJzZScsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ3ByZXNlcnZlQWxwaGEnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIEJPT0xFQU5JU0hfU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUsIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59IC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuKTtcblxuLy8gVGhlc2UgYXJlIEhUTUwgYm9vbGVhbiBhdHRyaWJ1dGVzLlxuWydhbGxvd0Z1bGxTY3JlZW4nLCAnYXN5bmMnLFxuLy8gTm90ZTogdGhlcmUgaXMgYSBzcGVjaWFsIGNhc2UgdGhhdCBwcmV2ZW50cyBpdCBmcm9tIGJlaW5nIHdyaXR0ZW4gdG8gdGhlIERPTVxuLy8gb24gdGhlIGNsaWVudCBzaWRlIGJlY2F1c2UgdGhlIGJyb3dzZXJzIGFyZSBpbmNvbnNpc3RlbnQuIEluc3RlYWQgd2UgY2FsbCBmb2N1cygpLlxuJ2F1dG9Gb2N1cycsICdhdXRvUGxheScsICdjb250cm9scycsICdkZWZhdWx0JywgJ2RlZmVyJywgJ2Rpc2FibGVkJywgJ2Zvcm1Ob1ZhbGlkYXRlJywgJ2hpZGRlbicsICdsb29wJywgJ25vTW9kdWxlJywgJ25vVmFsaWRhdGUnLCAnb3BlbicsICdwbGF5c0lubGluZScsICdyZWFkT25seScsICdyZXF1aXJlZCcsICdyZXZlcnNlZCcsICdzY29wZWQnLCAnc2VhbWxlc3MnLFxuLy8gTWljcm9kYXRhXG4naXRlbVNjb3BlJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUudG9Mb3dlckNhc2UoKSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsKTtcbn0gLy8gYXR0cmlidXRlTmFtZXNwYWNlXG4pO1xuXG4vLyBUaGVzZSBhcmUgdGhlIGZldyBSZWFjdCBwcm9wcyB0aGF0IHdlIHNldCBhcyBET00gcHJvcGVydGllc1xuLy8gcmF0aGVyIHRoYW4gYXR0cmlidXRlcy4gVGhlc2UgYXJlIGFsbCBib29sZWFucy5cblsnY2hlY2tlZCcsXG4vLyBOb3RlOiBgb3B0aW9uLnNlbGVjdGVkYCBpcyBub3QgdXBkYXRlZCBpZiBgc2VsZWN0Lm11bHRpcGxlYCBpc1xuLy8gZGlzYWJsZWQgd2l0aCBgcmVtb3ZlQXR0cmlidXRlYC4gV2UgaGF2ZSBzcGVjaWFsIGxvZ2ljIGZvciBoYW5kbGluZyB0aGlzLlxuJ211bHRpcGxlJywgJ211dGVkJywgJ3NlbGVjdGVkJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOLCB0cnVlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSAvLyBhdHRyaWJ1dGVOYW1lc3BhY2Vcbik7XG5cbi8vIFRoZXNlIGFyZSBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBhcmUgXCJvdmVybG9hZGVkIGJvb2xlYW5zXCI6IHRoZXkgYmVoYXZlIGxpa2Vcbi8vIGJvb2xlYW5zLCBidXQgY2FuIGFsc28gYWNjZXB0IGEgc3RyaW5nIHZhbHVlLlxuWydjYXB0dXJlJywgJ2Rvd25sb2FkJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBPVkVSTE9BREVEX0JPT0xFQU4sIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSAvLyBhdHRyaWJ1dGVOYW1lc3BhY2Vcbik7XG5cbi8vIFRoZXNlIGFyZSBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBtdXN0IGJlIHBvc2l0aXZlIG51bWJlcnMuXG5bJ2NvbHMnLCAncm93cycsICdzaXplJywgJ3NwYW4nXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFBPU0lUSVZFX05VTUVSSUMsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSAvLyBhdHRyaWJ1dGVOYW1lc3BhY2Vcbik7XG5cbi8vIFRoZXNlIGFyZSBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBtdXN0IGJlIG51bWJlcnMuXG5bJ3Jvd1NwYW4nLCAnc3RhcnQnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIE5VTUVSSUMsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSAvLyBhdHRyaWJ1dGVOYW1lc3BhY2Vcbik7XG5cbnZhciBDQU1FTElaRSA9IC9bXFwtXFw6XShbYS16XSkvZztcbnZhciBjYXBpdGFsaXplID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gIHJldHVybiB0b2tlblsxXS50b1VwcGVyQ2FzZSgpO1xufTtcblxuLy8gVGhpcyBpcyBhIGxpc3Qgb2YgYWxsIFNWRyBhdHRyaWJ1dGVzIHRoYXQgbmVlZCBzcGVjaWFsIGNhc2luZywgbmFtZXNwYWNpbmcsXG4vLyBvciBib29sZWFuIHZhbHVlIGFzc2lnbm1lbnQuIFJlZ3VsYXIgYXR0cmlidXRlcyB0aGF0IGp1c3QgYWNjZXB0IHN0cmluZ3Ncbi8vIGFuZCBoYXZlIHRoZSBzYW1lIG5hbWVzIGFyZSBvbWl0dGVkLCBqdXN0IGxpa2UgaW4gdGhlIEhUTUwgd2hpdGVsaXN0LlxuLy8gU29tZSBvZiB0aGVzZSBhdHRyaWJ1dGVzIGNhbiBiZSBoYXJkIHRvIGZpbmQuIFRoaXMgbGlzdCB3YXMgY3JlYXRlZCBieVxuLy8gc2NyYXBwaW5nIHRoZSBNRE4gZG9jdW1lbnRhdGlvbi5cblsnYWNjZW50LWhlaWdodCcsICdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnYXJhYmljLWZvcm0nLCAnYmFzZWxpbmUtc2hpZnQnLCAnY2FwLWhlaWdodCcsICdjbGlwLXBhdGgnLCAnY2xpcC1ydWxlJywgJ2NvbG9yLWludGVycG9sYXRpb24nLCAnY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzJywgJ2NvbG9yLXByb2ZpbGUnLCAnY29sb3ItcmVuZGVyaW5nJywgJ2RvbWluYW50LWJhc2VsaW5lJywgJ2VuYWJsZS1iYWNrZ3JvdW5kJywgJ2ZpbGwtb3BhY2l0eScsICdmaWxsLXJ1bGUnLCAnZmxvb2QtY29sb3InLCAnZmxvb2Qtb3BhY2l0eScsICdmb250LWZhbWlseScsICdmb250LXNpemUnLCAnZm9udC1zaXplLWFkanVzdCcsICdmb250LXN0cmV0Y2gnLCAnZm9udC1zdHlsZScsICdmb250LXZhcmlhbnQnLCAnZm9udC13ZWlnaHQnLCAnZ2x5cGgtbmFtZScsICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJywgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJywgJ2hvcml6LWFkdi14JywgJ2hvcml6LW9yaWdpbi14JywgJ2ltYWdlLXJlbmRlcmluZycsICdsZXR0ZXItc3BhY2luZycsICdsaWdodGluZy1jb2xvcicsICdtYXJrZXItZW5kJywgJ21hcmtlci1taWQnLCAnbWFya2VyLXN0YXJ0JywgJ292ZXJsaW5lLXBvc2l0aW9uJywgJ292ZXJsaW5lLXRoaWNrbmVzcycsICdwYWludC1vcmRlcicsICdwYW5vc2UtMScsICdwb2ludGVyLWV2ZW50cycsICdyZW5kZXJpbmctaW50ZW50JywgJ3NoYXBlLXJlbmRlcmluZycsICdzdG9wLWNvbG9yJywgJ3N0b3Atb3BhY2l0eScsICdzdHJpa2V0aHJvdWdoLXBvc2l0aW9uJywgJ3N0cmlrZXRocm91Z2gtdGhpY2tuZXNzJywgJ3N0cm9rZS1kYXNoYXJyYXknLCAnc3Ryb2tlLWRhc2hvZmZzZXQnLCAnc3Ryb2tlLWxpbmVjYXAnLCAnc3Ryb2tlLWxpbmVqb2luJywgJ3N0cm9rZS1taXRlcmxpbWl0JywgJ3N0cm9rZS1vcGFjaXR5JywgJ3N0cm9rZS13aWR0aCcsICd0ZXh0LWFuY2hvcicsICd0ZXh0LWRlY29yYXRpb24nLCAndGV4dC1yZW5kZXJpbmcnLCAndW5kZXJsaW5lLXBvc2l0aW9uJywgJ3VuZGVybGluZS10aGlja25lc3MnLCAndW5pY29kZS1iaWRpJywgJ3VuaWNvZGUtcmFuZ2UnLCAndW5pdHMtcGVyLWVtJywgJ3YtYWxwaGFiZXRpYycsICd2LWhhbmdpbmcnLCAndi1pZGVvZ3JhcGhpYycsICd2LW1hdGhlbWF0aWNhbCcsICd2ZWN0b3ItZWZmZWN0JywgJ3ZlcnQtYWR2LXknLCAndmVydC1vcmlnaW4teCcsICd2ZXJ0LW9yaWdpbi15JywgJ3dvcmQtc3BhY2luZycsICd3cml0aW5nLW1vZGUnLCAneG1sbnM6eGxpbmsnLCAneC1oZWlnaHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZS5yZXBsYWNlKENBTUVMSVpFLCBjYXBpdGFsaXplKTtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsIG51bGwpO1xufSAvLyBhdHRyaWJ1dGVOYW1lc3BhY2Vcbik7XG5cbi8vIFN0cmluZyBTVkcgYXR0cmlidXRlcyB3aXRoIHRoZSB4bGluayBuYW1lc3BhY2UuXG5bJ3hsaW5rOmFjdHVhdGUnLCAneGxpbms6YXJjcm9sZScsICd4bGluazpocmVmJywgJ3hsaW5rOnJvbGUnLCAneGxpbms6c2hvdycsICd4bGluazp0aXRsZScsICd4bGluazp0eXBlJ10uZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWUucmVwbGFjZShDQU1FTElaRSwgY2FwaXRhbGl6ZSk7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFNUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBhdHRyaWJ1dGVOYW1lLCAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycpO1xufSk7XG5cbi8vIFN0cmluZyBTVkcgYXR0cmlidXRlcyB3aXRoIHRoZSB4bWwgbmFtZXNwYWNlLlxuWyd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZS5yZXBsYWNlKENBTUVMSVpFLCBjYXBpdGFsaXplKTtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnKTtcbn0pO1xuXG4vLyBTcGVjaWFsIGNhc2U6IHRoaXMgYXR0cmlidXRlIGV4aXN0cyBib3RoIGluIEhUTUwgYW5kIFNWRy5cbi8vIEl0cyBcInRhYmluZGV4XCIgYXR0cmlidXRlIG5hbWUgaXMgY2FzZS1zZW5zaXRpdmUgaW4gU1ZHIHNvIHdlIGNhbid0IGp1c3QgdXNlXG4vLyBpdHMgUmVhY3QgYHRhYkluZGV4YCBuYW1lLCBsaWtlIHdlIGRvIGZvciBhdHRyaWJ1dGVzIHRoYXQgZXhpc3Qgb25seSBpbiBIVE1MLlxucHJvcGVydGllcy50YWJJbmRleCA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQoJ3RhYkluZGV4JywgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4ndGFiaW5kZXgnLCAvLyBhdHRyaWJ1dGVOYW1lXG5udWxsKTtcblxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIGZvciBhIHByb3BlcnR5IG9uIGEgbm9kZS4gT25seSB1c2VkIGluIERFViBmb3IgU1NSIHZhbGlkYXRpb24uXG4gKiBUaGUgXCJleHBlY3RlZFwiIGFyZ3VtZW50IGlzIHVzZWQgYXMgYSBoaW50IG9mIHdoYXQgdGhlIGV4cGVjdGVkIHZhbHVlIGlzLlxuICogU29tZSBwcm9wZXJ0aWVzIGhhdmUgbXVsdGlwbGUgZXF1aXZhbGVudCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlRm9yUHJvcGVydHkobm9kZSwgbmFtZSwgZXhwZWN0ZWQsIHByb3BlcnR5SW5mbykge1xuICB7XG4gICAgaWYgKHByb3BlcnR5SW5mby5tdXN0VXNlUHJvcGVydHkpIHtcbiAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eUluZm8ucHJvcGVydHlOYW1lO1xuXG4gICAgICByZXR1cm4gbm9kZVtwcm9wZXJ0eU5hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lO1xuXG4gICAgICB2YXIgc3RyaW5nVmFsdWUgPSBudWxsO1xuXG4gICAgICBpZiAocHJvcGVydHlJbmZvLnR5cGUgPT09IE9WRVJMT0FERURfQk9PTEVBTikge1xuICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCBleHBlY3RlZCwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbHVlID09PSAnJyArIGV4cGVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlQXR0cmlidXRlKG5hbWUsIGV4cGVjdGVkLCBwcm9wZXJ0eUluZm8sIGZhbHNlKSkge1xuICAgICAgICAgIC8vIFdlIGhhZCBhbiBhdHRyaWJ1dGUgYnV0IHNob3VsZG4ndCBoYXZlIGhhZCBvbmUsIHNvIHJlYWQgaXRcbiAgICAgICAgICAvLyBmb3IgdGhlIGVycm9yIG1lc3NhZ2UuXG4gICAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eUluZm8udHlwZSA9PT0gQk9PTEVBTikge1xuICAgICAgICAgIC8vIElmIHRoaXMgd2FzIGEgYm9vbGVhbiwgaXQgZG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgdmFsdWUgaXNcbiAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IHdlIGhhdmUgaXQgaXMgdGhlIHNhbWUgYXMgdGhlIGV4cGVjdGVkLlxuICAgICAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFdmVuIGlmIHRoaXMgcHJvcGVydHkgdXNlcyBhIG5hbWVzcGFjZSB3ZSB1c2UgZ2V0QXR0cmlidXRlXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgYXNzdW1lIGl0cyBuYW1lc3BhY2VkIG5hbWUgaXMgdGhlIHNhbWUgYXMgb3VyIGNvbmZpZy5cbiAgICAgICAgLy8gVG8gdXNlIGdldEF0dHJpYnV0ZU5TIHdlIG5lZWQgdGhlIGxvY2FsIG5hbWUgd2hpY2ggd2UgZG9uJ3QgaGF2ZVxuICAgICAgICAvLyBpbiBvdXIgY29uZmlnIGF0bS5cbiAgICAgICAgc3RyaW5nVmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCBleHBlY3RlZCwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ1ZhbHVlID09PSBudWxsID8gZXhwZWN0ZWQgOiBzdHJpbmdWYWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nVmFsdWUgPT09ICcnICsgZXhwZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdGVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ1ZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdldCB0aGUgdmFsdWUgZm9yIGEgYXR0cmlidXRlIG9uIGEgbm9kZS4gT25seSB1c2VkIGluIERFViBmb3IgU1NSIHZhbGlkYXRpb24uXG4gKiBUaGUgdGhpcmQgYXJndW1lbnQgaXMgdXNlZCBhcyBhIGhpbnQgb2Ygd2hhdCB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMuIFNvbWVcbiAqIGF0dHJpYnV0ZXMgaGF2ZSBtdWx0aXBsZSBlcXVpdmFsZW50IHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWVGb3JBdHRyaWJ1dGUobm9kZSwgbmFtZSwgZXhwZWN0ZWQpIHtcbiAge1xuICAgIGlmICghaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW5vZGUuaGFzQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICByZXR1cm4gZXhwZWN0ZWQgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IG51bGw7XG4gICAgfVxuICAgIHZhciB2YWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIGlmICh2YWx1ZSA9PT0gJycgKyBleHBlY3RlZCkge1xuICAgICAgcmV0dXJuIGV4cGVjdGVkO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBmb3IgYSBwcm9wZXJ0eSBvbiBhIG5vZGUuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICovXG5mdW5jdGlvbiBzZXRWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUsIHZhbHVlLCBpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICB2YXIgcHJvcGVydHlJbmZvID0gZ2V0UHJvcGVydHlJbmZvKG5hbWUpO1xuICBpZiAoc2hvdWxkSWdub3JlQXR0cmlidXRlKG5hbWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChzaG91bGRSZW1vdmVBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpKSB7XG4gICAgdmFsdWUgPSBudWxsO1xuICB9XG4gIC8vIElmIHRoZSBwcm9wIGlzbid0IGluIHRoZSBzcGVjaWFsIGxpc3QsIHRyZWF0IGl0IGFzIGEgc2ltcGxlIGF0dHJpYnV0ZS5cbiAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnIHx8IHByb3BlcnR5SW5mbyA9PT0gbnVsbCkge1xuICAgIGlmIChpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKSB7XG4gICAgICB2YXIgX2F0dHJpYnV0ZU5hbWUgPSBuYW1lO1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKF9hdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKF9hdHRyaWJ1dGVOYW1lLCAnJyArIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtdXN0VXNlUHJvcGVydHkgPSBwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5O1xuXG4gIGlmIChtdXN0VXNlUHJvcGVydHkpIHtcbiAgICB2YXIgcHJvcGVydHlOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcblxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdmFyIHR5cGUgPSBwcm9wZXJ0eUluZm8udHlwZTtcblxuICAgICAgbm9kZVtwcm9wZXJ0eU5hbWVdID0gdHlwZSA9PT0gQk9PTEVBTiA/IGZhbHNlIDogJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbnRyYXJ5IHRvIGBzZXRBdHRyaWJ1dGVgLCBvYmplY3QgcHJvcGVydGllcyBhcmUgcHJvcGVybHlcbiAgICAgIC8vIGB0b1N0cmluZ2BlZCBieSBJRTgvOS5cbiAgICAgIG5vZGVbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgLy8gVGhlIHJlc3QgYXJlIHRyZWF0ZWQgYXMgYXR0cmlidXRlcyB3aXRoIHNwZWNpYWwgY2FzZXMuXG4gIHZhciBhdHRyaWJ1dGVOYW1lID0gcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWUsXG4gICAgICBhdHRyaWJ1dGVOYW1lc3BhY2UgPSBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZXNwYWNlO1xuXG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBfdHlwZSA9IHByb3BlcnR5SW5mby50eXBlO1xuXG4gICAgdmFyIGF0dHJpYnV0ZVZhbHVlID0gdm9pZCAwO1xuICAgIGlmIChfdHlwZSA9PT0gQk9PTEVBTiB8fCBfdHlwZSA9PT0gT1ZFUkxPQURFRF9CT09MRUFOICYmIHZhbHVlID09PSB0cnVlKSB7XG4gICAgICBhdHRyaWJ1dGVWYWx1ZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBgc2V0QXR0cmlidXRlYCB3aXRoIG9iamVjdHMgYmVjb21lcyBvbmx5IGBbb2JqZWN0XWAgaW4gSUU4LzksXG4gICAgICAvLyAoJycgKyB2YWx1ZSkgbWFrZXMgaXQgb3V0cHV0IHRoZSBjb3JyZWN0IHRvU3RyaW5nKCktdmFsdWUuXG4gICAgICBhdHRyaWJ1dGVWYWx1ZSA9ICcnICsgdmFsdWU7XG4gICAgfVxuICAgIGlmIChhdHRyaWJ1dGVOYW1lc3BhY2UpIHtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoYXR0cmlidXRlTmFtZXNwYWNlLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzID0ge1xuICBjaGVja1Byb3BUeXBlczogbnVsbFxufTtcblxue1xuICB2YXIgaGFzUmVhZE9ubHlWYWx1ZSA9IHtcbiAgICBidXR0b246IHRydWUsXG4gICAgY2hlY2tib3g6IHRydWUsXG4gICAgaW1hZ2U6IHRydWUsXG4gICAgaGlkZGVuOiB0cnVlLFxuICAgIHJhZGlvOiB0cnVlLFxuICAgIHJlc2V0OiB0cnVlLFxuICAgIHN1Ym1pdDogdHJ1ZVxuICB9O1xuXG4gIHZhciBwcm9wVHlwZXMgPSB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIGlmICghcHJvcHNbcHJvcE5hbWVdIHx8IGhhc1JlYWRPbmx5VmFsdWVbcHJvcHMudHlwZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgdmFsdWVgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gJyArICdgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmICcgKyAndGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdFZhbHVlYC4gT3RoZXJ3aXNlLCAnICsgJ3NldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLicpO1xuICAgIH0sXG4gICAgY2hlY2tlZDogZnVuY3Rpb24gKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgaWYgKCFwcm9wc1twcm9wTmFtZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgY2hlY2tlZGAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiAnICsgJ2BvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgJyArICd0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0Q2hlY2tlZGAuIE90aGVyd2lzZSwgJyArICdzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC4nKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYSBsaW5rZWQgYHZhbHVlYCBhdHRyaWJ1dGUgZm9yIGNvbnRyb2xsZWQgZm9ybXMuIFlvdSBzaG91bGQgbm90IHVzZVxuICAgKiB0aGlzIG91dHNpZGUgb2YgdGhlIFJlYWN0RE9NIGNvbnRyb2xsZWQgZm9ybSBjb21wb25lbnRzLlxuICAgKi9cbiAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBmdW5jdGlvbiAodGFnTmFtZSwgcHJvcHMsIGdldFN0YWNrKSB7XG4gICAgY2hlY2tQcm9wVHlwZXMocHJvcFR5cGVzLCBwcm9wcywgJ3Byb3AnLCB0YWdOYW1lLCBnZXRTdGFjayk7XG4gIH07XG59XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBnZXRDdXJyZW50RmliZXJPd25lck5hbWUgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlck93bmVyTmFtZTtcbnZhciBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG52YXIgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gZmFsc2U7XG52YXIgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9IGZhbHNlO1xudmFyIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSBmYWxzZTtcbnZhciBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGlzQ29udHJvbGxlZChwcm9wcykge1xuICB2YXIgdXNlc0NoZWNrZWQgPSBwcm9wcy50eXBlID09PSAnY2hlY2tib3gnIHx8IHByb3BzLnR5cGUgPT09ICdyYWRpbyc7XG4gIHJldHVybiB1c2VzQ2hlY2tlZCA/IHByb3BzLmNoZWNrZWQgIT0gbnVsbCA6IHByb3BzLnZhbHVlICE9IG51bGw7XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBhbiA8aW5wdXQ+IGhvc3QgY29tcG9uZW50IHRoYXQgYWxsb3dzIHNldHRpbmcgdGhlc2Ugb3B0aW9uYWxcbiAqIHByb3BzOiBgY2hlY2tlZGAsIGB2YWx1ZWAsIGBkZWZhdWx0Q2hlY2tlZGAsIGFuZCBgZGVmYXVsdFZhbHVlYC5cbiAqXG4gKiBJZiBgY2hlY2tlZGAgb3IgYHZhbHVlYCBhcmUgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9uc1xuICogdGhhdCBhZmZlY3QgdGhlIGNoZWNrZWQgc3RhdGUgb3IgdmFsdWUgd2lsbCB0cmlnZ2VyIHVwZGF0ZXMgdG8gdGhlIGVsZW1lbnQuXG4gKlxuICogSWYgdGhleSBhcmUgc3VwcGxpZWQgKGFuZCBub3QgbnVsbC91bmRlZmluZWQpLCB0aGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsIG5vdFxuICogdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LiBJbnN0ZWFkLCB0aGUgcHJvcHMgbXVzdCBjaGFuZ2UgaW4gb3JkZXIgZm9yXG4gKiB0aGUgcmVuZGVyZWQgZWxlbWVudCB0byBiZSB1cGRhdGVkLlxuICpcbiAqIFRoZSByZW5kZXJlZCBlbGVtZW50IHdpbGwgYmUgaW5pdGlhbGl6ZWQgYXMgdW5jaGVja2VkIChvciBgZGVmYXVsdENoZWNrZWRgKVxuICogd2l0aCBhbiBlbXB0eSB2YWx1ZSAob3IgYGRlZmF1bHRWYWx1ZWApLlxuICpcbiAqIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDEyL1dELWh0bWw1LTIwMTIxMDI1L3RoZS1pbnB1dC1lbGVtZW50Lmh0bWxcbiAqL1xuXG5mdW5jdGlvbiBnZXRIb3N0UHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB2YXIgY2hlY2tlZCA9IHByb3BzLmNoZWNrZWQ7XG5cbiAgdmFyIGhvc3RQcm9wcyA9IF9hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZGVmYXVsdENoZWNrZWQ6IHVuZGVmaW5lZCxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZCxcbiAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgIGNoZWNrZWQ6IGNoZWNrZWQgIT0gbnVsbCA/IGNoZWNrZWQgOiBub2RlLl93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWRcbiAgfSk7XG5cbiAgcmV0dXJuIGhvc3RQcm9wcztcbn1cblxuZnVuY3Rpb24gaW5pdFdyYXBwZXJTdGF0ZShlbGVtZW50LCBwcm9wcykge1xuICB7XG4gICAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoJ2lucHV0JywgcHJvcHMsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0pO1xuXG4gICAgaWYgKHByb3BzLmNoZWNrZWQgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0Q2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnJXMgY29udGFpbnMgYW4gaW5wdXQgb2YgdHlwZSAlcyB3aXRoIGJvdGggY2hlY2tlZCBhbmQgZGVmYXVsdENoZWNrZWQgcHJvcHMuICcgKyAnSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIGNoZWNrZWQgcHJvcCwgb3IgdGhlIGRlZmF1bHRDaGVja2VkIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpO1xuICAgICAgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclcyBjb250YWlucyBhbiBpbnB1dCBvZiB0eXBlICVzIHdpdGggYm90aCB2YWx1ZSBhbmQgZGVmYXVsdFZhbHVlIHByb3BzLiAnICsgJ0lucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpO1xuICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHZhciBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWUgPT0gbnVsbCA/ICcnIDogcHJvcHMuZGVmYXVsdFZhbHVlO1xuXG4gIG5vZGUuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICBpbml0aWFsQ2hlY2tlZDogcHJvcHMuY2hlY2tlZCAhPSBudWxsID8gcHJvcHMuY2hlY2tlZCA6IHByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgIGluaXRpYWxWYWx1ZTogZ2V0U2FmZVZhbHVlKHByb3BzLnZhbHVlICE9IG51bGwgPyBwcm9wcy52YWx1ZSA6IGRlZmF1bHRWYWx1ZSksXG4gICAgY29udHJvbGxlZDogaXNDb250cm9sbGVkKHByb3BzKVxuICB9O1xufVxuXG5mdW5jdGlvbiB1cGRhdGVDaGVja2VkKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgdmFyIGNoZWNrZWQgPSBwcm9wcy5jaGVja2VkO1xuICBpZiAoY2hlY2tlZCAhPSBudWxsKSB7XG4gICAgc2V0VmFsdWVGb3JQcm9wZXJ0eShub2RlLCAnY2hlY2tlZCcsIGNoZWNrZWQsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVXcmFwcGVyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAge1xuICAgIHZhciBfY29udHJvbGxlZCA9IGlzQ29udHJvbGxlZChwcm9wcyk7XG5cbiAgICBpZiAoIW5vZGUuX3dyYXBwZXJTdGF0ZS5jb250cm9sbGVkICYmIF9jb250cm9sbGVkICYmICFkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnQSBjb21wb25lbnQgaXMgY2hhbmdpbmcgYW4gdW5jb250cm9sbGVkIGlucHV0IG9mIHR5cGUgJXMgdG8gYmUgY29udHJvbGxlZC4gJyArICdJbnB1dCBlbGVtZW50cyBzaG91bGQgbm90IHN3aXRjaCBmcm9tIHVuY29udHJvbGxlZCB0byBjb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gJyArICdEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0ICcgKyAnZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMlcycsIHByb3BzLnR5cGUsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUuX3dyYXBwZXJTdGF0ZS5jb250cm9sbGVkICYmICFfY29udHJvbGxlZCAmJiAhZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0EgY29tcG9uZW50IGlzIGNoYW5naW5nIGEgY29udHJvbGxlZCBpbnB1dCBvZiB0eXBlICVzIHRvIGJlIHVuY29udHJvbGxlZC4gJyArICdJbnB1dCBlbGVtZW50cyBzaG91bGQgbm90IHN3aXRjaCBmcm9tIGNvbnRyb2xsZWQgdG8gdW5jb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gJyArICdEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0ICcgKyAnZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMlcycsIHByb3BzLnR5cGUsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVDaGVja2VkKGVsZW1lbnQsIHByb3BzKTtcblxuICB2YXIgdmFsdWUgPSBnZXRTYWZlVmFsdWUocHJvcHMudmFsdWUpO1xuXG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgaWYgKHByb3BzLnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAodmFsdWUgPT09IDAgJiYgbm9kZS52YWx1ZSA9PT0gJycgfHxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgbm9kZS52YWx1ZSAhPSB2YWx1ZSkge1xuICAgICAgICBub2RlLnZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5vZGUudmFsdWUgIT09ICcnICsgdmFsdWUpIHtcbiAgICAgIG5vZGUudmFsdWUgPSAnJyArIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xuICAgIHNldERlZmF1bHRWYWx1ZShub2RlLCBwcm9wcy50eXBlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHRWYWx1ZScpKSB7XG4gICAgc2V0RGVmYXVsdFZhbHVlKG5vZGUsIHByb3BzLnR5cGUsIGdldFNhZmVWYWx1ZShwcm9wcy5kZWZhdWx0VmFsdWUpKTtcbiAgfVxuXG4gIGlmIChwcm9wcy5jaGVja2VkID09IG51bGwgJiYgcHJvcHMuZGVmYXVsdENoZWNrZWQgIT0gbnVsbCkge1xuICAgIG5vZGUuZGVmYXVsdENoZWNrZWQgPSAhIXByb3BzLmRlZmF1bHRDaGVja2VkO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIoZWxlbWVudCwgcHJvcHMsIGlzSHlkcmF0aW5nKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcblxuICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykgfHwgcHJvcHMuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHRWYWx1ZScpKSB7XG4gICAgdmFyIF9pbml0aWFsVmFsdWUgPSAnJyArIG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7XG4gICAgdmFyIGN1cnJlbnRWYWx1ZSA9IG5vZGUudmFsdWU7XG5cbiAgICAvLyBEbyBub3QgYXNzaWduIHZhbHVlIGlmIGl0IGlzIGFscmVhZHkgc2V0LiBUaGlzIHByZXZlbnRzIHVzZXIgdGV4dCBpbnB1dFxuICAgIC8vIGZyb20gYmVpbmcgbG9zdCBkdXJpbmcgU1NSIGh5ZHJhdGlvbi5cbiAgICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgICAvLyBEbyBub3QgcmUtYXNzaWduIHRoZSB2YWx1ZSBwcm9wZXJ0eSBpZiB0aGVyZSBpcyBubyBjaGFuZ2UuIFRoaXNcbiAgICAgIC8vIHBvdGVudGlhbGx5IGF2b2lkcyBhIERPTSB3cml0ZSBhbmQgcHJldmVudHMgRmlyZWZveCAofjYwLjAuMSkgZnJvbVxuICAgICAgLy8gcHJlbWF0dXJlbHkgbWFya2luZyByZXF1aXJlZCBpbnB1dHMgYXMgaW52YWxpZFxuICAgICAgaWYgKF9pbml0aWFsVmFsdWUgIT09IGN1cnJlbnRWYWx1ZSkge1xuICAgICAgICBub2RlLnZhbHVlID0gX2luaXRpYWxWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB2YWx1ZSBtdXN0IGJlIGFzc2lnbmVkIGJlZm9yZSBkZWZhdWx0VmFsdWUuIFRoaXMgZml4ZXMgYW4gaXNzdWUgd2hlcmUgdGhlXG4gICAgLy8gdmlzdWFsbHkgZGlzcGxheWVkIHZhbHVlIG9mIGRhdGUgaW5wdXRzIGRpc2FwcGVhcnMgb24gbW9iaWxlIFNhZmFyaSBhbmQgQ2hyb21lOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNzIzM1xuICAgIG5vZGUuZGVmYXVsdFZhbHVlID0gX2luaXRpYWxWYWx1ZTtcbiAgfVxuXG4gIC8vIE5vcm1hbGx5LCB3ZSdkIGp1c3QgZG8gYG5vZGUuY2hlY2tlZCA9IG5vZGUuY2hlY2tlZGAgdXBvbiBpbml0aWFsIG1vdW50LCBsZXNzIHRoaXMgYnVnXG4gIC8vIHRoaXMgaXMgbmVlZGVkIHRvIHdvcmsgYXJvdW5kIGEgY2hyb21lIGJ1ZyB3aGVyZSBzZXR0aW5nIGRlZmF1bHRDaGVja2VkXG4gIC8vIHdpbGwgc29tZXRpbWVzIGluZmx1ZW5jZSB0aGUgdmFsdWUgb2YgY2hlY2tlZCAoZXZlbiBhZnRlciBkZXRhY2htZW50KS5cbiAgLy8gUmVmZXJlbmNlOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD02MDg0MTZcbiAgLy8gV2UgbmVlZCB0byB0ZW1wb3JhcmlseSB1bnNldCBuYW1lIHRvIGF2b2lkIGRpc3J1cHRpbmcgcmFkaW8gYnV0dG9uIGdyb3Vwcy5cbiAgdmFyIG5hbWUgPSBub2RlLm5hbWU7XG4gIGlmIChuYW1lICE9PSAnJykge1xuICAgIG5vZGUubmFtZSA9ICcnO1xuICB9XG4gIG5vZGUuZGVmYXVsdENoZWNrZWQgPSAhbm9kZS5kZWZhdWx0Q2hlY2tlZDtcbiAgbm9kZS5kZWZhdWx0Q2hlY2tlZCA9ICFub2RlLmRlZmF1bHRDaGVja2VkO1xuICBpZiAobmFtZSAhPT0gJycpIHtcbiAgICBub2RlLm5hbWUgPSBuYW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc3RvcmVDb250cm9sbGVkU3RhdGUoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB1cGRhdGVXcmFwcGVyKG5vZGUsIHByb3BzKTtcbiAgdXBkYXRlTmFtZWRDb3VzaW5zKG5vZGUsIHByb3BzKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTmFtZWRDb3VzaW5zKHJvb3ROb2RlLCBwcm9wcykge1xuICB2YXIgbmFtZSA9IHByb3BzLm5hbWU7XG4gIGlmIChwcm9wcy50eXBlID09PSAncmFkaW8nICYmIG5hbWUgIT0gbnVsbCkge1xuICAgIHZhciBxdWVyeVJvb3QgPSByb290Tm9kZTtcblxuICAgIHdoaWxlIChxdWVyeVJvb3QucGFyZW50Tm9kZSkge1xuICAgICAgcXVlcnlSb290ID0gcXVlcnlSb290LnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgLy8gSWYgYHJvb3ROb2RlLmZvcm1gIHdhcyBub24tbnVsbCwgdGhlbiB3ZSBjb3VsZCB0cnkgYGZvcm0uZWxlbWVudHNgLFxuICAgIC8vIGJ1dCB0aGF0IHNvbWV0aW1lcyBiZWhhdmVzIHN0cmFuZ2VseSBpbiBJRTguIFdlIGNvdWxkIGFsc28gdHJ5IHVzaW5nXG4gICAgLy8gYGZvcm0uZ2V0RWxlbWVudHNCeU5hbWVgLCBidXQgdGhhdCB3aWxsIG9ubHkgcmV0dXJuIGRpcmVjdCBjaGlsZHJlblxuICAgIC8vIGFuZCB3b24ndCBpbmNsdWRlIGlucHV0cyB0aGF0IHVzZSB0aGUgSFRNTDUgYGZvcm09YCBhdHRyaWJ1dGUuIFNpbmNlXG4gICAgLy8gdGhlIGlucHV0IG1pZ2h0IG5vdCBldmVuIGJlIGluIGEgZm9ybS4gSXQgbWlnaHQgbm90IGV2ZW4gYmUgaW4gdGhlXG4gICAgLy8gZG9jdW1lbnQuIExldCdzIGp1c3QgdXNlIHRoZSBsb2NhbCBgcXVlcnlTZWxlY3RvckFsbGAgdG8gZW5zdXJlIHdlIGRvbid0XG4gICAgLy8gbWlzcyBhbnl0aGluZy5cbiAgICB2YXIgZ3JvdXAgPSBxdWVyeVJvb3QucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT0nICsgSlNPTi5zdHJpbmdpZnkoJycgKyBuYW1lKSArICddW3R5cGU9XCJyYWRpb1wiXScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG90aGVyTm9kZSA9IGdyb3VwW2ldO1xuICAgICAgaWYgKG90aGVyTm9kZSA9PT0gcm9vdE5vZGUgfHwgb3RoZXJOb2RlLmZvcm0gIT09IHJvb3ROb2RlLmZvcm0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgaWYgcmFkaW8gYnV0dG9ucyByZW5kZXJlZCBieSBkaWZmZXJlbnQgY29waWVzIG9mIFJlYWN0XG4gICAgICAvLyBhbmQgdGhlIHNhbWUgbmFtZSBhcmUgcmVuZGVyZWQgaW50byB0aGUgc2FtZSBmb3JtIChzYW1lIGFzICMxOTM5KS5cbiAgICAgIC8vIFRoYXQncyBwcm9iYWJseSBva2F5OyB3ZSBkb24ndCBzdXBwb3J0IGl0IGp1c3QgYXMgd2UgZG9uJ3Qgc3VwcG9ydFxuICAgICAgLy8gbWl4aW5nIFJlYWN0IHJhZGlvIGJ1dHRvbnMgd2l0aCBub24tUmVhY3Qgb25lcy5cbiAgICAgIHZhciBvdGhlclByb3BzID0gZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSQxKG90aGVyTm9kZSk7XG4gICAgICAhb3RoZXJQcm9wcyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0RE9NSW5wdXQ6IE1peGluZyBSZWFjdCBhbmQgbm9uLVJlYWN0IHJhZGlvIGlucHV0cyB3aXRoIHRoZSBzYW1lIGBuYW1lYCBpcyBub3Qgc3VwcG9ydGVkLicpIDogdm9pZCAwO1xuXG4gICAgICAvLyBXZSBuZWVkIHVwZGF0ZSB0aGUgdHJhY2tlZCB2YWx1ZSBvbiB0aGUgbmFtZWQgY291c2luIHNpbmNlIHRoZSB2YWx1ZVxuICAgICAgLy8gd2FzIGNoYW5nZWQgYnV0IHRoZSBpbnB1dCBzYXcgbm8gZXZlbnQgb3IgdmFsdWUgc2V0XG4gICAgICB1cGRhdGVWYWx1ZUlmQ2hhbmdlZChvdGhlck5vZGUpO1xuXG4gICAgICAvLyBJZiB0aGlzIGlzIGEgY29udHJvbGxlZCByYWRpbyBidXR0b24gZ3JvdXAsIGZvcmNpbmcgdGhlIGlucHV0IHRoYXRcbiAgICAgIC8vIHdhcyBwcmV2aW91c2x5IGNoZWNrZWQgdG8gdXBkYXRlIHdpbGwgY2F1c2UgaXQgdG8gYmUgY29tZSByZS1jaGVja2VkXG4gICAgICAvLyBhcyBhcHByb3ByaWF0ZS5cbiAgICAgIHVwZGF0ZVdyYXBwZXIob3RoZXJOb2RlLCBvdGhlclByb3BzKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gSW4gQ2hyb21lLCBhc3NpZ25pbmcgZGVmYXVsdFZhbHVlIHRvIGNlcnRhaW4gaW5wdXQgdHlwZXMgdHJpZ2dlcnMgaW5wdXQgdmFsaWRhdGlvbi5cbi8vIEZvciBudW1iZXIgaW5wdXRzLCB0aGUgZGlzcGxheSB2YWx1ZSBsb3NlcyB0cmFpbGluZyBkZWNpbWFsIHBvaW50cy4gRm9yIGVtYWlsIGlucHV0cyxcbi8vIENocm9tZSByYWlzZXMgXCJUaGUgc3BlY2lmaWVkIHZhbHVlIDx4PiBpcyBub3QgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCIuXG4vL1xuLy8gSGVyZSB3ZSBjaGVjayB0byBzZWUgaWYgdGhlIGRlZmF1bHRWYWx1ZSBoYXMgYWN0dWFsbHkgY2hhbmdlZCwgYXZvaWRpbmcgdGhlc2UgcHJvYmxlbXNcbi8vIHdoZW4gdGhlIHVzZXIgaXMgaW5wdXR0aW5nIHRleHRcbi8vXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzcyNTNcbmZ1bmN0aW9uIHNldERlZmF1bHRWYWx1ZShub2RlLCB0eXBlLCB2YWx1ZSkge1xuICBpZiAoXG4gIC8vIEZvY3VzZWQgbnVtYmVyIGlucHV0cyBzeW5jaHJvbml6ZSBvbiBibHVyLiBTZWUgQ2hhbmdlRXZlbnRQbHVnaW4uanNcbiAgdHlwZSAhPT0gJ251bWJlcicgfHwgbm9kZS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IG5vZGUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgbm9kZS5kZWZhdWx0VmFsdWUgPSAnJyArIG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7XG4gICAgfSBlbHNlIGlmIChub2RlLmRlZmF1bHRWYWx1ZSAhPT0gJycgKyB2YWx1ZSkge1xuICAgICAgbm9kZS5kZWZhdWx0VmFsdWUgPSAnJyArIHZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTYWZlVmFsdWUodmFsdWUpIHtcbiAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBmdW5jdGlvbiwgc3ltYm9sIGFyZSBhc3NpZ25lZCBhcyBlbXB0eSBzdHJpbmdzXG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxudmFyIGV2ZW50VHlwZXMkMSA9IHtcbiAgY2hhbmdlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNoYW5nZScsXG4gICAgICBjYXB0dXJlZDogJ29uQ2hhbmdlQ2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9CTFVSLCBUT1BfQ0hBTkdFLCBUT1BfQ0xJQ0ssIFRPUF9GT0NVUywgVE9QX0lOUFVULCBUT1BfS0VZX0RPV04sIFRPUF9LRVlfVVAsIFRPUF9TRUxFQ1RJT05fQ0hBTkdFXVxuICB9XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoaW5zdCwgbmF0aXZlRXZlbnQsIHRhcmdldCkge1xuICB2YXIgZXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmdldFBvb2xlZChldmVudFR5cGVzJDEuY2hhbmdlLCBpbnN0LCBuYXRpdmVFdmVudCwgdGFyZ2V0KTtcbiAgZXZlbnQudHlwZSA9ICdjaGFuZ2UnO1xuICAvLyBGbGFnIHRoaXMgZXZlbnQgbG9vcCBhcyBuZWVkaW5nIHN0YXRlIHJlc3RvcmUuXG4gIGVucXVldWVTdGF0ZVJlc3RvcmUodGFyZ2V0KTtcbiAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gIHJldHVybiBldmVudDtcbn1cbi8qKlxuICogRm9yIElFIHNoaW1zXG4gKi9cbnZhciBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbnZhciBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG5cbi8qKlxuICogU0VDVElPTjogaGFuZGxlIGBjaGFuZ2VgIGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHNob3VsZFVzZUNoYW5nZUV2ZW50KGVsZW0pIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBub2RlTmFtZSA9PT0gJ3NlbGVjdCcgfHwgbm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgZWxlbS50eXBlID09PSAnZmlsZSc7XG59XG5cbmZ1bmN0aW9uIG1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGV2ZW50ID0gY3JlYXRlQW5kQWNjdW11bGF0ZUNoYW5nZUV2ZW50KGFjdGl2ZUVsZW1lbnRJbnN0LCBuYXRpdmVFdmVudCwgZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpKTtcblxuICAvLyBJZiBjaGFuZ2UgYW5kIHByb3BlcnR5Y2hhbmdlIGJ1YmJsZWQsIHdlJ2QganVzdCBiaW5kIHRvIGl0IGxpa2UgYWxsIHRoZVxuICAvLyBvdGhlciBldmVudHMgYW5kIGhhdmUgaXQgZ28gdGhyb3VnaCBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuIFNpbmNlIGl0XG4gIC8vIGRvZXNuJ3QsIHdlIG1hbnVhbGx5IGxpc3RlbiBmb3IgdGhlIGV2ZW50cyBhbmQgc28gd2UgaGF2ZSB0byBlbnF1ZXVlIGFuZFxuICAvLyBwcm9jZXNzIHRoZSBhYnN0cmFjdCBldmVudCBtYW51YWxseS5cbiAgLy9cbiAgLy8gQmF0Y2hpbmcgaXMgbmVjZXNzYXJ5IGhlcmUgaW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgYWxsIGV2ZW50IGhhbmRsZXJzIHJ1blxuICAvLyBiZWZvcmUgdGhlIG5leHQgcmVyZW5kZXIgKGluY2x1ZGluZyBldmVudCBoYW5kbGVycyBhdHRhY2hlZCB0byBhbmNlc3RvclxuICAvLyBlbGVtZW50cyBpbnN0ZWFkIG9mIGRpcmVjdGx5IG9uIHRoZSBpbnB1dCkuIFdpdGhvdXQgdGhpcywgY29udHJvbGxlZFxuICAvLyBjb21wb25lbnRzIGRvbid0IHdvcmsgcHJvcGVybHkgaW4gY29uanVuY3Rpb24gd2l0aCBldmVudCBidWJibGluZyBiZWNhdXNlXG4gIC8vIHRoZSBjb21wb25lbnQgaXMgcmVyZW5kZXJlZCBhbmQgdGhlIHZhbHVlIHJldmVydGVkIGJlZm9yZSBhbGwgdGhlIGV2ZW50XG4gIC8vIGhhbmRsZXJzIGNhbiBydW4uIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzcwOC5cbiAgYmF0Y2hlZFVwZGF0ZXMocnVuRXZlbnRJbkJhdGNoLCBldmVudCk7XG59XG5cbmZ1bmN0aW9uIHJ1bkV2ZW50SW5CYXRjaChldmVudCkge1xuICBydW5FdmVudHNJbkJhdGNoKGV2ZW50LCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KSB7XG4gIHZhciB0YXJnZXROb2RlID0gZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKHRhcmdldEluc3QpO1xuICBpZiAodXBkYXRlVmFsdWVJZkNoYW5nZWQodGFyZ2V0Tm9kZSkpIHtcbiAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09IFRPUF9DSEFOR0UpIHtcbiAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgfVxufVxuXG4vKipcbiAqIFNFQ1RJT046IGhhbmRsZSBgaW5wdXRgIGV2ZW50XG4gKi9cbnZhciBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSBmYWxzZTtcbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgLy8gSUU5IGNsYWltcyB0byBzdXBwb3J0IHRoZSBpbnB1dCBldmVudCBidXQgZmFpbHMgdG8gdHJpZ2dlciBpdCB3aGVuXG4gIC8vIGRlbGV0aW5nIHRleHQsIHNvIHdlIGlnbm9yZSBpdHMgaW5wdXQgZXZlbnRzLlxuICBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSBpc0V2ZW50U3VwcG9ydGVkKCdpbnB1dCcpICYmICghZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDkpO1xufVxuXG4vKipcbiAqIChGb3IgSUUgPD05KSBTdGFydHMgdHJhY2tpbmcgcHJvcGVydHljaGFuZ2UgZXZlbnRzIG9uIHRoZSBwYXNzZWQtaW4gZWxlbWVudFxuICogYW5kIG92ZXJyaWRlIHRoZSB2YWx1ZSBwcm9wZXJ0eSBzbyB0aGF0IHdlIGNhbiBkaXN0aW5ndWlzaCB1c2VyIGV2ZW50cyBmcm9tXG4gKiB2YWx1ZSBjaGFuZ2VzIGluIEpTLlxuICovXG5mdW5jdGlvbiBzdGFydFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UodGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gIGFjdGl2ZUVsZW1lbnQgPSB0YXJnZXQ7XG4gIGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgYWN0aXZlRWxlbWVudC5hdHRhY2hFdmVudCgnb25wcm9wZXJ0eWNoYW5nZScsIGhhbmRsZVByb3BlcnR5Q2hhbmdlKTtcbn1cblxuLyoqXG4gKiAoRm9yIElFIDw9OSkgUmVtb3ZlcyB0aGUgZXZlbnQgbGlzdGVuZXJzIGZyb20gdGhlIGN1cnJlbnRseS10cmFja2VkIGVsZW1lbnQsXG4gKiBpZiBhbnkgZXhpc3RzLlxuICovXG5mdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpIHtcbiAgaWYgKCFhY3RpdmVFbGVtZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG4gIGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG59XG5cbi8qKlxuICogKEZvciBJRSA8PTkpIEhhbmRsZXMgYSBwcm9wZXJ0eWNoYW5nZSBldmVudCwgc2VuZGluZyBhIGBjaGFuZ2VgIGV2ZW50IGlmXG4gKiB0aGUgdmFsdWUgb2YgdGhlIGFjdGl2ZSBlbGVtZW50IGhhcyBjaGFuZ2VkLlxuICovXG5mdW5jdGlvbiBoYW5kbGVQcm9wZXJ0eUNoYW5nZShuYXRpdmVFdmVudCkge1xuICBpZiAobmF0aXZlRXZlbnQucHJvcGVydHlOYW1lICE9PSAndmFsdWUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChnZXRJbnN0SWZWYWx1ZUNoYW5nZWQoYWN0aXZlRWxlbWVudEluc3QpKSB7XG4gICAgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudChuYXRpdmVFdmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudFBvbHlmaWxsKHRvcExldmVsVHlwZSwgdGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09IFRPUF9GT0NVUykge1xuICAgIC8vIEluIElFOSwgcHJvcGVydHljaGFuZ2UgZmlyZXMgZm9yIG1vc3QgaW5wdXQgZXZlbnRzIGJ1dCBpcyBidWdneSBhbmRcbiAgICAvLyBkb2Vzbid0IGZpcmUgd2hlbiB0ZXh0IGlzIGRlbGV0ZWQsIGJ1dCBjb252ZW5pZW50bHksIHNlbGVjdGlvbmNoYW5nZVxuICAgIC8vIGFwcGVhcnMgdG8gZmlyZSBpbiBhbGwgb2YgdGhlIHJlbWFpbmluZyBjYXNlcyBzbyB3ZSBjYXRjaCB0aG9zZSBhbmRcbiAgICAvLyBmb3J3YXJkIHRoZSBldmVudCBpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWRcbiAgICAvLyBJbiBlaXRoZXIgY2FzZSwgd2UgZG9uJ3Qgd2FudCB0byBjYWxsIHRoZSBldmVudCBoYW5kbGVyIGlmIHRoZSB2YWx1ZVxuICAgIC8vIGlzIGNoYW5nZWQgZnJvbSBKUyBzbyB3ZSByZWRlZmluZSBhIHNldHRlciBmb3IgYC52YWx1ZWAgdGhhdCB1cGRhdGVzXG4gICAgLy8gb3VyIGFjdGl2ZUVsZW1lbnRWYWx1ZSB2YXJpYWJsZSwgYWxsb3dpbmcgdXMgdG8gaWdub3JlIHRob3NlIGNoYW5nZXNcbiAgICAvL1xuICAgIC8vIHN0b3BXYXRjaGluZygpIHNob3VsZCBiZSBhIG5vb3AgaGVyZSBidXQgd2UgY2FsbCBpdCBqdXN0IGluIGNhc2Ugd2VcbiAgICAvLyBtaXNzZWQgYSBibHVyIGV2ZW50IHNvbWVob3cuXG4gICAgc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKTtcbiAgICBzdGFydFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UodGFyZ2V0LCB0YXJnZXRJbnN0KTtcbiAgfSBlbHNlIGlmICh0b3BMZXZlbFR5cGUgPT09IFRPUF9CTFVSKSB7XG4gICAgc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKTtcbiAgfVxufVxuXG4vLyBGb3IgSUU4IGFuZCBJRTkuXG5mdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudFBvbHlmaWxsKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSBUT1BfU0VMRUNUSU9OX0NIQU5HRSB8fCB0b3BMZXZlbFR5cGUgPT09IFRPUF9LRVlfVVAgfHwgdG9wTGV2ZWxUeXBlID09PSBUT1BfS0VZX0RPV04pIHtcbiAgICAvLyBPbiB0aGUgc2VsZWN0aW9uY2hhbmdlIGV2ZW50LCB0aGUgdGFyZ2V0IGlzIGp1c3QgZG9jdW1lbnQgd2hpY2ggaXNuJ3RcbiAgICAvLyBoZWxwZnVsIGZvciB1cyBzbyBqdXN0IGNoZWNrIGFjdGl2ZUVsZW1lbnQgaW5zdGVhZC5cbiAgICAvL1xuICAgIC8vIDk5JSBvZiB0aGUgdGltZSwga2V5ZG93biBhbmQga2V5dXAgYXJlbid0IG5lY2Vzc2FyeS4gSUU4IGZhaWxzIHRvIGZpcmVcbiAgICAvLyBwcm9wZXJ0eWNoYW5nZSBvbiB0aGUgZmlyc3QgaW5wdXQgZXZlbnQgYWZ0ZXIgc2V0dGluZyBgdmFsdWVgIGZyb20gYVxuICAgIC8vIHNjcmlwdCBhbmQgZmlyZXMgb25seSBrZXlkb3duLCBrZXlwcmVzcywga2V5dXAuIENhdGNoaW5nIGtleXVwIHVzdWFsbHlcbiAgICAvLyBnZXRzIGl0IGFuZCBjYXRjaGluZyBrZXlkb3duIGxldHMgdXMgZmlyZSBhbiBldmVudCBmb3IgdGhlIGZpcnN0XG4gICAgLy8ga2V5c3Ryb2tlIGlmIHVzZXIgZG9lcyBhIGtleSByZXBlYXQgKGl0J2xsIGJlIGEgbGl0dGxlIGRlbGF5ZWQ6IHJpZ2h0XG4gICAgLy8gYmVmb3JlIHRoZSBzZWNvbmQga2V5c3Ryb2tlKS4gT3RoZXIgaW5wdXQgbWV0aG9kcyAoZS5nLiwgcGFzdGUpIHNlZW0gdG9cbiAgICAvLyBmaXJlIHNlbGVjdGlvbmNoYW5nZSBub3JtYWxseS5cbiAgICByZXR1cm4gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKGFjdGl2ZUVsZW1lbnRJbnN0KTtcbiAgfVxufVxuXG4vKipcbiAqIFNFQ1RJT046IGhhbmRsZSBgY2xpY2tgIGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHNob3VsZFVzZUNsaWNrRXZlbnQoZWxlbSkge1xuICAvLyBVc2UgdGhlIGBjbGlja2AgZXZlbnQgdG8gZGV0ZWN0IGNoYW5nZXMgdG8gY2hlY2tib3ggYW5kIHJhZGlvIGlucHV0cy5cbiAgLy8gVGhpcyBhcHByb2FjaCB3b3JrcyBhY3Jvc3MgYWxsIGJyb3dzZXJzLCB3aGVyZWFzIGBjaGFuZ2VgIGRvZXMgbm90IGZpcmVcbiAgLy8gdW50aWwgYGJsdXJgIGluIElFOC5cbiAgdmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZTtcbiAgcmV0dXJuIG5vZGVOYW1lICYmIG5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgJiYgKGVsZW0udHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBlbGVtLnR5cGUgPT09ICdyYWRpbycpO1xufVxuXG5mdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9yQ2xpY2tFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gVE9QX0NMSUNLKSB7XG4gICAgcmV0dXJuIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRPckNoYW5nZUV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSBUT1BfSU5QVVQgfHwgdG9wTGV2ZWxUeXBlID09PSBUT1BfQ0hBTkdFKSB7XG4gICAgcmV0dXJuIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVDb250cm9sbGVkSW5wdXRCbHVyKG5vZGUpIHtcbiAgdmFyIHN0YXRlID0gbm9kZS5fd3JhcHBlclN0YXRlO1xuXG4gIGlmICghc3RhdGUgfHwgIXN0YXRlLmNvbnRyb2xsZWQgfHwgbm9kZS50eXBlICE9PSAnbnVtYmVyJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIGNvbnRyb2xsZWQsIGFzc2lnbiB0aGUgdmFsdWUgYXR0cmlidXRlIHRvIHRoZSBjdXJyZW50IHZhbHVlIG9uIGJsdXJcbiAgc2V0RGVmYXVsdFZhbHVlKG5vZGUsICdudW1iZXInLCBub2RlLnZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGlzIHBsdWdpbiBjcmVhdGVzIGFuIGBvbkNoYW5nZWAgZXZlbnQgdGhhdCBub3JtYWxpemVzIGNoYW5nZSBldmVudHNcbiAqIGFjcm9zcyBmb3JtIGVsZW1lbnRzLiBUaGlzIGV2ZW50IGZpcmVzIGF0IGEgdGltZSB3aGVuIGl0J3MgcG9zc2libGUgdG9cbiAqIGNoYW5nZSB0aGUgZWxlbWVudCdzIHZhbHVlIHdpdGhvdXQgc2VlaW5nIGEgZmxpY2tlci5cbiAqXG4gKiBTdXBwb3J0ZWQgZWxlbWVudHMgYXJlOlxuICogLSBpbnB1dCAoc2VlIGBpc1RleHRJbnB1dEVsZW1lbnRgKVxuICogLSB0ZXh0YXJlYVxuICogLSBzZWxlY3RcbiAqL1xudmFyIENoYW5nZUV2ZW50UGx1Z2luID0ge1xuICBldmVudFR5cGVzOiBldmVudFR5cGVzJDEsXG5cbiAgX2lzSW5wdXRFdmVudFN1cHBvcnRlZDogaXNJbnB1dEV2ZW50U3VwcG9ydGVkLFxuXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHZhciB0YXJnZXROb2RlID0gdGFyZ2V0SW5zdCA/IGdldE5vZGVGcm9tSW5zdGFuY2UkMSh0YXJnZXRJbnN0KSA6IHdpbmRvdztcblxuICAgIHZhciBnZXRUYXJnZXRJbnN0RnVuYyA9IHZvaWQgMCxcbiAgICAgICAgaGFuZGxlRXZlbnRGdW5jID0gdm9pZCAwO1xuICAgIGlmIChzaG91bGRVc2VDaGFuZ2VFdmVudCh0YXJnZXROb2RlKSkge1xuICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQ7XG4gICAgfSBlbHNlIGlmIChpc1RleHRJbnB1dEVsZW1lbnQodGFyZ2V0Tm9kZSkpIHtcbiAgICAgIGlmIChpc0lucHV0RXZlbnRTdXBwb3J0ZWQpIHtcbiAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRPckNoYW5nZUV2ZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudFBvbHlmaWxsO1xuICAgICAgICBoYW5kbGVFdmVudEZ1bmMgPSBoYW5kbGVFdmVudHNGb3JJbnB1dEV2ZW50UG9seWZpbGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzaG91bGRVc2VDbGlja0V2ZW50KHRhcmdldE5vZGUpKSB7XG4gICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50O1xuICAgIH1cblxuICAgIGlmIChnZXRUYXJnZXRJbnN0RnVuYykge1xuICAgICAgdmFyIGluc3QgPSBnZXRUYXJnZXRJbnN0RnVuYyh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpO1xuICAgICAgaWYgKGluc3QpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gY3JlYXRlQW5kQWNjdW11bGF0ZUNoYW5nZUV2ZW50KGluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFuZGxlRXZlbnRGdW5jKSB7XG4gICAgICBoYW5kbGVFdmVudEZ1bmModG9wTGV2ZWxUeXBlLCB0YXJnZXROb2RlLCB0YXJnZXRJbnN0KTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIGJsdXJyaW5nLCBzZXQgdGhlIHZhbHVlIGF0dHJpYnV0ZSBmb3IgbnVtYmVyIGlucHV0c1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09IFRPUF9CTFVSKSB7XG4gICAgICBoYW5kbGVDb250cm9sbGVkSW5wdXRCbHVyKHRhcmdldE5vZGUpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBNb2R1bGUgdGhhdCBpcyBpbmplY3RhYmxlIGludG8gYEV2ZW50UGx1Z2luSHViYCwgdGhhdCBzcGVjaWZpZXMgYVxuICogZGV0ZXJtaW5pc3RpYyBvcmRlcmluZyBvZiBgRXZlbnRQbHVnaW5gcy4gQSBjb252ZW5pZW50IHdheSB0byByZWFzb24gYWJvdXRcbiAqIHBsdWdpbnMsIHdpdGhvdXQgaGF2aW5nIHRvIHBhY2thZ2UgZXZlcnkgb25lIG9mIHRoZW0uIFRoaXMgaXMgYmV0dGVyIHRoYW5cbiAqIGhhdmluZyBwbHVnaW5zIGJlIG9yZGVyZWQgaW4gdGhlIHNhbWUgb3JkZXIgdGhhdCB0aGV5IGFyZSBpbmplY3RlZCBiZWNhdXNlXG4gKiB0aGF0IG9yZGVyaW5nIHdvdWxkIGJlIGluZmx1ZW5jZWQgYnkgdGhlIHBhY2thZ2luZyBvcmRlci5cbiAqIGBSZXNwb25kZXJFdmVudFBsdWdpbmAgbXVzdCBvY2N1ciBiZWZvcmUgYFNpbXBsZUV2ZW50UGx1Z2luYCBzbyB0aGF0XG4gKiBwcmV2ZW50aW5nIGRlZmF1bHQgb24gZXZlbnRzIGlzIGNvbnZlbmllbnQgaW4gYFNpbXBsZUV2ZW50UGx1Z2luYCBoYW5kbGVycy5cbiAqL1xudmFyIERPTUV2ZW50UGx1Z2luT3JkZXIgPSBbJ1Jlc3BvbmRlckV2ZW50UGx1Z2luJywgJ1NpbXBsZUV2ZW50UGx1Z2luJywgJ1RhcEV2ZW50UGx1Z2luJywgJ0VudGVyTGVhdmVFdmVudFBsdWdpbicsICdDaGFuZ2VFdmVudFBsdWdpbicsICdTZWxlY3RFdmVudFBsdWdpbicsICdCZWZvcmVJbnB1dEV2ZW50UGx1Z2luJ107XG5cbnZhciBTeW50aGV0aWNVSUV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICB2aWV3OiBudWxsLFxuICBkZXRhaWw6IG51bGxcbn0pO1xuXG4vKipcbiAqIFRyYW5zbGF0aW9uIGZyb20gbW9kaWZpZXIga2V5IHRvIHRoZSBhc3NvY2lhdGVkIHByb3BlcnR5IGluIHRoZSBldmVudC5cbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNrZXlzLU1vZGlmaWVyc1xuICovXG5cbnZhciBtb2RpZmllcktleVRvUHJvcCA9IHtcbiAgQWx0OiAnYWx0S2V5JyxcbiAgQ29udHJvbDogJ2N0cmxLZXknLFxuICBNZXRhOiAnbWV0YUtleScsXG4gIFNoaWZ0OiAnc2hpZnRLZXknXG59O1xuXG4vLyBJRTggZG9lcyBub3QgaW1wbGVtZW50IGdldE1vZGlmaWVyU3RhdGUgc28gd2Ugc2ltcGx5IG1hcCBpdCB0byB0aGUgb25seVxuLy8gbW9kaWZpZXIga2V5cyBleHBvc2VkIGJ5IHRoZSBldmVudCBpdHNlbGYsIGRvZXMgbm90IHN1cHBvcnQgTG9jay1rZXlzLlxuLy8gQ3VycmVudGx5LCBhbGwgbWFqb3IgYnJvd3NlcnMgZXhjZXB0IENocm9tZSBzZWVtcyB0byBzdXBwb3J0IExvY2sta2V5cy5cbmZ1bmN0aW9uIG1vZGlmaWVyU3RhdGVHZXR0ZXIoa2V5QXJnKSB7XG4gIHZhciBzeW50aGV0aWNFdmVudCA9IHRoaXM7XG4gIHZhciBuYXRpdmVFdmVudCA9IHN5bnRoZXRpY0V2ZW50Lm5hdGl2ZUV2ZW50O1xuICBpZiAobmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSkge1xuICAgIHJldHVybiBuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKGtleUFyZyk7XG4gIH1cbiAgdmFyIGtleVByb3AgPSBtb2RpZmllcktleVRvUHJvcFtrZXlBcmddO1xuICByZXR1cm4ga2V5UHJvcCA/ICEhbmF0aXZlRXZlbnRba2V5UHJvcF0gOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0RXZlbnRNb2RpZmllclN0YXRlKG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiBtb2RpZmllclN0YXRlR2V0dGVyO1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgTW91c2VFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gU3ludGhldGljVUlFdmVudC5leHRlbmQoe1xuICBzY3JlZW5YOiBudWxsLFxuICBzY3JlZW5ZOiBudWxsLFxuICBjbGllbnRYOiBudWxsLFxuICBjbGllbnRZOiBudWxsLFxuICBwYWdlWDogbnVsbCxcbiAgcGFnZVk6IG51bGwsXG4gIGN0cmxLZXk6IG51bGwsXG4gIHNoaWZ0S2V5OiBudWxsLFxuICBhbHRLZXk6IG51bGwsXG4gIG1ldGFLZXk6IG51bGwsXG4gIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZSxcbiAgYnV0dG9uOiBudWxsLFxuICBidXR0b25zOiBudWxsLFxuICByZWxhdGVkVGFyZ2V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQucmVsYXRlZFRhcmdldCB8fCAoZXZlbnQuZnJvbUVsZW1lbnQgPT09IGV2ZW50LnNyY0VsZW1lbnQgPyBldmVudC50b0VsZW1lbnQgOiBldmVudC5mcm9tRWxlbWVudCk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgUG9pbnRlckV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvXG4gKi9cbnZhciBTeW50aGV0aWNQb2ludGVyRXZlbnQgPSBTeW50aGV0aWNNb3VzZUV2ZW50LmV4dGVuZCh7XG4gIHBvaW50ZXJJZDogbnVsbCxcbiAgd2lkdGg6IG51bGwsXG4gIGhlaWdodDogbnVsbCxcbiAgcHJlc3N1cmU6IG51bGwsXG4gIHRpbHRYOiBudWxsLFxuICB0aWx0WTogbnVsbCxcbiAgcG9pbnRlclR5cGU6IG51bGwsXG4gIGlzUHJpbWFyeTogbnVsbFxufSk7XG5cbnZhciBldmVudFR5cGVzJDIgPSB7XG4gIG1vdXNlRW50ZXI6IHtcbiAgICByZWdpc3RyYXRpb25OYW1lOiAnb25Nb3VzZUVudGVyJyxcbiAgICBkZXBlbmRlbmNpZXM6IFtUT1BfTU9VU0VfT1VULCBUT1BfTU9VU0VfT1ZFUl1cbiAgfSxcbiAgbW91c2VMZWF2ZToge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6ICdvbk1vdXNlTGVhdmUnLFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9NT1VTRV9PVVQsIFRPUF9NT1VTRV9PVkVSXVxuICB9LFxuICBwb2ludGVyRW50ZXI6IHtcbiAgICByZWdpc3RyYXRpb25OYW1lOiAnb25Qb2ludGVyRW50ZXInLFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9QT0lOVEVSX09VVCwgVE9QX1BPSU5URVJfT1ZFUl1cbiAgfSxcbiAgcG9pbnRlckxlYXZlOiB7XG4gICAgcmVnaXN0cmF0aW9uTmFtZTogJ29uUG9pbnRlckxlYXZlJyxcbiAgICBkZXBlbmRlbmNpZXM6IFtUT1BfUE9JTlRFUl9PVVQsIFRPUF9QT0lOVEVSX09WRVJdXG4gIH1cbn07XG5cbnZhciBFbnRlckxlYXZlRXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMkMixcblxuICAvKipcbiAgICogRm9yIGFsbW9zdCBldmVyeSBpbnRlcmFjdGlvbiB3ZSBjYXJlIGFib3V0LCB0aGVyZSB3aWxsIGJlIGJvdGggYSB0b3AtbGV2ZWxcbiAgICogYG1vdXNlb3ZlcmAgYW5kIGBtb3VzZW91dGAgZXZlbnQgdGhhdCBvY2N1cnMuIE9ubHkgdXNlIGBtb3VzZW91dGAgc28gdGhhdFxuICAgKiB3ZSBkbyBub3QgZXh0cmFjdCBkdXBsaWNhdGUgZXZlbnRzLiBIb3dldmVyLCBtb3ZpbmcgdGhlIG1vdXNlIGludG8gdGhlXG4gICAqIGJyb3dzZXIgZnJvbSBvdXRzaWRlIHdpbGwgbm90IGZpcmUgYSBgbW91c2VvdXRgIGV2ZW50LiBJbiB0aGlzIGNhc2UsIHdlIHVzZVxuICAgKiB0aGUgYG1vdXNlb3ZlcmAgdG9wLWxldmVsIGV2ZW50LlxuICAgKi9cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgdmFyIGlzT3ZlckV2ZW50ID0gdG9wTGV2ZWxUeXBlID09PSBUT1BfTU9VU0VfT1ZFUiB8fCB0b3BMZXZlbFR5cGUgPT09IFRPUF9QT0lOVEVSX09WRVI7XG4gICAgdmFyIGlzT3V0RXZlbnQgPSB0b3BMZXZlbFR5cGUgPT09IFRPUF9NT1VTRV9PVVQgfHwgdG9wTGV2ZWxUeXBlID09PSBUT1BfUE9JTlRFUl9PVVQ7XG5cbiAgICBpZiAoaXNPdmVyRXZlbnQgJiYgKG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQuZnJvbUVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIWlzT3V0RXZlbnQgJiYgIWlzT3ZlckV2ZW50KSB7XG4gICAgICAvLyBNdXN0IG5vdCBiZSBhIG1vdXNlIG9yIHBvaW50ZXIgaW4gb3Igb3V0IC0gaWdub3JpbmcuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgd2luID0gdm9pZCAwO1xuICAgIGlmIChuYXRpdmVFdmVudFRhcmdldC53aW5kb3cgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgICAvLyBgbmF0aXZlRXZlbnRUYXJnZXRgIGlzIHByb2JhYmx5IGEgd2luZG93IG9iamVjdC5cbiAgICAgIHdpbiA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IHdoeSBgb3duZXJEb2N1bWVudGAgaXMgc29tZXRpbWVzIHVuZGVmaW5lZCBpbiBJRTguXG4gICAgICB2YXIgZG9jID0gbmF0aXZlRXZlbnRUYXJnZXQub3duZXJEb2N1bWVudDtcbiAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgd2luID0gZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW4gPSB3aW5kb3c7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGZyb20gPSB2b2lkIDA7XG4gICAgdmFyIHRvID0gdm9pZCAwO1xuICAgIGlmIChpc091dEV2ZW50KSB7XG4gICAgICBmcm9tID0gdGFyZ2V0SW5zdDtcbiAgICAgIHZhciByZWxhdGVkID0gbmF0aXZlRXZlbnQucmVsYXRlZFRhcmdldCB8fCBuYXRpdmVFdmVudC50b0VsZW1lbnQ7XG4gICAgICB0byA9IHJlbGF0ZWQgPyBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyZWxhdGVkKSA6IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1vdmluZyB0byBhIG5vZGUgZnJvbSBvdXRzaWRlIHRoZSB3aW5kb3cuXG4gICAgICBmcm9tID0gbnVsbDtcbiAgICAgIHRvID0gdGFyZ2V0SW5zdDtcbiAgICB9XG5cbiAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgIC8vIE5vdGhpbmcgcGVydGFpbnMgdG8gb3VyIG1hbmFnZWQgY29tcG9uZW50cy5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBldmVudEludGVyZmFjZSA9IHZvaWQgMCxcbiAgICAgICAgbGVhdmVFdmVudFR5cGUgPSB2b2lkIDAsXG4gICAgICAgIGVudGVyRXZlbnRUeXBlID0gdm9pZCAwLFxuICAgICAgICBldmVudFR5cGVQcmVmaXggPSB2b2lkIDA7XG5cbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSBUT1BfTU9VU0VfT1VUIHx8IHRvcExldmVsVHlwZSA9PT0gVE9QX01PVVNFX09WRVIpIHtcbiAgICAgIGV2ZW50SW50ZXJmYWNlID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgIGxlYXZlRXZlbnRUeXBlID0gZXZlbnRUeXBlcyQyLm1vdXNlTGVhdmU7XG4gICAgICBlbnRlckV2ZW50VHlwZSA9IGV2ZW50VHlwZXMkMi5tb3VzZUVudGVyO1xuICAgICAgZXZlbnRUeXBlUHJlZml4ID0gJ21vdXNlJztcbiAgICB9IGVsc2UgaWYgKHRvcExldmVsVHlwZSA9PT0gVE9QX1BPSU5URVJfT1VUIHx8IHRvcExldmVsVHlwZSA9PT0gVE9QX1BPSU5URVJfT1ZFUikge1xuICAgICAgZXZlbnRJbnRlcmZhY2UgPSBTeW50aGV0aWNQb2ludGVyRXZlbnQ7XG4gICAgICBsZWF2ZUV2ZW50VHlwZSA9IGV2ZW50VHlwZXMkMi5wb2ludGVyTGVhdmU7XG4gICAgICBlbnRlckV2ZW50VHlwZSA9IGV2ZW50VHlwZXMkMi5wb2ludGVyRW50ZXI7XG4gICAgICBldmVudFR5cGVQcmVmaXggPSAncG9pbnRlcic7XG4gICAgfVxuXG4gICAgdmFyIGZyb21Ob2RlID0gZnJvbSA9PSBudWxsID8gd2luIDogZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKGZyb20pO1xuICAgIHZhciB0b05vZGUgPSB0byA9PSBudWxsID8gd2luIDogZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKHRvKTtcblxuICAgIHZhciBsZWF2ZSA9IGV2ZW50SW50ZXJmYWNlLmdldFBvb2xlZChsZWF2ZUV2ZW50VHlwZSwgZnJvbSwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICBsZWF2ZS50eXBlID0gZXZlbnRUeXBlUHJlZml4ICsgJ2xlYXZlJztcbiAgICBsZWF2ZS50YXJnZXQgPSBmcm9tTm9kZTtcbiAgICBsZWF2ZS5yZWxhdGVkVGFyZ2V0ID0gdG9Ob2RlO1xuXG4gICAgdmFyIGVudGVyID0gZXZlbnRJbnRlcmZhY2UuZ2V0UG9vbGVkKGVudGVyRXZlbnRUeXBlLCB0bywgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICBlbnRlci50eXBlID0gZXZlbnRUeXBlUHJlZml4ICsgJ2VudGVyJztcbiAgICBlbnRlci50YXJnZXQgPSB0b05vZGU7XG4gICAgZW50ZXIucmVsYXRlZFRhcmdldCA9IGZyb21Ob2RlO1xuXG4gICAgYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzKGxlYXZlLCBlbnRlciwgZnJvbSwgdG8pO1xuXG4gICAgcmV0dXJuIFtsZWF2ZSwgZW50ZXJdO1xuICB9XG59O1xuXG4vKipcbiAqIGBSZWFjdEluc3RhbmNlTWFwYCBtYWludGFpbnMgYSBtYXBwaW5nIGZyb20gYSBwdWJsaWMgZmFjaW5nIHN0YXRlZnVsXG4gKiBpbnN0YW5jZSAoa2V5KSBhbmQgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uICh2YWx1ZSkuIFRoaXMgYWxsb3dzIHB1YmxpY1xuICogbWV0aG9kcyB0byBhY2NlcHQgdGhlIHVzZXIgZmFjaW5nIGluc3RhbmNlIGFzIGFuIGFyZ3VtZW50IGFuZCBtYXAgdGhlbSBiYWNrXG4gKiB0byBpbnRlcm5hbCBtZXRob2RzLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIG1vZHVsZSBpcyBjdXJyZW50bHkgc2hhcmVkIGFuZCBhc3N1bWVkIHRvIGJlIHN0YXRlbGVzcy5cbiAqIElmIHRoaXMgYmVjb21lcyBhbiBhY3R1YWwgTWFwLCB0aGF0IHdpbGwgYnJlYWsuXG4gKi9cblxuLyoqXG4gKiBUaGlzIEFQSSBzaG91bGQgYmUgY2FsbGVkIGBkZWxldGVgIGJ1dCB3ZSdkIGhhdmUgdG8gbWFrZSBzdXJlIHRvIGFsd2F5c1xuICogdHJhbnNmb3JtIHRoZXNlIHRvIHN0cmluZ3MgZm9yIElFIHN1cHBvcnQuIFdoZW4gdGhpcyB0cmFuc2Zvcm0gaXMgZnVsbHlcbiAqIHN1cHBvcnRlZCB3ZSBjYW4gcmVuYW1lIGl0LlxuICovXG5cblxuZnVuY3Rpb24gZ2V0KGtleSkge1xuICByZXR1cm4ga2V5Ll9yZWFjdEludGVybmFsRmliZXI7XG59XG5cbmZ1bmN0aW9uIGhhcyhrZXkpIHtcbiAgcmV0dXJuIGtleS5fcmVhY3RJbnRlcm5hbEZpYmVyICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gIGtleS5fcmVhY3RJbnRlcm5hbEZpYmVyID0gdmFsdWU7XG59XG5cbi8vIERvbid0IGNoYW5nZSB0aGVzZSB0d28gdmFsdWVzLiBUaGV5J3JlIHVzZWQgYnkgUmVhY3QgRGV2IFRvb2xzLlxudmFyIE5vRWZmZWN0ID0gLyogICAgICAgICAgICAgICovMDtcbnZhciBQZXJmb3JtZWRXb3JrID0gLyogICAgICAgICAqLzE7XG5cbi8vIFlvdSBjYW4gY2hhbmdlIHRoZSByZXN0IChhbmQgYWRkIG1vcmUpLlxudmFyIFBsYWNlbWVudCA9IC8qICAgICAgICAgICAgICovMjtcbnZhciBVcGRhdGUgPSAvKiAgICAgICAgICAgICAgICAqLzQ7XG52YXIgUGxhY2VtZW50QW5kVXBkYXRlID0gLyogICAgKi82O1xudmFyIERlbGV0aW9uID0gLyogICAgICAgICAgICAgICovODtcbnZhciBDb250ZW50UmVzZXQgPSAvKiAgICAgICAgICAqLzE2O1xudmFyIENhbGxiYWNrID0gLyogICAgICAgICAgICAgICovMzI7XG52YXIgRGlkQ2FwdHVyZSA9IC8qICAgICAgICAgICAgKi82NDtcbnZhciBSZWYgPSAvKiAgICAgICAgICAgICAgICAgICAqLzEyODtcbnZhciBTbmFwc2hvdCA9IC8qICAgICAgICAgICAgICAqLzI1NjtcblxuLy8gVW5pb24gb2YgYWxsIGhvc3QgZWZmZWN0c1xudmFyIEhvc3RFZmZlY3RNYXNrID0gLyogICAgICAgICovNTExO1xuXG52YXIgSW5jb21wbGV0ZSA9IC8qICAgICAgICAgICAgKi81MTI7XG52YXIgU2hvdWxkQ2FwdHVyZSA9IC8qICAgICAgICAgKi8xMDI0O1xuXG52YXIgTU9VTlRJTkcgPSAxO1xudmFyIE1PVU5URUQgPSAyO1xudmFyIFVOTU9VTlRFRCA9IDM7XG5cbmZ1bmN0aW9uIGlzRmliZXJNb3VudGVkSW1wbChmaWJlcikge1xuICB2YXIgbm9kZSA9IGZpYmVyO1xuICBpZiAoIWZpYmVyLmFsdGVybmF0ZSkge1xuICAgIC8vIElmIHRoZXJlIGlzIG5vIGFsdGVybmF0ZSwgdGhpcyBtaWdodCBiZSBhIG5ldyB0cmVlIHRoYXQgaXNuJ3QgaW5zZXJ0ZWRcbiAgICAvLyB5ZXQuIElmIGl0IGlzLCB0aGVuIGl0IHdpbGwgaGF2ZSBhIHBlbmRpbmcgaW5zZXJ0aW9uIGVmZmVjdCBvbiBpdC5cbiAgICBpZiAoKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgIHJldHVybiBNT1VOVElORztcbiAgICB9XG4gICAgd2hpbGUgKG5vZGUucmV0dXJuKSB7XG4gICAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgICBpZiAoKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgICAgcmV0dXJuIE1PVU5USU5HO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAobm9kZS5yZXR1cm4pIHtcbiAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKG5vZGUudGFnID09PSBIb3N0Um9vdCkge1xuICAgIC8vIFRPRE86IENoZWNrIGlmIHRoaXMgd2FzIGEgbmVzdGVkIEhvc3RSb290IHdoZW4gdXNlZCB3aXRoXG4gICAgLy8gcmVuZGVyQ29udGFpbmVySW50b1N1YnRyZWUuXG4gICAgcmV0dXJuIE1PVU5URUQ7XG4gIH1cbiAgLy8gSWYgd2UgZGlkbid0IGhpdCB0aGUgcm9vdCwgdGhhdCBtZWFucyB0aGF0IHdlJ3JlIGluIGFuIGRpc2Nvbm5lY3RlZCB0cmVlXG4gIC8vIHRoYXQgaGFzIGJlZW4gdW5tb3VudGVkLlxuICByZXR1cm4gVU5NT1VOVEVEO1xufVxuXG5mdW5jdGlvbiBpc0ZpYmVyTW91bnRlZChmaWJlcikge1xuICByZXR1cm4gaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRDtcbn1cblxuZnVuY3Rpb24gaXNNb3VudGVkKGNvbXBvbmVudCkge1xuICB7XG4gICAgdmFyIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICBpZiAob3duZXIgIT09IG51bGwgJiYgb3duZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkge1xuICAgICAgdmFyIG93bmVyRmliZXIgPSBvd25lcjtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG93bmVyRmliZXIuc3RhdGVOb2RlO1xuICAgICAgIWluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA/IHdhcm5pbmcoZmFsc2UsICclcyBpcyBhY2Nlc3NpbmcgaXNNb3VudGVkIGluc2lkZSBpdHMgcmVuZGVyKCkgZnVuY3Rpb24uICcgKyAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICsgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgKyAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLCBnZXRDb21wb25lbnROYW1lKG93bmVyRmliZXIpIHx8ICdBIGNvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgICAgaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmliZXIgPSBnZXQoY29tcG9uZW50KTtcbiAgaWYgKCFmaWJlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRDtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNNb3VudGVkKGZpYmVyKSB7XG4gICEoaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRCkgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuJykgOiB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoKGZpYmVyKSB7XG4gIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gIGlmICghYWx0ZXJuYXRlKSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYWx0ZXJuYXRlLCB0aGVuIHdlIG9ubHkgbmVlZCB0byBjaGVjayBpZiBpdCBpcyBtb3VudGVkLlxuICAgIHZhciBzdGF0ZSA9IGlzRmliZXJNb3VudGVkSW1wbChmaWJlcik7XG4gICAgIShzdGF0ZSAhPT0gVU5NT1VOVEVEKSA/IGludmFyaWFudChmYWxzZSwgJ1VuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4nKSA6IHZvaWQgMDtcbiAgICBpZiAoc3RhdGUgPT09IE1PVU5USU5HKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZpYmVyO1xuICB9XG4gIC8vIElmIHdlIGhhdmUgdHdvIHBvc3NpYmxlIGJyYW5jaGVzLCB3ZSdsbCB3YWxrIGJhY2t3YXJkcyB1cCB0byB0aGUgcm9vdFxuICAvLyB0byBzZWUgd2hhdCBwYXRoIHRoZSByb290IHBvaW50cyB0by4gT24gdGhlIHdheSB3ZSBtYXkgaGl0IG9uZSBvZiB0aGVcbiAgLy8gc3BlY2lhbCBjYXNlcyBhbmQgd2UnbGwgZGVhbCB3aXRoIHRoZW0uXG4gIHZhciBhID0gZmliZXI7XG4gIHZhciBiID0gYWx0ZXJuYXRlO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBwYXJlbnRBID0gYS5yZXR1cm47XG4gICAgdmFyIHBhcmVudEIgPSBwYXJlbnRBID8gcGFyZW50QS5hbHRlcm5hdGUgOiBudWxsO1xuICAgIGlmICghcGFyZW50QSB8fCAhcGFyZW50Qikge1xuICAgICAgLy8gV2UncmUgYXQgdGhlIHJvb3QuXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBJZiBib3RoIGNvcGllcyBvZiB0aGUgcGFyZW50IGZpYmVyIHBvaW50IHRvIHRoZSBzYW1lIGNoaWxkLCB3ZSBjYW5cbiAgICAvLyBhc3N1bWUgdGhhdCB0aGUgY2hpbGQgaXMgY3VycmVudC4gVGhpcyBoYXBwZW5zIHdoZW4gd2UgYmFpbG91dCBvbiBsb3dcbiAgICAvLyBwcmlvcml0eTogdGhlIGJhaWxlZCBvdXQgZmliZXIncyBjaGlsZCByZXVzZXMgdGhlIGN1cnJlbnQgY2hpbGQuXG4gICAgaWYgKHBhcmVudEEuY2hpbGQgPT09IHBhcmVudEIuY2hpbGQpIHtcbiAgICAgIHZhciBjaGlsZCA9IHBhcmVudEEuY2hpbGQ7XG4gICAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBhKSB7XG4gICAgICAgICAgLy8gV2UndmUgZGV0ZXJtaW5lZCB0aGF0IEEgaXMgdGhlIGN1cnJlbnQgYnJhbmNoLlxuICAgICAgICAgIGFzc2VydElzTW91bnRlZChwYXJlbnRBKTtcbiAgICAgICAgICByZXR1cm4gZmliZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkID09PSBiKSB7XG4gICAgICAgICAgLy8gV2UndmUgZGV0ZXJtaW5lZCB0aGF0IEIgaXMgdGhlIGN1cnJlbnQgYnJhbmNoLlxuICAgICAgICAgIGFzc2VydElzTW91bnRlZChwYXJlbnRBKTtcbiAgICAgICAgICByZXR1cm4gYWx0ZXJuYXRlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICAgIH1cbiAgICAgIC8vIFdlIHNob3VsZCBuZXZlciBoYXZlIGFuIGFsdGVybmF0ZSBmb3IgYW55IG1vdW50aW5nIG5vZGUuIFNvIHRoZSBvbmx5XG4gICAgICAvLyB3YXkgdGhpcyBjb3VsZCBwb3NzaWJseSBoYXBwZW4gaXMgaWYgdGhpcyB3YXMgdW5tb3VudGVkLCBpZiBhdCBhbGwuXG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuJyk7XG4gICAgfVxuXG4gICAgaWYgKGEucmV0dXJuICE9PSBiLnJldHVybikge1xuICAgICAgLy8gVGhlIHJldHVybiBwb2ludGVyIG9mIEEgYW5kIHRoZSByZXR1cm4gcG9pbnRlciBvZiBCIHBvaW50IHRvIGRpZmZlcmVudFxuICAgICAgLy8gZmliZXJzLiBXZSBhc3N1bWUgdGhhdCByZXR1cm4gcG9pbnRlcnMgbmV2ZXIgY3Jpc3MtY3Jvc3MsIHNvIEEgbXVzdFxuICAgICAgLy8gYmVsb25nIHRvIHRoZSBjaGlsZCBzZXQgb2YgQS5yZXR1cm4sIGFuZCBCIG11c3QgYmVsb25nIHRvIHRoZSBjaGlsZFxuICAgICAgLy8gc2V0IG9mIEIucmV0dXJuLlxuICAgICAgYSA9IHBhcmVudEE7XG4gICAgICBiID0gcGFyZW50QjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIHJldHVybiBwb2ludGVycyBwb2ludCB0byB0aGUgc2FtZSBmaWJlci4gV2UnbGwgaGF2ZSB0byB1c2UgdGhlXG4gICAgICAvLyBkZWZhdWx0LCBzbG93IHBhdGg6IHNjYW4gdGhlIGNoaWxkIHNldHMgb2YgZWFjaCBwYXJlbnQgYWx0ZXJuYXRlIHRvIHNlZVxuICAgICAgLy8gd2hpY2ggY2hpbGQgYmVsb25ncyB0byB3aGljaCBzZXQuXG4gICAgICAvL1xuICAgICAgLy8gU2VhcmNoIHBhcmVudCBBJ3MgY2hpbGQgc2V0XG4gICAgICB2YXIgZGlkRmluZENoaWxkID0gZmFsc2U7XG4gICAgICB2YXIgX2NoaWxkID0gcGFyZW50QS5jaGlsZDtcbiAgICAgIHdoaWxlIChfY2hpbGQpIHtcbiAgICAgICAgaWYgKF9jaGlsZCA9PT0gYSkge1xuICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgYSA9IHBhcmVudEE7XG4gICAgICAgICAgYiA9IHBhcmVudEI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jaGlsZCA9PT0gYikge1xuICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgYiA9IHBhcmVudEE7XG4gICAgICAgICAgYSA9IHBhcmVudEI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgX2NoaWxkID0gX2NoaWxkLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICBpZiAoIWRpZEZpbmRDaGlsZCkge1xuICAgICAgICAvLyBTZWFyY2ggcGFyZW50IEIncyBjaGlsZCBzZXRcbiAgICAgICAgX2NoaWxkID0gcGFyZW50Qi5jaGlsZDtcbiAgICAgICAgd2hpbGUgKF9jaGlsZCkge1xuICAgICAgICAgIGlmIChfY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICBhID0gcGFyZW50QjtcbiAgICAgICAgICAgIGIgPSBwYXJlbnRBO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfY2hpbGQgPT09IGIpIHtcbiAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICBiID0gcGFyZW50QjtcbiAgICAgICAgICAgIGEgPSBwYXJlbnRBO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9jaGlsZCA9IF9jaGlsZC5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgICFkaWRGaW5kQ2hpbGQgPyBpbnZhcmlhbnQoZmFsc2UsICdDaGlsZCB3YXMgbm90IGZvdW5kIGluIGVpdGhlciBwYXJlbnQgc2V0LiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiBSZWFjdCByZWxhdGVkIHRvIHRoZSByZXR1cm4gcG9pbnRlci4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgIShhLmFsdGVybmF0ZSA9PT0gYikgPyBpbnZhcmlhbnQoZmFsc2UsICdSZXR1cm4gZmliZXJzIHNob3VsZCBhbHdheXMgYmUgZWFjaCBvdGhlcnNcXCcgYWx0ZXJuYXRlcy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgfVxuICAvLyBJZiB0aGUgcm9vdCBpcyBub3QgYSBob3N0IGNvbnRhaW5lciwgd2UncmUgaW4gYSBkaXNjb25uZWN0ZWQgdHJlZS4gSS5lLlxuICAvLyB1bm1vdW50ZWQuXG4gICEoYS50YWcgPT09IEhvc3RSb290KSA/IGludmFyaWFudChmYWxzZSwgJ1VuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4nKSA6IHZvaWQgMDtcbiAgaWYgKGEuc3RhdGVOb2RlLmN1cnJlbnQgPT09IGEpIHtcbiAgICAvLyBXZSd2ZSBkZXRlcm1pbmVkIHRoYXQgQSBpcyB0aGUgY3VycmVudCBicmFuY2guXG4gICAgcmV0dXJuIGZpYmVyO1xuICB9XG4gIC8vIE90aGVyd2lzZSBCIGhhcyB0byBiZSBjdXJyZW50IGJyYW5jaC5cbiAgcmV0dXJuIGFsdGVybmF0ZTtcbn1cblxuZnVuY3Rpb24gZmluZEN1cnJlbnRIb3N0RmliZXIocGFyZW50KSB7XG4gIHZhciBjdXJyZW50UGFyZW50ID0gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgocGFyZW50KTtcbiAgaWYgKCFjdXJyZW50UGFyZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBOZXh0IHdlJ2xsIGRyaWxsIGRvd24gdGhpcyBjb21wb25lbnQgdG8gZmluZCB0aGUgZmlyc3QgSG9zdENvbXBvbmVudC9UZXh0LlxuICB2YXIgbm9kZSA9IGN1cnJlbnRQYXJlbnQ7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIGlmIChub2RlLmNoaWxkKSB7XG4gICAgICBub2RlLmNoaWxkLnJldHVybiA9IG5vZGU7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobm9kZSA9PT0gY3VycmVudFBhcmVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHdoaWxlICghbm9kZS5zaWJsaW5nKSB7XG4gICAgICBpZiAoIW5vZGUucmV0dXJuIHx8IG5vZGUucmV0dXJuID09PSBjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgIH1cbiAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfVxuICAvLyBGbG93IG5lZWRzIHRoZSByZXR1cm4gbnVsbCBoZXJlLCBidXQgRVNMaW50IGNvbXBsYWlucyBhYm91dCBpdC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVucmVhY2hhYmxlXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBmaW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHMocGFyZW50KSB7XG4gIHZhciBjdXJyZW50UGFyZW50ID0gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgocGFyZW50KTtcbiAgaWYgKCFjdXJyZW50UGFyZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBOZXh0IHdlJ2xsIGRyaWxsIGRvd24gdGhpcyBjb21wb25lbnQgdG8gZmluZCB0aGUgZmlyc3QgSG9zdENvbXBvbmVudC9UZXh0LlxuICB2YXIgbm9kZSA9IGN1cnJlbnRQYXJlbnQ7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICYmIG5vZGUudGFnICE9PSBIb3N0UG9ydGFsKSB7XG4gICAgICBub2RlLmNoaWxkLnJldHVybiA9IG5vZGU7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobm9kZSA9PT0gY3VycmVudFBhcmVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHdoaWxlICghbm9kZS5zaWJsaW5nKSB7XG4gICAgICBpZiAoIW5vZGUucmV0dXJuIHx8IG5vZGUucmV0dXJuID09PSBjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgIH1cbiAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfVxuICAvLyBGbG93IG5lZWRzIHRoZSByZXR1cm4gbnVsbCBoZXJlLCBidXQgRVNMaW50IGNvbXBsYWlucyBhYm91dCBpdC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVucmVhY2hhYmxlXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBhZGRFdmVudEJ1YmJsZUxpc3RlbmVyKGVsZW1lbnQsIGV2ZW50VHlwZSwgbGlzdGVuZXIpIHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRDYXB0dXJlTGlzdGVuZXIoZWxlbWVudCwgZXZlbnRUeXBlLCBsaXN0ZW5lcikge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWFuaW1hdGlvbnMvI0FuaW1hdGlvbkV2ZW50LWludGVyZmFjZVxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQW5pbWF0aW9uRXZlbnRcbiAqL1xudmFyIFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBhbmltYXRpb25OYW1lOiBudWxsLFxuICBlbGFwc2VkVGltZTogbnVsbCxcbiAgcHNldWRvRWxlbWVudDogbnVsbFxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jbGlwYm9hcmQtYXBpcy9cbiAqL1xudmFyIFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBjbGlwYm9hcmREYXRhOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gJ2NsaXBib2FyZERhdGEnIGluIGV2ZW50ID8gZXZlbnQuY2xpcGJvYXJkRGF0YSA6IHdpbmRvdy5jbGlwYm9hcmREYXRhO1xuICB9XG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEZvY3VzRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgU3ludGhldGljRm9jdXNFdmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZXh0ZW5kKHtcbiAgcmVsYXRlZFRhcmdldDogbnVsbFxufSk7XG5cbi8qKlxuICogYGNoYXJDb2RlYCByZXByZXNlbnRzIHRoZSBhY3R1YWwgXCJjaGFyYWN0ZXIgY29kZVwiIGFuZCBpcyBzYWZlIHRvIHVzZSB3aXRoXG4gKiBgU3RyaW5nLmZyb21DaGFyQ29kZWAuIEFzIHN1Y2gsIG9ubHkga2V5cyB0aGF0IGNvcnJlc3BvbmQgdG8gcHJpbnRhYmxlXG4gKiBjaGFyYWN0ZXJzIHByb2R1Y2UgYSB2YWxpZCBgY2hhckNvZGVgLCB0aGUgb25seSBleGNlcHRpb24gdG8gdGhpcyBpcyBFbnRlci5cbiAqIFRoZSBUYWIta2V5IGlzIGNvbnNpZGVyZWQgbm9uLXByaW50YWJsZSBhbmQgZG9lcyBub3QgaGF2ZSBhIGBjaGFyQ29kZWAsXG4gKiBwcmVzdW1hYmx5IGJlY2F1c2UgaXQgZG9lcyBub3QgcHJvZHVjZSBhIHRhYi1jaGFyYWN0ZXIgaW4gYnJvd3NlcnMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBOb3JtYWxpemVkIGBjaGFyQ29kZWAgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGNoYXJDb2RlID0gdm9pZCAwO1xuICB2YXIga2V5Q29kZSA9IG5hdGl2ZUV2ZW50LmtleUNvZGU7XG5cbiAgaWYgKCdjaGFyQ29kZScgaW4gbmF0aXZlRXZlbnQpIHtcbiAgICBjaGFyQ29kZSA9IG5hdGl2ZUV2ZW50LmNoYXJDb2RlO1xuXG4gICAgLy8gRkYgZG9lcyBub3Qgc2V0IGBjaGFyQ29kZWAgZm9yIHRoZSBFbnRlci1rZXksIGNoZWNrIGFnYWluc3QgYGtleUNvZGVgLlxuICAgIGlmIChjaGFyQ29kZSA9PT0gMCAmJiBrZXlDb2RlID09PSAxMykge1xuICAgICAgY2hhckNvZGUgPSAxMztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSUU4IGRvZXMgbm90IGltcGxlbWVudCBgY2hhckNvZGVgLCBidXQgYGtleUNvZGVgIGhhcyB0aGUgY29ycmVjdCB2YWx1ZS5cbiAgICBjaGFyQ29kZSA9IGtleUNvZGU7XG4gIH1cblxuICAvLyBJRSBhbmQgRWRnZSAob24gV2luZG93cykgYW5kIENocm9tZSAvIFNhZmFyaSAob24gV2luZG93cyBhbmQgTGludXgpXG4gIC8vIHJlcG9ydCBFbnRlciBhcyBjaGFyQ29kZSAxMCB3aGVuIGN0cmwgaXMgcHJlc3NlZC5cbiAgaWYgKGNoYXJDb2RlID09PSAxMCkge1xuICAgIGNoYXJDb2RlID0gMTM7XG4gIH1cblxuICAvLyBTb21lIG5vbi1wcmludGFibGUga2V5cyBhcmUgcmVwb3J0ZWQgaW4gYGNoYXJDb2RlYC9ga2V5Q29kZWAsIGRpc2NhcmQgdGhlbS5cbiAgLy8gTXVzdCBub3QgZGlzY2FyZCB0aGUgKG5vbi0pcHJpbnRhYmxlIEVudGVyLWtleS5cbiAgaWYgKGNoYXJDb2RlID49IDMyIHx8IGNoYXJDb2RlID09PSAxMykge1xuICAgIHJldHVybiBjaGFyQ29kZTtcbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIE5vcm1hbGl6YXRpb24gb2YgZGVwcmVjYXRlZCBIVE1MNSBga2V5YCB2YWx1ZXNcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjS2V5X25hbWVzXG4gKi9cbnZhciBub3JtYWxpemVLZXkgPSB7XG4gIEVzYzogJ0VzY2FwZScsXG4gIFNwYWNlYmFyOiAnICcsXG4gIExlZnQ6ICdBcnJvd0xlZnQnLFxuICBVcDogJ0Fycm93VXAnLFxuICBSaWdodDogJ0Fycm93UmlnaHQnLFxuICBEb3duOiAnQXJyb3dEb3duJyxcbiAgRGVsOiAnRGVsZXRlJyxcbiAgV2luOiAnT1MnLFxuICBNZW51OiAnQ29udGV4dE1lbnUnLFxuICBBcHBzOiAnQ29udGV4dE1lbnUnLFxuICBTY3JvbGw6ICdTY3JvbGxMb2NrJyxcbiAgTW96UHJpbnRhYmxlS2V5OiAnVW5pZGVudGlmaWVkJ1xufTtcblxuLyoqXG4gKiBUcmFuc2xhdGlvbiBmcm9tIGxlZ2FjeSBga2V5Q29kZWAgdG8gSFRNTDUgYGtleWBcbiAqIE9ubHkgc3BlY2lhbCBrZXlzIHN1cHBvcnRlZCwgYWxsIG90aGVycyBkZXBlbmQgb24ga2V5Ym9hcmQgbGF5b3V0IG9yIGJyb3dzZXJcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjS2V5X25hbWVzXG4gKi9cbnZhciB0cmFuc2xhdGVUb0tleSA9IHtcbiAgJzgnOiAnQmFja3NwYWNlJyxcbiAgJzknOiAnVGFiJyxcbiAgJzEyJzogJ0NsZWFyJyxcbiAgJzEzJzogJ0VudGVyJyxcbiAgJzE2JzogJ1NoaWZ0JyxcbiAgJzE3JzogJ0NvbnRyb2wnLFxuICAnMTgnOiAnQWx0JyxcbiAgJzE5JzogJ1BhdXNlJyxcbiAgJzIwJzogJ0NhcHNMb2NrJyxcbiAgJzI3JzogJ0VzY2FwZScsXG4gICczMic6ICcgJyxcbiAgJzMzJzogJ1BhZ2VVcCcsXG4gICczNCc6ICdQYWdlRG93bicsXG4gICczNSc6ICdFbmQnLFxuICAnMzYnOiAnSG9tZScsXG4gICczNyc6ICdBcnJvd0xlZnQnLFxuICAnMzgnOiAnQXJyb3dVcCcsXG4gICczOSc6ICdBcnJvd1JpZ2h0JyxcbiAgJzQwJzogJ0Fycm93RG93bicsXG4gICc0NSc6ICdJbnNlcnQnLFxuICAnNDYnOiAnRGVsZXRlJyxcbiAgJzExMic6ICdGMScsXG4gICcxMTMnOiAnRjInLFxuICAnMTE0JzogJ0YzJyxcbiAgJzExNSc6ICdGNCcsXG4gICcxMTYnOiAnRjUnLFxuICAnMTE3JzogJ0Y2JyxcbiAgJzExOCc6ICdGNycsXG4gICcxMTknOiAnRjgnLFxuICAnMTIwJzogJ0Y5JyxcbiAgJzEyMSc6ICdGMTAnLFxuICAnMTIyJzogJ0YxMScsXG4gICcxMjMnOiAnRjEyJyxcbiAgJzE0NCc6ICdOdW1Mb2NrJyxcbiAgJzE0NSc6ICdTY3JvbGxMb2NrJyxcbiAgJzIyNCc6ICdNZXRhJ1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vcm1hbGl6ZWQgYGtleWAgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGdldEV2ZW50S2V5KG5hdGl2ZUV2ZW50KSB7XG4gIGlmIChuYXRpdmVFdmVudC5rZXkpIHtcbiAgICAvLyBOb3JtYWxpemUgaW5jb25zaXN0ZW50IHZhbHVlcyByZXBvcnRlZCBieSBicm93c2VycyBkdWUgdG9cbiAgICAvLyBpbXBsZW1lbnRhdGlvbnMgb2YgYSB3b3JraW5nIGRyYWZ0IHNwZWNpZmljYXRpb24uXG5cbiAgICAvLyBGaXJlRm94IGltcGxlbWVudHMgYGtleWAgYnV0IHJldHVybnMgYE1velByaW50YWJsZUtleWAgZm9yIGFsbFxuICAgIC8vIHByaW50YWJsZSBjaGFyYWN0ZXJzIChub3JtYWxpemVkIHRvIGBVbmlkZW50aWZpZWRgKSwgaWdub3JlIGl0LlxuICAgIHZhciBrZXkgPSBub3JtYWxpemVLZXlbbmF0aXZlRXZlbnQua2V5XSB8fCBuYXRpdmVFdmVudC5rZXk7XG4gICAgaWYgKGtleSAhPT0gJ1VuaWRlbnRpZmllZCcpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG5cbiAgLy8gQnJvd3NlciBkb2VzIG5vdCBpbXBsZW1lbnQgYGtleWAsIHBvbHlmaWxsIGFzIG11Y2ggb2YgaXQgYXMgd2UgY2FuLlxuICBpZiAobmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgIHZhciBjaGFyQ29kZSA9IGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpO1xuXG4gICAgLy8gVGhlIGVudGVyLWtleSBpcyB0ZWNobmljYWxseSBib3RoIHByaW50YWJsZSBhbmQgbm9uLXByaW50YWJsZSBhbmQgY2FuXG4gICAgLy8gdGh1cyBiZSBjYXB0dXJlZCBieSBga2V5cHJlc3NgLCBubyBvdGhlciBub24tcHJpbnRhYmxlIGtleSBzaG91bGQuXG4gICAgcmV0dXJuIGNoYXJDb2RlID09PSAxMyA/ICdFbnRlcicgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKTtcbiAgfVxuICBpZiAobmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAvLyBXaGlsZSB1c2VyIGtleWJvYXJkIGxheW91dCBkZXRlcm1pbmVzIHRoZSBhY3R1YWwgbWVhbmluZyBvZiBlYWNoXG4gICAgLy8gYGtleUNvZGVgIHZhbHVlLCBhbG1vc3QgYWxsIGZ1bmN0aW9uIGtleXMgaGF2ZSBhIHVuaXZlcnNhbCB2YWx1ZS5cbiAgICByZXR1cm4gdHJhbnNsYXRlVG9LZXlbbmF0aXZlRXZlbnQua2V5Q29kZV0gfHwgJ1VuaWRlbnRpZmllZCc7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgS2V5Ym9hcmRFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBTeW50aGV0aWNLZXlib2FyZEV2ZW50ID0gU3ludGhldGljVUlFdmVudC5leHRlbmQoe1xuICBrZXk6IGdldEV2ZW50S2V5LFxuICBsb2NhdGlvbjogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgcmVwZWF0OiBudWxsLFxuICBsb2NhbGU6IG51bGwsXG4gIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZSxcbiAgLy8gTGVnYWN5IEludGVyZmFjZVxuICBjaGFyQ29kZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gYGNoYXJDb2RlYCBpcyB0aGUgcmVzdWx0IG9mIGEgS2V5UHJlc3MgZXZlbnQgYW5kIHJlcHJlc2VudHMgdGhlIHZhbHVlIG9mXG4gICAgLy8gdGhlIGFjdHVhbCBwcmludGFibGUgY2hhcmFjdGVyLlxuXG4gICAgLy8gS2V5UHJlc3MgaXMgZGVwcmVjYXRlZCwgYnV0IGl0cyByZXBsYWNlbWVudCBpcyBub3QgeWV0IGZpbmFsIGFuZCBub3RcbiAgICAvLyBpbXBsZW1lbnRlZCBpbiBhbnkgbWFqb3IgYnJvd3Nlci4gT25seSBLZXlQcmVzcyBoYXMgY2hhckNvZGUuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICAgIHJldHVybiBnZXRFdmVudENoYXJDb2RlKGV2ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIGtleUNvZGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIGBrZXlDb2RlYCBpcyB0aGUgcmVzdWx0IG9mIGEgS2V5RG93bi9VcCBldmVudCBhbmQgcmVwcmVzZW50cyB0aGUgdmFsdWUgb2ZcbiAgICAvLyBwaHlzaWNhbCBrZXlib2FyZCBrZXkuXG5cbiAgICAvLyBUaGUgYWN0dWFsIG1lYW5pbmcgb2YgdGhlIHZhbHVlIGRlcGVuZHMgb24gdGhlIHVzZXJzJyBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyB3aGljaCBjYW5ub3QgYmUgZGV0ZWN0ZWQuIEFzc3VtaW5nIHRoYXQgaXQgaXMgYSBVUyBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyBwcm92aWRlcyBhIHN1cnByaXNpbmdseSBhY2N1cmF0ZSBtYXBwaW5nIGZvciBVUyBhbmQgRXVyb3BlYW4gdXNlcnMuXG4gICAgLy8gRHVlIHRvIHRoaXMsIGl0IGlzIGxlZnQgdG8gdGhlIHVzZXIgdG8gaW1wbGVtZW50IGF0IHRoaXMgdGltZS5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgIHJldHVybiBldmVudC5rZXlDb2RlO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgd2hpY2g6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIGB3aGljaGAgaXMgYW4gYWxpYXMgZm9yIGVpdGhlciBga2V5Q29kZWAgb3IgYGNoYXJDb2RlYCBkZXBlbmRpbmcgb24gdGhlXG4gICAgLy8gdHlwZSBvZiB0aGUgZXZlbnQuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICAgIHJldHVybiBnZXRFdmVudENoYXJDb2RlKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBldmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICByZXR1cm4gZXZlbnQua2V5Q29kZTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRHJhZ0V2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIFN5bnRoZXRpY0RyYWdFdmVudCA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZXh0ZW5kKHtcbiAgZGF0YVRyYW5zZmVyOiBudWxsXG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFRvdWNoRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzL1xuICovXG52YXIgU3ludGhldGljVG91Y2hFdmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZXh0ZW5kKHtcbiAgdG91Y2hlczogbnVsbCxcbiAgdGFyZ2V0VG91Y2hlczogbnVsbCxcbiAgY2hhbmdlZFRvdWNoZXM6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZVxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDA5L1dELWNzczMtdHJhbnNpdGlvbnMtMjAwOTAzMjAvI3RyYW5zaXRpb24tZXZlbnRzLVxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVHJhbnNpdGlvbkV2ZW50XG4gKi9cbnZhciBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmV4dGVuZCh7XG4gIHByb3BlcnR5TmFtZTogbnVsbCxcbiAgZWxhcHNlZFRpbWU6IG51bGwsXG4gIHBzZXVkb0VsZW1lbnQ6IG51bGxcbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgV2hlZWxFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBTeW50aGV0aWNXaGVlbEV2ZW50ID0gU3ludGhldGljTW91c2VFdmVudC5leHRlbmQoe1xuICBkZWx0YVg6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiAnZGVsdGFYJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWCA6IC8vIEZhbGxiYWNrIHRvIGB3aGVlbERlbHRhWGAgZm9yIFdlYmtpdCBhbmQgbm9ybWFsaXplIChyaWdodCBpcyBwb3NpdGl2ZSkuXG4gICAgJ3doZWVsRGVsdGFYJyBpbiBldmVudCA/IC1ldmVudC53aGVlbERlbHRhWCA6IDA7XG4gIH0sXG4gIGRlbHRhWTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuICdkZWx0YVknIGluIGV2ZW50ID8gZXZlbnQuZGVsdGFZIDogLy8gRmFsbGJhY2sgdG8gYHdoZWVsRGVsdGFZYCBmb3IgV2Via2l0IGFuZCBub3JtYWxpemUgKGRvd24gaXMgcG9zaXRpdmUpLlxuICAgICd3aGVlbERlbHRhWScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YVkgOiAvLyBGYWxsYmFjayB0byBgd2hlZWxEZWx0YWAgZm9yIElFPDkgYW5kIG5vcm1hbGl6ZSAoZG93biBpcyBwb3NpdGl2ZSkuXG4gICAgJ3doZWVsRGVsdGEnIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGEgOiAwO1xuICB9LFxuXG4gIGRlbHRhWjogbnVsbCxcblxuICAvLyBCcm93c2VycyB3aXRob3V0IFwiZGVsdGFNb2RlXCIgaXMgcmVwb3J0aW5nIGluIHJhdyB3aGVlbCBkZWx0YSB3aGVyZSBvbmVcbiAgLy8gbm90Y2ggb24gdGhlIHNjcm9sbCBpcyBhbHdheXMgKy8tIDEyMCwgcm91Z2hseSBlcXVpdmFsZW50IHRvIHBpeGVscy5cbiAgLy8gQSBnb29kIGFwcHJveGltYXRpb24gb2YgRE9NX0RFTFRBX0xJTkUgKDEpIGlzIDUlIG9mIHZpZXdwb3J0IHNpemUgb3JcbiAgLy8gfjQwIHBpeGVscywgZm9yIERPTV9ERUxUQV9TQ1JFRU4gKDIpIGl0IGlzIDg3LjUlIG9mIHZpZXdwb3J0IHNpemUuXG4gIGRlbHRhTW9kZTogbnVsbFxufSk7XG5cbi8qKlxuICogVHVybnNcbiAqIFsnYWJvcnQnLCAuLi5dXG4gKiBpbnRvXG4gKiBldmVudFR5cGVzID0ge1xuICogICAnYWJvcnQnOiB7XG4gKiAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAqICAgICAgIGJ1YmJsZWQ6ICdvbkFib3J0JyxcbiAqICAgICAgIGNhcHR1cmVkOiAnb25BYm9ydENhcHR1cmUnLFxuICogICAgIH0sXG4gKiAgICAgZGVwZW5kZW5jaWVzOiBbVE9QX0FCT1JUXSxcbiAqICAgfSxcbiAqICAgLi4uXG4gKiB9O1xuICogdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnID0gbmV3IE1hcChbXG4gKiAgIFtUT1BfQUJPUlQsIHsgc2FtZUNvbmZpZyB9XSxcbiAqIF0pO1xuICovXG5cbnZhciBpbnRlcmFjdGl2ZUV2ZW50VHlwZU5hbWVzID0gW1tUT1BfQkxVUiwgJ2JsdXInXSwgW1RPUF9DQU5DRUwsICdjYW5jZWwnXSwgW1RPUF9DTElDSywgJ2NsaWNrJ10sIFtUT1BfQ0xPU0UsICdjbG9zZSddLCBbVE9QX0NPTlRFWFRfTUVOVSwgJ2NvbnRleHRNZW51J10sIFtUT1BfQ09QWSwgJ2NvcHknXSwgW1RPUF9DVVQsICdjdXQnXSwgW1RPUF9ET1VCTEVfQ0xJQ0ssICdkb3VibGVDbGljayddLCBbVE9QX0RSQUdfRU5ELCAnZHJhZ0VuZCddLCBbVE9QX0RSQUdfU1RBUlQsICdkcmFnU3RhcnQnXSwgW1RPUF9EUk9QLCAnZHJvcCddLCBbVE9QX0ZPQ1VTLCAnZm9jdXMnXSwgW1RPUF9JTlBVVCwgJ2lucHV0J10sIFtUT1BfSU5WQUxJRCwgJ2ludmFsaWQnXSwgW1RPUF9LRVlfRE9XTiwgJ2tleURvd24nXSwgW1RPUF9LRVlfUFJFU1MsICdrZXlQcmVzcyddLCBbVE9QX0tFWV9VUCwgJ2tleVVwJ10sIFtUT1BfTU9VU0VfRE9XTiwgJ21vdXNlRG93biddLCBbVE9QX01PVVNFX1VQLCAnbW91c2VVcCddLCBbVE9QX1BBU1RFLCAncGFzdGUnXSwgW1RPUF9QQVVTRSwgJ3BhdXNlJ10sIFtUT1BfUExBWSwgJ3BsYXknXSwgW1RPUF9QT0lOVEVSX0NBTkNFTCwgJ3BvaW50ZXJDYW5jZWwnXSwgW1RPUF9QT0lOVEVSX0RPV04sICdwb2ludGVyRG93biddLCBbVE9QX1BPSU5URVJfVVAsICdwb2ludGVyVXAnXSwgW1RPUF9SQVRFX0NIQU5HRSwgJ3JhdGVDaGFuZ2UnXSwgW1RPUF9SRVNFVCwgJ3Jlc2V0J10sIFtUT1BfU0VFS0VELCAnc2Vla2VkJ10sIFtUT1BfU1VCTUlULCAnc3VibWl0J10sIFtUT1BfVE9VQ0hfQ0FOQ0VMLCAndG91Y2hDYW5jZWwnXSwgW1RPUF9UT1VDSF9FTkQsICd0b3VjaEVuZCddLCBbVE9QX1RPVUNIX1NUQVJULCAndG91Y2hTdGFydCddLCBbVE9QX1ZPTFVNRV9DSEFOR0UsICd2b2x1bWVDaGFuZ2UnXV07XG52YXIgbm9uSW50ZXJhY3RpdmVFdmVudFR5cGVOYW1lcyA9IFtbVE9QX0FCT1JULCAnYWJvcnQnXSwgW1RPUF9BTklNQVRJT05fRU5ELCAnYW5pbWF0aW9uRW5kJ10sIFtUT1BfQU5JTUFUSU9OX0lURVJBVElPTiwgJ2FuaW1hdGlvbkl0ZXJhdGlvbiddLCBbVE9QX0FOSU1BVElPTl9TVEFSVCwgJ2FuaW1hdGlvblN0YXJ0J10sIFtUT1BfQ0FOX1BMQVksICdjYW5QbGF5J10sIFtUT1BfQ0FOX1BMQVlfVEhST1VHSCwgJ2NhblBsYXlUaHJvdWdoJ10sIFtUT1BfRFJBRywgJ2RyYWcnXSwgW1RPUF9EUkFHX0VOVEVSLCAnZHJhZ0VudGVyJ10sIFtUT1BfRFJBR19FWElULCAnZHJhZ0V4aXQnXSwgW1RPUF9EUkFHX0xFQVZFLCAnZHJhZ0xlYXZlJ10sIFtUT1BfRFJBR19PVkVSLCAnZHJhZ092ZXInXSwgW1RPUF9EVVJBVElPTl9DSEFOR0UsICdkdXJhdGlvbkNoYW5nZSddLCBbVE9QX0VNUFRJRUQsICdlbXB0aWVkJ10sIFtUT1BfRU5DUllQVEVELCAnZW5jcnlwdGVkJ10sIFtUT1BfRU5ERUQsICdlbmRlZCddLCBbVE9QX0VSUk9SLCAnZXJyb3InXSwgW1RPUF9HT1RfUE9JTlRFUl9DQVBUVVJFLCAnZ290UG9pbnRlckNhcHR1cmUnXSwgW1RPUF9MT0FELCAnbG9hZCddLCBbVE9QX0xPQURFRF9EQVRBLCAnbG9hZGVkRGF0YSddLCBbVE9QX0xPQURFRF9NRVRBREFUQSwgJ2xvYWRlZE1ldGFkYXRhJ10sIFtUT1BfTE9BRF9TVEFSVCwgJ2xvYWRTdGFydCddLCBbVE9QX0xPU1RfUE9JTlRFUl9DQVBUVVJFLCAnbG9zdFBvaW50ZXJDYXB0dXJlJ10sIFtUT1BfTU9VU0VfTU9WRSwgJ21vdXNlTW92ZSddLCBbVE9QX01PVVNFX09VVCwgJ21vdXNlT3V0J10sIFtUT1BfTU9VU0VfT1ZFUiwgJ21vdXNlT3ZlciddLCBbVE9QX1BMQVlJTkcsICdwbGF5aW5nJ10sIFtUT1BfUE9JTlRFUl9NT1ZFLCAncG9pbnRlck1vdmUnXSwgW1RPUF9QT0lOVEVSX09VVCwgJ3BvaW50ZXJPdXQnXSwgW1RPUF9QT0lOVEVSX09WRVIsICdwb2ludGVyT3ZlciddLCBbVE9QX1BST0dSRVNTLCAncHJvZ3Jlc3MnXSwgW1RPUF9TQ1JPTEwsICdzY3JvbGwnXSwgW1RPUF9TRUVLSU5HLCAnc2Vla2luZyddLCBbVE9QX1NUQUxMRUQsICdzdGFsbGVkJ10sIFtUT1BfU1VTUEVORCwgJ3N1c3BlbmQnXSwgW1RPUF9USU1FX1VQREFURSwgJ3RpbWVVcGRhdGUnXSwgW1RPUF9UT0dHTEUsICd0b2dnbGUnXSwgW1RPUF9UT1VDSF9NT1ZFLCAndG91Y2hNb3ZlJ10sIFtUT1BfVFJBTlNJVElPTl9FTkQsICd0cmFuc2l0aW9uRW5kJ10sIFtUT1BfV0FJVElORywgJ3dhaXRpbmcnXSwgW1RPUF9XSEVFTCwgJ3doZWVsJ11dO1xuXG52YXIgZXZlbnRUeXBlcyQ0ID0ge307XG52YXIgdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnID0ge307XG5cbmZ1bmN0aW9uIGFkZEV2ZW50VHlwZU5hbWVUb0NvbmZpZyhfcmVmLCBpc0ludGVyYWN0aXZlKSB7XG4gIHZhciB0b3BFdmVudCA9IF9yZWZbMF0sXG4gICAgICBldmVudCA9IF9yZWZbMV07XG5cbiAgdmFyIGNhcGl0YWxpemVkRXZlbnQgPSBldmVudFswXS50b1VwcGVyQ2FzZSgpICsgZXZlbnQuc2xpY2UoMSk7XG4gIHZhciBvbkV2ZW50ID0gJ29uJyArIGNhcGl0YWxpemVkRXZlbnQ7XG5cbiAgdmFyIHR5cGUgPSB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IG9uRXZlbnQsXG4gICAgICBjYXB0dXJlZDogb25FdmVudCArICdDYXB0dXJlJ1xuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbdG9wRXZlbnRdLFxuICAgIGlzSW50ZXJhY3RpdmU6IGlzSW50ZXJhY3RpdmVcbiAgfTtcbiAgZXZlbnRUeXBlcyQ0W2V2ZW50XSA9IHR5cGU7XG4gIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0b3BFdmVudF0gPSB0eXBlO1xufVxuXG5pbnRlcmFjdGl2ZUV2ZW50VHlwZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50VHVwbGUpIHtcbiAgYWRkRXZlbnRUeXBlTmFtZVRvQ29uZmlnKGV2ZW50VHVwbGUsIHRydWUpO1xufSk7XG5ub25JbnRlcmFjdGl2ZUV2ZW50VHlwZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50VHVwbGUpIHtcbiAgYWRkRXZlbnRUeXBlTmFtZVRvQ29uZmlnKGV2ZW50VHVwbGUsIGZhbHNlKTtcbn0pO1xuXG4vLyBPbmx5IHVzZWQgaW4gREVWIGZvciBleGhhdXN0aXZlbmVzcyB2YWxpZGF0aW9uLlxudmFyIGtub3duSFRNTFRvcExldmVsVHlwZXMgPSBbVE9QX0FCT1JULCBUT1BfQ0FOQ0VMLCBUT1BfQ0FOX1BMQVksIFRPUF9DQU5fUExBWV9USFJPVUdILCBUT1BfQ0xPU0UsIFRPUF9EVVJBVElPTl9DSEFOR0UsIFRPUF9FTVBUSUVELCBUT1BfRU5DUllQVEVELCBUT1BfRU5ERUQsIFRPUF9FUlJPUiwgVE9QX0lOUFVULCBUT1BfSU5WQUxJRCwgVE9QX0xPQUQsIFRPUF9MT0FERURfREFUQSwgVE9QX0xPQURFRF9NRVRBREFUQSwgVE9QX0xPQURfU1RBUlQsIFRPUF9QQVVTRSwgVE9QX1BMQVksIFRPUF9QTEFZSU5HLCBUT1BfUFJPR1JFU1MsIFRPUF9SQVRFX0NIQU5HRSwgVE9QX1JFU0VULCBUT1BfU0VFS0VELCBUT1BfU0VFS0lORywgVE9QX1NUQUxMRUQsIFRPUF9TVUJNSVQsIFRPUF9TVVNQRU5ELCBUT1BfVElNRV9VUERBVEUsIFRPUF9UT0dHTEUsIFRPUF9WT0xVTUVfQ0hBTkdFLCBUT1BfV0FJVElOR107XG5cbnZhciBTaW1wbGVFdmVudFBsdWdpbiA9IHtcbiAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyQ0LFxuXG4gIGlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZTogZnVuY3Rpb24gKHRvcExldmVsVHlwZSkge1xuICAgIHZhciBjb25maWcgPSB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWdbdG9wTGV2ZWxUeXBlXTtcbiAgICByZXR1cm4gY29uZmlnICE9PSB1bmRlZmluZWQgJiYgY29uZmlnLmlzSW50ZXJhY3RpdmUgPT09IHRydWU7XG4gIH0sXG5cblxuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICB2YXIgZGlzcGF0Y2hDb25maWcgPSB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWdbdG9wTGV2ZWxUeXBlXTtcbiAgICBpZiAoIWRpc3BhdGNoQ29uZmlnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIEV2ZW50Q29uc3RydWN0b3IgPSB2b2lkIDA7XG4gICAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIGNhc2UgVE9QX0tFWV9QUkVTUzpcbiAgICAgICAgLy8gRmlyZWZveCBjcmVhdGVzIGEga2V5cHJlc3MgZXZlbnQgZm9yIGZ1bmN0aW9uIGtleXMgdG9vLiBUaGlzIHJlbW92ZXNcbiAgICAgICAgLy8gdGhlIHVud2FudGVkIGtleXByZXNzIGV2ZW50cy4gRW50ZXIgaXMgaG93ZXZlciBib3RoIHByaW50YWJsZSBhbmRcbiAgICAgICAgLy8gbm9uLXByaW50YWJsZS4gT25lIHdvdWxkIGV4cGVjdCBUYWIgdG8gYmUgYXMgd2VsbCAoYnV0IGl0IGlzbid0KS5cbiAgICAgICAgaWYgKGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgVE9QX0tFWV9ET1dOOlxuICAgICAgY2FzZSBUT1BfS0VZX1VQOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljS2V5Ym9hcmRFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRPUF9CTFVSOlxuICAgICAgY2FzZSBUT1BfRk9DVVM6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVE9QX0NMSUNLOlxuICAgICAgICAvLyBGaXJlZm94IGNyZWF0ZXMgYSBjbGljayBldmVudCBvbiByaWdodCBtb3VzZSBjbGlja3MuIFRoaXMgcmVtb3ZlcyB0aGVcbiAgICAgICAgLy8gdW53YW50ZWQgY2xpY2sgZXZlbnRzLlxuICAgICAgICBpZiAobmF0aXZlRXZlbnQuYnV0dG9uID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgVE9QX0RPVUJMRV9DTElDSzpcbiAgICAgIGNhc2UgVE9QX01PVVNFX0RPV046XG4gICAgICBjYXNlIFRPUF9NT1VTRV9NT1ZFOlxuICAgICAgY2FzZSBUT1BfTU9VU0VfVVA6XG4gICAgICAvLyBUT0RPOiBEaXNhYmxlZCBlbGVtZW50cyBzaG91bGQgbm90IHJlc3BvbmQgdG8gbW91c2UgZXZlbnRzXG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIFRPUF9NT1VTRV9PVVQ6XG4gICAgICBjYXNlIFRPUF9NT1VTRV9PVkVSOlxuICAgICAgY2FzZSBUT1BfQ09OVEVYVF9NRU5VOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRPUF9EUkFHOlxuICAgICAgY2FzZSBUT1BfRFJBR19FTkQ6XG4gICAgICBjYXNlIFRPUF9EUkFHX0VOVEVSOlxuICAgICAgY2FzZSBUT1BfRFJBR19FWElUOlxuICAgICAgY2FzZSBUT1BfRFJBR19MRUFWRTpcbiAgICAgIGNhc2UgVE9QX0RSQUdfT1ZFUjpcbiAgICAgIGNhc2UgVE9QX0RSQUdfU1RBUlQ6XG4gICAgICBjYXNlIFRPUF9EUk9QOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljRHJhZ0V2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVE9QX1RPVUNIX0NBTkNFTDpcbiAgICAgIGNhc2UgVE9QX1RPVUNIX0VORDpcbiAgICAgIGNhc2UgVE9QX1RPVUNIX01PVkU6XG4gICAgICBjYXNlIFRPUF9UT1VDSF9TVEFSVDpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1RvdWNoRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUT1BfQU5JTUFUSU9OX0VORDpcbiAgICAgIGNhc2UgVE9QX0FOSU1BVElPTl9JVEVSQVRJT046XG4gICAgICBjYXNlIFRPUF9BTklNQVRJT05fU1RBUlQ6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNBbmltYXRpb25FdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRPUF9UUkFOU0lUSU9OX0VORDpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1RyYW5zaXRpb25FdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRPUF9TQ1JPTEw6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNVSUV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVE9QX1dIRUVMOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljV2hlZWxFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRPUF9DT1BZOlxuICAgICAgY2FzZSBUT1BfQ1VUOlxuICAgICAgY2FzZSBUT1BfUEFTVEU6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNDbGlwYm9hcmRFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRPUF9HT1RfUE9JTlRFUl9DQVBUVVJFOlxuICAgICAgY2FzZSBUT1BfTE9TVF9QT0lOVEVSX0NBUFRVUkU6XG4gICAgICBjYXNlIFRPUF9QT0lOVEVSX0NBTkNFTDpcbiAgICAgIGNhc2UgVE9QX1BPSU5URVJfRE9XTjpcbiAgICAgIGNhc2UgVE9QX1BPSU5URVJfTU9WRTpcbiAgICAgIGNhc2UgVE9QX1BPSU5URVJfT1VUOlxuICAgICAgY2FzZSBUT1BfUE9JTlRFUl9PVkVSOlxuICAgICAgY2FzZSBUT1BfUE9JTlRFUl9VUDpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1BvaW50ZXJFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKGtub3duSFRNTFRvcExldmVsVHlwZXMuaW5kZXhPZih0b3BMZXZlbFR5cGUpID09PSAtMSkge1xuICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJ1NpbXBsZUV2ZW50UGx1Z2luOiBVbmhhbmRsZWQgZXZlbnQgdHlwZSwgYCVzYC4gVGhpcyB3YXJuaW5nICcgKyAnaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgdG9wTGV2ZWxUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSFRNTCBFdmVudHNcbiAgICAgICAgLy8gQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmRleC5odG1sI2V2ZW50cy0wXG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNFdmVudCQxO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIGV2ZW50ID0gRXZlbnRDb25zdHJ1Y3Rvci5nZXRQb29sZWQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG59O1xuXG52YXIgaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlID0gU2ltcGxlRXZlbnRQbHVnaW4uaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlO1xuXG5cbnZhciBDQUxMQkFDS19CT09LS0VFUElOR19QT09MX1NJWkUgPSAxMDtcbnZhciBjYWxsYmFja0Jvb2trZWVwaW5nUG9vbCA9IFtdO1xuXG4vKipcbiAqIEZpbmQgdGhlIGRlZXBlc3QgUmVhY3QgY29tcG9uZW50IGNvbXBsZXRlbHkgY29udGFpbmluZyB0aGUgcm9vdCBvZiB0aGVcbiAqIHBhc3NlZC1pbiBpbnN0YW5jZSAoZm9yIHVzZSB3aGVuIGVudGlyZSBSZWFjdCB0cmVlcyBhcmUgbmVzdGVkIHdpdGhpbiBlYWNoXG4gKiBvdGhlcikuIElmIFJlYWN0IHRyZWVzIGFyZSBub3QgbmVzdGVkLCByZXR1cm5zIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGZpbmRSb290Q29udGFpbmVyTm9kZShpbnN0KSB7XG4gIC8vIFRPRE86IEl0IG1heSBiZSBhIGdvb2QgaWRlYSB0byBjYWNoZSB0aGlzIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgRE9NXG4gIC8vIHRyYXZlcnNhbCwgYnV0IGNhY2hpbmcgaXMgZGlmZmljdWx0IHRvIGRvIGNvcnJlY3RseSB3aXRob3V0IHVzaW5nIGFcbiAgLy8gbXV0YXRpb24gb2JzZXJ2ZXIgdG8gbGlzdGVuIGZvciBhbGwgRE9NIGNoYW5nZXMuXG4gIHdoaWxlIChpbnN0LnJldHVybikge1xuICAgIGluc3QgPSBpbnN0LnJldHVybjtcbiAgfVxuICBpZiAoaW5zdC50YWcgIT09IEhvc3RSb290KSB7XG4gICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIHdlJ3JlIGluIGEgZGV0YWNoZWQgdHJlZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gaW5zdC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbn1cblxuLy8gVXNlZCB0byBzdG9yZSBhbmNlc3RvciBoaWVyYXJjaHkgaW4gdG9wIGxldmVsIGNhbGxiYWNrXG5mdW5jdGlvbiBnZXRUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCwgdGFyZ2V0SW5zdCkge1xuICBpZiAoY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wubGVuZ3RoKSB7XG4gICAgdmFyIGluc3RhbmNlID0gY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wucG9wKCk7XG4gICAgaW5zdGFuY2UudG9wTGV2ZWxUeXBlID0gdG9wTGV2ZWxUeXBlO1xuICAgIGluc3RhbmNlLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgaW5zdGFuY2UudGFyZ2V0SW5zdCA9IHRhcmdldEluc3Q7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdG9wTGV2ZWxUeXBlOiB0b3BMZXZlbFR5cGUsXG4gICAgbmF0aXZlRXZlbnQ6IG5hdGl2ZUV2ZW50LFxuICAgIHRhcmdldEluc3Q6IHRhcmdldEluc3QsXG4gICAgYW5jZXN0b3JzOiBbXVxuICB9O1xufVxuXG5mdW5jdGlvbiByZWxlYXNlVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnRvcExldmVsVHlwZSA9IG51bGw7XG4gIGluc3RhbmNlLm5hdGl2ZUV2ZW50ID0gbnVsbDtcbiAgaW5zdGFuY2UudGFyZ2V0SW5zdCA9IG51bGw7XG4gIGluc3RhbmNlLmFuY2VzdG9ycy5sZW5ndGggPSAwO1xuICBpZiAoY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wubGVuZ3RoIDwgQ0FMTEJBQ0tfQk9PS0tFRVBJTkdfUE9PTF9TSVpFKSB7XG4gICAgY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wucHVzaChpbnN0YW5jZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVG9wTGV2ZWwoYm9va0tlZXBpbmcpIHtcbiAgdmFyIHRhcmdldEluc3QgPSBib29rS2VlcGluZy50YXJnZXRJbnN0O1xuXG4gIC8vIExvb3AgdGhyb3VnaCB0aGUgaGllcmFyY2h5LCBpbiBjYXNlIHRoZXJlJ3MgYW55IG5lc3RlZCBjb21wb25lbnRzLlxuICAvLyBJdCdzIGltcG9ydGFudCB0aGF0IHdlIGJ1aWxkIHRoZSBhcnJheSBvZiBhbmNlc3RvcnMgYmVmb3JlIGNhbGxpbmcgYW55XG4gIC8vIGV2ZW50IGhhbmRsZXJzLCBiZWNhdXNlIGV2ZW50IGhhbmRsZXJzIGNhbiBtb2RpZnkgdGhlIERPTSwgbGVhZGluZyB0b1xuICAvLyBpbmNvbnNpc3RlbmNpZXMgd2l0aCBSZWFjdE1vdW50J3Mgbm9kZSBjYWNoZS4gU2VlICMxMTA1LlxuICB2YXIgYW5jZXN0b3IgPSB0YXJnZXRJbnN0O1xuICBkbyB7XG4gICAgaWYgKCFhbmNlc3Rvcikge1xuICAgICAgYm9va0tlZXBpbmcuYW5jZXN0b3JzLnB1c2goYW5jZXN0b3IpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciByb290ID0gZmluZFJvb3RDb250YWluZXJOb2RlKGFuY2VzdG9yKTtcbiAgICBpZiAoIXJvb3QpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBib29rS2VlcGluZy5hbmNlc3RvcnMucHVzaChhbmNlc3Rvcik7XG4gICAgYW5jZXN0b3IgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyb290KTtcbiAgfSB3aGlsZSAoYW5jZXN0b3IpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYm9va0tlZXBpbmcuYW5jZXN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGFyZ2V0SW5zdCA9IGJvb2tLZWVwaW5nLmFuY2VzdG9yc1tpXTtcbiAgICBydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoKGJvb2tLZWVwaW5nLnRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgYm9va0tlZXBpbmcubmF0aXZlRXZlbnQsIGdldEV2ZW50VGFyZ2V0KGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50KSk7XG4gIH1cbn1cblxuLy8gVE9ETzogY2FuIHdlIHN0b3AgZXhwb3J0aW5nIHRoZXNlP1xudmFyIF9lbmFibGVkID0gdHJ1ZTtcblxuZnVuY3Rpb24gc2V0RW5hYmxlZChlbmFibGVkKSB7XG4gIF9lbmFibGVkID0gISFlbmFibGVkO1xufVxuXG5mdW5jdGlvbiBpc0VuYWJsZWQoKSB7XG4gIHJldHVybiBfZW5hYmxlZDtcbn1cblxuLyoqXG4gKiBUcmFwcyB0b3AtbGV2ZWwgZXZlbnRzIGJ5IHVzaW5nIGV2ZW50IGJ1YmJsaW5nLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3BMZXZlbFR5cGUgTnVtYmVyIGZyb20gYFRvcExldmVsRXZlbnRUeXBlc2AuXG4gKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudCBFbGVtZW50IG9uIHdoaWNoIHRvIGF0dGFjaCBsaXN0ZW5lci5cbiAqIEByZXR1cm4gez9vYmplY3R9IEFuIG9iamVjdCB3aXRoIGEgcmVtb3ZlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgZm9yY2VmdWxseVxuICogICAgICAgICAgICAgICAgICByZW1vdmUgdGhlIGxpc3RlbmVyLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlLCBlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBkaXNwYXRjaCA9IGlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpID8gZGlzcGF0Y2hJbnRlcmFjdGl2ZUV2ZW50IDogZGlzcGF0Y2hFdmVudDtcblxuICBhZGRFdmVudEJ1YmJsZUxpc3RlbmVyKGVsZW1lbnQsIGdldFJhd0V2ZW50TmFtZSh0b3BMZXZlbFR5cGUpLFxuICAvLyBDaGVjayBpZiBpbnRlcmFjdGl2ZSBhbmQgd3JhcCBpbiBpbnRlcmFjdGl2ZVVwZGF0ZXNcbiAgZGlzcGF0Y2guYmluZChudWxsLCB0b3BMZXZlbFR5cGUpKTtcbn1cblxuLyoqXG4gKiBUcmFwcyBhIHRvcC1sZXZlbCBldmVudCBieSB1c2luZyBldmVudCBjYXB0dXJpbmcuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHRvcExldmVsVHlwZSBOdW1iZXIgZnJvbSBgVG9wTGV2ZWxFdmVudFR5cGVzYC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBlbGVtZW50IEVsZW1lbnQgb24gd2hpY2ggdG8gYXR0YWNoIGxpc3RlbmVyLlxuICogQHJldHVybiB7P29iamVjdH0gQW4gb2JqZWN0IHdpdGggYSByZW1vdmUgZnVuY3Rpb24gd2hpY2ggd2lsbCBmb3JjZWZ1bGx5XG4gKiAgICAgICAgICAgICAgICAgIHJlbW92ZSB0aGUgbGlzdGVuZXIuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gdHJhcENhcHR1cmVkRXZlbnQodG9wTGV2ZWxUeXBlLCBlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBkaXNwYXRjaCA9IGlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpID8gZGlzcGF0Y2hJbnRlcmFjdGl2ZUV2ZW50IDogZGlzcGF0Y2hFdmVudDtcblxuICBhZGRFdmVudENhcHR1cmVMaXN0ZW5lcihlbGVtZW50LCBnZXRSYXdFdmVudE5hbWUodG9wTGV2ZWxUeXBlKSxcbiAgLy8gQ2hlY2sgaWYgaW50ZXJhY3RpdmUgYW5kIHdyYXAgaW4gaW50ZXJhY3RpdmVVcGRhdGVzXG4gIGRpc3BhdGNoLmJpbmQobnVsbCwgdG9wTGV2ZWxUeXBlKSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoSW50ZXJhY3RpdmVFdmVudCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIGludGVyYWN0aXZlVXBkYXRlcyhkaXNwYXRjaEV2ZW50LCB0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIGlmICghX2VuYWJsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgbmF0aXZlRXZlbnRUYXJnZXQgPSBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCk7XG4gIHZhciB0YXJnZXRJbnN0ID0gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUobmF0aXZlRXZlbnRUYXJnZXQpO1xuICBpZiAodGFyZ2V0SW5zdCAhPT0gbnVsbCAmJiB0eXBlb2YgdGFyZ2V0SW5zdC50YWcgPT09ICdudW1iZXInICYmICFpc0ZpYmVyTW91bnRlZCh0YXJnZXRJbnN0KSkge1xuICAgIC8vIElmIHdlIGdldCBhbiBldmVudCAoZXg6IGltZyBvbmxvYWQpIGJlZm9yZSBjb21taXR0aW5nIHRoYXRcbiAgICAvLyBjb21wb25lbnQncyBtb3VudCwgaWdub3JlIGl0IGZvciBub3cgKHRoYXQgaXMsIHRyZWF0IGl0IGFzIGlmIGl0IHdhcyBhblxuICAgIC8vIGV2ZW50IG9uIGEgbm9uLVJlYWN0IHRyZWUpLiBXZSBtaWdodCBhbHNvIGNvbnNpZGVyIHF1ZXVlaW5nIGV2ZW50cyBhbmRcbiAgICAvLyBkaXNwYXRjaGluZyB0aGVtIGFmdGVyIHRoZSBtb3VudC5cbiAgICB0YXJnZXRJbnN0ID0gbnVsbDtcbiAgfVxuXG4gIHZhciBib29rS2VlcGluZyA9IGdldFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50LCB0YXJnZXRJbnN0KTtcblxuICB0cnkge1xuICAgIC8vIEV2ZW50IHF1ZXVlIGJlaW5nIHByb2Nlc3NlZCBpbiB0aGUgc2FtZSBjeWNsZSBhbGxvd3NcbiAgICAvLyBgcHJldmVudERlZmF1bHRgLlxuICAgIGJhdGNoZWRVcGRhdGVzKGhhbmRsZVRvcExldmVsLCBib29rS2VlcGluZyk7XG4gIH0gZmluYWxseSB7XG4gICAgcmVsZWFzZVRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZyhib29rS2VlcGluZyk7XG4gIH1cbn1cblxudmFyIFJlYWN0RE9NRXZlbnRMaXN0ZW5lciA9IE9iamVjdC5mcmVlemUoe1xuXHRnZXQgX2VuYWJsZWQgKCkgeyByZXR1cm4gX2VuYWJsZWQ7IH0sXG5cdHNldEVuYWJsZWQ6IHNldEVuYWJsZWQsXG5cdGlzRW5hYmxlZDogaXNFbmFibGVkLFxuXHR0cmFwQnViYmxlZEV2ZW50OiB0cmFwQnViYmxlZEV2ZW50LFxuXHR0cmFwQ2FwdHVyZWRFdmVudDogdHJhcENhcHR1cmVkRXZlbnQsXG5cdGRpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnRcbn0pO1xuXG4vKipcbiAqIFN1bW1hcnkgb2YgYFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlcmAgZXZlbnQgaGFuZGxpbmc6XG4gKlxuICogIC0gVG9wLWxldmVsIGRlbGVnYXRpb24gaXMgdXNlZCB0byB0cmFwIG1vc3QgbmF0aXZlIGJyb3dzZXIgZXZlbnRzLiBUaGlzXG4gKiAgICBtYXkgb25seSBvY2N1ciBpbiB0aGUgbWFpbiB0aHJlYWQgYW5kIGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZlxuICogICAgUmVhY3RET01FdmVudExpc3RlbmVyLCB3aGljaCBpcyBpbmplY3RlZCBhbmQgY2FuIHRoZXJlZm9yZSBzdXBwb3J0XG4gKiAgICBwbHVnZ2FibGUgZXZlbnQgc291cmNlcy4gVGhpcyBpcyB0aGUgb25seSB3b3JrIHRoYXQgb2NjdXJzIGluIHRoZSBtYWluXG4gKiAgICB0aHJlYWQuXG4gKlxuICogIC0gV2Ugbm9ybWFsaXplIGFuZCBkZS1kdXBsaWNhdGUgZXZlbnRzIHRvIGFjY291bnQgZm9yIGJyb3dzZXIgcXVpcmtzLiBUaGlzXG4gKiAgICBtYXkgYmUgZG9uZSBpbiB0aGUgd29ya2VyIHRocmVhZC5cbiAqXG4gKiAgLSBGb3J3YXJkIHRoZXNlIG5hdGl2ZSBldmVudHMgKHdpdGggdGhlIGFzc29jaWF0ZWQgdG9wLWxldmVsIHR5cGUgdXNlZCB0b1xuICogICAgdHJhcCBpdCkgdG8gYEV2ZW50UGx1Z2luSHViYCwgd2hpY2ggaW4gdHVybiB3aWxsIGFzayBwbHVnaW5zIGlmIHRoZXkgd2FudFxuICogICAgdG8gZXh0cmFjdCBhbnkgc3ludGhldGljIGV2ZW50cy5cbiAqXG4gKiAgLSBUaGUgYEV2ZW50UGx1Z2luSHViYCB3aWxsIHRoZW4gcHJvY2VzcyBlYWNoIGV2ZW50IGJ5IGFubm90YXRpbmcgdGhlbSB3aXRoXG4gKiAgICBcImRpc3BhdGNoZXNcIiwgYSBzZXF1ZW5jZSBvZiBsaXN0ZW5lcnMgYW5kIElEcyB0aGF0IGNhcmUgYWJvdXQgdGhhdCBldmVudC5cbiAqXG4gKiAgLSBUaGUgYEV2ZW50UGx1Z2luSHViYCB0aGVuIGRpc3BhdGNoZXMgdGhlIGV2ZW50cy5cbiAqXG4gKiBPdmVydmlldyBvZiBSZWFjdCBhbmQgdGhlIGV2ZW50IHN5c3RlbTpcbiAqXG4gKiArLS0tLS0tLS0tLS0tKyAgICAuXG4gKiB8ICAgIERPTSAgICAgfCAgICAuXG4gKiArLS0tLS0tLS0tLS0tKyAgICAuXG4gKiAgICAgICB8ICAgICAgICAgICAuXG4gKiAgICAgICB2ICAgICAgICAgICAuXG4gKiArLS0tLS0tLS0tLS0tKyAgICAuXG4gKiB8IFJlYWN0RXZlbnQgfCAgICAuXG4gKiB8ICBMaXN0ZW5lciAgfCAgICAuXG4gKiArLS0tLS0tLS0tLS0tKyAgICAuICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLStcbiAqICAgICAgIHwgICAgICAgICAgIC4gICAgICAgICAgICAgICArLS0tLS0tLS0rfFNpbXBsZUV2ZW50fFxuICogICAgICAgfCAgICAgICAgICAgLiAgICAgICAgICAgICAgIHwgICAgICAgICB8UGx1Z2luICAgICB8XG4gKiArLS0tLS18LS0tLS0tKyAgICAuICAgICAgICAgICAgICAgdiAgICAgICAgICstLS0tLS0tLS0tLStcbiAqIHwgICAgIHwgICAgICB8ICAgIC4gICAgKy0tLS0tLS0tLS0tLS0tKyAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLStcbiAqIHwgICAgICstLS0tLS0tLS0tLS4tLS0+fEV2ZW50UGx1Z2luSHVifCAgICAgICAgICAgICAgICAgICAgfCAgICBFdmVudCAgIHxcbiAqIHwgICAgICAgICAgICB8ICAgIC4gICAgfCAgICAgICAgICAgICAgfCAgICAgKy0tLS0tLS0tLS0tKyAgfCBQcm9wYWdhdG9yc3xcbiAqIHwgUmVhY3RFdmVudCB8ICAgIC4gICAgfCAgICAgICAgICAgICAgfCAgICAgfFRhcEV2ZW50ICAgfCAgfC0tLS0tLS0tLS0tLXxcbiAqIHwgIEVtaXR0ZXIgICB8ICAgIC4gICAgfCAgICAgICAgICAgICAgfDwtLS0rfFBsdWdpbiAgICAgfCAgfG90aGVyIHBsdWdpbnxcbiAqIHwgICAgICAgICAgICB8ICAgIC4gICAgfCAgICAgICAgICAgICAgfCAgICAgKy0tLS0tLS0tLS0tKyAgfCAgdXRpbGl0aWVzIHxcbiAqIHwgICAgICstLS0tLS0tLS0tLS4tLS0+fCAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLStcbiAqIHwgICAgIHwgICAgICB8ICAgIC4gICAgKy0tLS0tLS0tLS0tLS0tK1xuICogKy0tLS0tfC0tLS0tLSsgICAgLiAgICAgICAgICAgICAgICBeICAgICAgICArLS0tLS0tLS0tLS0rXG4gKiAgICAgICB8ICAgICAgICAgICAuICAgICAgICAgICAgICAgIHwgICAgICAgIHxFbnRlci9MZWF2ZXxcbiAqICAgICAgICsgICAgICAgICAgIC4gICAgICAgICAgICAgICAgKy0tLS0tLS0rfFBsdWdpbiAgICAgfFxuICogKy0tLS0tLS0tLS0tLS0rICAgLiAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0rXG4gKiB8IGFwcGxpY2F0aW9uIHwgICAuXG4gKiB8LS0tLS0tLS0tLS0tLXwgICAuXG4gKiB8ICAgICAgICAgICAgIHwgICAuXG4gKiB8ICAgICAgICAgICAgIHwgICAuXG4gKiArLS0tLS0tLS0tLS0tLSsgICAuXG4gKiAgICAgICAgICAgICAgICAgICAuXG4gKiAgICBSZWFjdCBDb3JlICAgICAuICBHZW5lcmFsIFB1cnBvc2UgRXZlbnQgUGx1Z2luIFN5c3RlbVxuICovXG5cbnZhciBhbHJlYWR5TGlzdGVuaW5nVG8gPSB7fTtcbnZhciByZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIgPSAwO1xuXG4vKipcbiAqIFRvIGVuc3VyZSBubyBjb25mbGljdHMgd2l0aCBvdGhlciBwb3RlbnRpYWwgUmVhY3QgaW5zdGFuY2VzIG9uIHRoZSBwYWdlXG4gKi9cbnZhciB0b3BMaXN0ZW5lcnNJREtleSA9ICdfcmVhY3RMaXN0ZW5lcnNJRCcgKyAoJycgKyBNYXRoLnJhbmRvbSgpKS5zbGljZSgyKTtcblxuZnVuY3Rpb24gZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQobW91bnRBdCkge1xuICAvLyBJbiBJRTgsIGBtb3VudEF0YCBpcyBhIGhvc3Qgb2JqZWN0IGFuZCBkb2Vzbid0IGhhdmUgYGhhc093blByb3BlcnR5YFxuICAvLyBkaXJlY3RseS5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW91bnRBdCwgdG9wTGlzdGVuZXJzSURLZXkpKSB7XG4gICAgbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV0gPSByZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIrKztcbiAgICBhbHJlYWR5TGlzdGVuaW5nVG9bbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV1dID0ge307XG4gIH1cbiAgcmV0dXJuIGFscmVhZHlMaXN0ZW5pbmdUb1ttb3VudEF0W3RvcExpc3RlbmVyc0lES2V5XV07XG59XG5cbi8qKlxuICogV2UgbGlzdGVuIGZvciBidWJibGVkIHRvdWNoIGV2ZW50cyBvbiB0aGUgZG9jdW1lbnQgb2JqZWN0LlxuICpcbiAqIEZpcmVmb3ggdjguMDEgKGFuZCBwb3NzaWJseSBvdGhlcnMpIGV4aGliaXRlZCBzdHJhbmdlIGJlaGF2aW9yIHdoZW5cbiAqIG1vdW50aW5nIGBvbm1vdXNlbW92ZWAgZXZlbnRzIGF0IHNvbWUgbm9kZSB0aGF0IHdhcyBub3QgdGhlIGRvY3VtZW50XG4gKiBlbGVtZW50LiBUaGUgc3ltcHRvbXMgd2VyZSB0aGF0IGlmIHlvdXIgbW91c2UgaXMgbm90IG1vdmluZyBvdmVyIHNvbWV0aGluZ1xuICogY29udGFpbmVkIHdpdGhpbiB0aGF0IG1vdW50IHBvaW50IChmb3IgZXhhbXBsZSBvbiB0aGUgYmFja2dyb3VuZCkgdGhlXG4gKiB0b3AtbGV2ZWwgbGlzdGVuZXJzIGZvciBgb25tb3VzZW1vdmVgIHdvbid0IGJlIGNhbGxlZC4gSG93ZXZlciwgaWYgeW91XG4gKiByZWdpc3RlciB0aGUgYG1vdXNlbW92ZWAgb24gdGhlIGRvY3VtZW50IG9iamVjdCwgdGhlbiBpdCB3aWxsIG9mIGNvdXJzZVxuICogY2F0Y2ggYWxsIGBtb3VzZW1vdmVgcy4gVGhpcyBhbG9uZyB3aXRoIGlPUyBxdWlya3MsIGp1c3RpZmllcyByZXN0cmljdGluZ1xuICogdG9wLWxldmVsIGxpc3RlbmVycyB0byB0aGUgZG9jdW1lbnQgb2JqZWN0IG9ubHksIGF0IGxlYXN0IGZvciB0aGVzZVxuICogbW92ZW1lbnQgdHlwZXMgb2YgZXZlbnRzIGFuZCBwb3NzaWJseSBhbGwgZXZlbnRzLlxuICpcbiAqIEBzZWUgaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTAvMDkvY2xpY2tfZXZlbnRfZGVsLmh0bWxcbiAqXG4gKiBBbHNvLCBga2V5dXBgL2BrZXlwcmVzc2AvYGtleWRvd25gIGRvIG5vdCBidWJibGUgdG8gdGhlIHdpbmRvdyBvbiBJRSwgYnV0XG4gKiB0aGV5IGJ1YmJsZSB0byBkb2N1bWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBOYW1lIG9mIGxpc3RlbmVyIChlLmcuIGBvbkNsaWNrYCkuXG4gKiBAcGFyYW0ge29iamVjdH0gbW91bnRBdCBDb250YWluZXIgd2hlcmUgdG8gbW91bnQgdGhlIGxpc3RlbmVyXG4gKi9cbmZ1bmN0aW9uIGxpc3RlblRvKHJlZ2lzdHJhdGlvbk5hbWUsIG1vdW50QXQpIHtcbiAgdmFyIGlzTGlzdGVuaW5nID0gZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQobW91bnRBdCk7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlcGVuZGVuY3kgPSBkZXBlbmRlbmNpZXNbaV07XG4gICAgaWYgKCEoaXNMaXN0ZW5pbmcuaGFzT3duUHJvcGVydHkoZGVwZW5kZW5jeSkgJiYgaXNMaXN0ZW5pbmdbZGVwZW5kZW5jeV0pKSB7XG4gICAgICBzd2l0Y2ggKGRlcGVuZGVuY3kpIHtcbiAgICAgICAgY2FzZSBUT1BfU0NST0xMOlxuICAgICAgICAgIHRyYXBDYXB0dXJlZEV2ZW50KFRPUF9TQ1JPTEwsIG1vdW50QXQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFRPUF9GT0NVUzpcbiAgICAgICAgY2FzZSBUT1BfQkxVUjpcbiAgICAgICAgICB0cmFwQ2FwdHVyZWRFdmVudChUT1BfRk9DVVMsIG1vdW50QXQpO1xuICAgICAgICAgIHRyYXBDYXB0dXJlZEV2ZW50KFRPUF9CTFVSLCBtb3VudEF0KTtcbiAgICAgICAgICAvLyBXZSBzZXQgdGhlIGZsYWcgZm9yIGEgc2luZ2xlIGRlcGVuZGVuY3kgbGF0ZXIgaW4gdGhpcyBmdW5jdGlvbixcbiAgICAgICAgICAvLyBidXQgdGhpcyBlbnN1cmVzIHdlIG1hcmsgYm90aCBhcyBhdHRhY2hlZCByYXRoZXIgdGhhbiBqdXN0IG9uZS5cbiAgICAgICAgICBpc0xpc3RlbmluZ1tUT1BfQkxVUl0gPSB0cnVlO1xuICAgICAgICAgIGlzTGlzdGVuaW5nW1RPUF9GT0NVU10gPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFRPUF9DQU5DRUw6XG4gICAgICAgIGNhc2UgVE9QX0NMT1NFOlxuICAgICAgICAgIGlmIChpc0V2ZW50U3VwcG9ydGVkKGdldFJhd0V2ZW50TmFtZShkZXBlbmRlbmN5KSwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIHRyYXBDYXB0dXJlZEV2ZW50KGRlcGVuZGVuY3ksIG1vdW50QXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUT1BfSU5WQUxJRDpcbiAgICAgICAgY2FzZSBUT1BfU1VCTUlUOlxuICAgICAgICBjYXNlIFRPUF9SRVNFVDpcbiAgICAgICAgICAvLyBXZSBsaXN0ZW4gdG8gdGhlbSBvbiB0aGUgdGFyZ2V0IERPTSBlbGVtZW50cy5cbiAgICAgICAgICAvLyBTb21lIG9mIHRoZW0gYnViYmxlIHNvIHdlIGRvbid0IHdhbnQgdGhlbSB0byBmaXJlIHR3aWNlLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIEJ5IGRlZmF1bHQsIGxpc3RlbiBvbiB0aGUgdG9wIGxldmVsIHRvIGFsbCBub24tbWVkaWEgZXZlbnRzLlxuICAgICAgICAgIC8vIE1lZGlhIGV2ZW50cyBkb24ndCBidWJibGUgc28gYWRkaW5nIHRoZSBsaXN0ZW5lciB3b3VsZG4ndCBkbyBhbnl0aGluZy5cbiAgICAgICAgICB2YXIgaXNNZWRpYUV2ZW50ID0gbWVkaWFFdmVudFR5cGVzLmluZGV4T2YoZGVwZW5kZW5jeSkgIT09IC0xO1xuICAgICAgICAgIGlmICghaXNNZWRpYUV2ZW50KSB7XG4gICAgICAgICAgICB0cmFwQnViYmxlZEV2ZW50KGRlcGVuZGVuY3ksIG1vdW50QXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlzTGlzdGVuaW5nW2RlcGVuZGVuY3ldID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNMaXN0ZW5pbmdUb0FsbERlcGVuZGVuY2llcyhyZWdpc3RyYXRpb25OYW1lLCBtb3VudEF0KSB7XG4gIHZhciBpc0xpc3RlbmluZyA9IGdldExpc3RlbmluZ0ZvckRvY3VtZW50KG1vdW50QXQpO1xuICB2YXIgZGVwZW5kZW5jaWVzID0gcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVwZW5kZW5jeSA9IGRlcGVuZGVuY2llc1tpXTtcbiAgICBpZiAoIShpc0xpc3RlbmluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSAmJiBpc0xpc3RlbmluZ1tkZXBlbmRlbmN5XSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2l2ZW4gYW55IG5vZGUgcmV0dXJuIHRoZSBmaXJzdCBsZWFmIG5vZGUgd2l0aG91dCBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9XG4gKi9cbmZ1bmN0aW9uIGdldExlYWZOb2RlKG5vZGUpIHtcbiAgd2hpbGUgKG5vZGUgJiYgbm9kZS5maXJzdENoaWxkKSB7XG4gICAgbm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG5leHQgc2libGluZyB3aXRoaW4gYSBjb250YWluZXIuIFRoaXMgd2lsbCB3YWxrIHVwIHRoZVxuICogRE9NIGlmIGEgbm9kZSdzIHNpYmxpbmdzIGhhdmUgYmVlbiBleGhhdXN0ZWQuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fERPTVRleHROb2RlfSBub2RlXG4gKiBAcmV0dXJuIHs/RE9NRWxlbWVudHxET01UZXh0Tm9kZX1cbiAqL1xuZnVuY3Rpb24gZ2V0U2libGluZ05vZGUobm9kZSkge1xuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBvYmplY3QgZGVzY3JpYmluZyB0aGUgbm9kZXMgd2hpY2ggY29udGFpbiBjaGFyYWN0ZXJzIGF0IG9mZnNldC5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IHJvb3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAqIEByZXR1cm4gez9vYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQocm9vdCwgb2Zmc2V0KSB7XG4gIHZhciBub2RlID0gZ2V0TGVhZk5vZGUocm9vdCk7XG4gIHZhciBub2RlU3RhcnQgPSAwO1xuICB2YXIgbm9kZUVuZCA9IDA7XG5cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSB7XG4gICAgICBub2RlRW5kID0gbm9kZVN0YXJ0ICsgbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG5cbiAgICAgIGlmIChub2RlU3RhcnQgPD0gb2Zmc2V0ICYmIG5vZGVFbmQgPj0gb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICBvZmZzZXQ6IG9mZnNldCAtIG5vZGVTdGFydFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBub2RlU3RhcnQgPSBub2RlRW5kO1xuICAgIH1cblxuICAgIG5vZGUgPSBnZXRMZWFmTm9kZShnZXRTaWJsaW5nTm9kZShub2RlKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG91dGVyTm9kZVxuICogQHJldHVybiB7P29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0cyhvdXRlck5vZGUpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24gJiYgd2luZG93LmdldFNlbGVjdGlvbigpO1xuXG4gIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgYW5jaG9yTm9kZSA9IHNlbGVjdGlvbi5hbmNob3JOb2RlLFxuICAgICAgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uLmFuY2hvck9mZnNldCxcbiAgICAgIGZvY3VzTm9kZSA9IHNlbGVjdGlvbi5mb2N1c05vZGUsXG4gICAgICBmb2N1c09mZnNldCA9IHNlbGVjdGlvbi5mb2N1c09mZnNldDtcblxuICAvLyBJbiBGaXJlZm94LCBhbmNob3JOb2RlIGFuZCBmb2N1c05vZGUgY2FuIGJlIFwiYW5vbnltb3VzIGRpdnNcIiwgZS5nLiB0aGVcbiAgLy8gdXAvZG93biBidXR0b25zIG9uIGFuIDxpbnB1dCB0eXBlPVwibnVtYmVyXCI+LiBBbm9ueW1vdXMgZGl2cyBkbyBub3Qgc2VlbSB0b1xuICAvLyBleHBvc2UgcHJvcGVydGllcywgdHJpZ2dlcmluZyBhIFwiUGVybWlzc2lvbiBkZW5pZWQgZXJyb3JcIiBpZiBhbnkgb2YgaXRzXG4gIC8vIHByb3BlcnRpZXMgYXJlIGFjY2Vzc2VkLiBUaGUgb25seSBzZWVtaW5nbHkgcG9zc2libGUgd2F5IHRvIGF2b2lkIGVycm9yaW5nXG4gIC8vIGlzIHRvIGFjY2VzcyBhIHByb3BlcnR5IHRoYXQgdHlwaWNhbGx5IHdvcmtzIGZvciBub24tYW5vbnltb3VzIGRpdnMgYW5kXG4gIC8vIGNhdGNoIGFueSBlcnJvciB0aGF0IG1heSBvdGhlcndpc2UgYXJpc2UuIFNlZVxuICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0yMDg0MjdcblxuICB0cnkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuICAgIGFuY2hvck5vZGUubm9kZVR5cGU7XG4gICAgZm9jdXNOb2RlLm5vZGVUeXBlO1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBnZXRNb2Rlcm5PZmZzZXRzRnJvbVBvaW50cyhvdXRlck5vZGUsIGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB7c3RhcnQsIGVuZH0gd2hlcmUgYHN0YXJ0YCBpcyB0aGUgY2hhcmFjdGVyL2NvZGVwb2ludCBpbmRleCBvZlxuICogKGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCkgd2l0aGluIHRoZSB0ZXh0Q29udGVudCBvZiBgb3V0ZXJOb2RlYCwgYW5kXG4gKiBgZW5kYCBpcyB0aGUgaW5kZXggb2YgKGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpLlxuICpcbiAqIFJldHVybnMgbnVsbCBpZiB5b3UgcGFzcyBpbiBnYXJiYWdlIGlucHV0IGJ1dCB3ZSBzaG91bGQgcHJvYmFibHkganVzdCBjcmFzaC5cbiAqXG4gKiBFeHBvcnRlZCBvbmx5IGZvciB0ZXN0aW5nLlxuICovXG5mdW5jdGlvbiBnZXRNb2Rlcm5PZmZzZXRzRnJvbVBvaW50cyhvdXRlck5vZGUsIGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCkge1xuICB2YXIgbGVuZ3RoID0gMDtcbiAgdmFyIHN0YXJ0ID0gLTE7XG4gIHZhciBlbmQgPSAtMTtcbiAgdmFyIGluZGV4V2l0aGluQW5jaG9yID0gMDtcbiAgdmFyIGluZGV4V2l0aGluRm9jdXMgPSAwO1xuICB2YXIgbm9kZSA9IG91dGVyTm9kZTtcbiAgdmFyIHBhcmVudE5vZGUgPSBudWxsO1xuXG4gIG91dGVyOiB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBuZXh0ID0gbnVsbDtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAobm9kZSA9PT0gYW5jaG9yTm9kZSAmJiAoYW5jaG9yT2Zmc2V0ID09PSAwIHx8IG5vZGUubm9kZVR5cGUgPT09IFRFWFRfTk9ERSkpIHtcbiAgICAgICAgc3RhcnQgPSBsZW5ndGggKyBhbmNob3JPZmZzZXQ7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSA9PT0gZm9jdXNOb2RlICYmIChmb2N1c09mZnNldCA9PT0gMCB8fCBub2RlLm5vZGVUeXBlID09PSBURVhUX05PREUpKSB7XG4gICAgICAgIGVuZCA9IGxlbmd0aCArIGZvY3VzT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSB7XG4gICAgICAgIGxlbmd0aCArPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIGlmICgobmV4dCA9IG5vZGUuZmlyc3RDaGlsZCkgPT09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLyBNb3ZpbmcgZnJvbSBgbm9kZWAgdG8gaXRzIGZpcnN0IGNoaWxkIGBuZXh0YC5cbiAgICAgIHBhcmVudE5vZGUgPSBub2RlO1xuICAgICAgbm9kZSA9IG5leHQ7XG4gICAgfVxuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChub2RlID09PSBvdXRlck5vZGUpIHtcbiAgICAgICAgLy8gSWYgYG91dGVyTm9kZWAgaGFzIGNoaWxkcmVuLCB0aGlzIGlzIGFsd2F5cyB0aGUgc2Vjb25kIHRpbWUgdmlzaXRpbmdcbiAgICAgICAgLy8gaXQuIElmIGl0IGhhcyBubyBjaGlsZHJlbiwgdGhpcyBpcyBzdGlsbCB0aGUgZmlyc3QgbG9vcCwgYW5kIHRoZSBvbmx5XG4gICAgICAgIC8vIHZhbGlkIHNlbGVjdGlvbiBpcyBhbmNob3JOb2RlIGFuZCBmb2N1c05vZGUgYm90aCBlcXVhbCB0byB0aGlzIG5vZGVcbiAgICAgICAgLy8gYW5kIGJvdGggb2Zmc2V0cyAwLCBpbiB3aGljaCBjYXNlIHdlIHdpbGwgaGF2ZSBoYW5kbGVkIGFib3ZlLlxuICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnROb2RlID09PSBhbmNob3JOb2RlICYmICsraW5kZXhXaXRoaW5BbmNob3IgPT09IGFuY2hvck9mZnNldCkge1xuICAgICAgICBzdGFydCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnROb2RlID09PSBmb2N1c05vZGUgJiYgKytpbmRleFdpdGhpbkZvY3VzID09PSBmb2N1c09mZnNldCkge1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAoKG5leHQgPSBub2RlLm5leHRTaWJsaW5nKSAhPT0gbnVsbCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBwYXJlbnROb2RlO1xuICAgICAgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICAvLyBNb3ZpbmcgZnJvbSBgbm9kZWAgdG8gaXRzIG5leHQgc2libGluZyBgbmV4dGAuXG4gICAgbm9kZSA9IG5leHQ7XG4gIH1cblxuICBpZiAoc3RhcnQgPT09IC0xIHx8IGVuZCA9PT0gLTEpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBoYXBwZW4uIChXb3VsZCBoYXBwZW4gaWYgdGhlIGFuY2hvci9mb2N1cyBub2RlcyBhcmVuJ3RcbiAgICAvLyBhY3R1YWxseSBpbnNpZGUgdGhlIHBhc3NlZC1pbiBub2RlLilcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogZW5kXG4gIH07XG59XG5cbi8qKlxuICogSW4gbW9kZXJuIG5vbi1JRSBicm93c2Vycywgd2UgY2FuIHN1cHBvcnQgYm90aCBmb3J3YXJkIGFuZCBiYWNrd2FyZFxuICogc2VsZWN0aW9ucy5cbiAqXG4gKiBOb3RlOiBJRTEwKyBzdXBwb3J0cyB0aGUgU2VsZWN0aW9uIG9iamVjdCwgYnV0IGl0IGRvZXMgbm90IHN1cHBvcnRcbiAqIHRoZSBgZXh0ZW5kYCBtZXRob2QsIHdoaWNoIG1lYW5zIHRoYXQgZXZlbiBpbiBtb2Rlcm4gSUUsIGl0J3Mgbm90IHBvc3NpYmxlXG4gKiB0byBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZSBhIGJhY2t3YXJkIHNlbGVjdGlvbi4gVGh1cywgZm9yIGFsbCBJRVxuICogdmVyc2lvbnMsIHdlIHVzZSB0aGUgb2xkIElFIEFQSSB0byBjcmVhdGUgb3VyIHNlbGVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fERPTVRleHROb2RlfSBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gb2Zmc2V0c1xuICovXG5mdW5jdGlvbiBzZXRPZmZzZXRzKG5vZGUsIG9mZnNldHMpIHtcbiAgaWYgKCF3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgdmFyIGxlbmd0aCA9IG5vZGVbZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpXS5sZW5ndGg7XG4gIHZhciBzdGFydCA9IE1hdGgubWluKG9mZnNldHMuc3RhcnQsIGxlbmd0aCk7XG4gIHZhciBlbmQgPSBvZmZzZXRzLmVuZCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiBNYXRoLm1pbihvZmZzZXRzLmVuZCwgbGVuZ3RoKTtcblxuICAvLyBJRSAxMSB1c2VzIG1vZGVybiBzZWxlY3Rpb24sIGJ1dCBkb2Vzbid0IHN1cHBvcnQgdGhlIGV4dGVuZCBtZXRob2QuXG4gIC8vIEZsaXAgYmFja3dhcmQgc2VsZWN0aW9ucywgc28gd2UgY2FuIHNldCB3aXRoIGEgc2luZ2xlIHJhbmdlLlxuICBpZiAoIXNlbGVjdGlvbi5leHRlbmQgJiYgc3RhcnQgPiBlbmQpIHtcbiAgICB2YXIgdGVtcCA9IGVuZDtcbiAgICBlbmQgPSBzdGFydDtcbiAgICBzdGFydCA9IHRlbXA7XG4gIH1cblxuICB2YXIgc3RhcnRNYXJrZXIgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KG5vZGUsIHN0YXJ0KTtcbiAgdmFyIGVuZE1hcmtlciA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQobm9kZSwgZW5kKTtcblxuICBpZiAoc3RhcnRNYXJrZXIgJiYgZW5kTWFya2VyKSB7XG4gICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAxICYmIHNlbGVjdGlvbi5hbmNob3JOb2RlID09PSBzdGFydE1hcmtlci5ub2RlICYmIHNlbGVjdGlvbi5hbmNob3JPZmZzZXQgPT09IHN0YXJ0TWFya2VyLm9mZnNldCAmJiBzZWxlY3Rpb24uZm9jdXNOb2RlID09PSBlbmRNYXJrZXIubm9kZSAmJiBzZWxlY3Rpb24uZm9jdXNPZmZzZXQgPT09IGVuZE1hcmtlci5vZmZzZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICByYW5nZS5zZXRTdGFydChzdGFydE1hcmtlci5ub2RlLCBzdGFydE1hcmtlci5vZmZzZXQpO1xuICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcblxuICAgIGlmIChzdGFydCA+IGVuZCkge1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIHNlbGVjdGlvbi5leHRlbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZS5zZXRFbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNJbkRvY3VtZW50KG5vZGUpIHtcbiAgcmV0dXJuIGNvbnRhaW5zTm9kZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG5vZGUpO1xufVxuXG4vKipcbiAqIEBSZWFjdElucHV0U2VsZWN0aW9uOiBSZWFjdCBpbnB1dCBzZWxlY3Rpb24gbW9kdWxlLiBCYXNlZCBvbiBTZWxlY3Rpb24uanMsXG4gKiBidXQgbW9kaWZpZWQgdG8gYmUgc3VpdGFibGUgZm9yIHJlYWN0IGFuZCBoYXMgYSBjb3VwbGUgb2YgYnVnIGZpeGVzIChkb2Vzbid0XG4gKiBhc3N1bWUgYnV0dG9ucyBoYXZlIHJhbmdlIHNlbGVjdGlvbnMgYWxsb3dlZCkuXG4gKiBJbnB1dCBzZWxlY3Rpb24gbW9kdWxlIGZvciBSZWFjdC5cbiAqL1xuXG4vKipcbiAqIEBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXM6IHdlIGdldCB0aGUgZWxlbWVudCB0eXBlcyB0aGF0IHN1cHBvcnQgc2VsZWN0aW9uXG4gKiBmcm9tIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI2RvLW5vdC1hcHBseSwgbG9va2luZyBhdCBgc2VsZWN0aW9uU3RhcnRgXG4gKiBhbmQgYHNlbGVjdGlvbkVuZGAgcm93cy5cbiAqL1xuZnVuY3Rpb24gaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKGVsZW0pIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbSAmJiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIG5vZGVOYW1lICYmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiAoZWxlbS50eXBlID09PSAndGV4dCcgfHwgZWxlbS50eXBlID09PSAnc2VhcmNoJyB8fCBlbGVtLnR5cGUgPT09ICd0ZWwnIHx8IGVsZW0udHlwZSA9PT0gJ3VybCcgfHwgZWxlbS50eXBlID09PSAncGFzc3dvcmQnKSB8fCBub2RlTmFtZSA9PT0gJ3RleHRhcmVhJyB8fCBlbGVtLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24oKSB7XG4gIHZhciBmb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnQoKTtcbiAgcmV0dXJuIHtcbiAgICBmb2N1c2VkRWxlbTogZm9jdXNlZEVsZW0sXG4gICAgc2VsZWN0aW9uUmFuZ2U6IGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhmb2N1c2VkRWxlbSkgPyBnZXRTZWxlY3Rpb24kMShmb2N1c2VkRWxlbSkgOiBudWxsXG4gIH07XG59XG5cbi8qKlxuICogQHJlc3RvcmVTZWxlY3Rpb246IElmIGFueSBzZWxlY3Rpb24gaW5mb3JtYXRpb24gd2FzIHBvdGVudGlhbGx5IGxvc3QsXG4gKiByZXN0b3JlIGl0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHBlcmZvcm1pbmcgb3BlcmF0aW9ucyB0aGF0IGNvdWxkIHJlbW92ZSBkb21cbiAqIG5vZGVzIGFuZCBwbGFjZSB0aGVtIGJhY2sgaW4sIHJlc3VsdGluZyBpbiBmb2N1cyBiZWluZyBsb3N0LlxuICovXG5mdW5jdGlvbiByZXN0b3JlU2VsZWN0aW9uKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24pIHtcbiAgdmFyIGN1ckZvY3VzZWRFbGVtID0gZ2V0QWN0aXZlRWxlbWVudCgpO1xuICB2YXIgcHJpb3JGb2N1c2VkRWxlbSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uZm9jdXNlZEVsZW07XG4gIHZhciBwcmlvclNlbGVjdGlvblJhbmdlID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5zZWxlY3Rpb25SYW5nZTtcbiAgaWYgKGN1ckZvY3VzZWRFbGVtICE9PSBwcmlvckZvY3VzZWRFbGVtICYmIGlzSW5Eb2N1bWVudChwcmlvckZvY3VzZWRFbGVtKSkge1xuICAgIGlmIChwcmlvclNlbGVjdGlvblJhbmdlICE9PSBudWxsICYmIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhwcmlvckZvY3VzZWRFbGVtKSkge1xuICAgICAgc2V0U2VsZWN0aW9uKHByaW9yRm9jdXNlZEVsZW0sIHByaW9yU2VsZWN0aW9uUmFuZ2UpO1xuICAgIH1cblxuICAgIC8vIEZvY3VzaW5nIGEgbm9kZSBjYW4gY2hhbmdlIHRoZSBzY3JvbGwgcG9zaXRpb24sIHdoaWNoIGlzIHVuZGVzaXJhYmxlXG4gICAgdmFyIGFuY2VzdG9ycyA9IFtdO1xuICAgIHZhciBhbmNlc3RvciA9IHByaW9yRm9jdXNlZEVsZW07XG4gICAgd2hpbGUgKGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50Tm9kZSkge1xuICAgICAgaWYgKGFuY2VzdG9yLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgYW5jZXN0b3JzLnB1c2goe1xuICAgICAgICAgIGVsZW1lbnQ6IGFuY2VzdG9yLFxuICAgICAgICAgIGxlZnQ6IGFuY2VzdG9yLnNjcm9sbExlZnQsXG4gICAgICAgICAgdG9wOiBhbmNlc3Rvci5zY3JvbGxUb3BcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwcmlvckZvY3VzZWRFbGVtLmZvY3VzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcmlvckZvY3VzZWRFbGVtLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmNlc3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpbmZvID0gYW5jZXN0b3JzW2ldO1xuICAgICAgaW5mby5lbGVtZW50LnNjcm9sbExlZnQgPSBpbmZvLmxlZnQ7XG4gICAgICBpbmZvLmVsZW1lbnQuc2Nyb2xsVG9wID0gaW5mby50b3A7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQGdldFNlbGVjdGlvbjogR2V0cyB0aGUgc2VsZWN0aW9uIGJvdW5kcyBvZiBhIGZvY3VzZWQgdGV4dGFyZWEsIGlucHV0IG9yXG4gKiBjb250ZW50RWRpdGFibGUgbm9kZS5cbiAqIC1AaW5wdXQ6IExvb2sgdXAgc2VsZWN0aW9uIGJvdW5kcyBvZiB0aGlzIGlucHV0XG4gKiAtQHJldHVybiB7c3RhcnQ6IHNlbGVjdGlvblN0YXJ0LCBlbmQ6IHNlbGVjdGlvbkVuZH1cbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uJDEoaW5wdXQpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IHZvaWQgMDtcblxuICBpZiAoJ3NlbGVjdGlvblN0YXJ0JyBpbiBpbnB1dCkge1xuICAgIC8vIE1vZGVybiBicm93c2VyIHdpdGggaW5wdXQgb3IgdGV4dGFyZWEuXG4gICAgc2VsZWN0aW9uID0ge1xuICAgICAgc3RhcnQ6IGlucHV0LnNlbGVjdGlvblN0YXJ0LFxuICAgICAgZW5kOiBpbnB1dC5zZWxlY3Rpb25FbmRcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIENvbnRlbnQgZWRpdGFibGUgb3Igb2xkIElFIHRleHRhcmVhLlxuICAgIHNlbGVjdGlvbiA9IGdldE9mZnNldHMoaW5wdXQpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGVjdGlvbiB8fCB7IHN0YXJ0OiAwLCBlbmQ6IDAgfTtcbn1cblxuLyoqXG4gKiBAc2V0U2VsZWN0aW9uOiBTZXRzIHRoZSBzZWxlY3Rpb24gYm91bmRzIG9mIGEgdGV4dGFyZWEgb3IgaW5wdXQgYW5kIGZvY3VzZXNcbiAqIHRoZSBpbnB1dC5cbiAqIC1AaW5wdXQgICAgIFNldCBzZWxlY3Rpb24gYm91bmRzIG9mIHRoaXMgaW5wdXQgb3IgdGV4dGFyZWFcbiAqIC1Ab2Zmc2V0cyAgIE9iamVjdCBvZiBzYW1lIGZvcm0gdGhhdCBpcyByZXR1cm5lZCBmcm9tIGdldCpcbiAqL1xuZnVuY3Rpb24gc2V0U2VsZWN0aW9uKGlucHV0LCBvZmZzZXRzKSB7XG4gIHZhciBzdGFydCA9IG9mZnNldHMuc3RhcnQsXG4gICAgICBlbmQgPSBvZmZzZXRzLmVuZDtcblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSBzdGFydDtcbiAgfVxuXG4gIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XG4gICAgaW5wdXQuc2VsZWN0aW9uU3RhcnQgPSBzdGFydDtcbiAgICBpbnB1dC5zZWxlY3Rpb25FbmQgPSBNYXRoLm1pbihlbmQsIGlucHV0LnZhbHVlLmxlbmd0aCk7XG4gIH0gZWxzZSB7XG4gICAgc2V0T2Zmc2V0cyhpbnB1dCwgb2Zmc2V0cyk7XG4gIH1cbn1cblxudmFyIHNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudE1vZGUgPD0gMTE7XG5cbnZhciBldmVudFR5cGVzJDMgPSB7XG4gIHNlbGVjdDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiAnb25TZWxlY3QnLFxuICAgICAgY2FwdHVyZWQ6ICdvblNlbGVjdENhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFtUT1BfQkxVUiwgVE9QX0NPTlRFWFRfTUVOVSwgVE9QX0ZPQ1VTLCBUT1BfS0VZX0RPV04sIFRPUF9LRVlfVVAsIFRPUF9NT1VTRV9ET1dOLCBUT1BfTU9VU0VfVVAsIFRPUF9TRUxFQ1RJT05fQ0hBTkdFXVxuICB9XG59O1xuXG52YXIgYWN0aXZlRWxlbWVudCQxID0gbnVsbDtcbnZhciBhY3RpdmVFbGVtZW50SW5zdCQxID0gbnVsbDtcbnZhciBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbnZhciBtb3VzZURvd24gPSBmYWxzZTtcblxuLyoqXG4gKiBHZXQgYW4gb2JqZWN0IHdoaWNoIGlzIGEgdW5pcXVlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAqXG4gKiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgbm90IGJlIGNvbnNpc3RlbnQgYWNyb3NzIG5vZGVzIG9yIGJyb3dzZXJzLCBidXRcbiAqIHR3byBpZGVudGljYWwgc2VsZWN0aW9ucyBvbiB0aGUgc2FtZSBub2RlIHdpbGwgcmV0dXJuIGlkZW50aWNhbCBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRTZWxlY3Rpb24obm9kZSkge1xuICBpZiAoJ3NlbGVjdGlvblN0YXJ0JyBpbiBub2RlICYmIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhub2RlKSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydDogbm9kZS5zZWxlY3Rpb25TdGFydCxcbiAgICAgIGVuZDogbm9kZS5zZWxlY3Rpb25FbmRcbiAgICB9O1xuICB9IGVsc2UgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHJldHVybiB7XG4gICAgICBhbmNob3JOb2RlOiBzZWxlY3Rpb24uYW5jaG9yTm9kZSxcbiAgICAgIGFuY2hvck9mZnNldDogc2VsZWN0aW9uLmFuY2hvck9mZnNldCxcbiAgICAgIGZvY3VzTm9kZTogc2VsZWN0aW9uLmZvY3VzTm9kZSxcbiAgICAgIGZvY3VzT2Zmc2V0OiBzZWxlY3Rpb24uZm9jdXNPZmZzZXRcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogUG9sbCBzZWxlY3Rpb24gdG8gc2VlIHdoZXRoZXIgaXQncyBjaGFuZ2VkLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudFxuICogQHJldHVybiB7P1N5bnRoZXRpY0V2ZW50fVxuICovXG5mdW5jdGlvbiBjb25zdHJ1Y3RTZWxlY3RFdmVudChuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgLy8gRW5zdXJlIHdlIGhhdmUgdGhlIHJpZ2h0IGVsZW1lbnQsIGFuZCB0aGF0IHRoZSB1c2VyIGlzIG5vdCBkcmFnZ2luZyBhXG4gIC8vIHNlbGVjdGlvbiAodGhpcyBtYXRjaGVzIG5hdGl2ZSBgc2VsZWN0YCBldmVudCBiZWhhdmlvcikuIEluIEhUTUw1LCBzZWxlY3RcbiAgLy8gZmlyZXMgb25seSBvbiBpbnB1dCBhbmQgdGV4dGFyZWEgdGh1cyBpZiB0aGVyZSdzIG5vIGZvY3VzZWQgZWxlbWVudCB3ZVxuICAvLyB3b24ndCBkaXNwYXRjaC5cbiAgaWYgKG1vdXNlRG93biB8fCBhY3RpdmVFbGVtZW50JDEgPT0gbnVsbCB8fCBhY3RpdmVFbGVtZW50JDEgIT09IGdldEFjdGl2ZUVsZW1lbnQoKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gT25seSBmaXJlIHdoZW4gc2VsZWN0aW9uIGhhcyBhY3R1YWxseSBjaGFuZ2VkLlxuICB2YXIgY3VycmVudFNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbihhY3RpdmVFbGVtZW50JDEpO1xuICBpZiAoIWxhc3RTZWxlY3Rpb24gfHwgIXNoYWxsb3dFcXVhbChsYXN0U2VsZWN0aW9uLCBjdXJyZW50U2VsZWN0aW9uKSkge1xuICAgIGxhc3RTZWxlY3Rpb24gPSBjdXJyZW50U2VsZWN0aW9uO1xuXG4gICAgdmFyIHN5bnRoZXRpY0V2ZW50ID0gU3ludGhldGljRXZlbnQkMS5nZXRQb29sZWQoZXZlbnRUeXBlcyQzLnNlbGVjdCwgYWN0aXZlRWxlbWVudEluc3QkMSwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICAgIHN5bnRoZXRpY0V2ZW50LnR5cGUgPSAnc2VsZWN0JztcbiAgICBzeW50aGV0aWNFdmVudC50YXJnZXQgPSBhY3RpdmVFbGVtZW50JDE7XG5cbiAgICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKHN5bnRoZXRpY0V2ZW50KTtcblxuICAgIHJldHVybiBzeW50aGV0aWNFdmVudDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFRoaXMgcGx1Z2luIGNyZWF0ZXMgYW4gYG9uU2VsZWN0YCBldmVudCB0aGF0IG5vcm1hbGl6ZXMgc2VsZWN0IGV2ZW50c1xuICogYWNyb3NzIGZvcm0gZWxlbWVudHMuXG4gKlxuICogU3VwcG9ydGVkIGVsZW1lbnRzIGFyZTpcbiAqIC0gaW5wdXQgKHNlZSBgaXNUZXh0SW5wdXRFbGVtZW50YClcbiAqIC0gdGV4dGFyZWFcbiAqIC0gY29udGVudEVkaXRhYmxlXG4gKlxuICogVGhpcyBkaWZmZXJzIGZyb20gbmF0aXZlIGJyb3dzZXIgaW1wbGVtZW50YXRpb25zIGluIHRoZSBmb2xsb3dpbmcgd2F5czpcbiAqIC0gRmlyZXMgb24gY29udGVudEVkaXRhYmxlIGZpZWxkcyBhcyB3ZWxsIGFzIGlucHV0cy5cbiAqIC0gRmlyZXMgZm9yIGNvbGxhcHNlZCBzZWxlY3Rpb24uXG4gKiAtIEZpcmVzIGFmdGVyIHVzZXIgaW5wdXQuXG4gKi9cbnZhciBTZWxlY3RFdmVudFBsdWdpbiA9IHtcbiAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyQzLFxuXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHZhciBkb2MgPSBuYXRpdmVFdmVudFRhcmdldC53aW5kb3cgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0ID8gbmF0aXZlRXZlbnRUYXJnZXQuZG9jdW1lbnQgOiBuYXRpdmVFdmVudFRhcmdldC5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfTk9ERSA/IG5hdGl2ZUV2ZW50VGFyZ2V0IDogbmF0aXZlRXZlbnRUYXJnZXQub3duZXJEb2N1bWVudDtcbiAgICAvLyBUcmFjayB3aGV0aGVyIGFsbCBsaXN0ZW5lcnMgZXhpc3RzIGZvciB0aGlzIHBsdWdpbi4gSWYgbm9uZSBleGlzdCwgd2UgZG9cbiAgICAvLyBub3QgZXh0cmFjdCBldmVudHMuIFNlZSAjMzYzOS5cbiAgICBpZiAoIWRvYyB8fCAhaXNMaXN0ZW5pbmdUb0FsbERlcGVuZGVuY2llcygnb25TZWxlY3QnLCBkb2MpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0Tm9kZSA9IHRhcmdldEluc3QgPyBnZXROb2RlRnJvbUluc3RhbmNlJDEodGFyZ2V0SW5zdCkgOiB3aW5kb3c7XG5cbiAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgLy8gVHJhY2sgdGhlIGlucHV0IG5vZGUgdGhhdCBoYXMgZm9jdXMuXG4gICAgICBjYXNlIFRPUF9GT0NVUzpcbiAgICAgICAgaWYgKGlzVGV4dElucHV0RWxlbWVudCh0YXJnZXROb2RlKSB8fCB0YXJnZXROb2RlLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgYWN0aXZlRWxlbWVudCQxID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgICBhY3RpdmVFbGVtZW50SW5zdCQxID0gdGFyZ2V0SW5zdDtcbiAgICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVE9QX0JMVVI6XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQkMSA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSBudWxsO1xuICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBEb24ndCBmaXJlIHRoZSBldmVudCB3aGlsZSB0aGUgdXNlciBpcyBkcmFnZ2luZy4gVGhpcyBtYXRjaGVzIHRoZVxuICAgICAgLy8gc2VtYW50aWNzIG9mIHRoZSBuYXRpdmUgc2VsZWN0IGV2ZW50LlxuICAgICAgY2FzZSBUT1BfTU9VU0VfRE9XTjpcbiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRPUF9DT05URVhUX01FTlU6XG4gICAgICBjYXNlIFRPUF9NT1VTRV9VUDpcbiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RTZWxlY3RFdmVudChuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgLy8gQ2hyb21lIGFuZCBJRSBmaXJlIG5vbi1zdGFuZGFyZCBldmVudCB3aGVuIHNlbGVjdGlvbiBpcyBjaGFuZ2VkIChhbmRcbiAgICAgIC8vIHNvbWV0aW1lcyB3aGVuIGl0IGhhc24ndCkuIElFJ3MgZXZlbnQgZmlyZXMgb3V0IG9mIG9yZGVyIHdpdGggcmVzcGVjdFxuICAgICAgLy8gdG8ga2V5IGFuZCBpbnB1dCBldmVudHMgb24gZGVsZXRpb24sIHNvIHdlIGRpc2NhcmQgaXQuXG4gICAgICAvL1xuICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IHN1cHBvcnQgc2VsZWN0aW9uY2hhbmdlLCBzbyBjaGVjayBzZWxlY3Rpb24gc3RhdHVzXG4gICAgICAvLyBhZnRlciBlYWNoIGtleSBlbnRyeS4gVGhlIHNlbGVjdGlvbiBjaGFuZ2VzIGFmdGVyIGtleWRvd24gYW5kIGJlZm9yZVxuICAgICAgLy8ga2V5dXAsIGJ1dCB3ZSBjaGVjayBvbiBrZXlkb3duIGFzIHdlbGwgaW4gdGhlIGNhc2Ugb2YgaG9sZGluZyBkb3duIGFcbiAgICAgIC8vIGtleSwgd2hlbiBtdWx0aXBsZSBrZXlkb3duIGV2ZW50cyBhcmUgZmlyZWQgYnV0IG9ubHkgb25lIGtleXVwIGlzLlxuICAgICAgLy8gVGhpcyBpcyBhbHNvIG91ciBhcHByb2FjaCBmb3IgSUUgaGFuZGxpbmcsIGZvciB0aGUgcmVhc29uIGFib3ZlLlxuICAgICAgY2FzZSBUT1BfU0VMRUNUSU9OX0NIQU5HRTpcbiAgICAgICAgaWYgKHNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICBjYXNlIFRPUF9LRVlfRE9XTjpcbiAgICAgIGNhc2UgVE9QX0tFWV9VUDpcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSW5qZWN0IG1vZHVsZXMgZm9yIHJlc29sdmluZyBET00gaGllcmFyY2h5IGFuZCBwbHVnaW4gb3JkZXJpbmcuXG4gKi9cbmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbk9yZGVyKERPTUV2ZW50UGx1Z2luT3JkZXIpO1xuaW5qZWN0aW9uJDEuaW5qZWN0Q29tcG9uZW50VHJlZShSZWFjdERPTUNvbXBvbmVudFRyZWUpO1xuXG4vKipcbiAqIFNvbWUgaW1wb3J0YW50IGV2ZW50IHBsdWdpbnMgaW5jbHVkZWQgYnkgZGVmYXVsdCAod2l0aG91dCBoYXZpbmcgdG8gcmVxdWlyZVxuICogdGhlbSkuXG4gKi9cbmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoe1xuICBTaW1wbGVFdmVudFBsdWdpbjogU2ltcGxlRXZlbnRQbHVnaW4sXG4gIEVudGVyTGVhdmVFdmVudFBsdWdpbjogRW50ZXJMZWF2ZUV2ZW50UGx1Z2luLFxuICBDaGFuZ2VFdmVudFBsdWdpbjogQ2hhbmdlRXZlbnRQbHVnaW4sXG4gIFNlbGVjdEV2ZW50UGx1Z2luOiBTZWxlY3RFdmVudFBsdWdpbixcbiAgQmVmb3JlSW5wdXRFdmVudFBsdWdpbjogQmVmb3JlSW5wdXRFdmVudFBsdWdpblxufSk7XG5cbi8vIFdlIGNhcHR1cmUgYSBsb2NhbCByZWZlcmVuY2UgdG8gYW55IGdsb2JhbCwgaW4gY2FzZSBpdCBnZXRzIHBvbHlmaWxsZWQgYWZ0ZXJcbi8vIHRoaXMgbW9kdWxlIGlzIGluaXRpYWxseSBldmFsdWF0ZWQuXG4vLyBXZSB3YW50IHRvIGJlIHVzaW5nIGEgY29uc2lzdGVudCBpbXBsZW1lbnRhdGlvbi5cblxudmFyIGxvY2FsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEgPSB0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID09PSAnZnVuY3Rpb24nID8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc2NoZWR1bGluZyBsaWJyYXJ5IHRvIGFsbG93IHNjaGVkdWxpbmcgd29yayB3aXRoIG1vcmUgZ3JhbnVsYXIgcHJpb3JpdHkgYW5kXG4gKiBjb250cm9sIHRoYW4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGFuZCByZXF1ZXN0SWRsZUNhbGxiYWNrLlxuICogQ3VycmVudCBUT0RPIGl0ZW1zOlxuICogWC0gUHVsbCBvdXQgdGhlIHNjaGVkdWxlV29yayBwb2x5ZmlsbCBidWlsdCBpbnRvIFJlYWN0XG4gKiBYLSBJbml0aWFsIHRlc3QgY292ZXJhZ2VcbiAqIFgtIFN1cHBvcnQgZm9yIG11bHRpcGxlIGNhbGxiYWNrc1xuICogLSBTdXBwb3J0IGZvciB0d28gcHJpb3JpdGllczsgc2VyaWFsIGFuZCBkZWZlcnJlZFxuICogLSBCZXR0ZXIgdGVzdCBjb3ZlcmFnZVxuICogLSBCZXR0ZXIgZG9jYmxvY2tcbiAqIC0gUG9saXNoIGRvY3VtZW50YXRpb24sIEFQSVxuICovXG5cbi8vIFRoaXMgaXMgYSBidWlsdC1pbiBwb2x5ZmlsbCBmb3IgcmVxdWVzdElkbGVDYWxsYmFjay4gSXQgd29ya3MgYnkgc2NoZWR1bGluZ1xuLy8gYSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIHN0b3JpbmcgdGhlIHRpbWUgZm9yIHRoZSBzdGFydCBvZiB0aGUgZnJhbWUsIHRoZW5cbi8vIHNjaGVkdWxpbmcgYSBwb3N0TWVzc2FnZSB3aGljaCBnZXRzIHNjaGVkdWxlZCBhZnRlciBwYWludC4gV2l0aGluIHRoZVxuLy8gcG9zdE1lc3NhZ2UgaGFuZGxlciBkbyBhcyBtdWNoIHdvcmsgYXMgcG9zc2libGUgdW50aWwgdGltZSArIGZyYW1lIHJhdGUuXG4vLyBCeSBzZXBhcmF0aW5nIHRoZSBpZGxlIGNhbGwgaW50byBhIHNlcGFyYXRlIGV2ZW50IHRpY2sgd2UgZW5zdXJlIHRoYXRcbi8vIGxheW91dCwgcGFpbnQgYW5kIG90aGVyIGJyb3dzZXIgd29yayBpcyBjb3VudGVkIGFnYWluc3QgdGhlIGF2YWlsYWJsZSB0aW1lLlxuLy8gVGhlIGZyYW1lIHJhdGUgaXMgZHluYW1pY2FsbHkgYWRqdXN0ZWQuXG5cbi8vIFdlIGNhcHR1cmUgYSBsb2NhbCByZWZlcmVuY2UgdG8gYW55IGdsb2JhbCwgaW4gY2FzZSBpdCBnZXRzIHBvbHlmaWxsZWQgYWZ0ZXJcbi8vIHRoaXMgbW9kdWxlIGlzIGluaXRpYWxseSBldmFsdWF0ZWQuXG4vLyBXZSB3YW50IHRvIGJlIHVzaW5nIGEgY29uc2lzdGVudCBpbXBsZW1lbnRhdGlvbi5cbnZhciBsb2NhbERhdGUgPSBEYXRlO1xudmFyIGxvY2FsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG52YXIgbG9jYWxDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cbnZhciBoYXNOYXRpdmVQZXJmb3JtYW5jZU5vdyA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gJ2Z1bmN0aW9uJztcblxudmFyIG5vdyQxID0gdm9pZCAwO1xuaWYgKGhhc05hdGl2ZVBlcmZvcm1hbmNlTm93KSB7XG4gIHZhciBQZXJmb3JtYW5jZSA9IHBlcmZvcm1hbmNlO1xuICBub3ckMSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUGVyZm9ybWFuY2Uubm93KCk7XG4gIH07XG59IGVsc2Uge1xuICBub3ckMSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbG9jYWxEYXRlLm5vdygpO1xuICB9O1xufVxuXG52YXIgc2NoZWR1bGVXb3JrID0gdm9pZCAwO1xudmFyIGNhbmNlbFNjaGVkdWxlZFdvcmsgPSB2b2lkIDA7XG5cbmlmICghRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIHZhciB0aW1lb3V0SWRzID0gbmV3IE1hcCgpO1xuXG4gIHNjaGVkdWxlV29yayA9IGZ1bmN0aW9uIChjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIC8vIGtlZXBpbmcgcmV0dXJuIHR5cGUgY29uc2lzdGVudFxuICAgIHZhciBjYWxsYmFja0NvbmZpZyA9IHtcbiAgICAgIHNjaGVkdWxlZENhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgIHRpbWVvdXRUaW1lOiAwLFxuICAgICAgbmV4dDogbnVsbCxcbiAgICAgIHByZXY6IG51bGxcbiAgICB9O1xuICAgIHZhciB0aW1lb3V0SWQgPSBsb2NhbFNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soe1xuICAgICAgICB0aW1lUmVtYWluaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgICB9LFxuXG4gICAgICAgIGRpZFRpbWVvdXQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aW1lb3V0SWRzLnNldChjYWxsYmFjaywgdGltZW91dElkKTtcbiAgICByZXR1cm4gY2FsbGJhY2tDb25maWc7XG4gIH07XG4gIGNhbmNlbFNjaGVkdWxlZFdvcmsgPSBmdW5jdGlvbiAoY2FsbGJhY2tJZCkge1xuICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrSWQuc2NoZWR1bGVkQ2FsbGJhY2s7XG4gICAgdmFyIHRpbWVvdXRJZCA9IHRpbWVvdXRJZHMuZ2V0KGNhbGxiYWNrKTtcbiAgICB0aW1lb3V0SWRzLmRlbGV0ZShjYWxsYmFja0lkKTtcbiAgICBsb2NhbENsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICB9O1xufSBlbHNlIHtcbiAge1xuICAgIGlmICh0eXBlb2YgbG9jYWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUkMSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0IGRlcGVuZHMgb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhICcgKyAncG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzJyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGxvY2FsUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gdHlwZW9mIGxvY2FsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEgPT09ICdmdW5jdGlvbicgPyBsb2NhbFJlcXVlc3RBbmltYXRpb25GcmFtZSQxIDogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaW52YXJpYW50KGZhbHNlLCAnUmVhY3QgZGVwZW5kcyBvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgcG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzJyk7XG4gIH07XG5cbiAgdmFyIGhlYWRPZlBlbmRpbmdDYWxsYmFja3NMaW5rZWRMaXN0ID0gbnVsbDtcbiAgdmFyIHRhaWxPZlBlbmRpbmdDYWxsYmFja3NMaW5rZWRMaXN0ID0gbnVsbDtcblxuICAvLyBXZSB0cmFjayB3aGF0IHRoZSBuZXh0IHNvb25lc3QgdGltZW91dFRpbWUgaXMsIHRvIGJlIGFibGUgdG8gcXVpY2tseSB0ZWxsXG4gIC8vIGlmIG5vbmUgb2YgdGhlIHNjaGVkdWxlZCBjYWxsYmFja3MgaGF2ZSB0aW1lZCBvdXQuXG4gIHZhciBuZXh0U29vbmVzdFRpbWVvdXRUaW1lID0gLTE7XG5cbiAgdmFyIGlzSWRsZVNjaGVkdWxlZCA9IGZhbHNlO1xuICB2YXIgaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gIHZhciBmcmFtZURlYWRsaW5lID0gMDtcbiAgLy8gV2Ugc3RhcnQgb3V0IGFzc3VtaW5nIHRoYXQgd2UgcnVuIGF0IDMwZnBzIGJ1dCB0aGVuIHRoZSBoZXVyaXN0aWMgdHJhY2tpbmdcbiAgLy8gd2lsbCBhZGp1c3QgdGhpcyB2YWx1ZSB0byBhIGZhc3RlciBmcHMgaWYgd2UgZ2V0IG1vcmUgZnJlcXVlbnQgYW5pbWF0aW9uXG4gIC8vIGZyYW1lcy5cbiAgdmFyIHByZXZpb3VzRnJhbWVUaW1lID0gMzM7XG4gIHZhciBhY3RpdmVGcmFtZVRpbWUgPSAzMztcblxuICB2YXIgZnJhbWVEZWFkbGluZU9iamVjdCA9IHtcbiAgICBkaWRUaW1lb3V0OiBmYWxzZSxcbiAgICB0aW1lUmVtYWluaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVtYWluaW5nID0gZnJhbWVEZWFkbGluZSAtIG5vdyQxKCk7XG4gICAgICByZXR1cm4gcmVtYWluaW5nID4gMCA/IHJlbWFpbmluZyA6IDA7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBjYXNlIHdoZXJlIGEgY2FsbGJhY2sgZXJyb3JzOlxuICAgKiAtIGRvbid0IGNhdGNoIHRoZSBlcnJvciwgYmVjYXVzZSB0aGlzIGNoYW5nZXMgZGVidWdnaW5nIGJlaGF2aW9yXG4gICAqIC0gZG8gc3RhcnQgYSBuZXcgcG9zdE1lc3NhZ2UgY2FsbGJhY2ssIHRvIGNhbGwgYW55IHJlbWFpbmluZyBjYWxsYmFja3MsXG4gICAqIC0gYnV0IG9ubHkgaWYgdGhlcmUgaXMgYW4gZXJyb3IsIHNvIHRoZXJlIGlzIG5vdCBleHRyYSBvdmVyaGVhZC5cbiAgICovXG4gIHZhciBjYWxsVW5zYWZlbHkgPSBmdW5jdGlvbiAoY2FsbGJhY2tDb25maWcsIGFyZykge1xuICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrQ29uZmlnLnNjaGVkdWxlZENhbGxiYWNrO1xuICAgIHZhciBmaW5pc2hlZENhbGxpbmcgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgY2FsbGJhY2soYXJnKTtcbiAgICAgIGZpbmlzaGVkQ2FsbGluZyA9IHRydWU7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIGFsd2F5cyByZW1vdmUgaXQgZnJvbSBsaW5rZWQgbGlzdFxuICAgICAgY2FuY2VsU2NoZWR1bGVkV29yayhjYWxsYmFja0NvbmZpZyk7XG5cbiAgICAgIGlmICghZmluaXNoZWRDYWxsaW5nKSB7XG4gICAgICAgIC8vIGFuIGVycm9yIG11c3QgaGF2ZSBiZWVuIHRocm93blxuICAgICAgICBpc0lkbGVTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICB3aW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZUtleSwgJyonKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBmb3IgdGltZWQgb3V0IGNhbGxiYWNrcywgcnVucyB0aGVtLCBhbmQgdGhlbiBjaGVja3MgYWdhaW4gdG8gc2VlIGlmXG4gICAqIGFueSBtb3JlIGhhdmUgdGltZWQgb3V0LlxuICAgKiBLZWVwcyBkb2luZyB0aGlzIHVudGlsIHRoZXJlIGFyZSBub25lIHdoaWNoIGhhdmUgY3VycmVudGx5IHRpbWVkIG91dC5cbiAgICovXG4gIHZhciBjYWxsVGltZWRPdXRDYWxsYmFja3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGhlYWRPZlBlbmRpbmdDYWxsYmFja3NMaW5rZWRMaXN0ID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gbm93JDEoKTtcbiAgICAvLyBUT0RPOiB0aGlzIHdvdWxkIGJlIG1vcmUgZWZmaWNpZW50IGlmIGRlZmVycmVkIGNhbGxiYWNrcyBhcmUgc3RvcmVkIGluXG4gICAgLy8gbWluIGhlYXAuXG4gICAgLy8gT3IgaW4gYSBsaW5rZWQgbGlzdCB3aXRoIGxpbmtzIGZvciBib3RoIHRpbWVvdXRUaW1lIG9yZGVyIGFuZCBpbnNlcnRpb25cbiAgICAvLyBvcmRlci5cbiAgICAvLyBGb3Igbm93IGFuIGVhc3kgY29tcHJvbWlzZSBpcyB0aGUgY3VycmVudCBhcHByb2FjaDpcbiAgICAvLyBLZWVwIGEgcG9pbnRlciB0byB0aGUgc29vbmVzdCB0aW1lb3V0VGltZSwgYW5kIGNoZWNrIHRoYXQgZmlyc3QuXG4gICAgLy8gSWYgaXQgaGFzIG5vdCBleHBpcmVkLCB3ZSBjYW4gc2tpcCB0cmF2ZXJzaW5nIHRoZSB3aG9sZSBsaXN0LlxuICAgIC8vIElmIGl0IGhhcyBleHBpcmVkLCB0aGVuIHdlIHN0ZXAgdGhyb3VnaCBhbGwgdGhlIGNhbGxiYWNrcy5cbiAgICBpZiAobmV4dFNvb25lc3RUaW1lb3V0VGltZSA9PT0gLTEgfHwgbmV4dFNvb25lc3RUaW1lb3V0VGltZSA+IGN1cnJlbnRUaW1lKSB7XG4gICAgICAvLyBXZSBrbm93IHRoYXQgbm9uZSBvZiB0aGVtIGhhdmUgdGltZWQgb3V0IHlldC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTk9URTogd2UgaW50ZW50aW9uYWxseSB3YWl0IHRvIHVwZGF0ZSB0aGUgbmV4dFNvb25lc3RUaW1lb3V0VGltZSB1bnRpbFxuICAgIC8vIGFmdGVyIHN1Y2Nlc3NmdWxseSBjYWxsaW5nIGFueSB0aW1lZCBvdXQgY2FsbGJhY2tzLlxuICAgIC8vIElmIGEgdGltZWQgb3V0IGNhbGxiYWNrIHRocm93cyBhbiBlcnJvciwgd2UgY291bGQgZ2V0IHN0dWNrIGluIGEgc3RhdGVcbiAgICAvLyB3aGVyZSB0aGUgbmV4dFNvb25lc3RUaW1lb3V0VGltZSB3YXMgc2V0IHdyb25nLlxuICAgIHZhciB1cGRhdGVkTmV4dFNvb25lc3RUaW1lb3V0VGltZSA9IC0xOyAvLyB3ZSB3aWxsIHVwZGF0ZSBuZXh0U29vbmVzdFRpbWVvdXRUaW1lIGJlbG93XG4gICAgdmFyIHRpbWVkT3V0Q2FsbGJhY2tzID0gW107XG5cbiAgICAvLyBpdGVyYXRlIG9uY2UgdG8gZmluZCB0aW1lZCBvdXQgY2FsbGJhY2tzIGFuZCBmaW5kIG5leHRTb29uZXN0VGltZW91dFRpbWVcbiAgICB2YXIgY3VycmVudENhbGxiYWNrQ29uZmlnID0gaGVhZE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3Q7XG4gICAgd2hpbGUgKGN1cnJlbnRDYWxsYmFja0NvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgdmFyIF90aW1lb3V0VGltZSA9IGN1cnJlbnRDYWxsYmFja0NvbmZpZy50aW1lb3V0VGltZTtcbiAgICAgIGlmIChfdGltZW91dFRpbWUgIT09IC0xICYmIF90aW1lb3V0VGltZSA8PSBjdXJyZW50VGltZSkge1xuICAgICAgICAvLyBpdCBoYXMgdGltZWQgb3V0IVxuICAgICAgICB0aW1lZE91dENhbGxiYWNrcy5wdXNoKGN1cnJlbnRDYWxsYmFja0NvbmZpZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoX3RpbWVvdXRUaW1lICE9PSAtMSAmJiAodXBkYXRlZE5leHRTb29uZXN0VGltZW91dFRpbWUgPT09IC0xIHx8IF90aW1lb3V0VGltZSA8IHVwZGF0ZWROZXh0U29vbmVzdFRpbWVvdXRUaW1lKSkge1xuICAgICAgICAgIHVwZGF0ZWROZXh0U29vbmVzdFRpbWVvdXRUaW1lID0gX3RpbWVvdXRUaW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXJyZW50Q2FsbGJhY2tDb25maWcgPSBjdXJyZW50Q2FsbGJhY2tDb25maWcubmV4dDtcbiAgICB9XG5cbiAgICBpZiAodGltZWRPdXRDYWxsYmFja3MubGVuZ3RoID4gMCkge1xuICAgICAgZnJhbWVEZWFkbGluZU9iamVjdC5kaWRUaW1lb3V0ID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aW1lZE91dENhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjYWxsVW5zYWZlbHkodGltZWRPdXRDYWxsYmFja3NbaV0sIGZyYW1lRGVhZGxpbmVPYmplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5PVEU6IHdlIGludGVudGlvbmFsbHkgd2FpdCB0byB1cGRhdGUgdGhlIG5leHRTb29uZXN0VGltZW91dFRpbWUgdW50aWxcbiAgICAvLyBhZnRlciBzdWNjZXNzZnVsbHkgY2FsbGluZyBhbnkgdGltZWQgb3V0IGNhbGxiYWNrcy5cbiAgICBuZXh0U29vbmVzdFRpbWVvdXRUaW1lID0gdXBkYXRlZE5leHRTb29uZXN0VGltZW91dFRpbWU7XG4gIH07XG5cbiAgLy8gV2UgdXNlIHRoZSBwb3N0TWVzc2FnZSB0cmljayB0byBkZWZlciBpZGxlIHdvcmsgdW50aWwgYWZ0ZXIgdGhlIHJlcGFpbnQuXG4gIHZhciBtZXNzYWdlS2V5ID0gJ19fcmVhY3RJZGxlQ2FsbGJhY2skJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuICB2YXIgaWRsZVRpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cgfHwgZXZlbnQuZGF0YSAhPT0gbWVzc2FnZUtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc0lkbGVTY2hlZHVsZWQgPSBmYWxzZTtcblxuICAgIGlmIChoZWFkT2ZQZW5kaW5nQ2FsbGJhY2tzTGlua2VkTGlzdCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpcnN0IGNhbGwgYW55dGhpbmcgd2hpY2ggaGFzIHRpbWVkIG91dCwgdW50aWwgd2UgaGF2ZSBjYXVnaHQgdXAuXG4gICAgY2FsbFRpbWVkT3V0Q2FsbGJhY2tzKCk7XG5cbiAgICB2YXIgY3VycmVudFRpbWUgPSBub3ckMSgpO1xuICAgIC8vIE5leHQsIGFzIGxvbmcgYXMgd2UgaGF2ZSBpZGxlIHRpbWUsIHRyeSBjYWxsaW5nIG1vcmUgY2FsbGJhY2tzLlxuICAgIHdoaWxlIChmcmFtZURlYWRsaW5lIC0gY3VycmVudFRpbWUgPiAwICYmIGhlYWRPZlBlbmRpbmdDYWxsYmFja3NMaW5rZWRMaXN0ICE9PSBudWxsKSB7XG4gICAgICB2YXIgbGF0ZXN0Q2FsbGJhY2tDb25maWcgPSBoZWFkT2ZQZW5kaW5nQ2FsbGJhY2tzTGlua2VkTGlzdDtcbiAgICAgIGZyYW1lRGVhZGxpbmVPYmplY3QuZGlkVGltZW91dCA9IGZhbHNlO1xuICAgICAgLy8gY2FsbFVuc2FmZWx5IHdpbGwgcmVtb3ZlIGl0IGZyb20gdGhlIGhlYWQgb2YgdGhlIGxpbmtlZCBsaXN0XG4gICAgICBjYWxsVW5zYWZlbHkobGF0ZXN0Q2FsbGJhY2tDb25maWcsIGZyYW1lRGVhZGxpbmVPYmplY3QpO1xuICAgICAgY3VycmVudFRpbWUgPSBub3ckMSgpO1xuICAgIH1cbiAgICBpZiAoaGVhZE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3QgIT09IG51bGwpIHtcbiAgICAgIGlmICghaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCkge1xuICAgICAgICAvLyBTY2hlZHVsZSBhbm90aGVyIGFuaW1hdGlvbiBjYWxsYmFjayBzbyB3ZSByZXRyeSBsYXRlci5cbiAgICAgICAgaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgIGxvY2FsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblRpY2spO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLy8gQXNzdW1lcyB0aGF0IHdlIGhhdmUgYWRkRXZlbnRMaXN0ZW5lciBpbiB0aGlzIGVudmlyb25tZW50LiBNaWdodCBuZWVkXG4gIC8vIHNvbWV0aGluZyBiZXR0ZXIgZm9yIG9sZCBJRS5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBpZGxlVGljaywgZmFsc2UpO1xuXG4gIHZhciBhbmltYXRpb25UaWNrID0gZnVuY3Rpb24gKHJhZlRpbWUpIHtcbiAgICBpc0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgdmFyIG5leHRGcmFtZVRpbWUgPSByYWZUaW1lIC0gZnJhbWVEZWFkbGluZSArIGFjdGl2ZUZyYW1lVGltZTtcbiAgICBpZiAobmV4dEZyYW1lVGltZSA8IGFjdGl2ZUZyYW1lVGltZSAmJiBwcmV2aW91c0ZyYW1lVGltZSA8IGFjdGl2ZUZyYW1lVGltZSkge1xuICAgICAgaWYgKG5leHRGcmFtZVRpbWUgPCA4KSB7XG4gICAgICAgIC8vIERlZmVuc2l2ZSBjb2RpbmcuIFdlIGRvbid0IHN1cHBvcnQgaGlnaGVyIGZyYW1lIHJhdGVzIHRoYW4gMTIwaHouXG4gICAgICAgIC8vIElmIHdlIGdldCBsb3dlciB0aGFuIHRoYXQsIGl0IGlzIHByb2JhYmx5IGEgYnVnLlxuICAgICAgICBuZXh0RnJhbWVUaW1lID0gODtcbiAgICAgIH1cbiAgICAgIC8vIElmIG9uZSBmcmFtZSBnb2VzIGxvbmcsIHRoZW4gdGhlIG5leHQgb25lIGNhbiBiZSBzaG9ydCB0byBjYXRjaCB1cC5cbiAgICAgIC8vIElmIHR3byBmcmFtZXMgYXJlIHNob3J0IGluIGEgcm93LCB0aGVuIHRoYXQncyBhbiBpbmRpY2F0aW9uIHRoYXQgd2VcbiAgICAgIC8vIGFjdHVhbGx5IGhhdmUgYSBoaWdoZXIgZnJhbWUgcmF0ZSB0aGFuIHdoYXQgd2UncmUgY3VycmVudGx5IG9wdGltaXppbmcuXG4gICAgICAvLyBXZSBhZGp1c3Qgb3VyIGhldXJpc3RpYyBkeW5hbWljYWxseSBhY2NvcmRpbmdseS4gRm9yIGV4YW1wbGUsIGlmIHdlJ3JlXG4gICAgICAvLyBydW5uaW5nIG9uIDEyMGh6IGRpc3BsYXkgb3IgOTBoeiBWUiBkaXNwbGF5LlxuICAgICAgLy8gVGFrZSB0aGUgbWF4IG9mIHRoZSB0d28gaW4gY2FzZSBvbmUgb2YgdGhlbSB3YXMgYW4gYW5vbWFseSBkdWUgdG9cbiAgICAgIC8vIG1pc3NlZCBmcmFtZSBkZWFkbGluZXMuXG4gICAgICBhY3RpdmVGcmFtZVRpbWUgPSBuZXh0RnJhbWVUaW1lIDwgcHJldmlvdXNGcmFtZVRpbWUgPyBwcmV2aW91c0ZyYW1lVGltZSA6IG5leHRGcmFtZVRpbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZpb3VzRnJhbWVUaW1lID0gbmV4dEZyYW1lVGltZTtcbiAgICB9XG4gICAgZnJhbWVEZWFkbGluZSA9IHJhZlRpbWUgKyBhY3RpdmVGcmFtZVRpbWU7XG4gICAgaWYgKCFpc0lkbGVTY2hlZHVsZWQpIHtcbiAgICAgIGlzSWRsZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgICB3aW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZUtleSwgJyonKTtcbiAgICB9XG4gIH07XG5cbiAgc2NoZWR1bGVXb3JrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBvcHRpb25zKSAvKiBDYWxsYmFja0NvbmZpZ1R5cGUgKi97XG4gICAgdmFyIHRpbWVvdXRUaW1lID0gLTE7XG4gICAgaWYgKG9wdGlvbnMgIT0gbnVsbCAmJiB0eXBlb2Ygb3B0aW9ucy50aW1lb3V0ID09PSAnbnVtYmVyJykge1xuICAgICAgdGltZW91dFRpbWUgPSBub3ckMSgpICsgb3B0aW9ucy50aW1lb3V0O1xuICAgIH1cbiAgICBpZiAobmV4dFNvb25lc3RUaW1lb3V0VGltZSA9PT0gLTEgfHwgdGltZW91dFRpbWUgIT09IC0xICYmIHRpbWVvdXRUaW1lIDwgbmV4dFNvb25lc3RUaW1lb3V0VGltZSkge1xuICAgICAgbmV4dFNvb25lc3RUaW1lb3V0VGltZSA9IHRpbWVvdXRUaW1lO1xuICAgIH1cblxuICAgIHZhciBzY2hlZHVsZWRDYWxsYmFja0NvbmZpZyA9IHtcbiAgICAgIHNjaGVkdWxlZENhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgIHRpbWVvdXRUaW1lOiB0aW1lb3V0VGltZSxcbiAgICAgIHByZXY6IG51bGwsXG4gICAgICBuZXh0OiBudWxsXG4gICAgfTtcbiAgICBpZiAoaGVhZE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3QgPT09IG51bGwpIHtcbiAgICAgIC8vIE1ha2UgdGhpcyBjYWxsYmFjayB0aGUgaGVhZCBhbmQgdGFpbCBvZiBvdXIgbGlzdFxuICAgICAgaGVhZE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3QgPSBzY2hlZHVsZWRDYWxsYmFja0NvbmZpZztcbiAgICAgIHRhaWxPZlBlbmRpbmdDYWxsYmFja3NMaW5rZWRMaXN0ID0gc2NoZWR1bGVkQ2FsbGJhY2tDb25maWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEFkZCBsYXRlc3QgY2FsbGJhY2sgYXMgdGhlIG5ldyB0YWlsIG9mIHRoZSBsaXN0XG4gICAgICBzY2hlZHVsZWRDYWxsYmFja0NvbmZpZy5wcmV2ID0gdGFpbE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3Q7XG4gICAgICAvLyByZW5hbWluZyBmb3IgY2xhcml0eVxuICAgICAgdmFyIG9sZFRhaWxPZlBlbmRpbmdDYWxsYmFja3NMaW5rZWRMaXN0ID0gdGFpbE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3Q7XG4gICAgICBpZiAob2xkVGFpbE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3QgIT09IG51bGwpIHtcbiAgICAgICAgb2xkVGFpbE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3QubmV4dCA9IHNjaGVkdWxlZENhbGxiYWNrQ29uZmlnO1xuICAgICAgfVxuICAgICAgdGFpbE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3QgPSBzY2hlZHVsZWRDYWxsYmFja0NvbmZpZztcbiAgICB9XG5cbiAgICBpZiAoIWlzQW5pbWF0aW9uRnJhbWVTY2hlZHVsZWQpIHtcbiAgICAgIC8vIElmIHJBRiBkaWRuJ3QgYWxyZWFkeSBzY2hlZHVsZSBvbmUsIHdlIG5lZWQgdG8gc2NoZWR1bGUgYSBmcmFtZS5cbiAgICAgIC8vIFRPRE86IElmIHRoaXMgckFGIGRvZXNuJ3QgbWF0ZXJpYWxpemUgYmVjYXVzZSB0aGUgYnJvd3NlciB0aHJvdHRsZXMsIHdlXG4gICAgICAvLyBtaWdodCB3YW50IHRvIHN0aWxsIGhhdmUgc2V0VGltZW91dCB0cmlnZ2VyIHNjaGVkdWxlV29yayBhcyBhIGJhY2t1cCB0byBlbnN1cmVcbiAgICAgIC8vIHRoYXQgd2Uga2VlcCBwZXJmb3JtaW5nIHdvcmsuXG4gICAgICBpc0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIGxvY2FsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblRpY2spO1xuICAgIH1cbiAgICByZXR1cm4gc2NoZWR1bGVkQ2FsbGJhY2tDb25maWc7XG4gIH07XG5cbiAgY2FuY2VsU2NoZWR1bGVkV29yayA9IGZ1bmN0aW9uIChjYWxsYmFja0NvbmZpZyAvKiBDYWxsYmFja0NvbmZpZ1R5cGUgKi9cbiAgKSB7XG4gICAgaWYgKGNhbGxiYWNrQ29uZmlnLnByZXYgPT09IG51bGwgJiYgaGVhZE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3QgIT09IGNhbGxiYWNrQ29uZmlnKSB7XG4gICAgICAvLyB0aGlzIGNhbGxiYWNrQ29uZmlnIGhhcyBhbHJlYWR5IGJlZW4gY2FuY2VsbGVkLlxuICAgICAgLy8gY2FuY2VsU2NoZWR1bGVkV29yayBzaG91bGQgYmUgaWRlbXBvdGVudCwgYSBuby1vcCBhZnRlciBmaXJzdCBjYWxsLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZXJlIGFyZSBmb3VyIHBvc3NpYmxlIGNhc2VzOlxuICAgICAqIC0gSGVhZC9ub2RlVG9SZW1vdmUvVGFpbCAtPiBudWxsXG4gICAgICogICBJbiB0aGlzIGNhc2Ugd2Ugc2V0IEhlYWQgYW5kIFRhaWwgdG8gbnVsbC5cbiAgICAgKiAtIEhlYWQgLT4gLi4uIG1pZGRsZSBub2Rlcy4uLiAtPiBUYWlsL25vZGVUb1JlbW92ZVxuICAgICAqICAgSW4gdGhpcyBjYXNlIHdlIHBvaW50IHRoZSBtaWRkbGUubmV4dCB0byBudWxsIGFuZCBwdXQgbWlkZGxlIGFzIHRoZSBuZXdcbiAgICAgKiAgIFRhaWwuXG4gICAgICogLSBIZWFkL25vZGVUb1JlbW92ZSAtPiAuLi5taWRkbGUgbm9kZXMuLi4gLT4gVGFpbFxuICAgICAqICAgSW4gdGhpcyBjYXNlIHdlIHBvaW50IHRoZSBtaWRkbGUucHJldiBhdCBudWxsIGFuZCBtb3ZlIHRoZSBIZWFkIHRvXG4gICAgICogICBtaWRkbGUuXG4gICAgICogLSBIZWFkIC0+IC4uLiA/c29tZSBub2RlcyAuLi4gLT4gbm9kZVRvUmVtb3ZlIC0+IC4uLiA/c29tZSBub2RlcyAuLi4gLT4gVGFpbFxuICAgICAqICAgSW4gdGhpcyBjYXNlIHdlIHBvaW50IHRoZSBIZWFkLm5leHQgdG8gdGhlIFRhaWwgYW5kIHRoZSBUYWlsLnByZXYgdG9cbiAgICAgKiAgIHRoZSBIZWFkLlxuICAgICAqL1xuICAgIHZhciBuZXh0ID0gY2FsbGJhY2tDb25maWcubmV4dDtcbiAgICB2YXIgcHJldiA9IGNhbGxiYWNrQ29uZmlnLnByZXY7XG4gICAgY2FsbGJhY2tDb25maWcubmV4dCA9IG51bGw7XG4gICAgY2FsbGJhY2tDb25maWcucHJldiA9IG51bGw7XG4gICAgaWYgKG5leHQgIT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGhhdmUgYSBuZXh0XG5cbiAgICAgIGlmIChwcmV2ICE9PSBudWxsKSB7XG4gICAgICAgIC8vIHdlIGhhdmUgYSBwcmV2XG5cbiAgICAgICAgLy8gY2FsbGJhY2tDb25maWcgaXMgc29tZXdoZXJlIGluIHRoZSBtaWRkbGUgb2YgYSBsaXN0IG9mIDMgb3IgbW9yZSBub2Rlcy5cbiAgICAgICAgcHJldi5uZXh0ID0gbmV4dDtcbiAgICAgICAgbmV4dC5wcmV2ID0gcHJldjtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhlcmUgaXMgYSBuZXh0IGJ1dCBub3QgYSBwcmV2aW91cyBvbmU7XG4gICAgICAgIC8vIGNhbGxiYWNrQ29uZmlnIGlzIHRoZSBoZWFkIG9mIGEgbGlzdCBvZiAyIG9yIG1vcmUgb3RoZXIgbm9kZXMuXG4gICAgICAgIG5leHQucHJldiA9IG51bGw7XG4gICAgICAgIGhlYWRPZlBlbmRpbmdDYWxsYmFja3NMaW5rZWRMaXN0ID0gbmV4dDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0aGVyZSBpcyBubyBuZXh0IGNhbGxiYWNrIGNvbmZpZzsgdGhpcyBtdXN0IHRoZSB0YWlsIG9mIHRoZSBsaXN0XG5cbiAgICAgIGlmIChwcmV2ICE9PSBudWxsKSB7XG4gICAgICAgIC8vIHdlIGhhdmUgYSBwcmV2XG5cbiAgICAgICAgLy8gY2FsbGJhY2tDb25maWcgaXMgdGhlIHRhaWwgb2YgYSBsaXN0IG9mIDIgb3IgbW9yZSBvdGhlciBub2Rlcy5cbiAgICAgICAgcHJldi5uZXh0ID0gbnVsbDtcbiAgICAgICAgdGFpbE9mUGVuZGluZ0NhbGxiYWNrc0xpbmtlZExpc3QgPSBwcmV2O1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aGVyZSBpcyBubyBwcmV2aW91cyBjYWxsYmFjayBjb25maWc7XG4gICAgICAgIC8vIGNhbGxiYWNrQ29uZmlnIGlzIHRoZSBvbmx5IHRoaW5nIGluIHRoZSBsaW5rZWQgbGlzdCxcbiAgICAgICAgLy8gc28gYm90aCBoZWFkIGFuZCB0YWlsIHBvaW50IHRvIGl0LlxuICAgICAgICBoZWFkT2ZQZW5kaW5nQ2FsbGJhY2tzTGlua2VkTGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWxPZlBlbmRpbmdDYWxsYmFja3NMaW5rZWRMaXN0ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxudmFyIGRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGZsYXR0ZW5DaGlsZHJlbihjaGlsZHJlbikge1xuICB2YXIgY29udGVudCA9ICcnO1xuXG4gIC8vIEZsYXR0ZW4gY2hpbGRyZW4gYW5kIHdhcm4gaWYgdGhleSBhcmVuJ3Qgc3RyaW5ncyBvciBudW1iZXJzO1xuICAvLyBpbnZhbGlkIHR5cGVzIGFyZSBpZ25vcmVkLlxuICAvLyBXZSBjYW4gc2lsZW50bHkgc2tpcCB0aGVtIGJlY2F1c2UgaW52YWxpZCBET00gbmVzdGluZyB3YXJuaW5nXG4gIC8vIGNhdGNoZXMgdGhlc2UgY2FzZXMgaW4gRmliZXIuXG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBjaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnRlbnQgKz0gY2hpbGQ7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGFuIDxvcHRpb24+IGhvc3QgY29tcG9uZW50IHRoYXQgd2FybnMgd2hlbiBgc2VsZWN0ZWRgIGlzIHNldC5cbiAqL1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKGVsZW1lbnQsIHByb3BzKSB7XG4gIC8vIFRPRE8gKHl1bmdzdGVycyk6IFJlbW92ZSBzdXBwb3J0IGZvciBgc2VsZWN0ZWRgIGluIDxvcHRpb24+LlxuICB7XG4gICAgaWYgKHByb3BzLnNlbGVjdGVkICE9IG51bGwgJiYgIWRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIG9uIDxzZWxlY3Q+IGluc3RlYWQgb2YgJyArICdzZXR0aW5nIGBzZWxlY3RlZGAgb24gPG9wdGlvbj4uJyk7XG4gICAgICBkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbiA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIkMShlbGVtZW50LCBwcm9wcykge1xuICAvLyB2YWx1ZT1cIlwiIHNob3VsZCBtYWtlIGEgdmFsdWUgYXR0cmlidXRlICgjNjIxOSlcbiAgaWYgKHByb3BzLnZhbHVlICE9IG51bGwpIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9wcy52YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDEoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIGhvc3RQcm9wcyA9IF9hc3NpZ24oeyBjaGlsZHJlbjogdW5kZWZpbmVkIH0sIHByb3BzKTtcbiAgdmFyIGNvbnRlbnQgPSBmbGF0dGVuQ2hpbGRyZW4ocHJvcHMuY2hpbGRyZW4pO1xuXG4gIGlmIChjb250ZW50KSB7XG4gICAgaG9zdFByb3BzLmNoaWxkcmVuID0gY29udGVudDtcbiAgfVxuXG4gIHJldHVybiBob3N0UHJvcHM7XG59XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMyA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lO1xudmFyIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMyA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTtcblxuXG52YXIgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICB2YXIgb3duZXJOYW1lID0gZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDMoKTtcbiAgaWYgKG93bmVyTmFtZSkge1xuICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBvd25lck5hbWUgKyAnYC4nO1xuICB9XG4gIHJldHVybiAnJztcbn1cblxudmFyIHZhbHVlUHJvcE5hbWVzID0gWyd2YWx1ZScsICdkZWZhdWx0VmFsdWUnXTtcblxuLyoqXG4gKiBWYWxpZGF0aW9uIGZ1bmN0aW9uIGZvciBgdmFsdWVgIGFuZCBgZGVmYXVsdFZhbHVlYC5cbiAqL1xuZnVuY3Rpb24gY2hlY2tTZWxlY3RQcm9wVHlwZXMocHJvcHMpIHtcbiAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoJ3NlbGVjdCcsIHByb3BzLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDMpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVQcm9wTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcHJvcE5hbWUgPSB2YWx1ZVByb3BOYW1lc1tpXTtcbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkocHJvcHNbcHJvcE5hbWVdKTtcbiAgICBpZiAocHJvcHMubXVsdGlwbGUgJiYgIWlzQXJyYXkpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYW4gYXJyYXkgaWYgJyArICdgbXVsdGlwbGVgIGlzIHRydWUuJXMnLCBwcm9wTmFtZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkpO1xuICAgIH0gZWxzZSBpZiAoIXByb3BzLm11bHRpcGxlICYmIGlzQXJyYXkpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYSBzY2FsYXIgJyArICd2YWx1ZSBpZiBgbXVsdGlwbGVgIGlzIGZhbHNlLiVzJywgcHJvcE5hbWUsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhub2RlLCBtdWx0aXBsZSwgcHJvcFZhbHVlLCBzZXREZWZhdWx0U2VsZWN0ZWQpIHtcbiAgdmFyIG9wdGlvbnMgPSBub2RlLm9wdGlvbnM7XG5cbiAgaWYgKG11bHRpcGxlKSB7XG4gICAgdmFyIHNlbGVjdGVkVmFsdWVzID0gcHJvcFZhbHVlO1xuICAgIHZhciBzZWxlY3RlZFZhbHVlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gUHJlZml4IHRvIGF2b2lkIGNoYW9zIHdpdGggc3BlY2lhbCBrZXlzLlxuICAgICAgc2VsZWN0ZWRWYWx1ZVsnJCcgKyBzZWxlY3RlZFZhbHVlc1tpXV0gPSB0cnVlO1xuICAgIH1cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgb3B0aW9ucy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHNlbGVjdGVkVmFsdWUuaGFzT3duUHJvcGVydHkoJyQnICsgb3B0aW9uc1tfaV0udmFsdWUpO1xuICAgICAgaWYgKG9wdGlvbnNbX2ldLnNlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xuICAgICAgICBvcHRpb25zW19pXS5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdGVkICYmIHNldERlZmF1bHRTZWxlY3RlZCkge1xuICAgICAgICBvcHRpb25zW19pXS5kZWZhdWx0U2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBEbyBub3Qgc2V0IGBzZWxlY3QudmFsdWVgIGFzIGV4YWN0IGJlaGF2aW9yIGlzbid0IGNvbnNpc3RlbnQgYWNyb3NzIGFsbFxuICAgIC8vIGJyb3dzZXJzIGZvciBhbGwgY2FzZXMuXG4gICAgdmFyIF9zZWxlY3RlZFZhbHVlID0gJycgKyBwcm9wVmFsdWU7XG4gICAgdmFyIGRlZmF1bHRTZWxlY3RlZCA9IG51bGw7XG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgb3B0aW9ucy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICBpZiAob3B0aW9uc1tfaTJdLnZhbHVlID09PSBfc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICBvcHRpb25zW19pMl0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoc2V0RGVmYXVsdFNlbGVjdGVkKSB7XG4gICAgICAgICAgb3B0aW9uc1tfaTJdLmRlZmF1bHRTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlZmF1bHRTZWxlY3RlZCA9PT0gbnVsbCAmJiAhb3B0aW9uc1tfaTJdLmRpc2FibGVkKSB7XG4gICAgICAgIGRlZmF1bHRTZWxlY3RlZCA9IG9wdGlvbnNbX2kyXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRlZmF1bHRTZWxlY3RlZCAhPT0gbnVsbCkge1xuICAgICAgZGVmYXVsdFNlbGVjdGVkLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgPHNlbGVjdD4gaG9zdCBjb21wb25lbnQgdGhhdCBhbGxvd3Mgb3B0aW9uYWxseSBzZXR0aW5nIHRoZVxuICogcHJvcHMgYHZhbHVlYCBhbmQgYGRlZmF1bHRWYWx1ZWAuIElmIGBtdWx0aXBsZWAgaXMgZmFsc2UsIHRoZSBwcm9wIG11c3QgYmUgYVxuICogc3RyaW5nYWJsZS4gSWYgYG11bHRpcGxlYCBpcyB0cnVlLCB0aGUgcHJvcCBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ2FibGVzLlxuICpcbiAqIElmIGB2YWx1ZWAgaXMgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9ucyB0aGF0IGNoYW5nZSB0aGVcbiAqIHNlbGVjdGVkIG9wdGlvbiB3aWxsIHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgcmVuZGVyZWQgb3B0aW9ucy5cbiAqXG4gKiBJZiBpdCBpcyBzdXBwbGllZCAoYW5kIG5vdCBudWxsL3VuZGVmaW5lZCksIHRoZSByZW5kZXJlZCBvcHRpb25zIHdpbGwgbm90XG4gKiB1cGRhdGUgaW4gcmVzcG9uc2UgdG8gdXNlciBhY3Rpb25zLiBJbnN0ZWFkLCB0aGUgYHZhbHVlYCBwcm9wIG11c3QgY2hhbmdlIGluXG4gKiBvcmRlciBmb3IgdGhlIHJlbmRlcmVkIG9wdGlvbnMgdG8gdXBkYXRlLlxuICpcbiAqIElmIGBkZWZhdWx0VmFsdWVgIGlzIHByb3ZpZGVkLCBhbnkgb3B0aW9ucyB3aXRoIHRoZSBzdXBwbGllZCB2YWx1ZXMgd2lsbCBiZVxuICogc2VsZWN0ZWQuXG4gKi9cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgcmV0dXJuIF9hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgdmFsdWU6IHVuZGVmaW5lZFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdFdyYXBwZXJTdGF0ZSQxKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAge1xuICAgIGNoZWNrU2VsZWN0UHJvcFR5cGVzKHByb3BzKTtcbiAgfVxuXG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICBub2RlLl93cmFwcGVyU3RhdGUgPSB7XG4gICAgaW5pdGlhbFZhbHVlOiB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgd2FzTXVsdGlwbGU6ICEhcHJvcHMubXVsdGlwbGVcbiAgfTtcblxuICB7XG4gICAgaWYgKHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnU2VsZWN0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBzZWxlY3QgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnKTtcbiAgICAgIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcG9zdE1vdW50V3JhcHBlciQyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgbm9kZS5tdWx0aXBsZSA9ICEhcHJvcHMubXVsdGlwbGU7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgdmFsdWUsIGZhbHNlKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgcHJvcHMuZGVmYXVsdFZhbHVlLCB0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3N0VXBkYXRlV3JhcHBlcihlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIC8vIEFmdGVyIHRoZSBpbml0aWFsIG1vdW50LCB3ZSBjb250cm9sIHNlbGVjdGVkLW5lc3MgbWFudWFsbHkgc28gZG9uJ3QgcGFzc1xuICAvLyB0aGlzIHZhbHVlIGRvd25cbiAgbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSA9IHVuZGVmaW5lZDtcblxuICB2YXIgd2FzTXVsdGlwbGUgPSBub2RlLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGU7XG4gIG5vZGUuX3dyYXBwZXJTdGF0ZS53YXNNdWx0aXBsZSA9ICEhcHJvcHMubXVsdGlwbGU7XG5cbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWU7XG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgdXBkYXRlT3B0aW9ucyhub2RlLCAhIXByb3BzLm11bHRpcGxlLCB2YWx1ZSwgZmFsc2UpO1xuICB9IGVsc2UgaWYgKHdhc011bHRpcGxlICE9PSAhIXByb3BzLm11bHRpcGxlKSB7XG4gICAgLy8gRm9yIHNpbXBsaWNpdHksIHJlYXBwbHkgYGRlZmF1bHRWYWx1ZWAgaWYgYG11bHRpcGxlYCBpcyB0b2dnbGVkLlxuICAgIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgdXBkYXRlT3B0aW9ucyhub2RlLCAhIXByb3BzLm11bHRpcGxlLCBwcm9wcy5kZWZhdWx0VmFsdWUsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXZlcnQgdGhlIHNlbGVjdCBiYWNrIHRvIGl0cyBkZWZhdWx0IHVuc2VsZWN0ZWQgc3RhdGUuXG4gICAgICB1cGRhdGVPcHRpb25zKG5vZGUsICEhcHJvcHMubXVsdGlwbGUsIHByb3BzLm11bHRpcGxlID8gW10gOiAnJywgZmFsc2UpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcblxuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgdmFsdWUsIGZhbHNlKTtcbiAgfVxufVxuXG4vLyBUT0RPOiBkaXJlY3QgaW1wb3J0cyBsaWtlIHNvbWUtcGFja2FnZS9zcmMvKiBhcmUgYmFkLiBGaXggbWUuXG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ0ID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG52YXIgZGlkV2FyblZhbERlZmF1bHRWYWwgPSBmYWxzZTtcblxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgPHRleHRhcmVhPiBob3N0IGNvbXBvbmVudCB0aGF0IGFsbG93cyBzZXR0aW5nIGB2YWx1ZWAsIGFuZFxuICogYGRlZmF1bHRWYWx1ZWAuIFRoaXMgZGlmZmVycyBmcm9tIHRoZSB0cmFkaXRpb25hbCBET00gQVBJIGJlY2F1c2UgdmFsdWUgaXNcbiAqIHVzdWFsbHkgc2V0IGFzIFBDREFUQSBjaGlsZHJlbi5cbiAqXG4gKiBJZiBgdmFsdWVgIGlzIG5vdCBzdXBwbGllZCAob3IgbnVsbC91bmRlZmluZWQpLCB1c2VyIGFjdGlvbnMgdGhhdCBhZmZlY3QgdGhlXG4gKiB2YWx1ZSB3aWxsIHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgZWxlbWVudC5cbiAqXG4gKiBJZiBgdmFsdWVgIGlzIHN1cHBsaWVkIChhbmQgbm90IG51bGwvdW5kZWZpbmVkKSwgdGhlIHJlbmRlcmVkIGVsZW1lbnQgd2lsbFxuICogbm90IHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgZWxlbWVudC4gSW5zdGVhZCwgdGhlIGB2YWx1ZWAgcHJvcCBtdXN0IGNoYW5nZSBpblxuICogb3JkZXIgZm9yIHRoZSByZW5kZXJlZCBlbGVtZW50IHRvIGJlIHVwZGF0ZWQuXG4gKlxuICogVGhlIHJlbmRlcmVkIGVsZW1lbnQgd2lsbCBiZSBpbml0aWFsaXplZCB3aXRoIGFuIGVtcHR5IHZhbHVlLCB0aGUgcHJvcFxuICogYGRlZmF1bHRWYWx1ZWAgaWYgc3BlY2lmaWVkLCBvciB0aGUgY2hpbGRyZW4gY29udGVudCAoZGVwcmVjYXRlZCkuXG4gKi9cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDMoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICAhKHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBkb2VzIG5vdCBtYWtlIHNlbnNlIG9uIDx0ZXh0YXJlYT4uJykgOiB2b2lkIDA7XG5cbiAgLy8gQWx3YXlzIHNldCBjaGlsZHJlbiB0byB0aGUgc2FtZSB0aGluZy4gSW4gSUU5LCB0aGUgc2VsZWN0aW9uIHJhbmdlIHdpbGxcbiAgLy8gZ2V0IHJlc2V0IGlmIGB0ZXh0Q29udGVudGAgaXMgbXV0YXRlZC4gIFdlIGNvdWxkIGFkZCBhIGNoZWNrIGluIHNldFRleHRDb250ZW50XG4gIC8vIHRvIG9ubHkgc2V0IHRoZSB2YWx1ZSBpZi93aGVuIHRoZSB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIG5vZGUgdmFsdWUgKHdoaWNoIHdvdWxkXG4gIC8vIGNvbXBsZXRlbHkgc29sdmUgdGhpcyBJRTkgYnVnKSwgYnV0IFNlYmFzdGlhbitTb3BoaWUgc2VlbWVkIHRvIGxpa2UgdGhpc1xuICAvLyBzb2x1dGlvbi4gVGhlIHZhbHVlIGNhbiBiZSBhIGJvb2xlYW4gb3Igb2JqZWN0IHNvIHRoYXQncyB3aHkgaXQncyBmb3JjZWRcbiAgLy8gdG8gYmUgYSBzdHJpbmcuXG4gIHZhciBob3N0UHJvcHMgPSBfYXNzaWduKHt9LCBwcm9wcywge1xuICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWQsXG4gICAgY2hpbGRyZW46ICcnICsgbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZVxuICB9KTtcblxuICByZXR1cm4gaG9zdFByb3BzO1xufVxuXG5mdW5jdGlvbiBpbml0V3JhcHBlclN0YXRlJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB7XG4gICAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoJ3RleHRhcmVhJywgcHJvcHMsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNCk7XG4gICAgaWYgKHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWxEZWZhdWx0VmFsKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVGV4dGFyZWEgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCAnICsgJ2JvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIHRleHRhcmVhICcgKyAnYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycpO1xuICAgICAgZGlkV2FyblZhbERlZmF1bHRWYWwgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpbml0aWFsVmFsdWUgPSBwcm9wcy52YWx1ZTtcblxuICAvLyBPbmx5IGJvdGhlciBmZXRjaGluZyBkZWZhdWx0IHZhbHVlIGlmIHdlJ3JlIGdvaW5nIHRvIHVzZSBpdFxuICBpZiAoaW5pdGlhbFZhbHVlID09IG51bGwpIHtcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgIC8vIFRPRE8gKHl1bmdzdGVycyk6IFJlbW92ZSBzdXBwb3J0IGZvciBjaGlsZHJlbiBjb250ZW50IGluIDx0ZXh0YXJlYT4uXG4gICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1VzZSB0aGUgYGRlZmF1bHRWYWx1ZWAgb3IgYHZhbHVlYCBwcm9wcyBpbnN0ZWFkIG9mIHNldHRpbmcgJyArICdjaGlsZHJlbiBvbiA8dGV4dGFyZWE+LicpO1xuICAgICAgfVxuICAgICAgIShkZWZhdWx0VmFsdWUgPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdJZiB5b3Ugc3VwcGx5IGBkZWZhdWx0VmFsdWVgIG9uIGEgPHRleHRhcmVhPiwgZG8gbm90IHBhc3MgY2hpbGRyZW4uJykgOiB2b2lkIDA7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgIShjaGlsZHJlbi5sZW5ndGggPD0gMSkgPyBpbnZhcmlhbnQoZmFsc2UsICc8dGV4dGFyZWE+IGNhbiBvbmx5IGhhdmUgYXQgbW9zdCBvbmUgY2hpbGQuJykgOiB2b2lkIDA7XG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW5bMF07XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHRWYWx1ZSA9ICcnICsgY2hpbGRyZW47XG4gICAgfVxuICAgIGlmIChkZWZhdWx0VmFsdWUgPT0gbnVsbCkge1xuICAgICAgZGVmYXVsdFZhbHVlID0gJyc7XG4gICAgfVxuICAgIGluaXRpYWxWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgfVxuXG4gIG5vZGUuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICBpbml0aWFsVmFsdWU6ICcnICsgaW5pdGlhbFZhbHVlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVdyYXBwZXIkMShlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIC8vIENhc3QgYHZhbHVlYCB0byBhIHN0cmluZyB0byBlbnN1cmUgdGhlIHZhbHVlIGlzIHNldCBjb3JyZWN0bHkuIFdoaWxlXG4gICAgLy8gYnJvd3NlcnMgdHlwaWNhbGx5IGRvIHRoaXMgYXMgbmVjZXNzYXJ5LCBqc2RvbSBkb2Vzbid0LlxuICAgIHZhciBuZXdWYWx1ZSA9ICcnICsgdmFsdWU7XG5cbiAgICAvLyBUbyBhdm9pZCBzaWRlIGVmZmVjdHMgKHN1Y2ggYXMgbG9zaW5nIHRleHQgc2VsZWN0aW9uKSwgb25seSBzZXQgdmFsdWUgaWYgY2hhbmdlZFxuICAgIGlmIChuZXdWYWx1ZSAhPT0gbm9kZS52YWx1ZSkge1xuICAgICAgbm9kZS52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBpZiAocHJvcHMuZGVmYXVsdFZhbHVlID09IG51bGwpIHtcbiAgICAgIG5vZGUuZGVmYXVsdFZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuICB9XG4gIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgIG5vZGUuZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIkMyhlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIC8vIFRoaXMgaXMgaW4gcG9zdE1vdW50IGJlY2F1c2Ugd2UgbmVlZCBhY2Nlc3MgdG8gdGhlIERPTSBub2RlLCB3aGljaCBpcyBub3RcbiAgLy8gYXZhaWxhYmxlIHVudGlsIGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIG1vdW50ZWQuXG4gIHZhciB0ZXh0Q29udGVudCA9IG5vZGUudGV4dENvbnRlbnQ7XG5cbiAgLy8gT25seSBzZXQgbm9kZS52YWx1ZSBpZiB0ZXh0Q29udGVudCBpcyBlcXVhbCB0byB0aGUgZXhwZWN0ZWRcbiAgLy8gaW5pdGlhbCB2YWx1ZS4gSW4gSUUxMC9JRTExIHRoZXJlIGlzIGEgYnVnIHdoZXJlIHRoZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGVcbiAgLy8gd2lsbCBwb3B1bGF0ZSB0ZXh0Q29udGVudCBhcyB3ZWxsLlxuICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMDE1MjUvXG4gIGlmICh0ZXh0Q29udGVudCA9PT0gbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSkge1xuICAgIG5vZGUudmFsdWUgPSB0ZXh0Q29udGVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDMoZWxlbWVudCwgcHJvcHMpIHtcbiAgLy8gRE9NIGNvbXBvbmVudCBpcyBzdGlsbCBtb3VudGVkOyB1cGRhdGVcbiAgdXBkYXRlV3JhcHBlciQxKGVsZW1lbnQsIHByb3BzKTtcbn1cblxudmFyIEhUTUxfTkFNRVNQQUNFJDEgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG52YXIgTUFUSF9OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCc7XG52YXIgU1ZHX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbnZhciBOYW1lc3BhY2VzID0ge1xuICBodG1sOiBIVE1MX05BTUVTUEFDRSQxLFxuICBtYXRobWw6IE1BVEhfTkFNRVNQQUNFLFxuICBzdmc6IFNWR19OQU1FU1BBQ0Vcbn07XG5cbi8vIEFzc3VtZXMgdGhlcmUgaXMgbm8gcGFyZW50IG5hbWVzcGFjZS5cbmZ1bmN0aW9uIGdldEludHJpbnNpY05hbWVzcGFjZSh0eXBlKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3N2Zyc6XG4gICAgICByZXR1cm4gU1ZHX05BTUVTUEFDRTtcbiAgICBjYXNlICdtYXRoJzpcbiAgICAgIHJldHVybiBNQVRIX05BTUVTUEFDRTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEhUTUxfTkFNRVNQQUNFJDE7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2hpbGROYW1lc3BhY2UocGFyZW50TmFtZXNwYWNlLCB0eXBlKSB7XG4gIGlmIChwYXJlbnROYW1lc3BhY2UgPT0gbnVsbCB8fCBwYXJlbnROYW1lc3BhY2UgPT09IEhUTUxfTkFNRVNQQUNFJDEpIHtcbiAgICAvLyBObyAob3IgZGVmYXVsdCkgcGFyZW50IG5hbWVzcGFjZTogcG90ZW50aWFsIGVudHJ5IHBvaW50LlxuICAgIHJldHVybiBnZXRJbnRyaW5zaWNOYW1lc3BhY2UodHlwZSk7XG4gIH1cbiAgaWYgKHBhcmVudE5hbWVzcGFjZSA9PT0gU1ZHX05BTUVTUEFDRSAmJiB0eXBlID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICAvLyBXZSdyZSBsZWF2aW5nIFNWRy5cbiAgICByZXR1cm4gSFRNTF9OQU1FU1BBQ0UkMTtcbiAgfVxuICAvLyBCeSBkZWZhdWx0LCBwYXNzIG5hbWVzcGFjZSBiZWxvdy5cbiAgcmV0dXJuIHBhcmVudE5hbWVzcGFjZTtcbn1cblxuLyogZ2xvYmFscyBNU0FwcCAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIGZ1bmN0aW9uIHdoaWNoIGhhcyAndW5zYWZlJyBwcml2aWxlZ2VzIChyZXF1aXJlZCBieSB3aW5kb3dzOCBhcHBzKVxuICovXG52YXIgY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbiA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIGlmICh0eXBlb2YgTVNBcHAgIT09ICd1bmRlZmluZWQnICYmIE1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW5jKGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuYztcbiAgfVxufTtcblxuLy8gU1ZHIHRlbXAgY29udGFpbmVyIGZvciBJRSBsYWNraW5nIGlubmVySFRNTFxudmFyIHJldXNhYmxlU1ZHQ29udGFpbmVyID0gdm9pZCAwO1xuXG4vKipcbiAqIFNldCB0aGUgaW5uZXJIVE1MIHByb3BlcnR5IG9mIGEgbm9kZVxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgc2V0SW5uZXJIVE1MID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbiAobm9kZSwgaHRtbCkge1xuICAvLyBJRSBkb2VzIG5vdCBoYXZlIGlubmVySFRNTCBmb3IgU1ZHIG5vZGVzLCBzbyBpbnN0ZWFkIHdlIGluamVjdCB0aGVcbiAgLy8gbmV3IG1hcmt1cCBpbiBhIHRlbXAgbm9kZSBhbmQgdGhlbiBtb3ZlIHRoZSBjaGlsZCBub2RlcyBhY3Jvc3MgaW50b1xuICAvLyB0aGUgdGFyZ2V0IG5vZGVcblxuICBpZiAobm9kZS5uYW1lc3BhY2VVUkkgPT09IE5hbWVzcGFjZXMuc3ZnICYmICEoJ2lubmVySFRNTCcgaW4gbm9kZSkpIHtcbiAgICByZXVzYWJsZVNWR0NvbnRhaW5lciA9IHJldXNhYmxlU1ZHQ29udGFpbmVyIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJldXNhYmxlU1ZHQ29udGFpbmVyLmlubmVySFRNTCA9ICc8c3ZnPicgKyBodG1sICsgJzwvc3ZnPic7XG4gICAgdmFyIHN2Z05vZGUgPSByZXVzYWJsZVNWR0NvbnRhaW5lci5maXJzdENoaWxkO1xuICAgIHdoaWxlIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgd2hpbGUgKHN2Z05vZGUuZmlyc3RDaGlsZCkge1xuICAgICAgbm9kZS5hcHBlbmRDaGlsZChzdmdOb2RlLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBub2RlLmlubmVySFRNTCA9IGh0bWw7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFNldCB0aGUgdGV4dENvbnRlbnQgcHJvcGVydHkgb2YgYSBub2RlLiBGb3IgdGV4dCB1cGRhdGVzLCBpdCdzIGZhc3RlclxuICogdG8gc2V0IHRoZSBgbm9kZVZhbHVlYCBvZiB0aGUgVGV4dCBub2RlIGRpcmVjdGx5IGluc3RlYWQgb2YgdXNpbmdcbiAqIGAudGV4dENvbnRlbnRgIHdoaWNoIHdpbGwgcmVtb3ZlIHRoZSBleGlzdGluZyBub2RlIGFuZCBjcmVhdGUgYSBuZXcgb25lLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgc2V0VGV4dENvbnRlbnQgPSBmdW5jdGlvbiAobm9kZSwgdGV4dCkge1xuICBpZiAodGV4dCkge1xuICAgIHZhciBmaXJzdENoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuXG4gICAgaWYgKGZpcnN0Q2hpbGQgJiYgZmlyc3RDaGlsZCA9PT0gbm9kZS5sYXN0Q2hpbGQgJiYgZmlyc3RDaGlsZC5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSB7XG4gICAgICBmaXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xufTtcblxuLyoqXG4gKiBDU1MgcHJvcGVydGllcyB3aGljaCBhY2NlcHQgbnVtYmVycyBidXQgYXJlIG5vdCBpbiB1bml0cyBvZiBcInB4XCIuXG4gKi9cbnZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VPdXRzZXQ6IHRydWUsXG4gIGJvcmRlckltYWdlU2xpY2U6IHRydWUsXG4gIGJvcmRlckltYWdlV2lkdGg6IHRydWUsXG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgY29sdW1uczogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmbGV4T3JkZXI6IHRydWUsXG4gIGdyaWRSb3c6IHRydWUsXG4gIGdyaWRSb3dFbmQ6IHRydWUsXG4gIGdyaWRSb3dTcGFuOiB0cnVlLFxuICBncmlkUm93U3RhcnQ6IHRydWUsXG4gIGdyaWRDb2x1bW46IHRydWUsXG4gIGdyaWRDb2x1bW5FbmQ6IHRydWUsXG4gIGdyaWRDb2x1bW5TcGFuOiB0cnVlLFxuICBncmlkQ29sdW1uU3RhcnQ6IHRydWUsXG4gIGZvbnRXZWlnaHQ6IHRydWUsXG4gIGxpbmVDbGFtcDogdHJ1ZSxcbiAgbGluZUhlaWdodDogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgb3JkZXI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIHRhYlNpemU6IHRydWUsXG4gIHdpZG93czogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuICB6b29tOiB0cnVlLFxuXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IHRydWUsXG4gIGZsb29kT3BhY2l0eTogdHJ1ZSxcbiAgc3RvcE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hhcnJheTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcbiAgc3Ryb2tlTWl0ZXJsaW1pdDogdHJ1ZSxcbiAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlV2lkdGg6IHRydWVcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCB2ZW5kb3Itc3BlY2lmaWMgcHJlZml4LCBlZzogV2Via2l0XG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHN0eWxlIG5hbWUsIGVnOiB0cmFuc2l0aW9uRHVyYXRpb25cbiAqIEByZXR1cm4ge3N0cmluZ30gc3R5bGUgbmFtZSBwcmVmaXhlZCB3aXRoIGBwcmVmaXhgLCBwcm9wZXJseSBjYW1lbENhc2VkLCBlZzpcbiAqIFdlYmtpdFRyYW5zaXRpb25EdXJhdGlvblxuICovXG5mdW5jdGlvbiBwcmVmaXhLZXkocHJlZml4LCBrZXkpIHtcbiAgcmV0dXJuIHByZWZpeCArIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7XG59XG5cbi8qKlxuICogU3VwcG9ydCBzdHlsZSBuYW1lcyB0aGF0IG1heSBjb21lIHBhc3NlZCBpbiBwcmVmaXhlZCBieSBhZGRpbmcgcGVybXV0YXRpb25zXG4gKiBvZiB2ZW5kb3IgcHJlZml4ZXMuXG4gKi9cbnZhciBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ21zJywgJ01veicsICdPJ107XG5cbi8vIFVzaW5nIE9iamVjdC5rZXlzIGhlcmUsIG9yIGVsc2UgdGhlIHZhbmlsbGEgZm9yLWluIGxvb3AgbWFrZXMgSUU4IGdvIGludG8gYW5cbi8vIGluZmluaXRlIGxvb3AsIGJlY2F1c2UgaXQgaXRlcmF0ZXMgb3ZlciB0aGUgbmV3bHkgYWRkZWQgcHJvcHMgdG9vLlxuT2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBpc1VuaXRsZXNzTnVtYmVyW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGlzVW5pdGxlc3NOdW1iZXJbcHJvcF07XG4gIH0pO1xufSk7XG5cbi8qKlxuICogQ29udmVydCBhIHZhbHVlIGludG8gdGhlIHByb3BlciBjc3Mgd3JpdGFibGUgdmFsdWUuIFRoZSBzdHlsZSBuYW1lIGBuYW1lYFxuICogc2hvdWxkIGJlIGxvZ2ljYWwgKG5vIGh5cGhlbnMpLCBhcyBzcGVjaWZpZWRcbiAqIGluIGBDU1NQcm9wZXJ0eS5pc1VuaXRsZXNzTnVtYmVyYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDU1MgcHJvcGVydHkgbmFtZSBzdWNoIGFzIGB0b3BNYXJnaW5gLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBDU1MgcHJvcGVydHkgdmFsdWUgc3VjaCBhcyBgMTBweGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vcm1hbGl6ZWQgc3R5bGUgdmFsdWUgd2l0aCBkaW1lbnNpb25zIGFwcGxpZWQuXG4gKi9cbmZ1bmN0aW9uIGRhbmdlcm91c1N0eWxlVmFsdWUobmFtZSwgdmFsdWUsIGlzQ3VzdG9tUHJvcGVydHkpIHtcbiAgLy8gTm90ZSB0aGF0IHdlJ3ZlIHJlbW92ZWQgZXNjYXBlVGV4dEZvckJyb3dzZXIoKSBjYWxscyBoZXJlIHNpbmNlIHRoZVxuICAvLyB3aG9sZSBzdHJpbmcgd2lsbCBiZSBlc2NhcGVkIHdoZW4gdGhlIGF0dHJpYnV0ZSBpcyBpbmplY3RlZCBpbnRvXG4gIC8vIHRoZSBtYXJrdXAuIElmIHlvdSBwcm92aWRlIHVuc2FmZSB1c2VyIGRhdGEgaGVyZSB0aGV5IGNhbiBpbmplY3RcbiAgLy8gYXJiaXRyYXJ5IENTUyB3aGljaCBtYXkgYmUgcHJvYmxlbWF0aWMgKEkgY291bGRuJ3QgcmVwcm8gdGhpcyk6XG4gIC8vIGh0dHBzOi8vd3d3Lm93YXNwLm9yZy9pbmRleC5waHAvWFNTX0ZpbHRlcl9FdmFzaW9uX0NoZWF0X1NoZWV0XG4gIC8vIGh0dHA6Ly93d3cudGhlc3Bhbm5lci5jby51ay8yMDA3LzExLzI2L3VsdGltYXRlLXhzcy1jc3MtaW5qZWN0aW9uL1xuICAvLyBUaGlzIGlzIG5vdCBhbiBYU1MgaG9sZSBidXQgaW5zdGVhZCBhIHBvdGVudGlhbCBDU1MgaW5qZWN0aW9uIGlzc3VlXG4gIC8vIHdoaWNoIGhhcyBsZWFkIHRvIGEgZ3JlYXRlciBkaXNjdXNzaW9uIGFib3V0IGhvdyB3ZSdyZSBnb2luZyB0b1xuICAvLyB0cnVzdCBVUkxzIG1vdmluZyBmb3J3YXJkLiBTZWUgIzIxMTU5MDFcblxuICB2YXIgaXNFbXB0eSA9IHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHwgdmFsdWUgPT09ICcnO1xuICBpZiAoaXNFbXB0eSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmICghaXNDdXN0b21Qcm9wZXJ0eSAmJiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSAwICYmICEoaXNVbml0bGVzc051bWJlci5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBpc1VuaXRsZXNzTnVtYmVyW25hbWVdKSkge1xuICAgIHJldHVybiB2YWx1ZSArICdweCc7IC8vIFByZXN1bWVzIGltcGxpY2l0ICdweCcgc3VmZml4IGZvciB1bml0bGVzcyBudW1iZXJzXG4gIH1cblxuICByZXR1cm4gKCcnICsgdmFsdWUpLnRyaW0oKTtcbn1cblxudmFyIHdhcm5WYWxpZFN0eWxlID0gZW1wdHlGdW5jdGlvbjtcblxue1xuICAvLyAnbXNUcmFuc2Zvcm0nIGlzIGNvcnJlY3QsIGJ1dCB0aGUgb3RoZXIgcHJlZml4ZXMgc2hvdWxkIGJlIGNhcGl0YWxpemVkXG4gIHZhciBiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4gPSAvXig/OndlYmtpdHxtb3p8bylbQS1aXS87XG5cbiAgLy8gc3R5bGUgdmFsdWVzIHNob3VsZG4ndCBjb250YWluIGEgc2VtaWNvbG9uXG4gIHZhciBiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4gPSAvO1xccyokLztcblxuICB2YXIgd2FybmVkU3R5bGVOYW1lcyA9IHt9O1xuICB2YXIgd2FybmVkU3R5bGVWYWx1ZXMgPSB7fTtcbiAgdmFyIHdhcm5lZEZvck5hTlZhbHVlID0gZmFsc2U7XG4gIHZhciB3YXJuZWRGb3JJbmZpbml0eVZhbHVlID0gZmFsc2U7XG5cbiAgdmFyIHdhcm5IeXBoZW5hdGVkU3R5bGVOYW1lID0gZnVuY3Rpb24gKG5hbWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdVbnN1cHBvcnRlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPyVzJywgbmFtZSwgY2FtZWxpemVTdHlsZU5hbWUobmFtZSksIGdldFN0YWNrKCkpO1xuICB9O1xuXG4gIHZhciB3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUgPSBmdW5jdGlvbiAobmFtZSwgZ2V0U3RhY2spIHtcbiAgICBpZiAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiB3YXJuZWRTdHlsZU5hbWVzW25hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ1Vuc3VwcG9ydGVkIHZlbmRvci1wcmVmaXhlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPyVzJywgbmFtZSwgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSksIGdldFN0YWNrKCkpO1xuICB9O1xuXG4gIHZhciB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKHdhcm5lZFN0eWxlVmFsdWVzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJiB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsIFwiU3R5bGUgcHJvcGVydHkgdmFsdWVzIHNob3VsZG4ndCBjb250YWluIGEgc2VtaWNvbG9uLiBcIiArICdUcnkgXCIlczogJXNcIiBpbnN0ZWFkLiVzJywgbmFtZSwgdmFsdWUucmVwbGFjZShiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4sICcnKSwgZ2V0U3RhY2soKSk7XG4gIH07XG5cbiAgdmFyIHdhcm5TdHlsZVZhbHVlSXNOYU4gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKHdhcm5lZEZvck5hTlZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkRm9yTmFOVmFsdWUgPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdgTmFOYCBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgYCVzYCBjc3Mgc3R5bGUgcHJvcGVydHkuJXMnLCBuYW1lLCBnZXRTdGFjaygpKTtcbiAgfTtcblxuICB2YXIgd2FyblN0eWxlVmFsdWVJc0luZmluaXR5ID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCBnZXRTdGFjaykge1xuICAgIGlmICh3YXJuZWRGb3JJbmZpbml0eVZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkRm9ySW5maW5pdHlWYWx1ZSA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ2BJbmZpbml0eWAgaXMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgdGhlIGAlc2AgY3NzIHN0eWxlIHByb3BlcnR5LiVzJywgbmFtZSwgZ2V0U3RhY2soKSk7XG4gIH07XG5cbiAgd2FyblZhbGlkU3R5bGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKG5hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgIHdhcm5IeXBoZW5hdGVkU3R5bGVOYW1lKG5hbWUsIGdldFN0YWNrKTtcbiAgICB9IGVsc2UgaWYgKGJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybi50ZXN0KG5hbWUpKSB7XG4gICAgICB3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUobmFtZSwgZ2V0U3RhY2spO1xuICAgIH0gZWxzZSBpZiAoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLnRlc3QodmFsdWUpKSB7XG4gICAgICB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24obmFtZSwgdmFsdWUsIGdldFN0YWNrKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICB3YXJuU3R5bGVWYWx1ZUlzTmFOKG5hbWUsIHZhbHVlLCBnZXRTdGFjayk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgd2FyblN0eWxlVmFsdWVJc0luZmluaXR5KG5hbWUsIHZhbHVlLCBnZXRTdGFjayk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG52YXIgd2FyblZhbGlkU3R5bGUkMSA9IHdhcm5WYWxpZFN0eWxlO1xuXG4vKipcbiAqIE9wZXJhdGlvbnMgZm9yIGRlYWxpbmcgd2l0aCBDU1MgcHJvcGVydGllcy5cbiAqL1xuXG4vKipcbiAqIFRoaXMgY3JlYXRlcyBhIHN0cmluZyB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlIGVxdWl2YWxlbnQgdG8gdGhlIHN0eWxlXG4gKiBhdHRyaWJ1dGUgZ2VuZXJhdGVkIGJ5IHNlcnZlci1zaWRlIHJlbmRlcmluZy4gSXQgYnktcGFzc2VzIHdhcm5pbmdzIGFuZFxuICogc2VjdXJpdHkgY2hlY2tzIHNvIGl0J3Mgbm90IHNhZmUgdG8gdXNlIHRoaXMgdmFsdWUgZm9yIGFueXRoaW5nIG90aGVyIHRoYW5cbiAqIGNvbXBhcmlzb24uIEl0IGlzIG9ubHkgdXNlZCBpbiBERVYgZm9yIFNTUiB2YWxpZGF0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVEYW5nZXJvdXNTdHJpbmdGb3JTdHlsZXMoc3R5bGVzKSB7XG4gIHtcbiAgICB2YXIgc2VyaWFsaXplZCA9ICcnO1xuICAgIHZhciBkZWxpbWl0ZXIgPSAnJztcbiAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICBpZiAoIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHN0eWxlVmFsdWUgPSBzdHlsZXNbc3R5bGVOYW1lXTtcbiAgICAgIGlmIChzdHlsZVZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGlzQ3VzdG9tUHJvcGVydHkgPSBzdHlsZU5hbWUuaW5kZXhPZignLS0nKSA9PT0gMDtcbiAgICAgICAgc2VyaWFsaXplZCArPSBkZWxpbWl0ZXIgKyBoeXBoZW5hdGVTdHlsZU5hbWUoc3R5bGVOYW1lKSArICc6JztcbiAgICAgICAgc2VyaWFsaXplZCArPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSwgaXNDdXN0b21Qcm9wZXJ0eSk7XG5cbiAgICAgICAgZGVsaW1pdGVyID0gJzsnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VyaWFsaXplZCB8fCBudWxsO1xuICB9XG59XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgZm9yIG11bHRpcGxlIHN0eWxlcyBvbiBhIG5vZGUuICBJZiBhIHZhbHVlIGlzIHNwZWNpZmllZCBhc1xuICogJycgKGVtcHR5IHN0cmluZyksIHRoZSBjb3JyZXNwb25kaW5nIHN0eWxlIHByb3BlcnR5IHdpbGwgYmUgdW5zZXQuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGVzXG4gKi9cbmZ1bmN0aW9uIHNldFZhbHVlRm9yU3R5bGVzKG5vZGUsIHN0eWxlcywgZ2V0U3RhY2spIHtcbiAgdmFyIHN0eWxlID0gbm9kZS5zdHlsZTtcbiAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHN0eWxlcykge1xuICAgIGlmICghc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgaXNDdXN0b21Qcm9wZXJ0eSA9IHN0eWxlTmFtZS5pbmRleE9mKCctLScpID09PSAwO1xuICAgIHtcbiAgICAgIGlmICghaXNDdXN0b21Qcm9wZXJ0eSkge1xuICAgICAgICB3YXJuVmFsaWRTdHlsZSQxKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGdldFN0YWNrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHN0eWxlVmFsdWUgPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGlzQ3VzdG9tUHJvcGVydHkpO1xuICAgIGlmIChzdHlsZU5hbWUgPT09ICdmbG9hdCcpIHtcbiAgICAgIHN0eWxlTmFtZSA9ICdjc3NGbG9hdCc7XG4gICAgfVxuICAgIGlmIChpc0N1c3RvbVByb3BlcnR5KSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShzdHlsZU5hbWUsIHN0eWxlVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZVtzdHlsZU5hbWVdID0gc3R5bGVWYWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuLy8gRm9yIEhUTUwsIGNlcnRhaW4gdGFncyBzaG91bGQgb21pdCB0aGVpciBjbG9zZSB0YWcuIFdlIGtlZXAgYSB3aGl0ZWxpc3QgZm9yXG4vLyB0aG9zZSBzcGVjaWFsLWNhc2UgdGFncy5cblxudmFyIG9taXR0ZWRDbG9zZVRhZ3MgPSB7XG4gIGFyZWE6IHRydWUsXG4gIGJhc2U6IHRydWUsXG4gIGJyOiB0cnVlLFxuICBjb2w6IHRydWUsXG4gIGVtYmVkOiB0cnVlLFxuICBocjogdHJ1ZSxcbiAgaW1nOiB0cnVlLFxuICBpbnB1dDogdHJ1ZSxcbiAga2V5Z2VuOiB0cnVlLFxuICBsaW5rOiB0cnVlLFxuICBtZXRhOiB0cnVlLFxuICBwYXJhbTogdHJ1ZSxcbiAgc291cmNlOiB0cnVlLFxuICB0cmFjazogdHJ1ZSxcbiAgd2JyOiB0cnVlXG4gIC8vIE5PVEU6IG1lbnVpdGVtJ3MgY2xvc2UgdGFnIHNob3VsZCBiZSBvbWl0dGVkLCBidXQgdGhhdCBjYXVzZXMgcHJvYmxlbXMuXG59O1xuXG4vLyBGb3IgSFRNTCwgY2VydGFpbiB0YWdzIGNhbm5vdCBoYXZlIGNoaWxkcmVuLiBUaGlzIGhhcyB0aGUgc2FtZSBwdXJwb3NlIGFzXG4vLyBgb21pdHRlZENsb3NlVGFnc2AgZXhjZXB0IHRoYXQgYG1lbnVpdGVtYCBzaG91bGQgc3RpbGwgaGF2ZSBpdHMgY2xvc2luZyB0YWcuXG5cbnZhciB2b2lkRWxlbWVudFRhZ3MgPSBfYXNzaWduKHtcbiAgbWVudWl0ZW06IHRydWVcbn0sIG9taXR0ZWRDbG9zZVRhZ3MpO1xuXG52YXIgSFRNTCQxID0gJ19faHRtbCc7XG5cbmZ1bmN0aW9uIGFzc2VydFZhbGlkUHJvcHModGFnLCBwcm9wcywgZ2V0U3RhY2spIHtcbiAgaWYgKCFwcm9wcykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBOb3RlIHRoZSB1c2Ugb2YgYD09YCB3aGljaCBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkLlxuICBpZiAodm9pZEVsZW1lbnRUYWdzW3RhZ10pIHtcbiAgICAhKHByb3BzLmNoaWxkcmVuID09IG51bGwgJiYgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICclcyBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLiVzJywgdGFnLCBnZXRTdGFjaygpKSA6IHZvaWQgMDtcbiAgfVxuICBpZiAocHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgIT0gbnVsbCkge1xuICAgICEocHJvcHMuY2hpbGRyZW4gPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW4gb25seSBzZXQgb25lIG9mIGBjaGlsZHJlbmAgb3IgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4nKSA6IHZvaWQgMDtcbiAgICAhKHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gJ29iamVjdCcgJiYgSFRNTCQxIGluIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSA/IGludmFyaWFudChmYWxzZSwgJ2Bwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBpbiB0aGUgZm9ybSBge19faHRtbDogLi4ufWAuIFBsZWFzZSB2aXNpdCBodHRwczovL2ZiLm1lL3JlYWN0LWludmFyaWFudC1kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKSA6IHZvaWQgMDtcbiAgfVxuICB7XG4gICAgIShwcm9wcy5zdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcgfHwgIXByb3BzLmNvbnRlbnRFZGl0YWJsZSB8fCBwcm9wcy5jaGlsZHJlbiA9PSBudWxsKSA/IHdhcm5pbmcoZmFsc2UsICdBIGNvbXBvbmVudCBpcyBgY29udGVudEVkaXRhYmxlYCBhbmQgY29udGFpbnMgYGNoaWxkcmVuYCBtYW5hZ2VkIGJ5ICcgKyAnUmVhY3QuIEl0IGlzIG5vdyB5b3VyIHJlc3BvbnNpYmlsaXR5IHRvIGd1YXJhbnRlZSB0aGF0IG5vbmUgb2YgJyArICd0aG9zZSBub2RlcyBhcmUgdW5leHBlY3RlZGx5IG1vZGlmaWVkIG9yIGR1cGxpY2F0ZWQuIFRoaXMgaXMgJyArICdwcm9iYWJseSBub3QgaW50ZW50aW9uYWwuJXMnLCBnZXRTdGFjaygpKSA6IHZvaWQgMDtcbiAgfVxuICAhKHByb3BzLnN0eWxlID09IG51bGwgfHwgdHlwZW9mIHByb3BzLnN0eWxlID09PSAnb2JqZWN0JykgPyBpbnZhcmlhbnQoZmFsc2UsICdUaGUgYHN0eWxlYCBwcm9wIGV4cGVjdHMgYSBtYXBwaW5nIGZyb20gc3R5bGUgcHJvcGVydGllcyB0byB2YWx1ZXMsIG5vdCBhIHN0cmluZy4gRm9yIGV4YW1wbGUsIHN0eWxlPXt7bWFyZ2luUmlnaHQ6IHNwYWNpbmcgKyBcXCdlbVxcJ319IHdoZW4gdXNpbmcgSlNYLiVzJywgZ2V0U3RhY2soKSkgOiB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIGlzQ3VzdG9tQ29tcG9uZW50KHRhZ05hbWUsIHByb3BzKSB7XG4gIGlmICh0YWdOYW1lLmluZGV4T2YoJy0nKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gdHlwZW9mIHByb3BzLmlzID09PSAnc3RyaW5nJztcbiAgfVxuICBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICAvLyBUaGVzZSBhcmUgcmVzZXJ2ZWQgU1ZHIGFuZCBNYXRoTUwgZWxlbWVudHMuXG4gICAgLy8gV2UgZG9uJ3QgbWluZCB0aGlzIHdoaXRlbGlzdCB0b28gbXVjaCBiZWNhdXNlIHdlIGV4cGVjdCBpdCB0byBuZXZlciBncm93LlxuICAgIC8vIFRoZSBhbHRlcm5hdGl2ZSBpcyB0byB0cmFjayB0aGUgbmFtZXNwYWNlIGluIGEgZmV3IHBsYWNlcyB3aGljaCBpcyBjb252b2x1dGVkLlxuICAgIC8vIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJjb21wb25lbnRzL3NwZWMvY3VzdG9tLyNjdXN0b20tZWxlbWVudHMtY29yZS1jb25jZXB0c1xuICAgIGNhc2UgJ2Fubm90YXRpb24teG1sJzpcbiAgICBjYXNlICdjb2xvci1wcm9maWxlJzpcbiAgICBjYXNlICdmb250LWZhY2UnOlxuICAgIGNhc2UgJ2ZvbnQtZmFjZS1zcmMnOlxuICAgIGNhc2UgJ2ZvbnQtZmFjZS11cmknOlxuICAgIGNhc2UgJ2ZvbnQtZmFjZS1mb3JtYXQnOlxuICAgIGNhc2UgJ2ZvbnQtZmFjZS1uYW1lJzpcbiAgICBjYXNlICdtaXNzaW5nLWdseXBoJzpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLy8gV2hlbiBhZGRpbmcgYXR0cmlidXRlcyB0byB0aGUgSFRNTCBvciBTVkcgd2hpdGVsaXN0LCBiZSBzdXJlIHRvXG4vLyBhbHNvIGFkZCB0aGVtIHRvIHRoaXMgbW9kdWxlIHRvIGVuc3VyZSBjYXNpbmcgYW5kIGluY29ycmVjdCBuYW1lXG4vLyB3YXJuaW5ncy5cbnZhciBwb3NzaWJsZVN0YW5kYXJkTmFtZXMgPSB7XG4gIC8vIEhUTUxcbiAgYWNjZXB0OiAnYWNjZXB0JyxcbiAgYWNjZXB0Y2hhcnNldDogJ2FjY2VwdENoYXJzZXQnLFxuICAnYWNjZXB0LWNoYXJzZXQnOiAnYWNjZXB0Q2hhcnNldCcsXG4gIGFjY2Vzc2tleTogJ2FjY2Vzc0tleScsXG4gIGFjdGlvbjogJ2FjdGlvbicsXG4gIGFsbG93ZnVsbHNjcmVlbjogJ2FsbG93RnVsbFNjcmVlbicsXG4gIGFsdDogJ2FsdCcsXG4gIGFzOiAnYXMnLFxuICBhc3luYzogJ2FzeW5jJyxcbiAgYXV0b2NhcGl0YWxpemU6ICdhdXRvQ2FwaXRhbGl6ZScsXG4gIGF1dG9jb21wbGV0ZTogJ2F1dG9Db21wbGV0ZScsXG4gIGF1dG9jb3JyZWN0OiAnYXV0b0NvcnJlY3QnLFxuICBhdXRvZm9jdXM6ICdhdXRvRm9jdXMnLFxuICBhdXRvcGxheTogJ2F1dG9QbGF5JyxcbiAgYXV0b3NhdmU6ICdhdXRvU2F2ZScsXG4gIGNhcHR1cmU6ICdjYXB0dXJlJyxcbiAgY2VsbHBhZGRpbmc6ICdjZWxsUGFkZGluZycsXG4gIGNlbGxzcGFjaW5nOiAnY2VsbFNwYWNpbmcnLFxuICBjaGFsbGVuZ2U6ICdjaGFsbGVuZ2UnLFxuICBjaGFyc2V0OiAnY2hhclNldCcsXG4gIGNoZWNrZWQ6ICdjaGVja2VkJyxcbiAgY2hpbGRyZW46ICdjaGlsZHJlbicsXG4gIGNpdGU6ICdjaXRlJyxcbiAgY2xhc3M6ICdjbGFzc05hbWUnLFxuICBjbGFzc2lkOiAnY2xhc3NJRCcsXG4gIGNsYXNzbmFtZTogJ2NsYXNzTmFtZScsXG4gIGNvbHM6ICdjb2xzJyxcbiAgY29sc3BhbjogJ2NvbFNwYW4nLFxuICBjb250ZW50OiAnY29udGVudCcsXG4gIGNvbnRlbnRlZGl0YWJsZTogJ2NvbnRlbnRFZGl0YWJsZScsXG4gIGNvbnRleHRtZW51OiAnY29udGV4dE1lbnUnLFxuICBjb250cm9sczogJ2NvbnRyb2xzJyxcbiAgY29udHJvbHNsaXN0OiAnY29udHJvbHNMaXN0JyxcbiAgY29vcmRzOiAnY29vcmRzJyxcbiAgY3Jvc3NvcmlnaW46ICdjcm9zc09yaWdpbicsXG4gIGRhbmdlcm91c2x5c2V0aW5uZXJodG1sOiAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnLFxuICBkYXRhOiAnZGF0YScsXG4gIGRhdGV0aW1lOiAnZGF0ZVRpbWUnLFxuICBkZWZhdWx0OiAnZGVmYXVsdCcsXG4gIGRlZmF1bHRjaGVja2VkOiAnZGVmYXVsdENoZWNrZWQnLFxuICBkZWZhdWx0dmFsdWU6ICdkZWZhdWx0VmFsdWUnLFxuICBkZWZlcjogJ2RlZmVyJyxcbiAgZGlyOiAnZGlyJyxcbiAgZGlzYWJsZWQ6ICdkaXNhYmxlZCcsXG4gIGRvd25sb2FkOiAnZG93bmxvYWQnLFxuICBkcmFnZ2FibGU6ICdkcmFnZ2FibGUnLFxuICBlbmN0eXBlOiAnZW5jVHlwZScsXG4gIGZvcjogJ2h0bWxGb3InLFxuICBmb3JtOiAnZm9ybScsXG4gIGZvcm1tZXRob2Q6ICdmb3JtTWV0aG9kJyxcbiAgZm9ybWFjdGlvbjogJ2Zvcm1BY3Rpb24nLFxuICBmb3JtZW5jdHlwZTogJ2Zvcm1FbmNUeXBlJyxcbiAgZm9ybW5vdmFsaWRhdGU6ICdmb3JtTm9WYWxpZGF0ZScsXG4gIGZvcm10YXJnZXQ6ICdmb3JtVGFyZ2V0JyxcbiAgZnJhbWVib3JkZXI6ICdmcmFtZUJvcmRlcicsXG4gIGhlYWRlcnM6ICdoZWFkZXJzJyxcbiAgaGVpZ2h0OiAnaGVpZ2h0JyxcbiAgaGlkZGVuOiAnaGlkZGVuJyxcbiAgaGlnaDogJ2hpZ2gnLFxuICBocmVmOiAnaHJlZicsXG4gIGhyZWZsYW5nOiAnaHJlZkxhbmcnLFxuICBodG1sZm9yOiAnaHRtbEZvcicsXG4gIGh0dHBlcXVpdjogJ2h0dHBFcXVpdicsXG4gICdodHRwLWVxdWl2JzogJ2h0dHBFcXVpdicsXG4gIGljb246ICdpY29uJyxcbiAgaWQ6ICdpZCcsXG4gIGlubmVyaHRtbDogJ2lubmVySFRNTCcsXG4gIGlucHV0bW9kZTogJ2lucHV0TW9kZScsXG4gIGludGVncml0eTogJ2ludGVncml0eScsXG4gIGlzOiAnaXMnLFxuICBpdGVtaWQ6ICdpdGVtSUQnLFxuICBpdGVtcHJvcDogJ2l0ZW1Qcm9wJyxcbiAgaXRlbXJlZjogJ2l0ZW1SZWYnLFxuICBpdGVtc2NvcGU6ICdpdGVtU2NvcGUnLFxuICBpdGVtdHlwZTogJ2l0ZW1UeXBlJyxcbiAga2V5cGFyYW1zOiAna2V5UGFyYW1zJyxcbiAga2V5dHlwZTogJ2tleVR5cGUnLFxuICBraW5kOiAna2luZCcsXG4gIGxhYmVsOiAnbGFiZWwnLFxuICBsYW5nOiAnbGFuZycsXG4gIGxpc3Q6ICdsaXN0JyxcbiAgbG9vcDogJ2xvb3AnLFxuICBsb3c6ICdsb3cnLFxuICBtYW5pZmVzdDogJ21hbmlmZXN0JyxcbiAgbWFyZ2lud2lkdGg6ICdtYXJnaW5XaWR0aCcsXG4gIG1hcmdpbmhlaWdodDogJ21hcmdpbkhlaWdodCcsXG4gIG1heDogJ21heCcsXG4gIG1heGxlbmd0aDogJ21heExlbmd0aCcsXG4gIG1lZGlhOiAnbWVkaWEnLFxuICBtZWRpYWdyb3VwOiAnbWVkaWFHcm91cCcsXG4gIG1ldGhvZDogJ21ldGhvZCcsXG4gIG1pbjogJ21pbicsXG4gIG1pbmxlbmd0aDogJ21pbkxlbmd0aCcsXG4gIG11bHRpcGxlOiAnbXVsdGlwbGUnLFxuICBtdXRlZDogJ211dGVkJyxcbiAgbmFtZTogJ25hbWUnLFxuICBub21vZHVsZTogJ25vTW9kdWxlJyxcbiAgbm9uY2U6ICdub25jZScsXG4gIG5vdmFsaWRhdGU6ICdub1ZhbGlkYXRlJyxcbiAgb3BlbjogJ29wZW4nLFxuICBvcHRpbXVtOiAnb3B0aW11bScsXG4gIHBhdHRlcm46ICdwYXR0ZXJuJyxcbiAgcGxhY2Vob2xkZXI6ICdwbGFjZWhvbGRlcicsXG4gIHBsYXlzaW5saW5lOiAncGxheXNJbmxpbmUnLFxuICBwb3N0ZXI6ICdwb3N0ZXInLFxuICBwcmVsb2FkOiAncHJlbG9hZCcsXG4gIHByb2ZpbGU6ICdwcm9maWxlJyxcbiAgcmFkaW9ncm91cDogJ3JhZGlvR3JvdXAnLFxuICByZWFkb25seTogJ3JlYWRPbmx5JyxcbiAgcmVmZXJyZXJwb2xpY3k6ICdyZWZlcnJlclBvbGljeScsXG4gIHJlbDogJ3JlbCcsXG4gIHJlcXVpcmVkOiAncmVxdWlyZWQnLFxuICByZXZlcnNlZDogJ3JldmVyc2VkJyxcbiAgcm9sZTogJ3JvbGUnLFxuICByb3dzOiAncm93cycsXG4gIHJvd3NwYW46ICdyb3dTcGFuJyxcbiAgc2FuZGJveDogJ3NhbmRib3gnLFxuICBzY29wZTogJ3Njb3BlJyxcbiAgc2NvcGVkOiAnc2NvcGVkJyxcbiAgc2Nyb2xsaW5nOiAnc2Nyb2xsaW5nJyxcbiAgc2VhbWxlc3M6ICdzZWFtbGVzcycsXG4gIHNlbGVjdGVkOiAnc2VsZWN0ZWQnLFxuICBzaGFwZTogJ3NoYXBlJyxcbiAgc2l6ZTogJ3NpemUnLFxuICBzaXplczogJ3NpemVzJyxcbiAgc3BhbjogJ3NwYW4nLFxuICBzcGVsbGNoZWNrOiAnc3BlbGxDaGVjaycsXG4gIHNyYzogJ3NyYycsXG4gIHNyY2RvYzogJ3NyY0RvYycsXG4gIHNyY2xhbmc6ICdzcmNMYW5nJyxcbiAgc3Jjc2V0OiAnc3JjU2V0JyxcbiAgc3RhcnQ6ICdzdGFydCcsXG4gIHN0ZXA6ICdzdGVwJyxcbiAgc3R5bGU6ICdzdHlsZScsXG4gIHN1bW1hcnk6ICdzdW1tYXJ5JyxcbiAgdGFiaW5kZXg6ICd0YWJJbmRleCcsXG4gIHRhcmdldDogJ3RhcmdldCcsXG4gIHRpdGxlOiAndGl0bGUnLFxuICB0eXBlOiAndHlwZScsXG4gIHVzZW1hcDogJ3VzZU1hcCcsXG4gIHZhbHVlOiAndmFsdWUnLFxuICB3aWR0aDogJ3dpZHRoJyxcbiAgd21vZGU6ICd3bW9kZScsXG4gIHdyYXA6ICd3cmFwJyxcblxuICAvLyBTVkdcbiAgYWJvdXQ6ICdhYm91dCcsXG4gIGFjY2VudGhlaWdodDogJ2FjY2VudEhlaWdodCcsXG4gICdhY2NlbnQtaGVpZ2h0JzogJ2FjY2VudEhlaWdodCcsXG4gIGFjY3VtdWxhdGU6ICdhY2N1bXVsYXRlJyxcbiAgYWRkaXRpdmU6ICdhZGRpdGl2ZScsXG4gIGFsaWdubWVudGJhc2VsaW5lOiAnYWxpZ25tZW50QmFzZWxpbmUnLFxuICAnYWxpZ25tZW50LWJhc2VsaW5lJzogJ2FsaWdubWVudEJhc2VsaW5lJyxcbiAgYWxsb3dyZW9yZGVyOiAnYWxsb3dSZW9yZGVyJyxcbiAgYWxwaGFiZXRpYzogJ2FscGhhYmV0aWMnLFxuICBhbXBsaXR1ZGU6ICdhbXBsaXR1ZGUnLFxuICBhcmFiaWNmb3JtOiAnYXJhYmljRm9ybScsXG4gICdhcmFiaWMtZm9ybSc6ICdhcmFiaWNGb3JtJyxcbiAgYXNjZW50OiAnYXNjZW50JyxcbiAgYXR0cmlidXRlbmFtZTogJ2F0dHJpYnV0ZU5hbWUnLFxuICBhdHRyaWJ1dGV0eXBlOiAnYXR0cmlidXRlVHlwZScsXG4gIGF1dG9yZXZlcnNlOiAnYXV0b1JldmVyc2UnLFxuICBhemltdXRoOiAnYXppbXV0aCcsXG4gIGJhc2VmcmVxdWVuY3k6ICdiYXNlRnJlcXVlbmN5JyxcbiAgYmFzZWxpbmVzaGlmdDogJ2Jhc2VsaW5lU2hpZnQnLFxuICAnYmFzZWxpbmUtc2hpZnQnOiAnYmFzZWxpbmVTaGlmdCcsXG4gIGJhc2Vwcm9maWxlOiAnYmFzZVByb2ZpbGUnLFxuICBiYm94OiAnYmJveCcsXG4gIGJlZ2luOiAnYmVnaW4nLFxuICBiaWFzOiAnYmlhcycsXG4gIGJ5OiAnYnknLFxuICBjYWxjbW9kZTogJ2NhbGNNb2RlJyxcbiAgY2FwaGVpZ2h0OiAnY2FwSGVpZ2h0JyxcbiAgJ2NhcC1oZWlnaHQnOiAnY2FwSGVpZ2h0JyxcbiAgY2xpcDogJ2NsaXAnLFxuICBjbGlwcGF0aDogJ2NsaXBQYXRoJyxcbiAgJ2NsaXAtcGF0aCc6ICdjbGlwUGF0aCcsXG4gIGNsaXBwYXRodW5pdHM6ICdjbGlwUGF0aFVuaXRzJyxcbiAgY2xpcHJ1bGU6ICdjbGlwUnVsZScsXG4gICdjbGlwLXJ1bGUnOiAnY2xpcFJ1bGUnLFxuICBjb2xvcjogJ2NvbG9yJyxcbiAgY29sb3JpbnRlcnBvbGF0aW9uOiAnY29sb3JJbnRlcnBvbGF0aW9uJyxcbiAgJ2NvbG9yLWludGVycG9sYXRpb24nOiAnY29sb3JJbnRlcnBvbGF0aW9uJyxcbiAgY29sb3JpbnRlcnBvbGF0aW9uZmlsdGVyczogJ2NvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnMnLFxuICAnY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzJzogJ2NvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnMnLFxuICBjb2xvcnByb2ZpbGU6ICdjb2xvclByb2ZpbGUnLFxuICAnY29sb3ItcHJvZmlsZSc6ICdjb2xvclByb2ZpbGUnLFxuICBjb2xvcnJlbmRlcmluZzogJ2NvbG9yUmVuZGVyaW5nJyxcbiAgJ2NvbG9yLXJlbmRlcmluZyc6ICdjb2xvclJlbmRlcmluZycsXG4gIGNvbnRlbnRzY3JpcHR0eXBlOiAnY29udGVudFNjcmlwdFR5cGUnLFxuICBjb250ZW50c3R5bGV0eXBlOiAnY29udGVudFN0eWxlVHlwZScsXG4gIGN1cnNvcjogJ2N1cnNvcicsXG4gIGN4OiAnY3gnLFxuICBjeTogJ2N5JyxcbiAgZDogJ2QnLFxuICBkYXRhdHlwZTogJ2RhdGF0eXBlJyxcbiAgZGVjZWxlcmF0ZTogJ2RlY2VsZXJhdGUnLFxuICBkZXNjZW50OiAnZGVzY2VudCcsXG4gIGRpZmZ1c2Vjb25zdGFudDogJ2RpZmZ1c2VDb25zdGFudCcsXG4gIGRpcmVjdGlvbjogJ2RpcmVjdGlvbicsXG4gIGRpc3BsYXk6ICdkaXNwbGF5JyxcbiAgZGl2aXNvcjogJ2Rpdmlzb3InLFxuICBkb21pbmFudGJhc2VsaW5lOiAnZG9taW5hbnRCYXNlbGluZScsXG4gICdkb21pbmFudC1iYXNlbGluZSc6ICdkb21pbmFudEJhc2VsaW5lJyxcbiAgZHVyOiAnZHVyJyxcbiAgZHg6ICdkeCcsXG4gIGR5OiAnZHknLFxuICBlZGdlbW9kZTogJ2VkZ2VNb2RlJyxcbiAgZWxldmF0aW9uOiAnZWxldmF0aW9uJyxcbiAgZW5hYmxlYmFja2dyb3VuZDogJ2VuYWJsZUJhY2tncm91bmQnLFxuICAnZW5hYmxlLWJhY2tncm91bmQnOiAnZW5hYmxlQmFja2dyb3VuZCcsXG4gIGVuZDogJ2VuZCcsXG4gIGV4cG9uZW50OiAnZXhwb25lbnQnLFxuICBleHRlcm5hbHJlc291cmNlc3JlcXVpcmVkOiAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsXG4gIGZpbGw6ICdmaWxsJyxcbiAgZmlsbG9wYWNpdHk6ICdmaWxsT3BhY2l0eScsXG4gICdmaWxsLW9wYWNpdHknOiAnZmlsbE9wYWNpdHknLFxuICBmaWxscnVsZTogJ2ZpbGxSdWxlJyxcbiAgJ2ZpbGwtcnVsZSc6ICdmaWxsUnVsZScsXG4gIGZpbHRlcjogJ2ZpbHRlcicsXG4gIGZpbHRlcnJlczogJ2ZpbHRlclJlcycsXG4gIGZpbHRlcnVuaXRzOiAnZmlsdGVyVW5pdHMnLFxuICBmbG9vZG9wYWNpdHk6ICdmbG9vZE9wYWNpdHknLFxuICAnZmxvb2Qtb3BhY2l0eSc6ICdmbG9vZE9wYWNpdHknLFxuICBmbG9vZGNvbG9yOiAnZmxvb2RDb2xvcicsXG4gICdmbG9vZC1jb2xvcic6ICdmbG9vZENvbG9yJyxcbiAgZm9jdXNhYmxlOiAnZm9jdXNhYmxlJyxcbiAgZm9udGZhbWlseTogJ2ZvbnRGYW1pbHknLFxuICAnZm9udC1mYW1pbHknOiAnZm9udEZhbWlseScsXG4gIGZvbnRzaXplOiAnZm9udFNpemUnLFxuICAnZm9udC1zaXplJzogJ2ZvbnRTaXplJyxcbiAgZm9udHNpemVhZGp1c3Q6ICdmb250U2l6ZUFkanVzdCcsXG4gICdmb250LXNpemUtYWRqdXN0JzogJ2ZvbnRTaXplQWRqdXN0JyxcbiAgZm9udHN0cmV0Y2g6ICdmb250U3RyZXRjaCcsXG4gICdmb250LXN0cmV0Y2gnOiAnZm9udFN0cmV0Y2gnLFxuICBmb250c3R5bGU6ICdmb250U3R5bGUnLFxuICAnZm9udC1zdHlsZSc6ICdmb250U3R5bGUnLFxuICBmb250dmFyaWFudDogJ2ZvbnRWYXJpYW50JyxcbiAgJ2ZvbnQtdmFyaWFudCc6ICdmb250VmFyaWFudCcsXG4gIGZvbnR3ZWlnaHQ6ICdmb250V2VpZ2h0JyxcbiAgJ2ZvbnQtd2VpZ2h0JzogJ2ZvbnRXZWlnaHQnLFxuICBmb3JtYXQ6ICdmb3JtYXQnLFxuICBmcm9tOiAnZnJvbScsXG4gIGZ4OiAnZngnLFxuICBmeTogJ2Z5JyxcbiAgZzE6ICdnMScsXG4gIGcyOiAnZzInLFxuICBnbHlwaG5hbWU6ICdnbHlwaE5hbWUnLFxuICAnZ2x5cGgtbmFtZSc6ICdnbHlwaE5hbWUnLFxuICBnbHlwaG9yaWVudGF0aW9uaG9yaXpvbnRhbDogJ2dseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsJyxcbiAgJ2dseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwnOiAnZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWwnLFxuICBnbHlwaG9yaWVudGF0aW9udmVydGljYWw6ICdnbHlwaE9yaWVudGF0aW9uVmVydGljYWwnLFxuICAnZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwnOiAnZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsJyxcbiAgZ2x5cGhyZWY6ICdnbHlwaFJlZicsXG4gIGdyYWRpZW50dHJhbnNmb3JtOiAnZ3JhZGllbnRUcmFuc2Zvcm0nLFxuICBncmFkaWVudHVuaXRzOiAnZ3JhZGllbnRVbml0cycsXG4gIGhhbmdpbmc6ICdoYW5naW5nJyxcbiAgaG9yaXphZHZ4OiAnaG9yaXpBZHZYJyxcbiAgJ2hvcml6LWFkdi14JzogJ2hvcml6QWR2WCcsXG4gIGhvcml6b3JpZ2lueDogJ2hvcml6T3JpZ2luWCcsXG4gICdob3Jpei1vcmlnaW4teCc6ICdob3Jpek9yaWdpblgnLFxuICBpZGVvZ3JhcGhpYzogJ2lkZW9ncmFwaGljJyxcbiAgaW1hZ2VyZW5kZXJpbmc6ICdpbWFnZVJlbmRlcmluZycsXG4gICdpbWFnZS1yZW5kZXJpbmcnOiAnaW1hZ2VSZW5kZXJpbmcnLFxuICBpbjI6ICdpbjInLFxuICBpbjogJ2luJyxcbiAgaW5saXN0OiAnaW5saXN0JyxcbiAgaW50ZXJjZXB0OiAnaW50ZXJjZXB0JyxcbiAgazE6ICdrMScsXG4gIGsyOiAnazInLFxuICBrMzogJ2szJyxcbiAgazQ6ICdrNCcsXG4gIGs6ICdrJyxcbiAga2VybmVsbWF0cml4OiAna2VybmVsTWF0cml4JyxcbiAga2VybmVsdW5pdGxlbmd0aDogJ2tlcm5lbFVuaXRMZW5ndGgnLFxuICBrZXJuaW5nOiAna2VybmluZycsXG4gIGtleXBvaW50czogJ2tleVBvaW50cycsXG4gIGtleXNwbGluZXM6ICdrZXlTcGxpbmVzJyxcbiAga2V5dGltZXM6ICdrZXlUaW1lcycsXG4gIGxlbmd0aGFkanVzdDogJ2xlbmd0aEFkanVzdCcsXG4gIGxldHRlcnNwYWNpbmc6ICdsZXR0ZXJTcGFjaW5nJyxcbiAgJ2xldHRlci1zcGFjaW5nJzogJ2xldHRlclNwYWNpbmcnLFxuICBsaWdodGluZ2NvbG9yOiAnbGlnaHRpbmdDb2xvcicsXG4gICdsaWdodGluZy1jb2xvcic6ICdsaWdodGluZ0NvbG9yJyxcbiAgbGltaXRpbmdjb25lYW5nbGU6ICdsaW1pdGluZ0NvbmVBbmdsZScsXG4gIGxvY2FsOiAnbG9jYWwnLFxuICBtYXJrZXJlbmQ6ICdtYXJrZXJFbmQnLFxuICAnbWFya2VyLWVuZCc6ICdtYXJrZXJFbmQnLFxuICBtYXJrZXJoZWlnaHQ6ICdtYXJrZXJIZWlnaHQnLFxuICBtYXJrZXJtaWQ6ICdtYXJrZXJNaWQnLFxuICAnbWFya2VyLW1pZCc6ICdtYXJrZXJNaWQnLFxuICBtYXJrZXJzdGFydDogJ21hcmtlclN0YXJ0JyxcbiAgJ21hcmtlci1zdGFydCc6ICdtYXJrZXJTdGFydCcsXG4gIG1hcmtlcnVuaXRzOiAnbWFya2VyVW5pdHMnLFxuICBtYXJrZXJ3aWR0aDogJ21hcmtlcldpZHRoJyxcbiAgbWFzazogJ21hc2snLFxuICBtYXNrY29udGVudHVuaXRzOiAnbWFza0NvbnRlbnRVbml0cycsXG4gIG1hc2t1bml0czogJ21hc2tVbml0cycsXG4gIG1hdGhlbWF0aWNhbDogJ21hdGhlbWF0aWNhbCcsXG4gIG1vZGU6ICdtb2RlJyxcbiAgbnVtb2N0YXZlczogJ251bU9jdGF2ZXMnLFxuICBvZmZzZXQ6ICdvZmZzZXQnLFxuICBvcGFjaXR5OiAnb3BhY2l0eScsXG4gIG9wZXJhdG9yOiAnb3BlcmF0b3InLFxuICBvcmRlcjogJ29yZGVyJyxcbiAgb3JpZW50OiAnb3JpZW50JyxcbiAgb3JpZW50YXRpb246ICdvcmllbnRhdGlvbicsXG4gIG9yaWdpbjogJ29yaWdpbicsXG4gIG92ZXJmbG93OiAnb3ZlcmZsb3cnLFxuICBvdmVybGluZXBvc2l0aW9uOiAnb3ZlcmxpbmVQb3NpdGlvbicsXG4gICdvdmVybGluZS1wb3NpdGlvbic6ICdvdmVybGluZVBvc2l0aW9uJyxcbiAgb3ZlcmxpbmV0aGlja25lc3M6ICdvdmVybGluZVRoaWNrbmVzcycsXG4gICdvdmVybGluZS10aGlja25lc3MnOiAnb3ZlcmxpbmVUaGlja25lc3MnLFxuICBwYWludG9yZGVyOiAncGFpbnRPcmRlcicsXG4gICdwYWludC1vcmRlcic6ICdwYWludE9yZGVyJyxcbiAgcGFub3NlMTogJ3Bhbm9zZTEnLFxuICAncGFub3NlLTEnOiAncGFub3NlMScsXG4gIHBhdGhsZW5ndGg6ICdwYXRoTGVuZ3RoJyxcbiAgcGF0dGVybmNvbnRlbnR1bml0czogJ3BhdHRlcm5Db250ZW50VW5pdHMnLFxuICBwYXR0ZXJudHJhbnNmb3JtOiAncGF0dGVyblRyYW5zZm9ybScsXG4gIHBhdHRlcm51bml0czogJ3BhdHRlcm5Vbml0cycsXG4gIHBvaW50ZXJldmVudHM6ICdwb2ludGVyRXZlbnRzJyxcbiAgJ3BvaW50ZXItZXZlbnRzJzogJ3BvaW50ZXJFdmVudHMnLFxuICBwb2ludHM6ICdwb2ludHMnLFxuICBwb2ludHNhdHg6ICdwb2ludHNBdFgnLFxuICBwb2ludHNhdHk6ICdwb2ludHNBdFknLFxuICBwb2ludHNhdHo6ICdwb2ludHNBdFonLFxuICBwcmVmaXg6ICdwcmVmaXgnLFxuICBwcmVzZXJ2ZWFscGhhOiAncHJlc2VydmVBbHBoYScsXG4gIHByZXNlcnZlYXNwZWN0cmF0aW86ICdwcmVzZXJ2ZUFzcGVjdFJhdGlvJyxcbiAgcHJpbWl0aXZldW5pdHM6ICdwcmltaXRpdmVVbml0cycsXG4gIHByb3BlcnR5OiAncHJvcGVydHknLFxuICByOiAncicsXG4gIHJhZGl1czogJ3JhZGl1cycsXG4gIHJlZng6ICdyZWZYJyxcbiAgcmVmeTogJ3JlZlknLFxuICByZW5kZXJpbmdpbnRlbnQ6ICdyZW5kZXJpbmdJbnRlbnQnLFxuICAncmVuZGVyaW5nLWludGVudCc6ICdyZW5kZXJpbmdJbnRlbnQnLFxuICByZXBlYXRjb3VudDogJ3JlcGVhdENvdW50JyxcbiAgcmVwZWF0ZHVyOiAncmVwZWF0RHVyJyxcbiAgcmVxdWlyZWRleHRlbnNpb25zOiAncmVxdWlyZWRFeHRlbnNpb25zJyxcbiAgcmVxdWlyZWRmZWF0dXJlczogJ3JlcXVpcmVkRmVhdHVyZXMnLFxuICByZXNvdXJjZTogJ3Jlc291cmNlJyxcbiAgcmVzdGFydDogJ3Jlc3RhcnQnLFxuICByZXN1bHQ6ICdyZXN1bHQnLFxuICByZXN1bHRzOiAncmVzdWx0cycsXG4gIHJvdGF0ZTogJ3JvdGF0ZScsXG4gIHJ4OiAncngnLFxuICByeTogJ3J5JyxcbiAgc2NhbGU6ICdzY2FsZScsXG4gIHNlY3VyaXR5OiAnc2VjdXJpdHknLFxuICBzZWVkOiAnc2VlZCcsXG4gIHNoYXBlcmVuZGVyaW5nOiAnc2hhcGVSZW5kZXJpbmcnLFxuICAnc2hhcGUtcmVuZGVyaW5nJzogJ3NoYXBlUmVuZGVyaW5nJyxcbiAgc2xvcGU6ICdzbG9wZScsXG4gIHNwYWNpbmc6ICdzcGFjaW5nJyxcbiAgc3BlY3VsYXJjb25zdGFudDogJ3NwZWN1bGFyQ29uc3RhbnQnLFxuICBzcGVjdWxhcmV4cG9uZW50OiAnc3BlY3VsYXJFeHBvbmVudCcsXG4gIHNwZWVkOiAnc3BlZWQnLFxuICBzcHJlYWRtZXRob2Q6ICdzcHJlYWRNZXRob2QnLFxuICBzdGFydG9mZnNldDogJ3N0YXJ0T2Zmc2V0JyxcbiAgc3RkZGV2aWF0aW9uOiAnc3RkRGV2aWF0aW9uJyxcbiAgc3RlbWg6ICdzdGVtaCcsXG4gIHN0ZW12OiAnc3RlbXYnLFxuICBzdGl0Y2h0aWxlczogJ3N0aXRjaFRpbGVzJyxcbiAgc3RvcGNvbG9yOiAnc3RvcENvbG9yJyxcbiAgJ3N0b3AtY29sb3InOiAnc3RvcENvbG9yJyxcbiAgc3RvcG9wYWNpdHk6ICdzdG9wT3BhY2l0eScsXG4gICdzdG9wLW9wYWNpdHknOiAnc3RvcE9wYWNpdHknLFxuICBzdHJpa2V0aHJvdWdocG9zaXRpb246ICdzdHJpa2V0aHJvdWdoUG9zaXRpb24nLFxuICAnc3RyaWtldGhyb3VnaC1wb3NpdGlvbic6ICdzdHJpa2V0aHJvdWdoUG9zaXRpb24nLFxuICBzdHJpa2V0aHJvdWdodGhpY2tuZXNzOiAnc3RyaWtldGhyb3VnaFRoaWNrbmVzcycsXG4gICdzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyc6ICdzdHJpa2V0aHJvdWdoVGhpY2tuZXNzJyxcbiAgc3RyaW5nOiAnc3RyaW5nJyxcbiAgc3Ryb2tlOiAnc3Ryb2tlJyxcbiAgc3Ryb2tlZGFzaGFycmF5OiAnc3Ryb2tlRGFzaGFycmF5JyxcbiAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnc3Ryb2tlRGFzaGFycmF5JyxcbiAgc3Ryb2tlZGFzaG9mZnNldDogJ3N0cm9rZURhc2hvZmZzZXQnLFxuICAnc3Ryb2tlLWRhc2hvZmZzZXQnOiAnc3Ryb2tlRGFzaG9mZnNldCcsXG4gIHN0cm9rZWxpbmVjYXA6ICdzdHJva2VMaW5lY2FwJyxcbiAgJ3N0cm9rZS1saW5lY2FwJzogJ3N0cm9rZUxpbmVjYXAnLFxuICBzdHJva2VsaW5lam9pbjogJ3N0cm9rZUxpbmVqb2luJyxcbiAgJ3N0cm9rZS1saW5lam9pbic6ICdzdHJva2VMaW5lam9pbicsXG4gIHN0cm9rZW1pdGVybGltaXQ6ICdzdHJva2VNaXRlcmxpbWl0JyxcbiAgJ3N0cm9rZS1taXRlcmxpbWl0JzogJ3N0cm9rZU1pdGVybGltaXQnLFxuICBzdHJva2V3aWR0aDogJ3N0cm9rZVdpZHRoJyxcbiAgJ3N0cm9rZS13aWR0aCc6ICdzdHJva2VXaWR0aCcsXG4gIHN0cm9rZW9wYWNpdHk6ICdzdHJva2VPcGFjaXR5JyxcbiAgJ3N0cm9rZS1vcGFjaXR5JzogJ3N0cm9rZU9wYWNpdHknLFxuICBzdXBwcmVzc2NvbnRlbnRlZGl0YWJsZXdhcm5pbmc6ICdzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcnLFxuICBzdXBwcmVzc2h5ZHJhdGlvbndhcm5pbmc6ICdzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcnLFxuICBzdXJmYWNlc2NhbGU6ICdzdXJmYWNlU2NhbGUnLFxuICBzeXN0ZW1sYW5ndWFnZTogJ3N5c3RlbUxhbmd1YWdlJyxcbiAgdGFibGV2YWx1ZXM6ICd0YWJsZVZhbHVlcycsXG4gIHRhcmdldHg6ICd0YXJnZXRYJyxcbiAgdGFyZ2V0eTogJ3RhcmdldFknLFxuICB0ZXh0YW5jaG9yOiAndGV4dEFuY2hvcicsXG4gICd0ZXh0LWFuY2hvcic6ICd0ZXh0QW5jaG9yJyxcbiAgdGV4dGRlY29yYXRpb246ICd0ZXh0RGVjb3JhdGlvbicsXG4gICd0ZXh0LWRlY29yYXRpb24nOiAndGV4dERlY29yYXRpb24nLFxuICB0ZXh0bGVuZ3RoOiAndGV4dExlbmd0aCcsXG4gIHRleHRyZW5kZXJpbmc6ICd0ZXh0UmVuZGVyaW5nJyxcbiAgJ3RleHQtcmVuZGVyaW5nJzogJ3RleHRSZW5kZXJpbmcnLFxuICB0bzogJ3RvJyxcbiAgdHJhbnNmb3JtOiAndHJhbnNmb3JtJyxcbiAgdHlwZW9mOiAndHlwZW9mJyxcbiAgdTE6ICd1MScsXG4gIHUyOiAndTInLFxuICB1bmRlcmxpbmVwb3NpdGlvbjogJ3VuZGVybGluZVBvc2l0aW9uJyxcbiAgJ3VuZGVybGluZS1wb3NpdGlvbic6ICd1bmRlcmxpbmVQb3NpdGlvbicsXG4gIHVuZGVybGluZXRoaWNrbmVzczogJ3VuZGVybGluZVRoaWNrbmVzcycsXG4gICd1bmRlcmxpbmUtdGhpY2tuZXNzJzogJ3VuZGVybGluZVRoaWNrbmVzcycsXG4gIHVuaWNvZGU6ICd1bmljb2RlJyxcbiAgdW5pY29kZWJpZGk6ICd1bmljb2RlQmlkaScsXG4gICd1bmljb2RlLWJpZGknOiAndW5pY29kZUJpZGknLFxuICB1bmljb2RlcmFuZ2U6ICd1bmljb2RlUmFuZ2UnLFxuICAndW5pY29kZS1yYW5nZSc6ICd1bmljb2RlUmFuZ2UnLFxuICB1bml0c3BlcmVtOiAndW5pdHNQZXJFbScsXG4gICd1bml0cy1wZXItZW0nOiAndW5pdHNQZXJFbScsXG4gIHVuc2VsZWN0YWJsZTogJ3Vuc2VsZWN0YWJsZScsXG4gIHZhbHBoYWJldGljOiAndkFscGhhYmV0aWMnLFxuICAndi1hbHBoYWJldGljJzogJ3ZBbHBoYWJldGljJyxcbiAgdmFsdWVzOiAndmFsdWVzJyxcbiAgdmVjdG9yZWZmZWN0OiAndmVjdG9yRWZmZWN0JyxcbiAgJ3ZlY3Rvci1lZmZlY3QnOiAndmVjdG9yRWZmZWN0JyxcbiAgdmVyc2lvbjogJ3ZlcnNpb24nLFxuICB2ZXJ0YWR2eTogJ3ZlcnRBZHZZJyxcbiAgJ3ZlcnQtYWR2LXknOiAndmVydEFkdlknLFxuICB2ZXJ0b3JpZ2lueDogJ3ZlcnRPcmlnaW5YJyxcbiAgJ3ZlcnQtb3JpZ2luLXgnOiAndmVydE9yaWdpblgnLFxuICB2ZXJ0b3JpZ2lueTogJ3ZlcnRPcmlnaW5ZJyxcbiAgJ3ZlcnQtb3JpZ2luLXknOiAndmVydE9yaWdpblknLFxuICB2aGFuZ2luZzogJ3ZIYW5naW5nJyxcbiAgJ3YtaGFuZ2luZyc6ICd2SGFuZ2luZycsXG4gIHZpZGVvZ3JhcGhpYzogJ3ZJZGVvZ3JhcGhpYycsXG4gICd2LWlkZW9ncmFwaGljJzogJ3ZJZGVvZ3JhcGhpYycsXG4gIHZpZXdib3g6ICd2aWV3Qm94JyxcbiAgdmlld3RhcmdldDogJ3ZpZXdUYXJnZXQnLFxuICB2aXNpYmlsaXR5OiAndmlzaWJpbGl0eScsXG4gIHZtYXRoZW1hdGljYWw6ICd2TWF0aGVtYXRpY2FsJyxcbiAgJ3YtbWF0aGVtYXRpY2FsJzogJ3ZNYXRoZW1hdGljYWwnLFxuICB2b2NhYjogJ3ZvY2FiJyxcbiAgd2lkdGhzOiAnd2lkdGhzJyxcbiAgd29yZHNwYWNpbmc6ICd3b3JkU3BhY2luZycsXG4gICd3b3JkLXNwYWNpbmcnOiAnd29yZFNwYWNpbmcnLFxuICB3cml0aW5nbW9kZTogJ3dyaXRpbmdNb2RlJyxcbiAgJ3dyaXRpbmctbW9kZSc6ICd3cml0aW5nTW9kZScsXG4gIHgxOiAneDEnLFxuICB4MjogJ3gyJyxcbiAgeDogJ3gnLFxuICB4Y2hhbm5lbHNlbGVjdG9yOiAneENoYW5uZWxTZWxlY3RvcicsXG4gIHhoZWlnaHQ6ICd4SGVpZ2h0JyxcbiAgJ3gtaGVpZ2h0JzogJ3hIZWlnaHQnLFxuICB4bGlua2FjdHVhdGU6ICd4bGlua0FjdHVhdGUnLFxuICAneGxpbms6YWN0dWF0ZSc6ICd4bGlua0FjdHVhdGUnLFxuICB4bGlua2FyY3JvbGU6ICd4bGlua0FyY3JvbGUnLFxuICAneGxpbms6YXJjcm9sZSc6ICd4bGlua0FyY3JvbGUnLFxuICB4bGlua2hyZWY6ICd4bGlua0hyZWYnLFxuICAneGxpbms6aHJlZic6ICd4bGlua0hyZWYnLFxuICB4bGlua3JvbGU6ICd4bGlua1JvbGUnLFxuICAneGxpbms6cm9sZSc6ICd4bGlua1JvbGUnLFxuICB4bGlua3Nob3c6ICd4bGlua1Nob3cnLFxuICAneGxpbms6c2hvdyc6ICd4bGlua1Nob3cnLFxuICB4bGlua3RpdGxlOiAneGxpbmtUaXRsZScsXG4gICd4bGluazp0aXRsZSc6ICd4bGlua1RpdGxlJyxcbiAgeGxpbmt0eXBlOiAneGxpbmtUeXBlJyxcbiAgJ3hsaW5rOnR5cGUnOiAneGxpbmtUeXBlJyxcbiAgeG1sYmFzZTogJ3htbEJhc2UnLFxuICAneG1sOmJhc2UnOiAneG1sQmFzZScsXG4gIHhtbGxhbmc6ICd4bWxMYW5nJyxcbiAgJ3htbDpsYW5nJzogJ3htbExhbmcnLFxuICB4bWxuczogJ3htbG5zJyxcbiAgJ3htbDpzcGFjZSc6ICd4bWxTcGFjZScsXG4gIHhtbG5zeGxpbms6ICd4bWxuc1hsaW5rJyxcbiAgJ3htbG5zOnhsaW5rJzogJ3htbG5zWGxpbmsnLFxuICB4bWxzcGFjZTogJ3htbFNwYWNlJyxcbiAgeTE6ICd5MScsXG4gIHkyOiAneTInLFxuICB5OiAneScsXG4gIHljaGFubmVsc2VsZWN0b3I6ICd5Q2hhbm5lbFNlbGVjdG9yJyxcbiAgejogJ3onLFxuICB6b29tYW5kcGFuOiAnem9vbUFuZFBhbidcbn07XG5cbnZhciBhcmlhUHJvcGVydGllcyA9IHtcbiAgJ2FyaWEtY3VycmVudCc6IDAsIC8vIHN0YXRlXG4gICdhcmlhLWRldGFpbHMnOiAwLFxuICAnYXJpYS1kaXNhYmxlZCc6IDAsIC8vIHN0YXRlXG4gICdhcmlhLWhpZGRlbic6IDAsIC8vIHN0YXRlXG4gICdhcmlhLWludmFsaWQnOiAwLCAvLyBzdGF0ZVxuICAnYXJpYS1rZXlzaG9ydGN1dHMnOiAwLFxuICAnYXJpYS1sYWJlbCc6IDAsXG4gICdhcmlhLXJvbGVkZXNjcmlwdGlvbic6IDAsXG4gIC8vIFdpZGdldCBBdHRyaWJ1dGVzXG4gICdhcmlhLWF1dG9jb21wbGV0ZSc6IDAsXG4gICdhcmlhLWNoZWNrZWQnOiAwLFxuICAnYXJpYS1leHBhbmRlZCc6IDAsXG4gICdhcmlhLWhhc3BvcHVwJzogMCxcbiAgJ2FyaWEtbGV2ZWwnOiAwLFxuICAnYXJpYS1tb2RhbCc6IDAsXG4gICdhcmlhLW11bHRpbGluZSc6IDAsXG4gICdhcmlhLW11bHRpc2VsZWN0YWJsZSc6IDAsXG4gICdhcmlhLW9yaWVudGF0aW9uJzogMCxcbiAgJ2FyaWEtcGxhY2Vob2xkZXInOiAwLFxuICAnYXJpYS1wcmVzc2VkJzogMCxcbiAgJ2FyaWEtcmVhZG9ubHknOiAwLFxuICAnYXJpYS1yZXF1aXJlZCc6IDAsXG4gICdhcmlhLXNlbGVjdGVkJzogMCxcbiAgJ2FyaWEtc29ydCc6IDAsXG4gICdhcmlhLXZhbHVlbWF4JzogMCxcbiAgJ2FyaWEtdmFsdWVtaW4nOiAwLFxuICAnYXJpYS12YWx1ZW5vdyc6IDAsXG4gICdhcmlhLXZhbHVldGV4dCc6IDAsXG4gIC8vIExpdmUgUmVnaW9uIEF0dHJpYnV0ZXNcbiAgJ2FyaWEtYXRvbWljJzogMCxcbiAgJ2FyaWEtYnVzeSc6IDAsXG4gICdhcmlhLWxpdmUnOiAwLFxuICAnYXJpYS1yZWxldmFudCc6IDAsXG4gIC8vIERyYWctYW5kLURyb3AgQXR0cmlidXRlc1xuICAnYXJpYS1kcm9wZWZmZWN0JzogMCxcbiAgJ2FyaWEtZ3JhYmJlZCc6IDAsXG4gIC8vIFJlbGF0aW9uc2hpcCBBdHRyaWJ1dGVzXG4gICdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnOiAwLFxuICAnYXJpYS1jb2xjb3VudCc6IDAsXG4gICdhcmlhLWNvbGluZGV4JzogMCxcbiAgJ2FyaWEtY29sc3Bhbic6IDAsXG4gICdhcmlhLWNvbnRyb2xzJzogMCxcbiAgJ2FyaWEtZGVzY3JpYmVkYnknOiAwLFxuICAnYXJpYS1lcnJvcm1lc3NhZ2UnOiAwLFxuICAnYXJpYS1mbG93dG8nOiAwLFxuICAnYXJpYS1sYWJlbGxlZGJ5JzogMCxcbiAgJ2FyaWEtb3ducyc6IDAsXG4gICdhcmlhLXBvc2luc2V0JzogMCxcbiAgJ2FyaWEtcm93Y291bnQnOiAwLFxuICAnYXJpYS1yb3dpbmRleCc6IDAsXG4gICdhcmlhLXJvd3NwYW4nOiAwLFxuICAnYXJpYS1zZXRzaXplJzogMFxufTtcblxudmFyIHdhcm5lZFByb3BlcnRpZXMgPSB7fTtcbnZhciByQVJJQSA9IG5ldyBSZWdFeHAoJ14oYXJpYSktWycgKyBBVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpO1xudmFyIHJBUklBQ2FtZWwgPSBuZXcgUmVnRXhwKCdeKGFyaWEpW0EtWl1bJyArIEFUVFJJQlVURV9OQU1FX0NIQVIgKyAnXSokJyk7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGdldFN0YWNrQWRkZW5kdW0oKSB7XG4gIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuICByZXR1cm4gc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJyc7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHkodGFnTmFtZSwgbmFtZSkge1xuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh3YXJuZWRQcm9wZXJ0aWVzLCBuYW1lKSAmJiB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAockFSSUFDYW1lbC50ZXN0KG5hbWUpKSB7XG4gICAgdmFyIGFyaWFOYW1lID0gJ2FyaWEtJyArIG5hbWUuc2xpY2UoNCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgY29ycmVjdE5hbWUgPSBhcmlhUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShhcmlhTmFtZSkgPyBhcmlhTmFtZSA6IG51bGw7XG5cbiAgICAvLyBJZiB0aGlzIGlzIGFuIGFyaWEtKiBhdHRyaWJ1dGUsIGJ1dCBpcyBub3QgbGlzdGVkIGluIHRoZSBrbm93biBET01cbiAgICAvLyBET00gcHJvcGVydGllcywgdGhlbiBpdCBpcyBhbiBpbnZhbGlkIGFyaWEtKiBhdHRyaWJ1dGUuXG4gICAgaWYgKGNvcnJlY3ROYW1lID09IG51bGwpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIEFSSUEgYXR0cmlidXRlIGAlc2AuIEFSSUEgYXR0cmlidXRlcyBmb2xsb3cgdGhlIHBhdHRlcm4gYXJpYS0qIGFuZCBtdXN0IGJlIGxvd2VyY2FzZS4lcycsIG5hbWUsIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBhcmlhLSogYXR0cmlidXRlcyBzaG91bGQgYmUgbG93ZXJjYXNlOyBzdWdnZXN0IHRoZSBsb3dlcmNhc2UgdmVyc2lvbi5cbiAgICBpZiAobmFtZSAhPT0gY29ycmVjdE5hbWUpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIEFSSUEgYXR0cmlidXRlIGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgPyVzJywgbmFtZSwgY29ycmVjdE5hbWUsIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyQVJJQS50ZXN0KG5hbWUpKSB7XG4gICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBzdGFuZGFyZE5hbWUgPSBhcmlhUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkgPyBsb3dlckNhc2VkTmFtZSA6IG51bGw7XG5cbiAgICAvLyBJZiB0aGlzIGlzIGFuIGFyaWEtKiBhdHRyaWJ1dGUsIGJ1dCBpcyBub3QgbGlzdGVkIGluIHRoZSBrbm93biBET01cbiAgICAvLyBET00gcHJvcGVydGllcywgdGhlbiBpdCBpcyBhbiBpbnZhbGlkIGFyaWEtKiBhdHRyaWJ1dGUuXG4gICAgaWYgKHN0YW5kYXJkTmFtZSA9PSBudWxsKSB7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gYXJpYS0qIGF0dHJpYnV0ZXMgc2hvdWxkIGJlIGxvd2VyY2FzZTsgc3VnZ2VzdCB0aGUgbG93ZXJjYXNlIHZlcnNpb24uXG4gICAgaWYgKG5hbWUgIT09IHN0YW5kYXJkTmFtZSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1Vua25vd24gQVJJQSBhdHRyaWJ1dGUgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/JXMnLCBuYW1lLCBzdGFuZGFyZE5hbWUsIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB3YXJuSW52YWxpZEFSSUFQcm9wcyh0eXBlLCBwcm9wcykge1xuICB2YXIgaW52YWxpZFByb3BzID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgdmFyIGlzVmFsaWQgPSB2YWxpZGF0ZVByb3BlcnR5KHR5cGUsIGtleSk7XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICBpbnZhbGlkUHJvcHMucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB1bmtub3duUHJvcFN0cmluZyA9IGludmFsaWRQcm9wcy5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICByZXR1cm4gJ2AnICsgcHJvcCArICdgJztcbiAgfSkuam9pbignLCAnKTtcblxuICBpZiAoaW52YWxpZFByb3BzLmxlbmd0aCA9PT0gMSkge1xuICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGFyaWEgcHJvcCAlcyBvbiA8JXM+IHRhZy4gJyArICdGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vZmIubWUvaW52YWxpZC1hcmlhLXByb3AlcycsIHVua25vd25Qcm9wU3RyaW5nLCB0eXBlLCBnZXRTdGFja0FkZGVuZHVtKCkpO1xuICB9IGVsc2UgaWYgKGludmFsaWRQcm9wcy5sZW5ndGggPiAxKSB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXJpYSBwcm9wcyAlcyBvbiA8JXM+IHRhZy4gJyArICdGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vZmIubWUvaW52YWxpZC1hcmlhLXByb3AlcycsIHVua25vd25Qcm9wU3RyaW5nLCB0eXBlLCBnZXRTdGFja0FkZGVuZHVtKCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllcyh0eXBlLCBwcm9wcykge1xuICBpZiAoaXNDdXN0b21Db21wb25lbnQodHlwZSwgcHJvcHMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHdhcm5JbnZhbGlkQVJJQVByb3BzKHR5cGUsIHByb3BzKTtcbn1cblxudmFyIGRpZFdhcm5WYWx1ZU51bGwgPSBmYWxzZTtcblxuZnVuY3Rpb24gZ2V0U3RhY2tBZGRlbmR1bSQxKCkge1xuICB2YXIgc3RhY2sgPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKTtcbiAgcmV0dXJuIHN0YWNrICE9IG51bGwgPyBzdGFjayA6ICcnO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXMkMSh0eXBlLCBwcm9wcykge1xuICBpZiAodHlwZSAhPT0gJ2lucHV0JyAmJiB0eXBlICE9PSAndGV4dGFyZWEnICYmIHR5cGUgIT09ICdzZWxlY3QnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHByb3BzICE9IG51bGwgJiYgcHJvcHMudmFsdWUgPT09IG51bGwgJiYgIWRpZFdhcm5WYWx1ZU51bGwpIHtcbiAgICBkaWRXYXJuVmFsdWVOdWxsID0gdHJ1ZTtcbiAgICBpZiAodHlwZSA9PT0gJ3NlbGVjdCcgJiYgcHJvcHMubXVsdGlwbGUpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdgdmFsdWVgIHByb3Agb24gYCVzYCBzaG91bGQgbm90IGJlIG51bGwuICcgKyAnQ29uc2lkZXIgdXNpbmcgYW4gZW1wdHkgYXJyYXkgd2hlbiBgbXVsdGlwbGVgIGlzIHNldCB0byBgdHJ1ZWAgJyArICd0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgIGZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy4lcycsIHR5cGUsIGdldFN0YWNrQWRkZW5kdW0kMSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ2B2YWx1ZWAgcHJvcCBvbiBgJXNgIHNob3VsZCBub3QgYmUgbnVsbC4gJyArICdDb25zaWRlciB1c2luZyBhbiBlbXB0eSBzdHJpbmcgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCAnICsgJ2ZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy4lcycsIHR5cGUsIGdldFN0YWNrQWRkZW5kdW0kMSgpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3RhY2tBZGRlbmR1bSQyKCkge1xuICB2YXIgc3RhY2sgPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKTtcbiAgcmV0dXJuIHN0YWNrICE9IG51bGwgPyBzdGFjayA6ICcnO1xufVxuXG52YXIgdmFsaWRhdGVQcm9wZXJ0eSQxID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHdhcm5lZFByb3BlcnRpZXMkMSA9IHt9O1xuICB2YXIgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIEVWRU5UX05BTUVfUkVHRVggPSAvXm9uLi87XG4gIHZhciBJTlZBTElEX0VWRU5UX05BTUVfUkVHRVggPSAvXm9uW15BLVpdLztcbiAgdmFyIHJBUklBJDEgPSBuZXcgUmVnRXhwKCdeKGFyaWEpLVsnICsgQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcbiAgdmFyIHJBUklBQ2FtZWwkMSA9IG5ldyBSZWdFeHAoJ14oYXJpYSlbQS1aXVsnICsgQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcblxuICB2YWxpZGF0ZVByb3BlcnR5JDEgPSBmdW5jdGlvbiAodGFnTmFtZSwgbmFtZSwgdmFsdWUsIGNhblVzZUV2ZW50U3lzdGVtKSB7XG4gICAgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFByb3BlcnRpZXMkMSwgbmFtZSkgJiYgd2FybmVkUHJvcGVydGllcyQxW25hbWVdKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxvd2VyQ2FzZWROYW1lID09PSAnb25mb2N1c2luJyB8fCBsb3dlckNhc2VkTmFtZSA9PT0gJ29uZm9jdXNvdXQnKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnUmVhY3QgdXNlcyBvbkZvY3VzIGFuZCBvbkJsdXIgaW5zdGVhZCBvZiBvbkZvY3VzSW4gYW5kIG9uRm9jdXNPdXQuICcgKyAnQWxsIFJlYWN0IGV2ZW50cyBhcmUgbm9ybWFsaXplZCB0byBidWJibGUsIHNvIG9uRm9jdXNJbiBhbmQgb25Gb2N1c091dCAnICsgJ2FyZSBub3QgbmVlZGVkL3N1cHBvcnRlZCBieSBSZWFjdC4nKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBXZSBjYW4ndCByZWx5IG9uIHRoZSBldmVudCBzeXN0ZW0gYmVpbmcgaW5qZWN0ZWQgb24gdGhlIHNlcnZlci5cbiAgICBpZiAoY2FuVXNlRXZlbnRTeXN0ZW0pIHtcbiAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkgPyBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzW2xvd2VyQ2FzZWROYW1lXSA6IG51bGw7XG4gICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/JXMnLCBuYW1lLCByZWdpc3RyYXRpb25OYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKEVWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnVW5rbm93biBldmVudCBoYW5kbGVyIHByb3BlcnR5IGAlc2AuIEl0IHdpbGwgYmUgaWdub3JlZC4lcycsIG5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChFVkVOVF9OQU1FX1JFR0VYLnRlc3QobmFtZSkpIHtcbiAgICAgIC8vIElmIG5vIGV2ZW50IHBsdWdpbnMgaGF2ZSBiZWVuIGluamVjdGVkLCB3ZSBhcmUgaW4gYSBzZXJ2ZXIgZW52aXJvbm1lbnQuXG4gICAgICAvLyBTbyB3ZSBjYW4ndCB0ZWxsIGlmIHRoZSBldmVudCBuYW1lIGlzIGNvcnJlY3QgZm9yIHN1cmUsIGJ1dCB3ZSBjYW4gZmlsdGVyXG4gICAgICAvLyBvdXQga25vd24gYmFkIG9uZXMgbGlrZSBgb25jbGlja2AuIFdlIGNhbid0IHN1Z2dlc3QgYSBzcGVjaWZpYyByZXBsYWNlbWVudCB0aG91Z2guXG4gICAgICBpZiAoSU5WQUxJRF9FVkVOVF9OQU1FX1JFR0VYLnRlc3QobmFtZSkpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgZXZlbnQgaGFuZGxlciBwcm9wZXJ0eSBgJXNgLiAnICsgJ1JlYWN0IGV2ZW50cyB1c2UgdGhlIGNhbWVsQ2FzZSBuYW1pbmcgY29udmVudGlvbiwgZm9yIGV4YW1wbGUgYG9uQ2xpY2tgLiVzJywgbmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICAgICAgfVxuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIExldCB0aGUgQVJJQSBhdHRyaWJ1dGUgaG9vayB2YWxpZGF0ZSBBUklBIGF0dHJpYnV0ZXNcbiAgICBpZiAockFSSUEkMS50ZXN0KG5hbWUpIHx8IHJBUklBQ2FtZWwkMS50ZXN0KG5hbWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobG93ZXJDYXNlZE5hbWUgPT09ICdpbm5lcmh0bWwnKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnRGlyZWN0bHkgc2V0dGluZyBwcm9wZXJ0eSBgaW5uZXJIVE1MYCBpcyBub3QgcGVybWl0dGVkLiAnICsgJ0ZvciBtb3JlIGluZm9ybWF0aW9uLCBsb29rdXAgZG9jdW1lbnRhdGlvbiBvbiBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLicpO1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChsb3dlckNhc2VkTmFtZSA9PT0gJ2FyaWEnKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVGhlIGBhcmlhYCBhdHRyaWJ1dGUgaXMgcmVzZXJ2ZWQgZm9yIGZ1dHVyZSB1c2UgaW4gUmVhY3QuICcgKyAnUGFzcyBpbmRpdmlkdWFsIGBhcmlhLWAgYXR0cmlidXRlcyBpbnN0ZWFkLicpO1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChsb3dlckNhc2VkTmFtZSA9PT0gJ2lzJyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWNlaXZlZCBhIGAlc2AgZm9yIGEgc3RyaW5nIGF0dHJpYnV0ZSBgaXNgLiBJZiB0aGlzIGlzIGV4cGVjdGVkLCBjYXN0ICcgKyAndGhlIHZhbHVlIHRvIGEgc3RyaW5nLiVzJywgdHlwZW9mIHZhbHVlLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsdWUpKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnUmVjZWl2ZWQgTmFOIGZvciB0aGUgYCVzYCBhdHRyaWJ1dGUuIElmIHRoaXMgaXMgZXhwZWN0ZWQsIGNhc3QgJyArICd0aGUgdmFsdWUgdG8gYSBzdHJpbmcuJXMnLCBuYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHByb3BlcnR5SW5mbyA9IGdldFByb3BlcnR5SW5mbyhuYW1lKTtcbiAgICB2YXIgaXNSZXNlcnZlZCA9IHByb3BlcnR5SW5mbyAhPT0gbnVsbCAmJiBwcm9wZXJ0eUluZm8udHlwZSA9PT0gUkVTRVJWRUQ7XG5cbiAgICAvLyBLbm93biBhdHRyaWJ1dGVzIHNob3VsZCBtYXRjaCB0aGUgY2FzaW5nIHNwZWNpZmllZCBpbiB0aGUgcHJvcGVydHkgY29uZmlnLlxuICAgIGlmIChwb3NzaWJsZVN0YW5kYXJkTmFtZXMuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpKSB7XG4gICAgICB2YXIgc3RhbmRhcmROYW1lID0gcG9zc2libGVTdGFuZGFyZE5hbWVzW2xvd2VyQ2FzZWROYW1lXTtcbiAgICAgIGlmIChzdGFuZGFyZE5hbWUgIT09IG5hbWUpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgRE9NIHByb3BlcnR5IGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgPyVzJywgbmFtZSwgc3RhbmRhcmROYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWlzUmVzZXJ2ZWQgJiYgbmFtZSAhPT0gbG93ZXJDYXNlZE5hbWUpIHtcbiAgICAgIC8vIFVua25vd24gYXR0cmlidXRlcyBzaG91bGQgaGF2ZSBsb3dlcmNhc2UgY2FzaW5nIHNpbmNlIHRoYXQncyBob3cgdGhleVxuICAgICAgLy8gd2lsbCBiZSBjYXNlZCBhbnl3YXkgd2l0aCBzZXJ2ZXIgcmVuZGVyaW5nLlxuICAgICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0IGRvZXMgbm90IHJlY29nbml6ZSB0aGUgYCVzYCBwcm9wIG9uIGEgRE9NIGVsZW1lbnQuIElmIHlvdSAnICsgJ2ludGVudGlvbmFsbHkgd2FudCBpdCB0byBhcHBlYXIgaW4gdGhlIERPTSBhcyBhIGN1c3RvbSAnICsgJ2F0dHJpYnV0ZSwgc3BlbGwgaXQgYXMgbG93ZXJjYXNlIGAlc2AgaW5zdGVhZC4gJyArICdJZiB5b3UgYWNjaWRlbnRhbGx5IHBhc3NlZCBpdCBmcm9tIGEgcGFyZW50IGNvbXBvbmVudCwgcmVtb3ZlICcgKyAnaXQgZnJvbSB0aGUgRE9NIGVsZW1lbnQuJXMnLCBuYW1lLCBsb3dlckNhc2VkTmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyAmJiBzaG91bGRSZW1vdmVBdHRyaWJ1dGVXaXRoV2FybmluZyhuYW1lLCB2YWx1ZSwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnUmVjZWl2ZWQgYCVzYCBmb3IgYSBub24tYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC5cXG5cXG4nICsgJ0lmIHlvdSB3YW50IHRvIHdyaXRlIGl0IHRvIHRoZSBET00sIHBhc3MgYSBzdHJpbmcgaW5zdGVhZDogJyArICclcz1cIiVzXCIgb3IgJXM9e3ZhbHVlLnRvU3RyaW5nKCl9LiVzJywgdmFsdWUsIG5hbWUsIG5hbWUsIHZhbHVlLCBuYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnUmVjZWl2ZWQgYCVzYCBmb3IgYSBub24tYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC5cXG5cXG4nICsgJ0lmIHlvdSB3YW50IHRvIHdyaXRlIGl0IHRvIHRoZSBET00sIHBhc3MgYSBzdHJpbmcgaW5zdGVhZDogJyArICclcz1cIiVzXCIgb3IgJXM9e3ZhbHVlLnRvU3RyaW5nKCl9LlxcblxcbicgKyAnSWYgeW91IHVzZWQgdG8gY29uZGl0aW9uYWxseSBvbWl0IGl0IHdpdGggJXM9e2NvbmRpdGlvbiAmJiB2YWx1ZX0sICcgKyAncGFzcyAlcz17Y29uZGl0aW9uID8gdmFsdWUgOiB1bmRlZmluZWR9IGluc3RlYWQuJXMnLCB2YWx1ZSwgbmFtZSwgbmFtZSwgdmFsdWUsIG5hbWUsIG5hbWUsIG5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBOb3cgdGhhdCB3ZSd2ZSB2YWxpZGF0ZWQgY2FzaW5nLCBkbyBub3QgdmFsaWRhdGVcbiAgICAvLyBkYXRhIHR5cGVzIGZvciByZXNlcnZlZCBwcm9wc1xuICAgIGlmIChpc1Jlc2VydmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBXYXJuIHdoZW4gYSBrbm93biBhdHRyaWJ1dGUgaXMgYSBiYWQgdHlwZVxuICAgIGlmIChzaG91bGRSZW1vdmVBdHRyaWJ1dGVXaXRoV2FybmluZyhuYW1lLCB2YWx1ZSwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG59XG5cbnZhciB3YXJuVW5rbm93blByb3BlcnRpZXMgPSBmdW5jdGlvbiAodHlwZSwgcHJvcHMsIGNhblVzZUV2ZW50U3lzdGVtKSB7XG4gIHZhciB1bmtub3duUHJvcHMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgdmFyIGlzVmFsaWQgPSB2YWxpZGF0ZVByb3BlcnR5JDEodHlwZSwga2V5LCBwcm9wc1trZXldLCBjYW5Vc2VFdmVudFN5c3RlbSk7XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICB1bmtub3duUHJvcHMucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB1bmtub3duUHJvcFN0cmluZyA9IHVua25vd25Qcm9wcy5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICByZXR1cm4gJ2AnICsgcHJvcCArICdgJztcbiAgfSkuam9pbignLCAnKTtcbiAgaWYgKHVua25vd25Qcm9wcy5sZW5ndGggPT09IDEpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCB2YWx1ZSBmb3IgcHJvcCAlcyBvbiA8JXM+IHRhZy4gRWl0aGVyIHJlbW92ZSBpdCBmcm9tIHRoZSBlbGVtZW50LCAnICsgJ29yIHBhc3MgYSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlIHRvIGtlZXAgaXQgaW4gdGhlIERPTS4gJyArICdGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtYXR0cmlidXRlLWJlaGF2aW9yJXMnLCB1bmtub3duUHJvcFN0cmluZywgdHlwZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICB9IGVsc2UgaWYgKHVua25vd25Qcm9wcy5sZW5ndGggPiAxKSB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgdmFsdWVzIGZvciBwcm9wcyAlcyBvbiA8JXM+IHRhZy4gRWl0aGVyIHJlbW92ZSB0aGVtIGZyb20gdGhlIGVsZW1lbnQsICcgKyAnb3IgcGFzcyBhIHN0cmluZyBvciBudW1iZXIgdmFsdWUgdG8ga2VlcCB0aGVtIGluIHRoZSBET00uICcgKyAnRm9yIGRldGFpbHMsIHNlZSBodHRwczovL2ZiLm1lL3JlYWN0LWF0dHJpYnV0ZS1iZWhhdmlvciVzJywgdW5rbm93blByb3BTdHJpbmcsIHR5cGUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0aWVzJDIodHlwZSwgcHJvcHMsIGNhblVzZUV2ZW50U3lzdGVtKSB7XG4gIGlmIChpc0N1c3RvbUNvbXBvbmVudCh0eXBlLCBwcm9wcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2FyblVua25vd25Qcm9wZXJ0aWVzKHR5cGUsIHByb3BzLCBjYW5Vc2VFdmVudFN5c3RlbSk7XG59XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMiA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lO1xudmFyIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMiA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTtcblxudmFyIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gZmFsc2U7XG52YXIgZGlkV2FyblNoYWR5RE9NID0gZmFsc2U7XG5cbnZhciBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCA9ICdkYW5nZXJvdXNseVNldElubmVySFRNTCc7XG52YXIgU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HID0gJ3N1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyc7XG52YXIgU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMSA9ICdzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcnO1xudmFyIEFVVE9GT0NVUyA9ICdhdXRvRm9jdXMnO1xudmFyIENISUxEUkVOID0gJ2NoaWxkcmVuJztcbnZhciBTVFlMRSA9ICdzdHlsZSc7XG52YXIgSFRNTCA9ICdfX2h0bWwnO1xuXG52YXIgSFRNTF9OQU1FU1BBQ0UgPSBOYW1lc3BhY2VzLmh0bWw7XG5cblxudmFyIGdldFN0YWNrID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJucygnJyk7XG5cbnZhciB3YXJuZWRVbmtub3duVGFncyA9IHZvaWQgMDtcbnZhciBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgPSB2b2lkIDA7XG5cbnZhciB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50ID0gdm9pZCAwO1xudmFyIHdhcm5Gb3JUZXh0RGlmZmVyZW5jZSA9IHZvaWQgMDtcbnZhciB3YXJuRm9yUHJvcERpZmZlcmVuY2UgPSB2b2lkIDA7XG52YXIgd2FybkZvckV4dHJhQXR0cmlidXRlcyA9IHZvaWQgMDtcbnZhciB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIgPSB2b2lkIDA7XG5cbnZhciBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUgPSB2b2lkIDA7XG52YXIgbm9ybWFsaXplSFRNTCA9IHZvaWQgMDtcblxue1xuICBnZXRTdGFjayA9IGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMjtcblxuICB3YXJuZWRVbmtub3duVGFncyA9IHtcbiAgICAvLyBDaHJvbWUgaXMgdGhlIG9ubHkgbWFqb3IgYnJvd3NlciBub3Qgc2hpcHBpbmcgPHRpbWU+LiBCdXQgYXMgb2YgSnVseVxuICAgIC8vIDIwMTcgaXQgaW50ZW5kcyB0byBzaGlwIGl0IGR1ZSB0byB3aWRlc3ByZWFkIHVzYWdlLiBXZSBpbnRlbnRpb25hbGx5XG4gICAgLy8gKmRvbid0KiB3YXJuIGZvciA8dGltZT4gZXZlbiBpZiBpdCdzIHVucmVjb2duaXplZCBieSBDaHJvbWUgYmVjYXVzZVxuICAgIC8vIGl0IHNvb24gd2lsbCBiZSwgYW5kIG1hbnkgYXBwcyBoYXZlIGJlZW4gdXNpbmcgaXQgYW55d2F5LlxuICAgIHRpbWU6IHRydWUsXG4gICAgLy8gVGhlcmUgYXJlIHdvcmtpbmcgcG9seWZpbGxzIGZvciA8ZGlhbG9nPi4gTGV0IHBlb3BsZSB1c2UgaXQuXG4gICAgZGlhbG9nOiB0cnVlXG4gIH07XG5cbiAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBwcm9wcykge1xuICAgIHZhbGlkYXRlUHJvcGVydGllcyh0eXBlLCBwcm9wcyk7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzJDEodHlwZSwgcHJvcHMpO1xuICAgIHZhbGlkYXRlUHJvcGVydGllcyQyKHR5cGUsIHByb3BzLCAvKiBjYW5Vc2VFdmVudFN5c3RlbSAqL3RydWUpO1xuICB9O1xuXG4gIC8vIEhUTUwgcGFyc2luZyBub3JtYWxpemVzIENSIGFuZCBDUkxGIHRvIExGLlxuICAvLyBJdCBhbHNvIGNhbiB0dXJuIFxcdTAwMDAgaW50byBcXHVGRkZEIGluc2lkZSBhdHRyaWJ1dGVzLlxuICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc2luZ2xlLXBhZ2UuaHRtbCNwcmVwcm9jZXNzaW5nLXRoZS1pbnB1dC1zdHJlYW1cbiAgLy8gSWYgd2UgaGF2ZSBhIG1pc21hdGNoLCBpdCBtaWdodCBiZSBjYXVzZWQgYnkgdGhhdC5cbiAgLy8gV2Ugd2lsbCBzdGlsbCBwYXRjaCB1cCBpbiB0aGlzIGNhc2UgYnV0IG5vdCBmaXJlIHRoZSB3YXJuaW5nLlxuICB2YXIgTk9STUFMSVpFX05FV0xJTkVTX1JFR0VYID0gL1xcclxcbj8vZztcbiAgdmFyIE5PUk1BTElaRV9OVUxMX0FORF9SRVBMQUNFTUVOVF9SRUdFWCA9IC9cXHUwMDAwfFxcdUZGRkQvZztcblxuICBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobWFya3VwKSB7XG4gICAgdmFyIG1hcmt1cFN0cmluZyA9IHR5cGVvZiBtYXJrdXAgPT09ICdzdHJpbmcnID8gbWFya3VwIDogJycgKyBtYXJrdXA7XG4gICAgcmV0dXJuIG1hcmt1cFN0cmluZy5yZXBsYWNlKE5PUk1BTElaRV9ORVdMSU5FU19SRUdFWCwgJ1xcbicpLnJlcGxhY2UoTk9STUFMSVpFX05VTExfQU5EX1JFUExBQ0VNRU5UX1JFR0VYLCAnJyk7XG4gIH07XG5cbiAgd2FybkZvclRleHREaWZmZXJlbmNlID0gZnVuY3Rpb24gKHNlcnZlclRleHQsIGNsaWVudFRleHQpIHtcbiAgICBpZiAoZGlkV2FybkludmFsaWRIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5vcm1hbGl6ZWRDbGllbnRUZXh0ID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKGNsaWVudFRleHQpO1xuICAgIHZhciBub3JtYWxpemVkU2VydmVyVGV4dCA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShzZXJ2ZXJUZXh0KTtcbiAgICBpZiAobm9ybWFsaXplZFNlcnZlclRleHQgPT09IG5vcm1hbGl6ZWRDbGllbnRUZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnVGV4dCBjb250ZW50IGRpZCBub3QgbWF0Y2guIFNlcnZlcjogXCIlc1wiIENsaWVudDogXCIlc1wiJywgbm9ybWFsaXplZFNlcnZlclRleHQsIG5vcm1hbGl6ZWRDbGllbnRUZXh0KTtcbiAgfTtcblxuICB3YXJuRm9yUHJvcERpZmZlcmVuY2UgPSBmdW5jdGlvbiAocHJvcE5hbWUsIHNlcnZlclZhbHVlLCBjbGllbnRWYWx1ZSkge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbm9ybWFsaXplZENsaWVudFZhbHVlID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKGNsaWVudFZhbHVlKTtcbiAgICB2YXIgbm9ybWFsaXplZFNlcnZlclZhbHVlID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHNlcnZlclZhbHVlKTtcbiAgICBpZiAobm9ybWFsaXplZFNlcnZlclZhbHVlID09PSBub3JtYWxpemVkQ2xpZW50VmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdQcm9wIGAlc2AgZGlkIG5vdCBtYXRjaC4gU2VydmVyOiAlcyBDbGllbnQ6ICVzJywgcHJvcE5hbWUsIEpTT04uc3RyaW5naWZ5KG5vcm1hbGl6ZWRTZXJ2ZXJWYWx1ZSksIEpTT04uc3RyaW5naWZ5KG5vcm1hbGl6ZWRDbGllbnRWYWx1ZSkpO1xuICB9O1xuXG4gIHdhcm5Gb3JFeHRyYUF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoYXR0cmlidXRlTmFtZXMpIHtcbiAgICBpZiAoZGlkV2FybkludmFsaWRIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHZhciBuYW1lcyA9IFtdO1xuICAgIGF0dHJpYnV0ZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIG5hbWVzLnB1c2gobmFtZSk7XG4gICAgfSk7XG4gICAgd2FybmluZyhmYWxzZSwgJ0V4dHJhIGF0dHJpYnV0ZXMgZnJvbSB0aGUgc2VydmVyOiAlcycsIG5hbWVzKTtcbiAgfTtcblxuICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAocmVnaXN0cmF0aW9uTmFtZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAobGlzdGVuZXIgPT09IGZhbHNlKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnRXhwZWN0ZWQgYCVzYCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLCBpbnN0ZWFkIGdvdCBgZmFsc2VgLlxcblxcbicgKyAnSWYgeW91IHVzZWQgdG8gY29uZGl0aW9uYWxseSBvbWl0IGl0IHdpdGggJXM9e2NvbmRpdGlvbiAmJiB2YWx1ZX0sICcgKyAncGFzcyAlcz17Y29uZGl0aW9uID8gdmFsdWUgOiB1bmRlZmluZWR9IGluc3RlYWQuJXMnLCByZWdpc3RyYXRpb25OYW1lLCByZWdpc3RyYXRpb25OYW1lLCByZWdpc3RyYXRpb25OYW1lLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdFeHBlY3RlZCBgJXNgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGEgdmFsdWUgb2YgYCVzYCB0eXBlLiVzJywgcmVnaXN0cmF0aW9uTmFtZSwgdHlwZW9mIGxpc3RlbmVyLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFBhcnNlIHRoZSBIVE1MIGFuZCByZWFkIGl0IGJhY2sgdG8gbm9ybWFsaXplIHRoZSBIVE1MIHN0cmluZyBzbyB0aGF0IGl0XG4gIC8vIGNhbiBiZSB1c2VkIGZvciBjb21wYXJpc29uLlxuICBub3JtYWxpemVIVE1MID0gZnVuY3Rpb24gKHBhcmVudCwgaHRtbCkge1xuICAgIC8vIFdlIGNvdWxkIGhhdmUgY3JlYXRlZCBhIHNlcGFyYXRlIGRvY3VtZW50IGhlcmUgdG8gYXZvaWRcbiAgICAvLyByZS1pbml0aWFsaXppbmcgY3VzdG9tIGVsZW1lbnRzIGlmIHRoZXkgZXhpc3QuIEJ1dCB0aGlzIGJyZWFrc1xuICAgIC8vIGhvdyA8bm9zY3JpcHQ+IGlzIGJlaW5nIGhhbmRsZWQuIFNvIHdlIHVzZSB0aGUgc2FtZSBkb2N1bWVudC5cbiAgICAvLyBTZWUgdGhlIGRpc2N1c3Npb24gaW4gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMTExNTcuXG4gICAgdmFyIHRlc3RFbGVtZW50ID0gcGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UgPyBwYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHBhcmVudC50YWdOYW1lKSA6IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhwYXJlbnQubmFtZXNwYWNlVVJJLCBwYXJlbnQudGFnTmFtZSk7XG4gICAgdGVzdEVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICByZXR1cm4gdGVzdEVsZW1lbnQuaW5uZXJIVE1MO1xuICB9O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgcmVnaXN0cmF0aW9uTmFtZSkge1xuICB2YXIgaXNEb2N1bWVudE9yRnJhZ21lbnQgPSByb290Q29udGFpbmVyRWxlbWVudC5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfTk9ERSB8fCByb290Q29udGFpbmVyRWxlbWVudC5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERTtcbiAgdmFyIGRvYyA9IGlzRG9jdW1lbnRPckZyYWdtZW50ID8gcm9vdENvbnRhaW5lckVsZW1lbnQgOiByb290Q29udGFpbmVyRWxlbWVudC5vd25lckRvY3VtZW50O1xuICBsaXN0ZW5UbyhyZWdpc3RyYXRpb25OYW1lLCBkb2MpO1xufVxuXG5mdW5jdGlvbiBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIocm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgcmV0dXJuIHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFID8gcm9vdENvbnRhaW5lckVsZW1lbnQgOiByb290Q29udGFpbmVyRWxlbWVudC5vd25lckRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChub2RlKSB7XG4gIC8vIE1vYmlsZSBTYWZhcmkgZG9lcyBub3QgZmlyZSBwcm9wZXJseSBidWJibGUgY2xpY2sgZXZlbnRzIG9uXG4gIC8vIG5vbi1pbnRlcmFjdGl2ZSBlbGVtZW50cywgd2hpY2ggbWVhbnMgZGVsZWdhdGVkIGNsaWNrIGxpc3RlbmVycyBkbyBub3RcbiAgLy8gZmlyZS4gVGhlIHdvcmthcm91bmQgZm9yIHRoaXMgYnVnIGludm9sdmVzIGF0dGFjaGluZyBhbiBlbXB0eSBjbGlja1xuICAvLyBsaXN0ZW5lciBvbiB0aGUgdGFyZ2V0IG5vZGUuXG4gIC8vIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDEwLzA5L2NsaWNrX2V2ZW50X2RlbC5odG1sXG4gIC8vIEp1c3Qgc2V0IGl0IHVzaW5nIHRoZSBvbmNsaWNrIHByb3BlcnR5IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBtYW5hZ2UgYW55XG4gIC8vIGJvb2trZWVwaW5nIGZvciBpdC4gTm90IHN1cmUgaWYgd2UgbmVlZCB0byBjbGVhciBpdCB3aGVuIHRoZSBsaXN0ZW5lciBpc1xuICAvLyByZW1vdmVkLlxuICAvLyBUT0RPOiBPbmx5IGRvIHRoaXMgZm9yIHRoZSByZWxldmFudCBTYWZhcmlzIG1heWJlP1xuICBub2RlLm9uY2xpY2sgPSBlbXB0eUZ1bmN0aW9uO1xufVxuXG5mdW5jdGlvbiBzZXRJbml0aWFsRE9NUHJvcGVydGllcyh0YWcsIGRvbUVsZW1lbnQsIHJvb3RDb250YWluZXJFbGVtZW50LCBuZXh0UHJvcHMsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIGZvciAodmFyIHByb3BLZXkgaW4gbmV4dFByb3BzKSB7XG4gICAgaWYgKCFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgbmV4dFByb3AgPSBuZXh0UHJvcHNbcHJvcEtleV07XG4gICAgaWYgKHByb3BLZXkgPT09IFNUWUxFKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChuZXh0UHJvcCkge1xuICAgICAgICAgIC8vIEZyZWV6ZSB0aGUgbmV4dCBzdHlsZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gYXNzdW1lIGl0IHdvbid0IGJlXG4gICAgICAgICAgLy8gbXV0YXRlZC4gV2UgaGF2ZSBhbHJlYWR5IHdhcm5lZCBmb3IgdGhpcyBpbiB0aGUgcGFzdC5cbiAgICAgICAgICBPYmplY3QuZnJlZXplKG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gUmVsaWVzIG9uIGB1cGRhdGVTdHlsZXNCeUlEYCBub3QgbXV0YXRpbmcgYHN0eWxlVXBkYXRlc2AuXG4gICAgICBzZXRWYWx1ZUZvclN0eWxlcyhkb21FbGVtZW50LCBuZXh0UHJvcCwgZ2V0U3RhY2spO1xuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwpIHtcbiAgICAgIHZhciBuZXh0SHRtbCA9IG5leHRQcm9wID8gbmV4dFByb3BbSFRNTF0gOiB1bmRlZmluZWQ7XG4gICAgICBpZiAobmV4dEh0bWwgIT0gbnVsbCkge1xuICAgICAgICBzZXRJbm5lckhUTUwoZG9tRWxlbWVudCwgbmV4dEh0bWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gQ0hJTERSRU4pIHtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFByb3AgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIEF2b2lkIHNldHRpbmcgaW5pdGlhbCB0ZXh0Q29udGVudCB3aGVuIHRoZSB0ZXh0IGlzIGVtcHR5LiBJbiBJRTExIHNldHRpbmdcbiAgICAgICAgLy8gdGV4dENvbnRlbnQgb24gYSA8dGV4dGFyZWE+IHdpbGwgY2F1c2UgdGhlIHBsYWNlaG9sZGVyIHRvIG5vdFxuICAgICAgICAvLyBzaG93IHdpdGhpbiB0aGUgPHRleHRhcmVhPiB1bnRpbCBpdCBoYXMgYmVlbiBmb2N1c2VkIGFuZCBibHVycmVkIGFnYWluLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzY3MzEjaXNzdWVjb21tZW50LTI1NDg3NDU1M1xuICAgICAgICB2YXIgY2FuU2V0VGV4dENvbnRlbnQgPSB0YWcgIT09ICd0ZXh0YXJlYScgfHwgbmV4dFByb3AgIT09ICcnO1xuICAgICAgICBpZiAoY2FuU2V0VGV4dENvbnRlbnQpIHtcbiAgICAgICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCBuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5leHRQcm9wID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCAnJyArIG5leHRQcm9wKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IFNVUFBSRVNTX0NPTlRFTlRfRURJVEFCTEVfV0FSTklORyB8fCBwcm9wS2V5ID09PSBTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyQxKSB7XG4gICAgICAvLyBOb29wXG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBBVVRPRk9DVVMpIHtcbiAgICAgIC8vIFdlIHBvbHlmaWxsIGl0IHNlcGFyYXRlbHkgb24gdGhlIGNsaWVudCBkdXJpbmcgY29tbWl0LlxuICAgICAgLy8gV2UgYmxhY2tsaXN0IGl0IGhlcmUgcmF0aGVyIHRoYW4gaW4gdGhlIHByb3BlcnR5IGxpc3QgYmVjYXVzZSB3ZSBlbWl0IGl0IGluIFNTUi5cbiAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHJ1ZSAmJiB0eXBlb2YgbmV4dFByb3AgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIocHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wS2V5KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5leHRQcm9wICE9IG51bGwpIHtcbiAgICAgIHNldFZhbHVlRm9yUHJvcGVydHkoZG9tRWxlbWVudCwgcHJvcEtleSwgbmV4dFByb3AsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRE9NUHJvcGVydGllcyhkb21FbGVtZW50LCB1cGRhdGVQYXlsb2FkLCB3YXNDdXN0b21Db21wb25lbnRUYWcsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIC8vIFRPRE86IEhhbmRsZSB3YXNDdXN0b21Db21wb25lbnRUYWdcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cGRhdGVQYXlsb2FkLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgdmFyIHByb3BLZXkgPSB1cGRhdGVQYXlsb2FkW2ldO1xuICAgIHZhciBwcm9wVmFsdWUgPSB1cGRhdGVQYXlsb2FkW2kgKyAxXTtcbiAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgIHNldFZhbHVlRm9yU3R5bGVzKGRvbUVsZW1lbnQsIHByb3BWYWx1ZSwgZ2V0U3RhY2spO1xuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwpIHtcbiAgICAgIHNldElubmVySFRNTChkb21FbGVtZW50LCBwcm9wVmFsdWUpO1xuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gQ0hJTERSRU4pIHtcbiAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIHByb3BWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFZhbHVlRm9yUHJvcGVydHkoZG9tRWxlbWVudCwgcHJvcEtleSwgcHJvcFZhbHVlLCBpc0N1c3RvbUNvbXBvbmVudFRhZyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQkMSh0eXBlLCBwcm9wcywgcm9vdENvbnRhaW5lckVsZW1lbnQsIHBhcmVudE5hbWVzcGFjZSkge1xuICB2YXIgaXNDdXN0b21Db21wb25lbnRUYWcgPSB2b2lkIDA7XG5cbiAgLy8gV2UgY3JlYXRlIHRhZ3MgaW4gdGhlIG5hbWVzcGFjZSBvZiB0aGVpciBwYXJlbnQgY29udGFpbmVyLCBleGNlcHQgSFRNTFxuICAvLyB0YWdzIGdldCBubyBuYW1lc3BhY2UuXG4gIHZhciBvd25lckRvY3VtZW50ID0gZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKHJvb3RDb250YWluZXJFbGVtZW50KTtcbiAgdmFyIGRvbUVsZW1lbnQgPSB2b2lkIDA7XG4gIHZhciBuYW1lc3BhY2VVUkkgPSBwYXJlbnROYW1lc3BhY2U7XG4gIGlmIChuYW1lc3BhY2VVUkkgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgbmFtZXNwYWNlVVJJID0gZ2V0SW50cmluc2ljTmFtZXNwYWNlKHR5cGUpO1xuICB9XG4gIGlmIChuYW1lc3BhY2VVUkkgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAge1xuICAgICAgaXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0eXBlLCBwcm9wcyk7XG4gICAgICAvLyBTaG91bGQgdGhpcyBjaGVjayBiZSBnYXRlZCBieSBwYXJlbnQgbmFtZXNwYWNlPyBOb3Qgc3VyZSB3ZSB3YW50IHRvXG4gICAgICAvLyBhbGxvdyA8U1ZHPiBvciA8bUFUSD4uXG4gICAgICAhKGlzQ3VzdG9tQ29tcG9uZW50VGFnIHx8IHR5cGUgPT09IHR5cGUudG9Mb3dlckNhc2UoKSkgPyB3YXJuaW5nKGZhbHNlLCAnPCVzIC8+IGlzIHVzaW5nIGluY29ycmVjdCBjYXNpbmcuICcgKyAnVXNlIFBhc2NhbENhc2UgZm9yIFJlYWN0IGNvbXBvbmVudHMsICcgKyAnb3IgbG93ZXJjYXNlIGZvciBIVE1MIGVsZW1lbnRzLicsIHR5cGUpIDogdm9pZCAwO1xuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAnc2NyaXB0Jykge1xuICAgICAgLy8gQ3JlYXRlIHRoZSBzY3JpcHQgdmlhIC5pbm5lckhUTUwgc28gaXRzIFwicGFyc2VyLWluc2VydGVkXCIgZmxhZyBpc1xuICAgICAgLy8gc2V0IHRvIHRydWUgYW5kIGl0IGRvZXMgbm90IGV4ZWN1dGVcbiAgICAgIHZhciBkaXYgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGl2LmlubmVySFRNTCA9ICc8c2NyaXB0PjwnICsgJy9zY3JpcHQ+JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgLy8gVGhpcyBpcyBndWFyYW50ZWVkIHRvIHlpZWxkIGEgc2NyaXB0IGVsZW1lbnQuXG4gICAgICB2YXIgZmlyc3RDaGlsZCA9IGRpdi5maXJzdENoaWxkO1xuICAgICAgZG9tRWxlbWVudCA9IGRpdi5yZW1vdmVDaGlsZChmaXJzdENoaWxkKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wcy5pcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vICRGbG93SXNzdWUgYGNyZWF0ZUVsZW1lbnRgIHNob3VsZCBiZSB1cGRhdGVkIGZvciBXZWIgQ29tcG9uZW50c1xuICAgICAgZG9tRWxlbWVudCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlLCB7IGlzOiBwcm9wcy5pcyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2VwYXJhdGUgZWxzZSBicmFuY2ggaW5zdGVhZCBvZiB1c2luZyBgcHJvcHMuaXMgfHwgdW5kZWZpbmVkYCBhYm92ZSBiZWNhdXNlIG9mIGEgRmlyZWZveCBidWcuXG4gICAgICAvLyBTZWUgZGlzY3Vzc2lvbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC82ODk2XG4gICAgICAvLyBhbmQgZGlzY3Vzc2lvbiBpbiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjc2MjQwXG4gICAgICBkb21FbGVtZW50ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkb21FbGVtZW50ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlVVJJLCB0eXBlKTtcbiAgfVxuXG4gIHtcbiAgICBpZiAobmFtZXNwYWNlVVJJID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgaWYgKCFpc0N1c3RvbUNvbXBvbmVudFRhZyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9tRWxlbWVudCkgPT09ICdbb2JqZWN0IEhUTUxVbmtub3duRWxlbWVudF0nICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwod2FybmVkVW5rbm93blRhZ3MsIHR5cGUpKSB7XG4gICAgICAgIHdhcm5lZFVua25vd25UYWdzW3R5cGVdID0gdHJ1ZTtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1RoZSB0YWcgPCVzPiBpcyB1bnJlY29nbml6ZWQgaW4gdGhpcyBicm93c2VyLiAnICsgJ0lmIHlvdSBtZWFudCB0byByZW5kZXIgYSBSZWFjdCBjb21wb25lbnQsIHN0YXJ0IGl0cyBuYW1lIHdpdGggJyArICdhbiB1cHBlcmNhc2UgbGV0dGVyLicsIHR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkb21FbGVtZW50O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUZXh0Tm9kZSQxKHRleHQsIHJvb3RDb250YWluZXJFbGVtZW50KSB7XG4gIHJldHVybiBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIocm9vdENvbnRhaW5lckVsZW1lbnQpLmNyZWF0ZVRleHROb2RlKHRleHQpO1xufVxuXG5mdW5jdGlvbiBzZXRJbml0aWFsUHJvcGVydGllcyQxKGRvbUVsZW1lbnQsIHRhZywgcmF3UHJvcHMsIHJvb3RDb250YWluZXJFbGVtZW50KSB7XG4gIHZhciBpc0N1c3RvbUNvbXBvbmVudFRhZyA9IGlzQ3VzdG9tQ29tcG9uZW50KHRhZywgcmF3UHJvcHMpO1xuICB7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0YWcsIHJhd1Byb3BzKTtcbiAgICBpZiAoaXNDdXN0b21Db21wb25lbnRUYWcgJiYgIWRpZFdhcm5TaGFkeURPTSAmJiBkb21FbGVtZW50LnNoYWR5Um9vdCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJyVzIGlzIHVzaW5nIHNoYWR5IERPTS4gVXNpbmcgc2hhZHkgRE9NIHdpdGggUmVhY3QgY2FuICcgKyAnY2F1c2UgdGhpbmdzIHRvIGJyZWFrIHN1YnRseS4nLCBnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMigpIHx8ICdBIGNvbXBvbmVudCcpO1xuICAgICAgZGlkV2FyblNoYWR5RE9NID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBNYWtlIHN1cmUgdGhhdCB3ZSBjaGVjayBpc01vdW50ZWQgYmVmb3JlIGZpcmluZyBhbnkgb2YgdGhlc2UgZXZlbnRzLlxuICB2YXIgcHJvcHMgPSB2b2lkIDA7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaWZyYW1lJzpcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfTE9BRCwgZG9tRWxlbWVudCk7XG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndmlkZW8nOlxuICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgIC8vIENyZWF0ZSBsaXN0ZW5lciBmb3IgZWFjaCBtZWRpYSBldmVudFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZWRpYUV2ZW50VHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHJhcEJ1YmJsZWRFdmVudChtZWRpYUV2ZW50VHlwZXNbaV0sIGRvbUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NvdXJjZSc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9FUlJPUiwgZG9tRWxlbWVudCk7XG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW1nJzpcbiAgICBjYXNlICdpbWFnZSc6XG4gICAgY2FzZSAnbGluayc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9FUlJPUiwgZG9tRWxlbWVudCk7XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9MT0FELCBkb21FbGVtZW50KTtcbiAgICAgIHByb3BzID0gcmF3UHJvcHM7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdmb3JtJzpcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoVE9QX1JFU0VULCBkb21FbGVtZW50KTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoVE9QX1NVQk1JVCwgZG9tRWxlbWVudCk7XG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGV0YWlscyc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9UT0dHTEUsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGluaXRXcmFwcGVyU3RhdGUoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgcHJvcHMgPSBnZXRIb3N0UHJvcHMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfSU5WQUxJRCwgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIHZhbGlkYXRlUHJvcHMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgcHJvcHMgPSBnZXRIb3N0UHJvcHMkMShkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgaW5pdFdyYXBwZXJTdGF0ZSQxKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHByb3BzID0gZ2V0SG9zdFByb3BzJDIoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfSU5WQUxJRCwgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgaW5pdFdyYXBwZXJTdGF0ZSQyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHByb3BzID0gZ2V0SG9zdFByb3BzJDMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfSU5WQUxJRCwgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHByb3BzID0gcmF3UHJvcHM7XG4gIH1cblxuICBhc3NlcnRWYWxpZFByb3BzKHRhZywgcHJvcHMsIGdldFN0YWNrKTtcblxuICBzZXRJbml0aWFsRE9NUHJvcGVydGllcyh0YWcsIGRvbUVsZW1lbnQsIHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wcywgaXNDdXN0b21Db21wb25lbnRUYWcpO1xuXG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgLy8gVE9ETzogTWFrZSBzdXJlIHdlIGNoZWNrIGlmIHRoaXMgaXMgc3RpbGwgdW5tb3VudGVkIG9yIGRvIGFueSBjbGVhblxuICAgICAgLy8gdXAgbmVjZXNzYXJ5IHNpbmNlIHdlIG5ldmVyIHN0b3AgdHJhY2tpbmcgYW55bW9yZS5cbiAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgcG9zdE1vdW50V3JhcHBlcihkb21FbGVtZW50LCByYXdQcm9wcywgZmFsc2UpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgLy8gVE9ETzogTWFrZSBzdXJlIHdlIGNoZWNrIGlmIHRoaXMgaXMgc3RpbGwgdW5tb3VudGVkIG9yIGRvIGFueSBjbGVhblxuICAgICAgLy8gdXAgbmVjZXNzYXJ5IHNpbmNlIHdlIG5ldmVyIHN0b3AgdHJhY2tpbmcgYW55bW9yZS5cbiAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgcG9zdE1vdW50V3JhcHBlciQzKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICBwb3N0TW91bnRXcmFwcGVyJDEoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIHBvc3RNb3VudFdyYXBwZXIkMihkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHR5cGVvZiBwcm9wcy5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgY2FzdCBtYXkgbm90IGJlIHNvdW5kIGZvciBTVkcsIE1hdGhNTCBvciBjdXN0b20gZWxlbWVudHMuXG4gICAgICAgIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuLy8gQ2FsY3VsYXRlIHRoZSBkaWZmIGJldHdlZW4gdGhlIHR3byBvYmplY3RzLlxuZnVuY3Rpb24gZGlmZlByb3BlcnRpZXMkMShkb21FbGVtZW50LCB0YWcsIGxhc3RSYXdQcm9wcywgbmV4dFJhd1Byb3BzLCByb290Q29udGFpbmVyRWxlbWVudCkge1xuICB7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0YWcsIG5leHRSYXdQcm9wcyk7XG4gIH1cblxuICB2YXIgdXBkYXRlUGF5bG9hZCA9IG51bGw7XG5cbiAgdmFyIGxhc3RQcm9wcyA9IHZvaWQgMDtcbiAgdmFyIG5leHRQcm9wcyA9IHZvaWQgMDtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBsYXN0UHJvcHMgPSBnZXRIb3N0UHJvcHMoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyhkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIGxhc3RQcm9wcyA9IGdldEhvc3RQcm9wcyQxKGRvbUVsZW1lbnQsIGxhc3RSYXdQcm9wcyk7XG4gICAgICBuZXh0UHJvcHMgPSBnZXRIb3N0UHJvcHMkMShkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIGxhc3RQcm9wcyA9IGdldEhvc3RQcm9wcyQyKGRvbUVsZW1lbnQsIGxhc3RSYXdQcm9wcyk7XG4gICAgICBuZXh0UHJvcHMgPSBnZXRIb3N0UHJvcHMkMihkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgbGFzdFByb3BzID0gZ2V0SG9zdFByb3BzJDMoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyQzKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgbGFzdFByb3BzID0gbGFzdFJhd1Byb3BzO1xuICAgICAgbmV4dFByb3BzID0gbmV4dFJhd1Byb3BzO1xuICAgICAgaWYgKHR5cGVvZiBsYXN0UHJvcHMub25DbGljayAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgbmV4dFByb3BzLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBjYXN0IG1heSBub3QgYmUgc291bmQgZm9yIFNWRywgTWF0aE1MIG9yIGN1c3RvbSBlbGVtZW50cy5cbiAgICAgICAgdHJhcENsaWNrT25Ob25JbnRlcmFjdGl2ZUVsZW1lbnQoZG9tRWxlbWVudCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGFzc2VydFZhbGlkUHJvcHModGFnLCBuZXh0UHJvcHMsIGdldFN0YWNrKTtcblxuICB2YXIgcHJvcEtleSA9IHZvaWQgMDtcbiAgdmFyIHN0eWxlTmFtZSA9IHZvaWQgMDtcbiAgdmFyIHN0eWxlVXBkYXRlcyA9IG51bGw7XG4gIGZvciAocHJvcEtleSBpbiBsYXN0UHJvcHMpIHtcbiAgICBpZiAobmV4dFByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpIHx8ICFsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgbGFzdFByb3BzW3Byb3BLZXldID09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgIHZhciBsYXN0U3R5bGUgPSBsYXN0UHJvcHNbcHJvcEtleV07XG4gICAgICBmb3IgKHN0eWxlTmFtZSBpbiBsYXN0U3R5bGUpIHtcbiAgICAgICAgaWYgKGxhc3RTdHlsZS5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgaWYgKCFzdHlsZVVwZGF0ZXMpIHtcbiAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCB8fCBwcm9wS2V5ID09PSBDSElMRFJFTikge1xuICAgICAgLy8gTm9vcC4gVGhpcyBpcyBoYW5kbGVkIGJ5IHRoZSBjbGVhciB0ZXh0IG1lY2hhbmlzbS5cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IFNVUFBSRVNTX0NPTlRFTlRfRURJVEFCTEVfV0FSTklORyB8fCBwcm9wS2V5ID09PSBTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyQxKSB7XG4gICAgICAvLyBOb29wXG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBBVVRPRk9DVVMpIHtcbiAgICAgIC8vIE5vb3AuIEl0IGRvZXNuJ3Qgd29yayBvbiB1cGRhdGVzIGFueXdheS5cbiAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgc3BlY2lhbCBjYXNlLiBJZiBhbnkgbGlzdGVuZXIgdXBkYXRlcyB3ZSBuZWVkIHRvIGVuc3VyZVxuICAgICAgLy8gdGhhdCB0aGUgXCJjdXJyZW50XCIgZmliZXIgcG9pbnRlciBnZXRzIHVwZGF0ZWQgc28gd2UgbmVlZCBhIGNvbW1pdFxuICAgICAgLy8gdG8gdXBkYXRlIHRoaXMgZWxlbWVudC5cbiAgICAgIGlmICghdXBkYXRlUGF5bG9hZCkge1xuICAgICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvciBhbGwgb3RoZXIgZGVsZXRlZCBwcm9wZXJ0aWVzIHdlIGFkZCBpdCB0byB0aGUgcXVldWUuIFdlIHVzZVxuICAgICAgLy8gdGhlIHdoaXRlbGlzdCBpbiB0aGUgY29tbWl0IHBoYXNlIGluc3RlYWQuXG4gICAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2gocHJvcEtleSwgbnVsbCk7XG4gICAgfVxuICB9XG4gIGZvciAocHJvcEtleSBpbiBuZXh0UHJvcHMpIHtcbiAgICB2YXIgbmV4dFByb3AgPSBuZXh0UHJvcHNbcHJvcEtleV07XG4gICAgdmFyIGxhc3RQcm9wID0gbGFzdFByb3BzICE9IG51bGwgPyBsYXN0UHJvcHNbcHJvcEtleV0gOiB1bmRlZmluZWQ7XG4gICAgaWYgKCFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgbmV4dFByb3AgPT09IGxhc3RQcm9wIHx8IG5leHRQcm9wID09IG51bGwgJiYgbGFzdFByb3AgPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAge1xuICAgICAgICBpZiAobmV4dFByb3ApIHtcbiAgICAgICAgICAvLyBGcmVlemUgdGhlIG5leHQgc3R5bGUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGFzc3VtZSBpdCB3b24ndCBiZVxuICAgICAgICAgIC8vIG11dGF0ZWQuIFdlIGhhdmUgYWxyZWFkeSB3YXJuZWQgZm9yIHRoaXMgaW4gdGhlIHBhc3QuXG4gICAgICAgICAgT2JqZWN0LmZyZWV6ZShuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsYXN0UHJvcCkge1xuICAgICAgICAvLyBVbnNldCBzdHlsZXMgb24gYGxhc3RQcm9wYCBidXQgbm90IG9uIGBuZXh0UHJvcGAuXG4gICAgICAgIGZvciAoc3R5bGVOYW1lIGluIGxhc3RQcm9wKSB7XG4gICAgICAgICAgaWYgKGxhc3RQcm9wLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkgJiYgKCFuZXh0UHJvcCB8fCAhbmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkpIHtcbiAgICAgICAgICAgIGlmICghc3R5bGVVcGRhdGVzKSB7XG4gICAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3R5bGVVcGRhdGVzW3N0eWxlTmFtZV0gPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHN0eWxlcyB0aGF0IGNoYW5nZWQgc2luY2UgYGxhc3RQcm9wYC5cbiAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gbmV4dFByb3ApIHtcbiAgICAgICAgICBpZiAobmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiBsYXN0UHJvcFtzdHlsZU5hbWVdICE9PSBuZXh0UHJvcFtzdHlsZU5hbWVdKSB7XG4gICAgICAgICAgICBpZiAoIXN0eWxlVXBkYXRlcykge1xuICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gbmV4dFByb3Bbc3R5bGVOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlbGllcyBvbiBgdXBkYXRlU3R5bGVzQnlJRGAgbm90IG11dGF0aW5nIGBzdHlsZVVwZGF0ZXNgLlxuICAgICAgICBpZiAoIXN0eWxlVXBkYXRlcykge1xuICAgICAgICAgIGlmICghdXBkYXRlUGF5bG9hZCkge1xuICAgICAgICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVQYXlsb2FkLnB1c2gocHJvcEtleSwgc3R5bGVVcGRhdGVzKTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZVVwZGF0ZXMgPSBuZXh0UHJvcDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IERBTkdFUk9VU0xZX1NFVF9JTk5FUl9IVE1MKSB7XG4gICAgICB2YXIgbmV4dEh0bWwgPSBuZXh0UHJvcCA/IG5leHRQcm9wW0hUTUxdIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIGxhc3RIdG1sID0gbGFzdFByb3AgPyBsYXN0UHJvcFtIVE1MXSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChuZXh0SHRtbCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChsYXN0SHRtbCAhPT0gbmV4dEh0bWwpIHtcbiAgICAgICAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2gocHJvcEtleSwgJycgKyBuZXh0SHRtbCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE86IEl0IG1pZ2h0IGJlIHRvbyBsYXRlIHRvIGNsZWFyIHRoaXMgaWYgd2UgaGF2ZSBjaGlsZHJlblxuICAgICAgICAvLyBpbnNlcnRlZCBhbHJlYWR5LlxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gQ0hJTERSRU4pIHtcbiAgICAgIGlmIChsYXN0UHJvcCAhPT0gbmV4dFByb3AgJiYgKHR5cGVvZiBuZXh0UHJvcCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5leHRQcm9wID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgKHVwZGF0ZVBheWxvYWQgPSB1cGRhdGVQYXlsb2FkIHx8IFtdKS5wdXNoKHByb3BLZXksICcnICsgbmV4dFByb3ApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIHx8IHByb3BLZXkgPT09IFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEpIHtcbiAgICAgIC8vIE5vb3BcbiAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBlYWdlcmx5IGxpc3RlbiB0byB0aGlzIGV2ZW4gdGhvdWdoIHdlIGhhdmVuJ3QgY29tbWl0dGVkIHlldC5cbiAgICAgICAgaWYgKHRydWUgJiYgdHlwZW9mIG5leHRQcm9wICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHByb3BLZXksIG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgICBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgcHJvcEtleSk7XG4gICAgICB9XG4gICAgICBpZiAoIXVwZGF0ZVBheWxvYWQgJiYgbGFzdFByb3AgIT09IG5leHRQcm9wKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBzcGVjaWFsIGNhc2UuIElmIGFueSBsaXN0ZW5lciB1cGRhdGVzIHdlIG5lZWQgdG8gZW5zdXJlXG4gICAgICAgIC8vIHRoYXQgdGhlIFwiY3VycmVudFwiIHByb3BzIHBvaW50ZXIgZ2V0cyB1cGRhdGVkIHNvIHdlIG5lZWQgYSBjb21taXRcbiAgICAgICAgLy8gdG8gdXBkYXRlIHRoaXMgZWxlbWVudC5cbiAgICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3IgYW55IG90aGVyIHByb3BlcnR5IHdlIGFsd2F5cyBhZGQgaXQgdG8gdGhlIHF1ZXVlIGFuZCB0aGVuIHdlXG4gICAgICAvLyBmaWx0ZXIgaXQgb3V0IHVzaW5nIHRoZSB3aGl0ZWxpc3QgZHVyaW5nIHRoZSBjb21taXQuXG4gICAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2gocHJvcEtleSwgbmV4dFByb3ApO1xuICAgIH1cbiAgfVxuICBpZiAoc3R5bGVVcGRhdGVzKSB7XG4gICAgKHVwZGF0ZVBheWxvYWQgPSB1cGRhdGVQYXlsb2FkIHx8IFtdKS5wdXNoKFNUWUxFLCBzdHlsZVVwZGF0ZXMpO1xuICB9XG4gIHJldHVybiB1cGRhdGVQYXlsb2FkO1xufVxuXG4vLyBBcHBseSB0aGUgZGlmZi5cbmZ1bmN0aW9uIHVwZGF0ZVByb3BlcnRpZXMkMShkb21FbGVtZW50LCB1cGRhdGVQYXlsb2FkLCB0YWcsIGxhc3RSYXdQcm9wcywgbmV4dFJhd1Byb3BzKSB7XG4gIC8vIFVwZGF0ZSBjaGVja2VkICpiZWZvcmUqIG5hbWUuXG4gIC8vIEluIHRoZSBtaWRkbGUgb2YgYW4gdXBkYXRlLCBpdCBpcyBwb3NzaWJsZSB0byBoYXZlIG11bHRpcGxlIGNoZWNrZWQuXG4gIC8vIFdoZW4gYSBjaGVja2VkIHJhZGlvIHRyaWVzIHRvIGNoYW5nZSBuYW1lLCBicm93c2VyIG1ha2VzIGFub3RoZXIgcmFkaW8ncyBjaGVja2VkIGZhbHNlLlxuICBpZiAodGFnID09PSAnaW5wdXQnICYmIG5leHRSYXdQcm9wcy50eXBlID09PSAncmFkaW8nICYmIG5leHRSYXdQcm9wcy5uYW1lICE9IG51bGwpIHtcbiAgICB1cGRhdGVDaGVja2VkKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gIH1cblxuICB2YXIgd2FzQ3VzdG9tQ29tcG9uZW50VGFnID0gaXNDdXN0b21Db21wb25lbnQodGFnLCBsYXN0UmF3UHJvcHMpO1xuICB2YXIgaXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0YWcsIG5leHRSYXdQcm9wcyk7XG4gIC8vIEFwcGx5IHRoZSBkaWZmLlxuICB1cGRhdGVET01Qcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHdhc0N1c3RvbUNvbXBvbmVudFRhZywgaXNDdXN0b21Db21wb25lbnRUYWcpO1xuXG4gIC8vIFRPRE86IEVuc3VyZSB0aGF0IGFuIHVwZGF0ZSBnZXRzIHNjaGVkdWxlZCBpZiBhbnkgb2YgdGhlIHNwZWNpYWwgcHJvcHNcbiAgLy8gY2hhbmdlZC5cbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICAvLyBVcGRhdGUgdGhlIHdyYXBwZXIgYXJvdW5kIGlucHV0cyAqYWZ0ZXIqIHVwZGF0aW5nIHByb3BzLiBUaGlzIGhhcyB0b1xuICAgICAgLy8gaGFwcGVuIGFmdGVyIGB1cGRhdGVET01Qcm9wZXJ0aWVzYC4gT3RoZXJ3aXNlIEhUTUw1IGlucHV0IHZhbGlkYXRpb25zXG4gICAgICAvLyByYWlzZSB3YXJuaW5ncyBhbmQgcHJldmVudCB0aGUgbmV3IHZhbHVlIGZyb20gYmVpbmcgYXNzaWduZWQuXG4gICAgICB1cGRhdGVXcmFwcGVyKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICB1cGRhdGVXcmFwcGVyJDEoZG9tRWxlbWVudCwgbmV4dFJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAvLyA8c2VsZWN0PiB2YWx1ZSB1cGRhdGUgbmVlZHMgdG8gb2NjdXIgYWZ0ZXIgPG9wdGlvbj4gY2hpbGRyZW5cbiAgICAgIC8vIHJlY29uY2lsaWF0aW9uXG4gICAgICBwb3N0VXBkYXRlV3JhcHBlcihkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UG9zc2libGVTdGFuZGFyZE5hbWUocHJvcE5hbWUpIHtcbiAge1xuICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IHByb3BOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCFwb3NzaWJsZVN0YW5kYXJkTmFtZXMuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHBvc3NpYmxlU3RhbmRhcmROYW1lc1tsb3dlckNhc2VkTmFtZV0gfHwgbnVsbDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyQxKGRvbUVsZW1lbnQsIHRhZywgcmF3UHJvcHMsIHBhcmVudE5hbWVzcGFjZSwgcm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgdmFyIGlzQ3VzdG9tQ29tcG9uZW50VGFnID0gdm9pZCAwO1xuICB2YXIgZXh0cmFBdHRyaWJ1dGVOYW1lcyA9IHZvaWQgMDtcblxuICB7XG4gICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nID0gcmF3UHJvcHNbU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMV0gPT09IHRydWU7XG4gICAgaXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0YWcsIHJhd1Byb3BzKTtcbiAgICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHRhZywgcmF3UHJvcHMpO1xuICAgIGlmIChpc0N1c3RvbUNvbXBvbmVudFRhZyAmJiAhZGlkV2FyblNoYWR5RE9NICYmIGRvbUVsZW1lbnQuc2hhZHlSb290KSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnJXMgaXMgdXNpbmcgc2hhZHkgRE9NLiBVc2luZyBzaGFkeSBET00gd2l0aCBSZWFjdCBjYW4gJyArICdjYXVzZSB0aGluZ3MgdG8gYnJlYWsgc3VidGx5LicsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQyKCkgfHwgJ0EgY29tcG9uZW50Jyk7XG4gICAgICBkaWRXYXJuU2hhZHlET00gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IE1ha2Ugc3VyZSB0aGF0IHdlIGNoZWNrIGlzTW91bnRlZCBiZWZvcmUgZmlyaW5nIGFueSBvZiB0aGVzZSBldmVudHMuXG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaWZyYW1lJzpcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfTE9BRCwgZG9tRWxlbWVudCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd2aWRlbyc6XG4gICAgY2FzZSAnYXVkaW8nOlxuICAgICAgLy8gQ3JlYXRlIGxpc3RlbmVyIGZvciBlYWNoIG1lZGlhIGV2ZW50XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lZGlhRXZlbnRUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0cmFwQnViYmxlZEV2ZW50KG1lZGlhRXZlbnRUeXBlc1tpXSwgZG9tRWxlbWVudCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfRVJST1IsIGRvbUVsZW1lbnQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW1nJzpcbiAgICBjYXNlICdpbWFnZSc6XG4gICAgY2FzZSAnbGluayc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9FUlJPUiwgZG9tRWxlbWVudCk7XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9MT0FELCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfUkVTRVQsIGRvbUVsZW1lbnQpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfU1VCTUlULCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RldGFpbHMnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfVE9HR0xFLCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGluaXRXcmFwcGVyU3RhdGUoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfSU5WQUxJRCwgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIHZhbGlkYXRlUHJvcHMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIGluaXRXcmFwcGVyU3RhdGUkMShkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9JTlZBTElELCBkb21FbGVtZW50KTtcbiAgICAgIC8vIEZvciBjb250cm9sbGVkIGNvbXBvbmVudHMgd2UgYWx3YXlzIG5lZWQgdG8gZW5zdXJlIHdlJ3JlIGxpc3RlbmluZ1xuICAgICAgLy8gdG8gb25DaGFuZ2UuIEV2ZW4gaWYgdGhlcmUgaXMgbm8gbGlzdGVuZXIuXG4gICAgICBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgJ29uQ2hhbmdlJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICBpbml0V3JhcHBlclN0YXRlJDIoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfSU5WQUxJRCwgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICBhc3NlcnRWYWxpZFByb3BzKHRhZywgcmF3UHJvcHMsIGdldFN0YWNrKTtcblxuICB7XG4gICAgZXh0cmFBdHRyaWJ1dGVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICB2YXIgYXR0cmlidXRlcyA9IGRvbUVsZW1lbnQuYXR0cmlidXRlcztcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXR0cmlidXRlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBuYW1lID0gYXR0cmlidXRlc1tfaV0ubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgIC8vIEJ1aWx0LWluIFNTUiBhdHRyaWJ1dGUgaXMgd2hpdGVsaXN0ZWRcbiAgICAgICAgY2FzZSAnZGF0YS1yZWFjdHJvb3QnOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBDb250cm9sbGVkIGF0dHJpYnV0ZXMgYXJlIG5vdCB2YWxpZGF0ZWRcbiAgICAgICAgLy8gVE9ETzogT25seSBpZ25vcmUgdGhlbSBvbiBjb250cm9sbGVkIHRhZ3MuXG4gICAgICAgIGNhc2UgJ3ZhbHVlJzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2hlY2tlZCc6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NlbGVjdGVkJzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IHVzZSB0aGUgb3JpZ2luYWwgbmFtZS5cbiAgICAgICAgICAvLyBTZWUgZGlzY3Vzc2lvbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8xMDY3Ni5cbiAgICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzLmFkZChhdHRyaWJ1dGVzW19pXS5uYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgdXBkYXRlUGF5bG9hZCA9IG51bGw7XG4gIGZvciAodmFyIHByb3BLZXkgaW4gcmF3UHJvcHMpIHtcbiAgICBpZiAoIXJhd1Byb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIG5leHRQcm9wID0gcmF3UHJvcHNbcHJvcEtleV07XG4gICAgaWYgKHByb3BLZXkgPT09IENISUxEUkVOKSB7XG4gICAgICAvLyBGb3IgdGV4dCBjb250ZW50IGNoaWxkcmVuIHdlIGNvbXBhcmUgYWdhaW5zdCB0ZXh0Q29udGVudC4gVGhpc1xuICAgICAgLy8gbWlnaHQgbWF0Y2ggYWRkaXRpb25hbCBIVE1MIHRoYXQgaXMgaGlkZGVuIHdoZW4gd2UgcmVhZCBpdCB1c2luZ1xuICAgICAgLy8gdGV4dENvbnRlbnQuIEUuZy4gXCJmb29cIiB3aWxsIG1hdGNoIFwiZjxzcGFuPm9vPC9zcGFuPlwiIGJ1dCB0aGF0IHN0aWxsXG4gICAgICAvLyBzYXRpc2ZpZXMgb3VyIHJlcXVpcmVtZW50LiBPdXIgcmVxdWlyZW1lbnQgaXMgbm90IHRvIHByb2R1Y2UgcGVyZmVjdFxuICAgICAgLy8gSFRNTCBhbmQgYXR0cmlidXRlcy4gSWRlYWxseSB3ZSBzaG91bGQgcHJlc2VydmUgc3RydWN0dXJlIGJ1dCBpdCdzXG4gICAgICAvLyBvayBub3QgdG8gaWYgdGhlIHZpc2libGUgY29udGVudCBpcyBzdGlsbCBlbm91Z2ggdG8gaW5kaWNhdGUgd2hhdFxuICAgICAgLy8gZXZlbiBsaXN0ZW5lcnMgdGhlc2Ugbm9kZXMgbWlnaHQgYmUgd2lyZWQgdXAgdG8uXG4gICAgICAvLyBUT0RPOiBXYXJuIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBhIHNpbmdsZSB0ZXh0Tm9kZSBhcyBhIGNoaWxkLlxuICAgICAgLy8gVE9ETzogU2hvdWxkIHdlIHVzZSBkb21FbGVtZW50LmZpcnN0Q2hpbGQubm9kZVZhbHVlIHRvIGNvbXBhcmU/XG4gICAgICBpZiAodHlwZW9mIG5leHRQcm9wID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZG9tRWxlbWVudC50ZXh0Q29udGVudCAhPT0gbmV4dFByb3ApIHtcbiAgICAgICAgICBpZiAodHJ1ZSAmJiAhc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB7XG4gICAgICAgICAgICB3YXJuRm9yVGV4dERpZmZlcmVuY2UoZG9tRWxlbWVudC50ZXh0Q29udGVudCwgbmV4dFByb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVQYXlsb2FkID0gW0NISUxEUkVOLCBuZXh0UHJvcF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5leHRQcm9wID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoZG9tRWxlbWVudC50ZXh0Q29udGVudCAhPT0gJycgKyBuZXh0UHJvcCkge1xuICAgICAgICAgIGlmICh0cnVlICYmICFzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgICAgIHdhcm5Gb3JUZXh0RGlmZmVyZW5jZShkb21FbGVtZW50LnRleHRDb250ZW50LCBuZXh0UHJvcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVBheWxvYWQgPSBbQ0hJTERSRU4sICcnICsgbmV4dFByb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgaWYgKG5leHRQcm9wICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHRydWUgJiYgdHlwZW9mIG5leHRQcm9wICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHByb3BLZXksIG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgICBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgcHJvcEtleSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0cnVlICYmXG4gICAgLy8gQ29udmluY2UgRmxvdyB3ZSd2ZSBjYWxjdWxhdGVkIGl0IChpdCdzIERFVi1vbmx5IGluIHRoaXMgbWV0aG9kLilcbiAgICB0eXBlb2YgaXNDdXN0b21Db21wb25lbnRUYWcgPT09ICdib29sZWFuJykge1xuICAgICAgLy8gVmFsaWRhdGUgdGhhdCB0aGUgcHJvcGVydGllcyBjb3JyZXNwb25kIHRvIHRoZWlyIGV4cGVjdGVkIHZhbHVlcy5cbiAgICAgIHZhciBzZXJ2ZXJWYWx1ZSA9IHZvaWQgMDtcbiAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSBnZXRQcm9wZXJ0eUluZm8ocHJvcEtleSk7XG4gICAgICBpZiAoc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB7XG4gICAgICAgIC8vIERvbid0IGJvdGhlciBjb21wYXJpbmcuIFdlJ3JlIGlnbm9yaW5nIGFsbCB0aGVzZSB3YXJuaW5ncy5cbiAgICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIHx8IHByb3BLZXkgPT09IFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEgfHxcbiAgICAgIC8vIENvbnRyb2xsZWQgYXR0cmlidXRlcyBhcmUgbm90IHZhbGlkYXRlZFxuICAgICAgLy8gVE9ETzogT25seSBpZ25vcmUgdGhlbSBvbiBjb250cm9sbGVkIHRhZ3MuXG4gICAgICBwcm9wS2V5ID09PSAndmFsdWUnIHx8IHByb3BLZXkgPT09ICdjaGVja2VkJyB8fCBwcm9wS2V5ID09PSAnc2VsZWN0ZWQnKSB7XG4gICAgICAgIC8vIE5vb3BcbiAgICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwpIHtcbiAgICAgICAgdmFyIHJhd0h0bWwgPSBuZXh0UHJvcCA/IG5leHRQcm9wW0hUTUxdIHx8ICcnIDogJyc7XG4gICAgICAgIHZhciBzZXJ2ZXJIVE1MID0gZG9tRWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgIHZhciBleHBlY3RlZEhUTUwgPSBub3JtYWxpemVIVE1MKGRvbUVsZW1lbnQsIHJhd0h0bWwpO1xuICAgICAgICBpZiAoZXhwZWN0ZWRIVE1MICE9PSBzZXJ2ZXJIVE1MKSB7XG4gICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIHNlcnZlckhUTUwsIGV4cGVjdGVkSFRNTCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzLmRlbGV0ZShwcm9wS2V5KTtcbiAgICAgICAgdmFyIGV4cGVjdGVkU3R5bGUgPSBjcmVhdGVEYW5nZXJvdXNTdHJpbmdGb3JTdHlsZXMobmV4dFByb3ApO1xuICAgICAgICBzZXJ2ZXJWYWx1ZSA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICBpZiAoZXhwZWN0ZWRTdHlsZSAhPT0gc2VydmVyVmFsdWUpIHtcbiAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgc2VydmVyVmFsdWUsIGV4cGVjdGVkU3R5bGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lcy5kZWxldGUocHJvcEtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgc2VydmVyVmFsdWUgPSBnZXRWYWx1ZUZvckF0dHJpYnV0ZShkb21FbGVtZW50LCBwcm9wS2V5LCBuZXh0UHJvcCk7XG5cbiAgICAgICAgaWYgKG5leHRQcm9wICE9PSBzZXJ2ZXJWYWx1ZSkge1xuICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBzZXJ2ZXJWYWx1ZSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFzaG91bGRJZ25vcmVBdHRyaWJ1dGUocHJvcEtleSwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykgJiYgIXNob3VsZFJlbW92ZUF0dHJpYnV0ZShwcm9wS2V5LCBuZXh0UHJvcCwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykpIHtcbiAgICAgICAgdmFyIGlzTWlzbWF0Y2hEdWVUb0JhZENhc2luZyA9IGZhbHNlO1xuICAgICAgICBpZiAocHJvcGVydHlJbmZvICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgICAgICAgIGV4dHJhQXR0cmlidXRlTmFtZXMuZGVsZXRlKHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICBzZXJ2ZXJWYWx1ZSA9IGdldFZhbHVlRm9yUHJvcGVydHkoZG9tRWxlbWVudCwgcHJvcEtleSwgbmV4dFByb3AsIHByb3BlcnR5SW5mbyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG93bk5hbWVzcGFjZSA9IHBhcmVudE5hbWVzcGFjZTtcbiAgICAgICAgICBpZiAob3duTmFtZXNwYWNlID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgICAgICAgb3duTmFtZXNwYWNlID0gZ2V0SW50cmluc2ljTmFtZXNwYWNlKHRhZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvd25OYW1lc3BhY2UgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzLmRlbGV0ZShwcm9wS2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3RhbmRhcmROYW1lID0gZ2V0UG9zc2libGVTdGFuZGFyZE5hbWUocHJvcEtleSk7XG4gICAgICAgICAgICBpZiAoc3RhbmRhcmROYW1lICE9PSBudWxsICYmIHN0YW5kYXJkTmFtZSAhPT0gcHJvcEtleSkge1xuICAgICAgICAgICAgICAvLyBJZiBhbiBTVkcgcHJvcCBpcyBzdXBwbGllZCB3aXRoIGJhZCBjYXNpbmcsIGl0IHdpbGxcbiAgICAgICAgICAgICAgLy8gYmUgc3VjY2Vzc2Z1bGx5IHBhcnNlZCBmcm9tIEhUTUwsIGJ1dCB3aWxsIHByb2R1Y2UgYSBtaXNtYXRjaFxuICAgICAgICAgICAgICAvLyAoYW5kIHdvdWxkIGJlIGluY29ycmVjdGx5IHJlbmRlcmVkIG9uIHRoZSBjbGllbnQpLlxuICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBhbHJlYWR5IHdhcm4gYWJvdXQgYmFkIGNhc2luZyBlbHNld2hlcmUuXG4gICAgICAgICAgICAgIC8vIFNvIHdlJ2xsIHNraXAgdGhlIG1pc2xlYWRpbmcgZXh0cmEgbWlzbWF0Y2ggd2FybmluZyBpbiB0aGlzIGNhc2UuXG4gICAgICAgICAgICAgIGlzTWlzbWF0Y2hEdWVUb0JhZENhc2luZyA9IHRydWU7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lcy5kZWxldGUoc3RhbmRhcmROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlTmFtZXMuZGVsZXRlKHByb3BLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXJ2ZXJWYWx1ZSA9IGdldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIHByb3BLZXksIG5leHRQcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0UHJvcCAhPT0gc2VydmVyVmFsdWUgJiYgIWlzTWlzbWF0Y2hEdWVUb0JhZENhc2luZykge1xuICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBzZXJ2ZXJWYWx1ZSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAge1xuICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICBpZiAoZXh0cmFBdHRyaWJ1dGVOYW1lcy5zaXplID4gMCAmJiAhc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICB3YXJuRm9yRXh0cmFBdHRyaWJ1dGVzKGV4dHJhQXR0cmlidXRlTmFtZXMpO1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgLy8gVE9ETzogTWFrZSBzdXJlIHdlIGNoZWNrIGlmIHRoaXMgaXMgc3RpbGwgdW5tb3VudGVkIG9yIGRvIGFueSBjbGVhblxuICAgICAgLy8gdXAgbmVjZXNzYXJ5IHNpbmNlIHdlIG5ldmVyIHN0b3AgdHJhY2tpbmcgYW55bW9yZS5cbiAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgcG9zdE1vdW50V3JhcHBlcihkb21FbGVtZW50LCByYXdQcm9wcywgdHJ1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICAvLyBUT0RPOiBNYWtlIHN1cmUgd2UgY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCB1bm1vdW50ZWQgb3IgZG8gYW55IGNsZWFuXG4gICAgICAvLyB1cCBuZWNlc3Nhcnkgc2luY2Ugd2UgbmV2ZXIgc3RvcCB0cmFja2luZyBhbnltb3JlLlxuICAgICAgdHJhY2soZG9tRWxlbWVudCk7XG4gICAgICBwb3N0TW91bnRXcmFwcGVyJDMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICBjYXNlICdvcHRpb24nOlxuICAgICAgLy8gRm9yIGlucHV0IGFuZCB0ZXh0YXJlYSB3ZSBjdXJyZW50IGFsd2F5cyBzZXQgdGhlIHZhbHVlIHByb3BlcnR5IGF0XG4gICAgICAvLyBwb3N0IG1vdW50IHRvIGZvcmNlIGl0IHRvIGRpdmVyZ2UgZnJvbSBhdHRyaWJ1dGVzLiBIb3dldmVyLCBmb3JcbiAgICAgIC8vIG9wdGlvbiBhbmQgc2VsZWN0IHdlIGRvbid0IHF1aXRlIGRvIHRoZSBzYW1lIHRoaW5nIGFuZCBzZWxlY3RcbiAgICAgIC8vIGlzIG5vdCByZXNpbGllbnQgdG8gdGhlIERPTSBzdGF0ZSBjaGFuZ2luZyBzbyB3ZSBkb24ndCBkbyB0aGF0IGhlcmUuXG4gICAgICAvLyBUT0RPOiBDb25zaWRlciBub3QgZG9pbmcgdGhpcyBmb3IgaW5wdXQgYW5kIHRleHRhcmVhLlxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICh0eXBlb2YgcmF3UHJvcHMub25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGNhc3QgbWF5IG5vdCBiZSBzb3VuZCBmb3IgU1ZHLCBNYXRoTUwgb3IgY3VzdG9tIGVsZW1lbnRzLlxuICAgICAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb21FbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG59XG5cbmZ1bmN0aW9uIGRpZmZIeWRyYXRlZFRleHQkMSh0ZXh0Tm9kZSwgdGV4dCkge1xuICB2YXIgaXNEaWZmZXJlbnQgPSB0ZXh0Tm9kZS5ub2RlVmFsdWUgIT09IHRleHQ7XG4gIHJldHVybiBpc0RpZmZlcmVudDtcbn1cblxuZnVuY3Rpb24gd2FybkZvclVubWF0Y2hlZFRleHQkMSh0ZXh0Tm9kZSwgdGV4dCkge1xuICB7XG4gICAgd2FybkZvclRleHREaWZmZXJlbmNlKHRleHROb2RlLm5vZGVWYWx1ZSwgdGV4dCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudCQxKHBhcmVudE5vZGUsIGNoaWxkKSB7XG4gIHtcbiAgICBpZiAoZGlkV2FybkludmFsaWRIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdEaWQgbm90IGV4cGVjdCBzZXJ2ZXIgSFRNTCB0byBjb250YWluIGEgPCVzPiBpbiA8JXM+LicsIGNoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIHBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCQxKHBhcmVudE5vZGUsIGNoaWxkKSB7XG4gIHtcbiAgICBpZiAoZGlkV2FybkludmFsaWRIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdEaWQgbm90IGV4cGVjdCBzZXJ2ZXIgSFRNTCB0byBjb250YWluIHRoZSB0ZXh0IG5vZGUgXCIlc1wiIGluIDwlcz4uJywgY2hpbGQubm9kZVZhbHVlLCBwYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCQxKHBhcmVudE5vZGUsIHRhZywgcHJvcHMpIHtcbiAge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ0V4cGVjdGVkIHNlcnZlciBIVE1MIHRvIGNvbnRhaW4gYSBtYXRjaGluZyA8JXM+IGluIDwlcz4uJywgdGFnLCBwYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCQxKHBhcmVudE5vZGUsIHRleHQpIHtcbiAge1xuICAgIGlmICh0ZXh0ID09PSAnJykge1xuICAgICAgLy8gV2UgZXhwZWN0IHRvIGluc2VydCBlbXB0eSB0ZXh0IG5vZGVzIHNpbmNlIHRoZXkncmUgbm90IHJlcHJlc2VudGVkIGluXG4gICAgICAvLyB0aGUgSFRNTC5cbiAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIHNwZWNpYWwgY2FzZSBpZiB3ZSBjYW4ganVzdCBhdm9pZCBpbnNlcnRpbmcgZW1wdHlcbiAgICAgIC8vIHRleHQgbm9kZXMuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ0V4cGVjdGVkIHNlcnZlciBIVE1MIHRvIGNvbnRhaW4gYSBtYXRjaGluZyB0ZXh0IG5vZGUgZm9yIFwiJXNcIiBpbiA8JXM+LicsIHRleHQsIHBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSQxKGRvbUVsZW1lbnQsIHRhZywgcHJvcHMpIHtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICByZXN0b3JlQ29udHJvbGxlZFN0YXRlKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgIHJldHVybjtcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgcmV0dXJuO1xuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDIoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgcmV0dXJuO1xuICB9XG59XG5cbnZhciBSZWFjdERPTUZpYmVyQ29tcG9uZW50ID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnQkMSxcblx0Y3JlYXRlVGV4dE5vZGU6IGNyZWF0ZVRleHROb2RlJDEsXG5cdHNldEluaXRpYWxQcm9wZXJ0aWVzOiBzZXRJbml0aWFsUHJvcGVydGllcyQxLFxuXHRkaWZmUHJvcGVydGllczogZGlmZlByb3BlcnRpZXMkMSxcblx0dXBkYXRlUHJvcGVydGllczogdXBkYXRlUHJvcGVydGllcyQxLFxuXHRkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzOiBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzJDEsXG5cdGRpZmZIeWRyYXRlZFRleHQ6IGRpZmZIeWRyYXRlZFRleHQkMSxcblx0d2FybkZvclVubWF0Y2hlZFRleHQ6IHdhcm5Gb3JVbm1hdGNoZWRUZXh0JDEsXG5cdHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQ6IHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQkMSxcblx0d2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dDogd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCQxLFxuXHR3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZEVsZW1lbnQ6IHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCQxLFxuXHR3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQ6IHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCQxLFxuXHRyZXN0b3JlQ29udHJvbGxlZFN0YXRlOiByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDFcbn0pO1xuXG4vLyBUT0RPOiBkaXJlY3QgaW1wb3J0cyBsaWtlIHNvbWUtcGFja2FnZS9zcmMvKiBhcmUgYmFkLiBGaXggbWUuXG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ1ID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG52YXIgdmFsaWRhdGVET01OZXN0aW5nID0gZW1wdHlGdW5jdGlvbjtcblxue1xuICAvLyBUaGlzIHZhbGlkYXRpb24gY29kZSB3YXMgd3JpdHRlbiBiYXNlZCBvbiB0aGUgSFRNTDUgcGFyc2luZyBzcGVjOlxuICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNoYXMtYW4tZWxlbWVudC1pbi1zY29wZVxuICAvL1xuICAvLyBOb3RlOiB0aGlzIGRvZXMgbm90IGNhdGNoIGFsbCBpbnZhbGlkIG5lc3RpbmcsIG5vciBkb2VzIGl0IHRyeSB0byAoYXMgaXQnc1xuICAvLyBub3QgY2xlYXIgd2hhdCBwcmFjdGljYWwgYmVuZWZpdCBkb2luZyBzbyBwcm92aWRlcyk7IGluc3RlYWQsIHdlIHdhcm4gb25seVxuICAvLyBmb3IgY2FzZXMgd2hlcmUgdGhlIHBhcnNlciB3aWxsIGdpdmUgYSBwYXJzZSB0cmVlIGRpZmZlcmluZyBmcm9tIHdoYXQgUmVhY3RcbiAgLy8gaW50ZW5kZWQuIEZvciBleGFtcGxlLCA8Yj48ZGl2PjwvZGl2PjwvYj4gaXMgaW52YWxpZCBidXQgd2UgZG9uJ3Qgd2FyblxuICAvLyBiZWNhdXNlIGl0IHN0aWxsIHBhcnNlcyBjb3JyZWN0bHk7IHdlIGRvIHdhcm4gZm9yIG90aGVyIGNhc2VzIGxpa2UgbmVzdGVkXG4gIC8vIDxwPiB0YWdzIHdoZXJlIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNlY29uZCBlbGVtZW50IGltcGxpY2l0bHkgY2xvc2VzIHRoZVxuICAvLyBmaXJzdCwgY2F1c2luZyBhIGNvbmZ1c2luZyBtZXNzLlxuXG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3NwZWNpYWxcbiAgdmFyIHNwZWNpYWxUYWdzID0gWydhZGRyZXNzJywgJ2FwcGxldCcsICdhcmVhJywgJ2FydGljbGUnLCAnYXNpZGUnLCAnYmFzZScsICdiYXNlZm9udCcsICdiZ3NvdW5kJywgJ2Jsb2NrcXVvdGUnLCAnYm9keScsICdicicsICdidXR0b24nLCAnY2FwdGlvbicsICdjZW50ZXInLCAnY29sJywgJ2NvbGdyb3VwJywgJ2RkJywgJ2RldGFpbHMnLCAnZGlyJywgJ2RpdicsICdkbCcsICdkdCcsICdlbWJlZCcsICdmaWVsZHNldCcsICdmaWdjYXB0aW9uJywgJ2ZpZ3VyZScsICdmb290ZXInLCAnZm9ybScsICdmcmFtZScsICdmcmFtZXNldCcsICdoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsICdoZWFkJywgJ2hlYWRlcicsICdoZ3JvdXAnLCAnaHInLCAnaHRtbCcsICdpZnJhbWUnLCAnaW1nJywgJ2lucHV0JywgJ2lzaW5kZXgnLCAnbGknLCAnbGluaycsICdsaXN0aW5nJywgJ21haW4nLCAnbWFycXVlZScsICdtZW51JywgJ21lbnVpdGVtJywgJ21ldGEnLCAnbmF2JywgJ25vZW1iZWQnLCAnbm9mcmFtZXMnLCAnbm9zY3JpcHQnLCAnb2JqZWN0JywgJ29sJywgJ3AnLCAncGFyYW0nLCAncGxhaW50ZXh0JywgJ3ByZScsICdzY3JpcHQnLCAnc2VjdGlvbicsICdzZWxlY3QnLCAnc291cmNlJywgJ3N0eWxlJywgJ3N1bW1hcnknLCAndGFibGUnLCAndGJvZHknLCAndGQnLCAndGVtcGxhdGUnLCAndGV4dGFyZWEnLCAndGZvb3QnLCAndGgnLCAndGhlYWQnLCAndGl0bGUnLCAndHInLCAndHJhY2snLCAndWwnLCAnd2JyJywgJ3htcCddO1xuXG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2hhcy1hbi1lbGVtZW50LWluLXNjb3BlXG4gIHZhciBpblNjb3BlVGFncyA9IFsnYXBwbGV0JywgJ2NhcHRpb24nLCAnaHRtbCcsICd0YWJsZScsICd0ZCcsICd0aCcsICdtYXJxdWVlJywgJ29iamVjdCcsICd0ZW1wbGF0ZScsXG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjaHRtbC1pbnRlZ3JhdGlvbi1wb2ludFxuICAvLyBUT0RPOiBEaXN0aW5ndWlzaCBieSBuYW1lc3BhY2UgaGVyZSAtLSBmb3IgPHRpdGxlPiwgaW5jbHVkaW5nIGl0IGhlcmVcbiAgLy8gZXJycyBvbiB0aGUgc2lkZSBvZiBmZXdlciB3YXJuaW5nc1xuICAnZm9yZWlnbk9iamVjdCcsICdkZXNjJywgJ3RpdGxlJ107XG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjaGFzLWFuLWVsZW1lbnQtaW4tYnV0dG9uLXNjb3BlXG4gIHZhciBidXR0b25TY29wZVRhZ3MgPSBpblNjb3BlVGFncy5jb25jYXQoWydidXR0b24nXSk7XG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjZ2VuZXJhdGUtaW1wbGllZC1lbmQtdGFnc1xuICB2YXIgaW1wbGllZEVuZFRhZ3MgPSBbJ2RkJywgJ2R0JywgJ2xpJywgJ29wdGlvbicsICdvcHRncm91cCcsICdwJywgJ3JwJywgJ3J0J107XG5cbiAgdmFyIGVtcHR5QW5jZXN0b3JJbmZvID0ge1xuICAgIGN1cnJlbnQ6IG51bGwsXG5cbiAgICBmb3JtVGFnOiBudWxsLFxuICAgIGFUYWdJblNjb3BlOiBudWxsLFxuICAgIGJ1dHRvblRhZ0luU2NvcGU6IG51bGwsXG4gICAgbm9iclRhZ0luU2NvcGU6IG51bGwsXG4gICAgcFRhZ0luQnV0dG9uU2NvcGU6IG51bGwsXG5cbiAgICBsaXN0SXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsLFxuICAgIGRsSXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsXG4gIH07XG5cbiAgdmFyIHVwZGF0ZWRBbmNlc3RvckluZm8kMSA9IGZ1bmN0aW9uIChvbGRJbmZvLCB0YWcsIGluc3RhbmNlKSB7XG4gICAgdmFyIGFuY2VzdG9ySW5mbyA9IF9hc3NpZ24oe30sIG9sZEluZm8gfHwgZW1wdHlBbmNlc3RvckluZm8pO1xuICAgIHZhciBpbmZvID0geyB0YWc6IHRhZywgaW5zdGFuY2U6IGluc3RhbmNlIH07XG5cbiAgICBpZiAoaW5TY29wZVRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSkge1xuICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gbnVsbDtcbiAgICAgIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlID0gbnVsbDtcbiAgICAgIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZSA9IG51bGw7XG4gICAgfVxuICAgIGlmIChidXR0b25TY29wZVRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSkge1xuICAgICAgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZWUgcnVsZXMgZm9yICdsaScsICdkZCcsICdkdCcgc3RhcnQgdGFncyBpblxuICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbmJvZHlcbiAgICBpZiAoc3BlY2lhbFRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSAmJiB0YWcgIT09ICdhZGRyZXNzJyAmJiB0YWcgIT09ICdkaXYnICYmIHRhZyAhPT0gJ3AnKSB7XG4gICAgICBhbmNlc3RvckluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGw7XG4gICAgICBhbmNlc3RvckluZm8uZGxJdGVtVGFnQXV0b2Nsb3NpbmcgPSBudWxsO1xuICAgIH1cblxuICAgIGFuY2VzdG9ySW5mby5jdXJyZW50ID0gaW5mbztcblxuICAgIGlmICh0YWcgPT09ICdmb3JtJykge1xuICAgICAgYW5jZXN0b3JJbmZvLmZvcm1UYWcgPSBpbmZvO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAnYScpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5hVGFnSW5TY29wZSA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdidXR0b24nKSB7XG4gICAgICBhbmNlc3RvckluZm8uYnV0dG9uVGFnSW5TY29wZSA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdub2JyJykge1xuICAgICAgYW5jZXN0b3JJbmZvLm5vYnJUYWdJblNjb3BlID0gaW5mbztcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ3AnKSB7XG4gICAgICBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGUgPSBpbmZvO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAnbGknKSB7XG4gICAgICBhbmNlc3RvckluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdkZCcgfHwgdGFnID09PSAnZHQnKSB7XG4gICAgICBhbmNlc3RvckluZm8uZGxJdGVtVGFnQXV0b2Nsb3NpbmcgPSBpbmZvO1xuICAgIH1cblxuICAgIHJldHVybiBhbmNlc3RvckluZm87XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlclxuICAgKi9cbiAgdmFyIGlzVGFnVmFsaWRXaXRoUGFyZW50ID0gZnVuY3Rpb24gKHRhZywgcGFyZW50VGFnKSB7XG4gICAgLy8gRmlyc3QsIGxldCdzIGNoZWNrIGlmIHdlJ3JlIGluIGFuIHVudXN1YWwgcGFyc2luZyBtb2RlLi4uXG4gICAgc3dpdGNoIChwYXJlbnRUYWcpIHtcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnNlbGVjdFxuICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ29wdGlvbicgfHwgdGFnID09PSAnb3B0Z3JvdXAnIHx8IHRhZyA9PT0gJyN0ZXh0JztcbiAgICAgIGNhc2UgJ29wdGdyb3VwJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ29wdGlvbicgfHwgdGFnID09PSAnI3RleHQnO1xuICAgICAgLy8gU3RyaWN0bHkgc3BlYWtpbmcsIHNlZWluZyBhbiA8b3B0aW9uPiBkb2Vzbid0IG1lYW4gd2UncmUgaW4gYSA8c2VsZWN0PlxuICAgICAgLy8gYnV0XG4gICAgICBjYXNlICdvcHRpb24nOlxuICAgICAgICByZXR1cm4gdGFnID09PSAnI3RleHQnO1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWludGRcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbmNhcHRpb25cbiAgICAgIC8vIE5vIHNwZWNpYWwgYmVoYXZpb3Igc2luY2UgdGhlc2UgcnVsZXMgZmFsbCBiYWNrIHRvIFwiaW4gYm9keVwiIG1vZGUgZm9yXG4gICAgICAvLyBhbGwgZXhjZXB0IHNwZWNpYWwgdGFibGUgbm9kZXMgd2hpY2ggY2F1c2UgYmFkIHBhcnNpbmcgYmVoYXZpb3IgYW55d2F5LlxuXG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW50clxuICAgICAgY2FzZSAndHInOlxuICAgICAgICByZXR1cm4gdGFnID09PSAndGgnIHx8IHRhZyA9PT0gJ3RkJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW50Ym9keVxuICAgICAgY2FzZSAndGJvZHknOlxuICAgICAgY2FzZSAndGhlYWQnOlxuICAgICAgY2FzZSAndGZvb3QnOlxuICAgICAgICByZXR1cm4gdGFnID09PSAndHInIHx8IHRhZyA9PT0gJ3N0eWxlJyB8fCB0YWcgPT09ICdzY3JpcHQnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbmNvbGdyb3VwXG4gICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdjb2wnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnRhYmxlXG4gICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdjYXB0aW9uJyB8fCB0YWcgPT09ICdjb2xncm91cCcgfHwgdGFnID09PSAndGJvZHknIHx8IHRhZyA9PT0gJ3Rmb290JyB8fCB0YWcgPT09ICd0aGVhZCcgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluaGVhZFxuICAgICAgY2FzZSAnaGVhZCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdiYXNlJyB8fCB0YWcgPT09ICdiYXNlZm9udCcgfHwgdGFnID09PSAnYmdzb3VuZCcgfHwgdGFnID09PSAnbGluaycgfHwgdGFnID09PSAnbWV0YScgfHwgdGFnID09PSAndGl0bGUnIHx8IHRhZyA9PT0gJ25vc2NyaXB0JyB8fCB0YWcgPT09ICdub2ZyYW1lcycgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2VtYW50aWNzLmh0bWwjdGhlLWh0bWwtZWxlbWVudFxuICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdoZWFkJyB8fCB0YWcgPT09ICdib2R5JztcbiAgICAgIGNhc2UgJyNkb2N1bWVudCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdodG1sJztcbiAgICB9XG5cbiAgICAvLyBQcm9iYWJseSBpbiB0aGUgXCJpbiBib2R5XCIgcGFyc2luZyBtb2RlLCBzbyB3ZSBvdXRsYXcgb25seSB0YWcgY29tYm9zXG4gICAgLy8gd2hlcmUgdGhlIHBhcnNpbmcgcnVsZXMgY2F1c2UgaW1wbGljaXQgb3BlbnMgb3IgY2xvc2VzIHRvIGJlIGFkZGVkLlxuICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbmJvZHlcbiAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgY2FzZSAnaDEnOlxuICAgICAgY2FzZSAnaDInOlxuICAgICAgY2FzZSAnaDMnOlxuICAgICAgY2FzZSAnaDQnOlxuICAgICAgY2FzZSAnaDUnOlxuICAgICAgY2FzZSAnaDYnOlxuICAgICAgICByZXR1cm4gcGFyZW50VGFnICE9PSAnaDEnICYmIHBhcmVudFRhZyAhPT0gJ2gyJyAmJiBwYXJlbnRUYWcgIT09ICdoMycgJiYgcGFyZW50VGFnICE9PSAnaDQnICYmIHBhcmVudFRhZyAhPT0gJ2g1JyAmJiBwYXJlbnRUYWcgIT09ICdoNic7XG5cbiAgICAgIGNhc2UgJ3JwJzpcbiAgICAgIGNhc2UgJ3J0JzpcbiAgICAgICAgcmV0dXJuIGltcGxpZWRFbmRUYWdzLmluZGV4T2YocGFyZW50VGFnKSA9PT0gLTE7XG5cbiAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgY2FzZSAnY2FwdGlvbic6XG4gICAgICBjYXNlICdjb2wnOlxuICAgICAgY2FzZSAnY29sZ3JvdXAnOlxuICAgICAgY2FzZSAnZnJhbWUnOlxuICAgICAgY2FzZSAnaGVhZCc6XG4gICAgICBjYXNlICdodG1sJzpcbiAgICAgIGNhc2UgJ3Rib2R5JzpcbiAgICAgIGNhc2UgJ3RkJzpcbiAgICAgIGNhc2UgJ3Rmb290JzpcbiAgICAgIGNhc2UgJ3RoJzpcbiAgICAgIGNhc2UgJ3RoZWFkJzpcbiAgICAgIGNhc2UgJ3RyJzpcbiAgICAgICAgLy8gVGhlc2UgdGFncyBhcmUgb25seSB2YWxpZCB3aXRoIGEgZmV3IHBhcmVudHMgdGhhdCBoYXZlIHNwZWNpYWwgY2hpbGRcbiAgICAgICAgLy8gcGFyc2luZyBydWxlcyAtLSBpZiB3ZSdyZSBkb3duIGhlcmUsIHRoZW4gbm9uZSBvZiB0aG9zZSBtYXRjaGVkIGFuZFxuICAgICAgICAvLyBzbyB3ZSBhbGxvdyBpdCBvbmx5IGlmIHdlIGRvbid0IGtub3cgd2hhdCB0aGUgcGFyZW50IGlzLCBhcyBhbGwgb3RoZXJcbiAgICAgICAgLy8gY2FzZXMgYXJlIGludmFsaWQuXG4gICAgICAgIHJldHVybiBwYXJlbnRUYWcgPT0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyXG4gICAqL1xuICB2YXIgZmluZEludmFsaWRBbmNlc3RvckZvclRhZyA9IGZ1bmN0aW9uICh0YWcsIGFuY2VzdG9ySW5mbykge1xuICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICBjYXNlICdhZGRyZXNzJzpcbiAgICAgIGNhc2UgJ2FydGljbGUnOlxuICAgICAgY2FzZSAnYXNpZGUnOlxuICAgICAgY2FzZSAnYmxvY2txdW90ZSc6XG4gICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgY2FzZSAnZGV0YWlscyc6XG4gICAgICBjYXNlICdkaWFsb2cnOlxuICAgICAgY2FzZSAnZGlyJzpcbiAgICAgIGNhc2UgJ2Rpdic6XG4gICAgICBjYXNlICdkbCc6XG4gICAgICBjYXNlICdmaWVsZHNldCc6XG4gICAgICBjYXNlICdmaWdjYXB0aW9uJzpcbiAgICAgIGNhc2UgJ2ZpZ3VyZSc6XG4gICAgICBjYXNlICdmb290ZXInOlxuICAgICAgY2FzZSAnaGVhZGVyJzpcbiAgICAgIGNhc2UgJ2hncm91cCc6XG4gICAgICBjYXNlICdtYWluJzpcbiAgICAgIGNhc2UgJ21lbnUnOlxuICAgICAgY2FzZSAnbmF2JzpcbiAgICAgIGNhc2UgJ29sJzpcbiAgICAgIGNhc2UgJ3AnOlxuICAgICAgY2FzZSAnc2VjdGlvbic6XG4gICAgICBjYXNlICdzdW1tYXJ5JzpcbiAgICAgIGNhc2UgJ3VsJzpcbiAgICAgIGNhc2UgJ3ByZSc6XG4gICAgICBjYXNlICdsaXN0aW5nJzpcbiAgICAgIGNhc2UgJ3RhYmxlJzpcbiAgICAgIGNhc2UgJ2hyJzpcbiAgICAgIGNhc2UgJ3htcCc6XG4gICAgICBjYXNlICdoMSc6XG4gICAgICBjYXNlICdoMic6XG4gICAgICBjYXNlICdoMyc6XG4gICAgICBjYXNlICdoNCc6XG4gICAgICBjYXNlICdoNSc6XG4gICAgICBjYXNlICdoNic6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGU7XG5cbiAgICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmZvcm1UYWcgfHwgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuXG4gICAgICBjYXNlICdsaSc6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZztcblxuICAgICAgY2FzZSAnZGQnOlxuICAgICAgY2FzZSAnZHQnOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nO1xuXG4gICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGU7XG5cbiAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAvLyBTcGVjIHNheXMgc29tZXRoaW5nIGFib3V0IHN0b3JpbmcgYSBsaXN0IG9mIG1hcmtlcnMsIGJ1dCBpdCBzb3VuZHNcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byB0aGlzIGNoZWNrLlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlO1xuXG4gICAgICBjYXNlICdub2JyJzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgZGlkV2FybiA9IHt9O1xuXG4gIHZhbGlkYXRlRE9NTmVzdGluZyA9IGZ1bmN0aW9uIChjaGlsZFRhZywgY2hpbGRUZXh0LCBhbmNlc3RvckluZm8pIHtcbiAgICBhbmNlc3RvckluZm8gPSBhbmNlc3RvckluZm8gfHwgZW1wdHlBbmNlc3RvckluZm87XG4gICAgdmFyIHBhcmVudEluZm8gPSBhbmNlc3RvckluZm8uY3VycmVudDtcbiAgICB2YXIgcGFyZW50VGFnID0gcGFyZW50SW5mbyAmJiBwYXJlbnRJbmZvLnRhZztcblxuICAgIGlmIChjaGlsZFRleHQgIT0gbnVsbCkge1xuICAgICAgIShjaGlsZFRhZyA9PSBudWxsKSA/IHdhcm5pbmcoZmFsc2UsICd2YWxpZGF0ZURPTU5lc3Rpbmc6IHdoZW4gY2hpbGRUZXh0IGlzIHBhc3NlZCwgY2hpbGRUYWcgc2hvdWxkIGJlIG51bGwnKSA6IHZvaWQgMDtcbiAgICAgIGNoaWxkVGFnID0gJyN0ZXh0JztcbiAgICB9XG5cbiAgICB2YXIgaW52YWxpZFBhcmVudCA9IGlzVGFnVmFsaWRXaXRoUGFyZW50KGNoaWxkVGFnLCBwYXJlbnRUYWcpID8gbnVsbCA6IHBhcmVudEluZm87XG4gICAgdmFyIGludmFsaWRBbmNlc3RvciA9IGludmFsaWRQYXJlbnQgPyBudWxsIDogZmluZEludmFsaWRBbmNlc3RvckZvclRhZyhjaGlsZFRhZywgYW5jZXN0b3JJbmZvKTtcbiAgICB2YXIgaW52YWxpZFBhcmVudE9yQW5jZXN0b3IgPSBpbnZhbGlkUGFyZW50IHx8IGludmFsaWRBbmNlc3RvcjtcbiAgICBpZiAoIWludmFsaWRQYXJlbnRPckFuY2VzdG9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGFuY2VzdG9yVGFnID0gaW52YWxpZFBhcmVudE9yQW5jZXN0b3IudGFnO1xuICAgIHZhciBhZGRlbmR1bSA9IGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNSgpO1xuXG4gICAgdmFyIHdhcm5LZXkgPSAhIWludmFsaWRQYXJlbnQgKyAnfCcgKyBjaGlsZFRhZyArICd8JyArIGFuY2VzdG9yVGFnICsgJ3wnICsgYWRkZW5kdW07XG4gICAgaWYgKGRpZFdhcm5bd2FybktleV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2Fyblt3YXJuS2V5XSA9IHRydWU7XG5cbiAgICB2YXIgdGFnRGlzcGxheU5hbWUgPSBjaGlsZFRhZztcbiAgICB2YXIgd2hpdGVzcGFjZUluZm8gPSAnJztcbiAgICBpZiAoY2hpbGRUYWcgPT09ICcjdGV4dCcpIHtcbiAgICAgIGlmICgvXFxTLy50ZXN0KGNoaWxkVGV4dCkpIHtcbiAgICAgICAgdGFnRGlzcGxheU5hbWUgPSAnVGV4dCBub2Rlcyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWdEaXNwbGF5TmFtZSA9ICdXaGl0ZXNwYWNlIHRleHQgbm9kZXMnO1xuICAgICAgICB3aGl0ZXNwYWNlSW5mbyA9IFwiIE1ha2Ugc3VyZSB5b3UgZG9uJ3QgaGF2ZSBhbnkgZXh0cmEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRhZ3Mgb24gXCIgKyAnZWFjaCBsaW5lIG9mIHlvdXIgc291cmNlIGNvZGUuJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGFnRGlzcGxheU5hbWUgPSAnPCcgKyBjaGlsZFRhZyArICc+JztcbiAgICB9XG5cbiAgICBpZiAoaW52YWxpZFBhcmVudCkge1xuICAgICAgdmFyIGluZm8gPSAnJztcbiAgICAgIGlmIChhbmNlc3RvclRhZyA9PT0gJ3RhYmxlJyAmJiBjaGlsZFRhZyA9PT0gJ3RyJykge1xuICAgICAgICBpbmZvICs9ICcgQWRkIGEgPHRib2R5PiB0byB5b3VyIGNvZGUgdG8gbWF0Y2ggdGhlIERPTSB0cmVlIGdlbmVyYXRlZCBieSAnICsgJ3RoZSBicm93c2VyLic7XG4gICAgICB9XG4gICAgICB3YXJuaW5nKGZhbHNlLCAndmFsaWRhdGVET01OZXN0aW5nKC4uLik6ICVzIGNhbm5vdCBhcHBlYXIgYXMgYSBjaGlsZCBvZiA8JXM+LiVzJXMlcycsIHRhZ0Rpc3BsYXlOYW1lLCBhbmNlc3RvclRhZywgd2hpdGVzcGFjZUluZm8sIGluZm8sIGFkZGVuZHVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ3ZhbGlkYXRlRE9NTmVzdGluZyguLi4pOiAlcyBjYW5ub3QgYXBwZWFyIGFzIGEgZGVzY2VuZGFudCBvZiAnICsgJzwlcz4uJXMnLCB0YWdEaXNwbGF5TmFtZSwgYW5jZXN0b3JUYWcsIGFkZGVuZHVtKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVE9ETzogdHVybiB0aGlzIGludG8gYSBuYW1lZCBleHBvcnRcbiAgdmFsaWRhdGVET01OZXN0aW5nLnVwZGF0ZWRBbmNlc3RvckluZm8gPSB1cGRhdGVkQW5jZXN0b3JJbmZvJDE7XG59XG5cbnZhciB2YWxpZGF0ZURPTU5lc3RpbmckMSA9IHZhbGlkYXRlRE9NTmVzdGluZztcblxuLy8gUmVuZGVyZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBwZXJzaXN0ZW5jZVxuLy8gY2FuIHJlLWV4cG9ydCBldmVyeXRoaW5nIGZyb20gdGhpcyBtb2R1bGUuXG5cbmZ1bmN0aW9uIHNoaW0oKSB7XG4gIGludmFyaWFudChmYWxzZSwgJ1RoZSBjdXJyZW50IHJlbmRlcmVyIGRvZXMgbm90IHN1cHBvcnQgcGVyc2lzdGVuY2UuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG59XG5cbi8vIFBlcnNpc3RlbmNlICh3aGVuIHVuc3VwcG9ydGVkKVxudmFyIHN1cHBvcnRzUGVyc2lzdGVuY2UgPSBmYWxzZTtcbnZhciBjbG9uZUluc3RhbmNlID0gc2hpbTtcbnZhciBjcmVhdGVDb250YWluZXJDaGlsZFNldCA9IHNoaW07XG52YXIgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0ID0gc2hpbTtcbnZhciBmaW5hbGl6ZUNvbnRhaW5lckNoaWxkcmVuID0gc2hpbTtcbnZhciByZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4gPSBzaGltO1xuXG4vLyBVbnVzZWRcblxudmFyIGNyZWF0ZUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50JDE7XG52YXIgY3JlYXRlVGV4dE5vZGUgPSBjcmVhdGVUZXh0Tm9kZSQxO1xudmFyIHNldEluaXRpYWxQcm9wZXJ0aWVzID0gc2V0SW5pdGlhbFByb3BlcnRpZXMkMTtcbnZhciBkaWZmUHJvcGVydGllcyA9IGRpZmZQcm9wZXJ0aWVzJDE7XG52YXIgdXBkYXRlUHJvcGVydGllcyA9IHVwZGF0ZVByb3BlcnRpZXMkMTtcbnZhciBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzID0gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyQxO1xudmFyIGRpZmZIeWRyYXRlZFRleHQgPSBkaWZmSHlkcmF0ZWRUZXh0JDE7XG52YXIgd2FybkZvclVubWF0Y2hlZFRleHQgPSB3YXJuRm9yVW5tYXRjaGVkVGV4dCQxO1xudmFyIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQgPSB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50JDE7XG52YXIgd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCA9IHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQkMTtcbnZhciB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZEVsZW1lbnQgPSB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZEVsZW1lbnQkMTtcbnZhciB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQgPSB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQkMTtcbnZhciB1cGRhdGVkQW5jZXN0b3JJbmZvID0gdmFsaWRhdGVET01OZXN0aW5nJDEudXBkYXRlZEFuY2VzdG9ySW5mbztcbnZhciBwcmVjYWNoZUZpYmVyTm9kZSQxID0gcHJlY2FjaGVGaWJlck5vZGU7XG52YXIgdXBkYXRlRmliZXJQcm9wcyQxID0gdXBkYXRlRmliZXJQcm9wcztcblxuXG52YXIgU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkcgPSB2b2lkIDA7XG57XG4gIFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HID0gJ3N1cHByZXNzSHlkcmF0aW9uV2FybmluZyc7XG59XG5cbnZhciBldmVudHNFbmFibGVkID0gbnVsbDtcbnZhciBzZWxlY3Rpb25JbmZvcm1hdGlvbiA9IG51bGw7XG5cbmZ1bmN0aW9uIHNob3VsZEF1dG9Gb2N1c0hvc3RDb21wb25lbnQodHlwZSwgcHJvcHMpIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnYnV0dG9uJzpcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICByZXR1cm4gISFwcm9wcy5hdXRvRm9jdXM7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRSb290SG9zdENvbnRleHQocm9vdENvbnRhaW5lckluc3RhbmNlKSB7XG4gIHZhciB0eXBlID0gdm9pZCAwO1xuICB2YXIgbmFtZXNwYWNlID0gdm9pZCAwO1xuICB2YXIgbm9kZVR5cGUgPSByb290Q29udGFpbmVySW5zdGFuY2Uubm9kZVR5cGU7XG4gIHN3aXRjaCAobm9kZVR5cGUpIHtcbiAgICBjYXNlIERPQ1VNRU5UX05PREU6XG4gICAgY2FzZSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFOlxuICAgICAge1xuICAgICAgICB0eXBlID0gbm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgPyAnI2RvY3VtZW50JyA6ICcjZnJhZ21lbnQnO1xuICAgICAgICB2YXIgcm9vdCA9IHJvb3RDb250YWluZXJJbnN0YW5jZS5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIG5hbWVzcGFjZSA9IHJvb3QgPyByb290Lm5hbWVzcGFjZVVSSSA6IGdldENoaWxkTmFtZXNwYWNlKG51bGwsICcnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IG5vZGVUeXBlID09PSBDT01NRU5UX05PREUgPyByb290Q29udGFpbmVySW5zdGFuY2UucGFyZW50Tm9kZSA6IHJvb3RDb250YWluZXJJbnN0YW5jZTtcbiAgICAgICAgdmFyIG93bk5hbWVzcGFjZSA9IGNvbnRhaW5lci5uYW1lc3BhY2VVUkkgfHwgbnVsbDtcbiAgICAgICAgdHlwZSA9IGNvbnRhaW5lci50YWdOYW1lO1xuICAgICAgICBuYW1lc3BhY2UgPSBnZXRDaGlsZE5hbWVzcGFjZShvd25OYW1lc3BhY2UsIHR5cGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgfVxuICB7XG4gICAgdmFyIHZhbGlkYXRlZFRhZyA9IHR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgX2FuY2VzdG9ySW5mbyA9IHVwZGF0ZWRBbmNlc3RvckluZm8obnVsbCwgdmFsaWRhdGVkVGFnLCBudWxsKTtcbiAgICByZXR1cm4geyBuYW1lc3BhY2U6IG5hbWVzcGFjZSwgYW5jZXN0b3JJbmZvOiBfYW5jZXN0b3JJbmZvIH07XG4gIH1cbiAgcmV0dXJuIG5hbWVzcGFjZTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2hpbGRIb3N0Q29udGV4dChwYXJlbnRIb3N0Q29udGV4dCwgdHlwZSwgcm9vdENvbnRhaW5lckluc3RhbmNlKSB7XG4gIHtcbiAgICB2YXIgcGFyZW50SG9zdENvbnRleHREZXYgPSBwYXJlbnRIb3N0Q29udGV4dDtcbiAgICB2YXIgX25hbWVzcGFjZSA9IGdldENoaWxkTmFtZXNwYWNlKHBhcmVudEhvc3RDb250ZXh0RGV2Lm5hbWVzcGFjZSwgdHlwZSk7XG4gICAgdmFyIF9hbmNlc3RvckluZm8yID0gdXBkYXRlZEFuY2VzdG9ySW5mbyhwYXJlbnRIb3N0Q29udGV4dERldi5hbmNlc3RvckluZm8sIHR5cGUsIG51bGwpO1xuICAgIHJldHVybiB7IG5hbWVzcGFjZTogX25hbWVzcGFjZSwgYW5jZXN0b3JJbmZvOiBfYW5jZXN0b3JJbmZvMiB9O1xuICB9XG4gIHZhciBwYXJlbnROYW1lc3BhY2UgPSBwYXJlbnRIb3N0Q29udGV4dDtcbiAgcmV0dXJuIGdldENoaWxkTmFtZXNwYWNlKHBhcmVudE5hbWVzcGFjZSwgdHlwZSk7XG59XG5cbmZ1bmN0aW9uIGdldFB1YmxpY0luc3RhbmNlKGluc3RhbmNlKSB7XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuZnVuY3Rpb24gcHJlcGFyZUZvckNvbW1pdChjb250YWluZXJJbmZvKSB7XG4gIGV2ZW50c0VuYWJsZWQgPSBpc0VuYWJsZWQoKTtcbiAgc2VsZWN0aW9uSW5mb3JtYXRpb24gPSBnZXRTZWxlY3Rpb25JbmZvcm1hdGlvbigpO1xuICBzZXRFbmFibGVkKGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gcmVzZXRBZnRlckNvbW1pdChjb250YWluZXJJbmZvKSB7XG4gIHJlc3RvcmVTZWxlY3Rpb24oc2VsZWN0aW9uSW5mb3JtYXRpb24pO1xuICBzZWxlY3Rpb25JbmZvcm1hdGlvbiA9IG51bGw7XG4gIHNldEVuYWJsZWQoZXZlbnRzRW5hYmxlZCk7XG4gIGV2ZW50c0VuYWJsZWQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZSh0eXBlLCBwcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBob3N0Q29udGV4dCwgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSkge1xuICB2YXIgcGFyZW50TmFtZXNwYWNlID0gdm9pZCAwO1xuICB7XG4gICAgLy8gVE9ETzogdGFrZSBuYW1lc3BhY2UgaW50byBhY2NvdW50IHdoZW4gdmFsaWRhdGluZy5cbiAgICB2YXIgaG9zdENvbnRleHREZXYgPSBob3N0Q29udGV4dDtcbiAgICB2YWxpZGF0ZURPTU5lc3RpbmckMSh0eXBlLCBudWxsLCBob3N0Q29udGV4dERldi5hbmNlc3RvckluZm8pO1xuICAgIGlmICh0eXBlb2YgcHJvcHMuY2hpbGRyZW4gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhciBzdHJpbmcgPSAnJyArIHByb3BzLmNoaWxkcmVuO1xuICAgICAgdmFyIG93bkFuY2VzdG9ySW5mbyA9IHVwZGF0ZWRBbmNlc3RvckluZm8oaG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvLCB0eXBlLCBudWxsKTtcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyQxKG51bGwsIHN0cmluZywgb3duQW5jZXN0b3JJbmZvKTtcbiAgICB9XG4gICAgcGFyZW50TmFtZXNwYWNlID0gaG9zdENvbnRleHREZXYubmFtZXNwYWNlO1xuICB9XG4gIHZhciBkb21FbGVtZW50ID0gY3JlYXRlRWxlbWVudCh0eXBlLCBwcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBwYXJlbnROYW1lc3BhY2UpO1xuICBwcmVjYWNoZUZpYmVyTm9kZSQxKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIGRvbUVsZW1lbnQpO1xuICB1cGRhdGVGaWJlclByb3BzJDEoZG9tRWxlbWVudCwgcHJvcHMpO1xuICByZXR1cm4gZG9tRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gYXBwZW5kSW5pdGlhbENoaWxkKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICBwYXJlbnRJbnN0YW5jZS5hcHBlbmRDaGlsZChjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuKGRvbUVsZW1lbnQsIHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0KSB7XG4gIHNldEluaXRpYWxQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UpO1xuICByZXR1cm4gc2hvdWxkQXV0b0ZvY3VzSG9zdENvbXBvbmVudCh0eXBlLCBwcm9wcyk7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVVcGRhdGUoZG9tRWxlbWVudCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0KSB7XG4gIHtcbiAgICB2YXIgaG9zdENvbnRleHREZXYgPSBob3N0Q29udGV4dDtcbiAgICBpZiAodHlwZW9mIG5ld1Byb3BzLmNoaWxkcmVuICE9PSB0eXBlb2Ygb2xkUHJvcHMuY2hpbGRyZW4gJiYgKHR5cGVvZiBuZXdQcm9wcy5jaGlsZHJlbiA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5ld1Byb3BzLmNoaWxkcmVuID09PSAnbnVtYmVyJykpIHtcbiAgICAgIHZhciBzdHJpbmcgPSAnJyArIG5ld1Byb3BzLmNoaWxkcmVuO1xuICAgICAgdmFyIG93bkFuY2VzdG9ySW5mbyA9IHVwZGF0ZWRBbmNlc3RvckluZm8oaG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvLCB0eXBlLCBudWxsKTtcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyQxKG51bGwsIHN0cmluZywgb3duQW5jZXN0b3JJbmZvKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRpZmZQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkU2V0VGV4dENvbnRlbnQodHlwZSwgcHJvcHMpIHtcbiAgcmV0dXJuIHR5cGUgPT09ICd0ZXh0YXJlYScgfHwgdHlwZW9mIHByb3BzLmNoaWxkcmVuID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gPT09ICdudW1iZXInIHx8IHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gJ29iamVjdCcgJiYgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgIT09IG51bGwgJiYgdHlwZW9mIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbCA9PT0gJ3N0cmluZyc7XG59XG5cbmZ1bmN0aW9uIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUodHlwZSwgcHJvcHMpIHtcbiAgcmV0dXJuICEhcHJvcHMuaGlkZGVuO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUZXh0SW5zdGFuY2UodGV4dCwgcm9vdENvbnRhaW5lckluc3RhbmNlLCBob3N0Q29udGV4dCwgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSkge1xuICB7XG4gICAgdmFyIGhvc3RDb250ZXh0RGV2ID0gaG9zdENvbnRleHQ7XG4gICAgdmFsaWRhdGVET01OZXN0aW5nJDEobnVsbCwgdGV4dCwgaG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvKTtcbiAgfVxuICB2YXIgdGV4dE5vZGUgPSBjcmVhdGVUZXh0Tm9kZSh0ZXh0LCByb290Q29udGFpbmVySW5zdGFuY2UpO1xuICBwcmVjYWNoZUZpYmVyTm9kZSQxKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIHRleHROb2RlKTtcbiAgcmV0dXJuIHRleHROb2RlO1xufVxuXG52YXIgbm93ID0gbm93JDE7XG52YXIgaXNQcmltYXJ5UmVuZGVyZXIgPSB0cnVlO1xudmFyIHNjaGVkdWxlRGVmZXJyZWRDYWxsYmFjayA9IHNjaGVkdWxlV29yaztcbnZhciBjYW5jZWxEZWZlcnJlZENhbGxiYWNrID0gY2FuY2VsU2NoZWR1bGVkV29yaztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gICAgIE11dGF0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnZhciBzdXBwb3J0c011dGF0aW9uID0gdHJ1ZTtcblxuZnVuY3Rpb24gY29tbWl0TW91bnQoZG9tRWxlbWVudCwgdHlwZSwgbmV3UHJvcHMsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgLy8gRGVzcGl0ZSB0aGUgbmFtaW5nIHRoYXQgbWlnaHQgaW1wbHkgb3RoZXJ3aXNlLCB0aGlzIG1ldGhvZCBvbmx5XG4gIC8vIGZpcmVzIGlmIHRoZXJlIGlzIGFuIGBVcGRhdGVgIGVmZmVjdCBzY2hlZHVsZWQgZHVyaW5nIG1vdW50aW5nLlxuICAvLyBUaGlzIGhhcHBlbnMgaWYgYGZpbmFsaXplSW5pdGlhbENoaWxkcmVuYCByZXR1cm5zIGB0cnVlYCAod2hpY2ggaXRcbiAgLy8gZG9lcyB0byBpbXBsZW1lbnQgdGhlIGBhdXRvRm9jdXNgIGF0dHJpYnV0ZSBvbiB0aGUgY2xpZW50KS4gQnV0XG4gIC8vIHRoZXJlIGFyZSBhbHNvIG90aGVyIGNhc2VzIHdoZW4gdGhpcyBtaWdodCBoYXBwZW4gKHN1Y2ggYXMgcGF0Y2hpbmdcbiAgLy8gdXAgdGV4dCBjb250ZW50IGR1cmluZyBoeWRyYXRpb24gbWlzbWF0Y2gpLiBTbyB3ZSdsbCBjaGVjayB0aGlzIGFnYWluLlxuICBpZiAoc2hvdWxkQXV0b0ZvY3VzSG9zdENvbXBvbmVudCh0eXBlLCBuZXdQcm9wcykpIHtcbiAgICBkb21FbGVtZW50LmZvY3VzKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tbWl0VXBkYXRlKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSkge1xuICAvLyBVcGRhdGUgdGhlIHByb3BzIGhhbmRsZSBzbyB0aGF0IHdlIGtub3cgd2hpY2ggcHJvcHMgYXJlIHRoZSBvbmVzIHdpdGhcbiAgLy8gd2l0aCBjdXJyZW50IGV2ZW50IGhhbmRsZXJzLlxuICB1cGRhdGVGaWJlclByb3BzJDEoZG9tRWxlbWVudCwgbmV3UHJvcHMpO1xuICAvLyBBcHBseSB0aGUgZGlmZiB0byB0aGUgRE9NIG5vZGUuXG4gIHVwZGF0ZVByb3BlcnRpZXMoZG9tRWxlbWVudCwgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzKTtcbn1cblxuZnVuY3Rpb24gcmVzZXRUZXh0Q29udGVudChkb21FbGVtZW50KSB7XG4gIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsICcnKTtcbn1cblxuZnVuY3Rpb24gY29tbWl0VGV4dFVwZGF0ZSh0ZXh0SW5zdGFuY2UsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgdGV4dEluc3RhbmNlLm5vZGVWYWx1ZSA9IG5ld1RleHQ7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENoaWxkKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICBwYXJlbnRJbnN0YW5jZS5hcHBlbmRDaGlsZChjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENoaWxkVG9Db250YWluZXIoY29udGFpbmVyLCBjaGlsZCkge1xuICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHtcbiAgICBjb250YWluZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGQsIGNvbnRhaW5lcik7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmUocGFyZW50SW5zdGFuY2UsIGNoaWxkLCBiZWZvcmVDaGlsZCkge1xuICBwYXJlbnRJbnN0YW5jZS5pbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZUNoaWxkKTtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0SW5Db250YWluZXJCZWZvcmUoY29udGFpbmVyLCBjaGlsZCwgYmVmb3JlQ2hpbGQpIHtcbiAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFKSB7XG4gICAgY29udGFpbmVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmVDaGlsZCk7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLmluc2VydEJlZm9yZShjaGlsZCwgYmVmb3JlQ2hpbGQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICBwYXJlbnRJbnN0YW5jZS5yZW1vdmVDaGlsZChjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lcihjb250YWluZXIsIGNoaWxkKSB7XG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSkge1xuICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vICAgICBIeWRyYXRpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cblxudmFyIHN1cHBvcnRzSHlkcmF0aW9uID0gdHJ1ZTtcblxuZnVuY3Rpb24gY2FuSHlkcmF0ZUluc3RhbmNlKGluc3RhbmNlLCB0eXBlLCBwcm9wcykge1xuICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgIT09IEVMRU1FTlRfTk9ERSB8fCB0eXBlLnRvTG93ZXJDYXNlKCkgIT09IGluc3RhbmNlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBUaGlzIGhhcyBub3cgYmVlbiByZWZpbmVkIHRvIGFuIGVsZW1lbnQgbm9kZS5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG5mdW5jdGlvbiBjYW5IeWRyYXRlVGV4dEluc3RhbmNlKGluc3RhbmNlLCB0ZXh0KSB7XG4gIGlmICh0ZXh0ID09PSAnJyB8fCBpbnN0YW5jZS5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG4gICAgLy8gRW1wdHkgc3RyaW5ncyBhcmUgbm90IHBhcnNlZCBieSBIVE1MIHNvIHRoZXJlIHdvbid0IGJlIGEgY29ycmVjdCBtYXRjaCBoZXJlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8vIFRoaXMgaGFzIG5vdyBiZWVuIHJlZmluZWQgdG8gYSB0ZXh0IG5vZGUuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuZnVuY3Rpb24gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKGluc3RhbmNlKSB7XG4gIHZhciBub2RlID0gaW5zdGFuY2UubmV4dFNpYmxpbmc7XG4gIC8vIFNraXAgbm9uLWh5ZHJhdGFibGUgbm9kZXMuXG4gIHdoaWxlIChub2RlICYmIG5vZGUubm9kZVR5cGUgIT09IEVMRU1FTlRfTk9ERSAmJiBub2RlLm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcbiAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQocGFyZW50SW5zdGFuY2UpIHtcbiAgdmFyIG5leHQgPSBwYXJlbnRJbnN0YW5jZS5maXJzdENoaWxkO1xuICAvLyBTa2lwIG5vbi1oeWRyYXRhYmxlIG5vZGVzLlxuICB3aGlsZSAobmV4dCAmJiBuZXh0Lm5vZGVUeXBlICE9PSBFTEVNRU5UX05PREUgJiYgbmV4dC5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG4gICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gIH1cbiAgcmV0dXJuIG5leHQ7XG59XG5cbmZ1bmN0aW9uIGh5ZHJhdGVJbnN0YW5jZShpbnN0YW5jZSwgdHlwZSwgcHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgcHJlY2FjaGVGaWJlck5vZGUkMShpbnRlcm5hbEluc3RhbmNlSGFuZGxlLCBpbnN0YW5jZSk7XG4gIC8vIFRPRE86IFBvc3NpYmx5IGRlZmVyIHRoaXMgdW50aWwgdGhlIGNvbW1pdCBwaGFzZSB3aGVyZSBhbGwgdGhlIGV2ZW50c1xuICAvLyBnZXQgYXR0YWNoZWQuXG4gIHVwZGF0ZUZpYmVyUHJvcHMkMShpbnN0YW5jZSwgcHJvcHMpO1xuICB2YXIgcGFyZW50TmFtZXNwYWNlID0gdm9pZCAwO1xuICB7XG4gICAgdmFyIGhvc3RDb250ZXh0RGV2ID0gaG9zdENvbnRleHQ7XG4gICAgcGFyZW50TmFtZXNwYWNlID0gaG9zdENvbnRleHREZXYubmFtZXNwYWNlO1xuICB9XG4gIHJldHVybiBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzKGluc3RhbmNlLCB0eXBlLCBwcm9wcywgcGFyZW50TmFtZXNwYWNlLCByb290Q29udGFpbmVySW5zdGFuY2UpO1xufVxuXG5mdW5jdGlvbiBoeWRyYXRlVGV4dEluc3RhbmNlKHRleHRJbnN0YW5jZSwgdGV4dCwgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSkge1xuICBwcmVjYWNoZUZpYmVyTm9kZSQxKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIHRleHRJbnN0YW5jZSk7XG4gIHJldHVybiBkaWZmSHlkcmF0ZWRUZXh0KHRleHRJbnN0YW5jZSwgdGV4dCk7XG59XG5cbmZ1bmN0aW9uIGRpZE5vdE1hdGNoSHlkcmF0ZWRDb250YWluZXJUZXh0SW5zdGFuY2UocGFyZW50Q29udGFpbmVyLCB0ZXh0SW5zdGFuY2UsIHRleHQpIHtcbiAge1xuICAgIHdhcm5Gb3JVbm1hdGNoZWRUZXh0KHRleHRJbnN0YW5jZSwgdGV4dCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIHRleHRJbnN0YW5jZSwgdGV4dCkge1xuICBpZiAodHJ1ZSAmJiBwYXJlbnRQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklOR10gIT09IHRydWUpIHtcbiAgICB3YXJuRm9yVW5tYXRjaGVkVGV4dCh0ZXh0SW5zdGFuY2UsIHRleHQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZShwYXJlbnRDb250YWluZXIsIGluc3RhbmNlKSB7XG4gIHtcbiAgICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQocGFyZW50Q29udGFpbmVyLCBpbnN0YW5jZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQocGFyZW50Q29udGFpbmVyLCBpbnN0YW5jZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRpZE5vdEh5ZHJhdGVJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIGluc3RhbmNlKSB7XG4gIGlmICh0cnVlICYmIHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXSAhPT0gdHJ1ZSkge1xuICAgIGlmIChpbnN0YW5jZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudChwYXJlbnRJbnN0YW5jZSwgaW5zdGFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0KHBhcmVudEluc3RhbmNlLCBpbnN0YW5jZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVySW5zdGFuY2UocGFyZW50Q29udGFpbmVyLCB0eXBlLCBwcm9wcykge1xuICB7XG4gICAgd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50KHBhcmVudENvbnRhaW5lciwgdHlwZSwgcHJvcHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdGV4dCkge1xuICB7XG4gICAgd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0KHBhcmVudENvbnRhaW5lciwgdGV4dCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlkTm90RmluZEh5ZHJhdGFibGVJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIHR5cGUsIHByb3BzKSB7XG4gIGlmICh0cnVlICYmIHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXSAhPT0gdHJ1ZSkge1xuICAgIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudChwYXJlbnRJbnN0YW5jZSwgdHlwZSwgcHJvcHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRpZE5vdEZpbmRIeWRyYXRhYmxlVGV4dEluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgdGV4dCkge1xuICBpZiAodHJ1ZSAmJiBwYXJlbnRQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklOR10gIT09IHRydWUpIHtcbiAgICB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQocGFyZW50SW5zdGFuY2UsIHRleHQpO1xuICB9XG59XG5cbi8vIEV4cG9ydHMgUmVhY3RET00uY3JlYXRlUm9vdFxudmFyIGVuYWJsZVVzZXJUaW1pbmdBUEkgPSB0cnVlO1xuXG4vLyBFeHBlcmltZW50YWwgZXJyb3ItYm91bmRhcnkgQVBJIHRoYXQgY2FuIHJlY292ZXIgZnJvbSBlcnJvcnMgd2l0aGluIGEgc2luZ2xlXG4vLyByZW5kZXIgcGhhc2VcbnZhciBlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSBmYWxzZTtcbi8vIFN1c3BlbnNlXG52YXIgZW5hYmxlU3VzcGVuc2UgPSBmYWxzZTtcbi8vIEhlbHBzIGlkZW50aWZ5IHNpZGUgZWZmZWN0cyBpbiBiZWdpbi1waGFzZSBsaWZlY3ljbGUgaG9va3MgYW5kIHNldFN0YXRlIHJlZHVjZXJzOlxudmFyIGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyA9IGZhbHNlO1xuXG4vLyBJbiBzb21lIGNhc2VzLCBTdHJpY3RNb2RlIHNob3VsZCBhbHNvIGRvdWJsZS1yZW5kZXIgbGlmZWN5Y2xlcy5cbi8vIFRoaXMgY2FuIGJlIGNvbmZ1c2luZyBmb3IgdGVzdHMgdGhvdWdoLFxuLy8gQW5kIGl0IGNhbiBiZSBiYWQgZm9yIHBlcmZvcm1hbmNlIGluIHByb2R1Y3Rpb24uXG4vLyBUaGlzIGZlYXR1cmUgZmxhZyBjYW4gYmUgdXNlZCB0byBjb250cm9sIHRoZSBiZWhhdmlvcjpcbnZhciBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlID0gdHJ1ZTtcblxuLy8gVG8gcHJlc2VydmUgdGhlIFwiUGF1c2Ugb24gY2F1Z2h0IGV4Y2VwdGlvbnNcIiBiZWhhdmlvciBvZiB0aGUgZGVidWdnZXIsIHdlXG4vLyByZXBsYXkgdGhlIGJlZ2luIHBoYXNlIG9mIGEgZmFpbGVkIGNvbXBvbmVudCBpbnNpZGUgaW52b2tlR3VhcmRlZENhbGxiYWNrLlxudmFyIHJlcGxheUZhaWxlZFVuaXRPZldvcmtXaXRoSW52b2tlR3VhcmRlZENhbGxiYWNrID0gdHJ1ZTtcblxuLy8gV2FybiBhYm91dCBkZXByZWNhdGVkLCBhc3luYy11bnNhZmUgbGlmZWN5Y2xlczsgcmVsYXRlcyB0byBSRkMgIzY6XG52YXIgd2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMgPSBmYWxzZTtcblxuLy8gV2FybiBhYm91dCBsZWdhY3kgY29udGV4dCBBUElcbnZhciB3YXJuQWJvdXRMZWdhY3lDb250ZXh0QVBJID0gZmFsc2U7XG5cbi8vIEdhdGhlciBhZHZhbmNlZCB0aW1pbmcgbWV0cmljcyBmb3IgUHJvZmlsZXIgc3VidHJlZXMuXG52YXIgZW5hYmxlUHJvZmlsZXJUaW1lciA9IHRydWU7XG5cbi8vIE9ubHkgdXNlZCBpbiB3d3cgYnVpbGRzLlxuXG4vLyBQcmVmaXggbWVhc3VyZW1lbnRzIHNvIHRoYXQgaXQncyBwb3NzaWJsZSB0byBmaWx0ZXIgdGhlbS5cbi8vIExvbmdlciBwcmVmaXhlcyBhcmUgaGFyZCB0byByZWFkIGluIERldlRvb2xzLlxudmFyIHJlYWN0RW1vamkgPSAnXFx1MjY5Qic7XG52YXIgd2FybmluZ0Vtb2ppID0gJ1xcdTI2RDQnO1xudmFyIHN1cHBvcnRzVXNlclRpbWluZyA9IHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm1hcmsgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLmNsZWFyTWFya3MgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm1lYXN1cmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLmNsZWFyTWVhc3VyZXMgPT09ICdmdW5jdGlvbic7XG5cbi8vIEtlZXAgdHJhY2sgb2YgY3VycmVudCBmaWJlciBzbyB0aGF0IHdlIGtub3cgdGhlIHBhdGggdG8gdW53aW5kIG9uIHBhdXNlLlxuLy8gVE9ETzogdGhpcyBsb29rcyB0aGUgc2FtZSBhcyBuZXh0VW5pdE9mV29yayBpbiBzY2hlZHVsZXIuIENhbiB3ZSB1bmlmeSB0aGVtP1xudmFyIGN1cnJlbnRGaWJlciA9IG51bGw7XG4vLyBJZiB3ZSdyZSBpbiB0aGUgbWlkZGxlIG9mIHVzZXIgY29kZSwgd2hpY2ggZmliZXIgYW5kIG1ldGhvZCBpcyBpdD9cbi8vIFJldXNpbmcgYGN1cnJlbnRGaWJlcmAgd291bGQgYmUgY29uZnVzaW5nIGZvciB0aGlzIGJlY2F1c2UgdXNlciBjb2RlIGZpYmVyXG4vLyBjYW4gY2hhbmdlIGR1cmluZyBjb21taXQgcGhhc2UgdG9vLCBidXQgd2UgZG9uJ3QgbmVlZCB0byB1bndpbmQgaXQgKHNpbmNlXG4vLyBsaWZlY3ljbGVzIGluIHRoZSBjb21taXQgcGhhc2UgZG9uJ3QgcmVzZW1ibGUgYSB0cmVlKS5cbnZhciBjdXJyZW50UGhhc2UgPSBudWxsO1xudmFyIGN1cnJlbnRQaGFzZUZpYmVyID0gbnVsbDtcbi8vIERpZCBsaWZlY3ljbGUgaG9vayBzY2hlZHVsZSBhbiB1cGRhdGU/IFRoaXMgaXMgb2Z0ZW4gYSBwZXJmb3JtYW5jZSBwcm9ibGVtLFxuLy8gc28gd2Ugd2lsbCBrZWVwIHRyYWNrIG9mIGl0LCBhbmQgaW5jbHVkZSBpdCBpbiB0aGUgcmVwb3J0LlxuLy8gVHJhY2sgY29tbWl0cyBjYXVzZWQgYnkgY2FzY2FkaW5nIHVwZGF0ZXMuXG52YXIgaXNDb21taXR0aW5nID0gZmFsc2U7XG52YXIgaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50Q29tbWl0ID0gZmFsc2U7XG52YXIgaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50UGhhc2UgPSBmYWxzZTtcbnZhciBjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wID0gMDtcbnZhciBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG52YXIgaXNXYWl0aW5nRm9yQ2FsbGJhY2sgPSBmYWxzZTtcbi8vIER1cmluZyBjb21taXRzLCB3ZSBvbmx5IHNob3cgYSBtZWFzdXJlbWVudCBvbmNlIHBlciBtZXRob2QgbmFtZVxuLy8gdG8gYXZvaWQgc3RyZXRjaCB0aGUgY29tbWl0IHBoYXNlIHdpdGggbWVhc3VyZW1lbnQgb3ZlcmhlYWQuXG52YXIgbGFiZWxzSW5DdXJyZW50Q29tbWl0ID0gbmV3IFNldCgpO1xuXG52YXIgZm9ybWF0TWFya05hbWUgPSBmdW5jdGlvbiAobWFya05hbWUpIHtcbiAgcmV0dXJuIHJlYWN0RW1vamkgKyAnICcgKyBtYXJrTmFtZTtcbn07XG5cbnZhciBmb3JtYXRMYWJlbCA9IGZ1bmN0aW9uIChsYWJlbCwgd2FybmluZyQkMSkge1xuICB2YXIgcHJlZml4ID0gd2FybmluZyQkMSA/IHdhcm5pbmdFbW9qaSArICcgJyA6IHJlYWN0RW1vamkgKyAnICc7XG4gIHZhciBzdWZmaXggPSB3YXJuaW5nJCQxID8gJyBXYXJuaW5nOiAnICsgd2FybmluZyQkMSA6ICcnO1xuICByZXR1cm4gJycgKyBwcmVmaXggKyBsYWJlbCArIHN1ZmZpeDtcbn07XG5cbnZhciBiZWdpbk1hcmsgPSBmdW5jdGlvbiAobWFya05hbWUpIHtcbiAgcGVyZm9ybWFuY2UubWFyayhmb3JtYXRNYXJrTmFtZShtYXJrTmFtZSkpO1xufTtcblxudmFyIGNsZWFyTWFyayA9IGZ1bmN0aW9uIChtYXJrTmFtZSkge1xuICBwZXJmb3JtYW5jZS5jbGVhck1hcmtzKGZvcm1hdE1hcmtOYW1lKG1hcmtOYW1lKSk7XG59O1xuXG52YXIgZW5kTWFyayA9IGZ1bmN0aW9uIChsYWJlbCwgbWFya05hbWUsIHdhcm5pbmckJDEpIHtcbiAgdmFyIGZvcm1hdHRlZE1hcmtOYW1lID0gZm9ybWF0TWFya05hbWUobWFya05hbWUpO1xuICB2YXIgZm9ybWF0dGVkTGFiZWwgPSBmb3JtYXRMYWJlbChsYWJlbCwgd2FybmluZyQkMSk7XG4gIHRyeSB7XG4gICAgcGVyZm9ybWFuY2UubWVhc3VyZShmb3JtYXR0ZWRMYWJlbCwgZm9ybWF0dGVkTWFya05hbWUpO1xuICB9IGNhdGNoIChlcnIpIHt9XG4gIC8vIElmIHByZXZpb3VzIG1hcmsgd2FzIG1pc3NpbmcgZm9yIHNvbWUgcmVhc29uLCB0aGlzIHdpbGwgdGhyb3cuXG4gIC8vIFRoaXMgY291bGQgb25seSBoYXBwZW4gaWYgUmVhY3QgY3Jhc2hlZCBpbiBhbiB1bmV4cGVjdGVkIHBsYWNlIGVhcmxpZXIuXG4gIC8vIERvbid0IHBpbGUgb24gd2l0aCBtb3JlIGVycm9ycy5cblxuICAvLyBDbGVhciBtYXJrcyBpbW1lZGlhdGVseSB0byBhdm9pZCBncm93aW5nIGJ1ZmZlci5cbiAgcGVyZm9ybWFuY2UuY2xlYXJNYXJrcyhmb3JtYXR0ZWRNYXJrTmFtZSk7XG4gIHBlcmZvcm1hbmNlLmNsZWFyTWVhc3VyZXMoZm9ybWF0dGVkTGFiZWwpO1xufTtcblxudmFyIGdldEZpYmVyTWFya05hbWUgPSBmdW5jdGlvbiAobGFiZWwsIGRlYnVnSUQpIHtcbiAgcmV0dXJuIGxhYmVsICsgJyAoIycgKyBkZWJ1Z0lEICsgJyknO1xufTtcblxudmFyIGdldEZpYmVyTGFiZWwgPSBmdW5jdGlvbiAoY29tcG9uZW50TmFtZSwgaXNNb3VudGVkLCBwaGFzZSkge1xuICBpZiAocGhhc2UgPT09IG51bGwpIHtcbiAgICAvLyBUaGVzZSBhcmUgY29tcG9zaXRlIGNvbXBvbmVudCB0b3RhbCB0aW1lIG1lYXN1cmVtZW50cy5cbiAgICByZXR1cm4gY29tcG9uZW50TmFtZSArICcgWycgKyAoaXNNb3VudGVkID8gJ3VwZGF0ZScgOiAnbW91bnQnKSArICddJztcbiAgfSBlbHNlIHtcbiAgICAvLyBDb21wb3NpdGUgY29tcG9uZW50IG1ldGhvZHMuXG4gICAgcmV0dXJuIGNvbXBvbmVudE5hbWUgKyAnLicgKyBwaGFzZTtcbiAgfVxufTtcblxudmFyIGJlZ2luRmliZXJNYXJrID0gZnVuY3Rpb24gKGZpYmVyLCBwaGFzZSkge1xuICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdVbmtub3duJztcbiAgdmFyIGRlYnVnSUQgPSBmaWJlci5fZGVidWdJRDtcbiAgdmFyIGlzTW91bnRlZCA9IGZpYmVyLmFsdGVybmF0ZSAhPT0gbnVsbDtcbiAgdmFyIGxhYmVsID0gZ2V0RmliZXJMYWJlbChjb21wb25lbnROYW1lLCBpc01vdW50ZWQsIHBoYXNlKTtcblxuICBpZiAoaXNDb21taXR0aW5nICYmIGxhYmVsc0luQ3VycmVudENvbW1pdC5oYXMobGFiZWwpKSB7XG4gICAgLy8gRHVyaW5nIHRoZSBjb21taXQgcGhhc2UsIHdlIGRvbid0IHNob3cgZHVwbGljYXRlIGxhYmVscyBiZWNhdXNlXG4gICAgLy8gdGhlcmUgaXMgYSBmaXhlZCBvdmVyaGVhZCBmb3IgZXZlcnkgbWVhc3VyZW1lbnQsIGFuZCB3ZSBkb24ndFxuICAgIC8vIHdhbnQgdG8gc3RyZXRjaCB0aGUgY29tbWl0IHBoYXNlIGJleW9uZCBuZWNlc3NhcnkuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxhYmVsc0luQ3VycmVudENvbW1pdC5hZGQobGFiZWwpO1xuXG4gIHZhciBtYXJrTmFtZSA9IGdldEZpYmVyTWFya05hbWUobGFiZWwsIGRlYnVnSUQpO1xuICBiZWdpbk1hcmsobWFya05hbWUpO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbnZhciBjbGVhckZpYmVyTWFyayA9IGZ1bmN0aW9uIChmaWJlciwgcGhhc2UpIHtcbiAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnVW5rbm93bic7XG4gIHZhciBkZWJ1Z0lEID0gZmliZXIuX2RlYnVnSUQ7XG4gIHZhciBpc01vdW50ZWQgPSBmaWJlci5hbHRlcm5hdGUgIT09IG51bGw7XG4gIHZhciBsYWJlbCA9IGdldEZpYmVyTGFiZWwoY29tcG9uZW50TmFtZSwgaXNNb3VudGVkLCBwaGFzZSk7XG4gIHZhciBtYXJrTmFtZSA9IGdldEZpYmVyTWFya05hbWUobGFiZWwsIGRlYnVnSUQpO1xuICBjbGVhck1hcmsobWFya05hbWUpO1xufTtcblxudmFyIGVuZEZpYmVyTWFyayA9IGZ1bmN0aW9uIChmaWJlciwgcGhhc2UsIHdhcm5pbmckJDEpIHtcbiAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnVW5rbm93bic7XG4gIHZhciBkZWJ1Z0lEID0gZmliZXIuX2RlYnVnSUQ7XG4gIHZhciBpc01vdW50ZWQgPSBmaWJlci5hbHRlcm5hdGUgIT09IG51bGw7XG4gIHZhciBsYWJlbCA9IGdldEZpYmVyTGFiZWwoY29tcG9uZW50TmFtZSwgaXNNb3VudGVkLCBwaGFzZSk7XG4gIHZhciBtYXJrTmFtZSA9IGdldEZpYmVyTWFya05hbWUobGFiZWwsIGRlYnVnSUQpO1xuICBlbmRNYXJrKGxhYmVsLCBtYXJrTmFtZSwgd2FybmluZyQkMSk7XG59O1xuXG52YXIgc2hvdWxkSWdub3JlRmliZXIgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgLy8gSG9zdCBjb21wb25lbnRzIHNob3VsZCBiZSBza2lwcGVkIGluIHRoZSB0aW1lbGluZS5cbiAgLy8gV2UgY291bGQgY2hlY2sgdHlwZW9mIGZpYmVyLnR5cGUsIGJ1dCBkb2VzIHRoaXMgd29yayB3aXRoIFJOP1xuICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgY2FzZSBDb250ZXh0Q29uc3VtZXI6XG4gICAgY2FzZSBNb2RlOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxudmFyIGNsZWFyUGVuZGluZ1BoYXNlTWVhc3VyZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChjdXJyZW50UGhhc2UgIT09IG51bGwgJiYgY3VycmVudFBoYXNlRmliZXIgIT09IG51bGwpIHtcbiAgICBjbGVhckZpYmVyTWFyayhjdXJyZW50UGhhc2VGaWJlciwgY3VycmVudFBoYXNlKTtcbiAgfVxuICBjdXJyZW50UGhhc2VGaWJlciA9IG51bGw7XG4gIGN1cnJlbnRQaGFzZSA9IG51bGw7XG4gIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID0gZmFsc2U7XG59O1xuXG52YXIgcGF1c2VUaW1lcnMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFN0b3BzIGFsbCBjdXJyZW50bHkgYWN0aXZlIG1lYXN1cmVtZW50cyBzbyB0aGF0IHRoZXkgY2FuIGJlIHJlc3VtZWRcbiAgLy8gaWYgd2UgY29udGludWUgaW4gYSBsYXRlciBkZWZlcnJlZCBsb29wIGZyb20gdGhlIHNhbWUgdW5pdCBvZiB3b3JrLlxuICB2YXIgZmliZXIgPSBjdXJyZW50RmliZXI7XG4gIHdoaWxlIChmaWJlcikge1xuICAgIGlmIChmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZykge1xuICAgICAgZW5kRmliZXJNYXJrKGZpYmVyLCBudWxsLCBudWxsKTtcbiAgICB9XG4gICAgZmliZXIgPSBmaWJlci5yZXR1cm47XG4gIH1cbn07XG5cbnZhciByZXN1bWVUaW1lcnNSZWN1cnNpdmVseSA9IGZ1bmN0aW9uIChmaWJlcikge1xuICBpZiAoZmliZXIucmV0dXJuICE9PSBudWxsKSB7XG4gICAgcmVzdW1lVGltZXJzUmVjdXJzaXZlbHkoZmliZXIucmV0dXJuKTtcbiAgfVxuICBpZiAoZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcpIHtcbiAgICBiZWdpbkZpYmVyTWFyayhmaWJlciwgbnVsbCk7XG4gIH1cbn07XG5cbnZhciByZXN1bWVUaW1lcnMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFJlc3VtZXMgYWxsIG1lYXN1cmVtZW50cyB0aGF0IHdlcmUgYWN0aXZlIGR1cmluZyB0aGUgbGFzdCBkZWZlcnJlZCBsb29wLlxuICBpZiAoY3VycmVudEZpYmVyICE9PSBudWxsKSB7XG4gICAgcmVzdW1lVGltZXJzUmVjdXJzaXZlbHkoY3VycmVudEZpYmVyKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcmVjb3JkRWZmZWN0KCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0Kys7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVjb3JkU2NoZWR1bGVVcGRhdGUoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKGlzQ29tbWl0dGluZykge1xuICAgICAgaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50Q29tbWl0ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRQaGFzZSAhPT0gbnVsbCAmJiBjdXJyZW50UGhhc2UgIT09ICdjb21wb25lbnRXaWxsTW91bnQnICYmIGN1cnJlbnRQaGFzZSAhPT0gJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnKSB7XG4gICAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRQaGFzZSA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0UmVxdWVzdENhbGxiYWNrVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKHN1cHBvcnRzVXNlclRpbWluZyAmJiAhaXNXYWl0aW5nRm9yQ2FsbGJhY2spIHtcbiAgICAgIGlzV2FpdGluZ0ZvckNhbGxiYWNrID0gdHJ1ZTtcbiAgICAgIGJlZ2luTWFyaygnKFdhaXRpbmcgZm9yIGFzeW5jIGNhbGxiYWNrLi4uKScpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wUmVxdWVzdENhbGxiYWNrVGltZXIoZGlkRXhwaXJlLCBleHBpcmF0aW9uVGltZSkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmIChzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIGlzV2FpdGluZ0ZvckNhbGxiYWNrID0gZmFsc2U7XG4gICAgICB2YXIgd2FybmluZyQkMSA9IGRpZEV4cGlyZSA/ICdSZWFjdCB3YXMgYmxvY2tlZCBieSBtYWluIHRocmVhZCcgOiBudWxsO1xuICAgICAgZW5kTWFyaygnKFdhaXRpbmcgZm9yIGFzeW5jIGNhbGxiYWNrLi4uIHdpbGwgZm9yY2UgZmx1c2ggaW4gJyArIGV4cGlyYXRpb25UaW1lICsgJyBtcyknLCAnKFdhaXRpbmcgZm9yIGFzeW5jIGNhbGxiYWNrLi4uKScsIHdhcm5pbmckJDEpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydFdvcmtUaW1lcihmaWJlcikge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nIHx8IHNob3VsZElnbm9yZUZpYmVyKGZpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBwYXVzZSwgdGhpcyBpcyB0aGUgZmliZXIgdG8gdW53aW5kIGZyb20uXG4gICAgY3VycmVudEZpYmVyID0gZmliZXI7XG4gICAgaWYgKCFiZWdpbkZpYmVyTWFyayhmaWJlciwgbnVsbCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhbmNlbFdvcmtUaW1lcihmaWJlcikge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nIHx8IHNob3VsZElnbm9yZUZpYmVyKGZpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBSZW1lbWJlciB3ZSBzaG91bGRuJ3QgY29tcGxldGUgbWVhc3VyZW1lbnQgZm9yIHRoaXMgZmliZXIuXG4gICAgLy8gT3RoZXJ3aXNlIGZsYW1lY2hhcnQgd2lsbCBiZSBkZWVwIGV2ZW4gZm9yIHNtYWxsIHVwZGF0ZXMuXG4gICAgZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBmYWxzZTtcbiAgICBjbGVhckZpYmVyTWFyayhmaWJlciwgbnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcFdvcmtUaW1lcihmaWJlcikge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nIHx8IHNob3VsZElnbm9yZUZpYmVyKGZpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBwYXVzZSwgaXRzIHBhcmVudCBpcyB0aGUgZmliZXIgdG8gdW53aW5kIGZyb20uXG4gICAgY3VycmVudEZpYmVyID0gZmliZXIucmV0dXJuO1xuICAgIGlmICghZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBmYWxzZTtcbiAgICBlbmRGaWJlck1hcmsoZmliZXIsIG51bGwsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BGYWlsZWRXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgd2UgcGF1c2UsIGl0cyBwYXJlbnQgaXMgdGhlIGZpYmVyIHRvIHVud2luZCBmcm9tLlxuICAgIGN1cnJlbnRGaWJlciA9IGZpYmVyLnJldHVybjtcbiAgICBpZiAoIWZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgdmFyIHdhcm5pbmckJDEgPSAnQW4gZXJyb3Igd2FzIHRocm93biBpbnNpZGUgdGhpcyBlcnJvciBib3VuZGFyeSc7XG4gICAgZW5kRmliZXJNYXJrKGZpYmVyLCBudWxsLCB3YXJuaW5nJCQxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydFBoYXNlVGltZXIoZmliZXIsIHBoYXNlKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xlYXJQZW5kaW5nUGhhc2VNZWFzdXJlbWVudCgpO1xuICAgIGlmICghYmVnaW5GaWJlck1hcmsoZmliZXIsIHBoYXNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50UGhhc2VGaWJlciA9IGZpYmVyO1xuICAgIGN1cnJlbnRQaGFzZSA9IHBoYXNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BQaGFzZVRpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjdXJyZW50UGhhc2UgIT09IG51bGwgJiYgY3VycmVudFBoYXNlRmliZXIgIT09IG51bGwpIHtcbiAgICAgIHZhciB3YXJuaW5nJCQxID0gaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50UGhhc2UgPyAnU2NoZWR1bGVkIGEgY2FzY2FkaW5nIHVwZGF0ZScgOiBudWxsO1xuICAgICAgZW5kRmliZXJNYXJrKGN1cnJlbnRQaGFzZUZpYmVyLCBjdXJyZW50UGhhc2UsIHdhcm5pbmckJDEpO1xuICAgIH1cbiAgICBjdXJyZW50UGhhc2UgPSBudWxsO1xuICAgIGN1cnJlbnRQaGFzZUZpYmVyID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydFdvcmtMb29wVGltZXIobmV4dFVuaXRPZldvcmspIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBjdXJyZW50RmliZXIgPSBuZXh0VW5pdE9mV29yaztcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wID0gMDtcbiAgICAvLyBUaGlzIGlzIHRvcCBsZXZlbCBjYWxsLlxuICAgIC8vIEFueSBvdGhlciBtZWFzdXJlbWVudHMgYXJlIHBlcmZvcm1lZCB3aXRoaW4uXG4gICAgYmVnaW5NYXJrKCcoUmVhY3QgVHJlZSBSZWNvbmNpbGlhdGlvbiknKTtcbiAgICAvLyBSZXN1bWUgYW55IG1lYXN1cmVtZW50cyB0aGF0IHdlcmUgaW4gcHJvZ3Jlc3MgZHVyaW5nIHRoZSBsYXN0IGxvb3AuXG4gICAgcmVzdW1lVGltZXJzKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcFdvcmtMb29wVGltZXIoaW50ZXJydXB0ZWRCeSwgZGlkQ29tcGxldGVSb290KSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHdhcm5pbmckJDEgPSBudWxsO1xuICAgIGlmIChpbnRlcnJ1cHRlZEJ5ICE9PSBudWxsKSB7XG4gICAgICBpZiAoaW50ZXJydXB0ZWRCeS50YWcgPT09IEhvc3RSb290KSB7XG4gICAgICAgIHdhcm5pbmckJDEgPSAnQSB0b3AtbGV2ZWwgdXBkYXRlIGludGVycnVwdGVkIHRoZSBwcmV2aW91cyByZW5kZXInO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGludGVycnVwdGVkQnkpIHx8ICdVbmtub3duJztcbiAgICAgICAgd2FybmluZyQkMSA9ICdBbiB1cGRhdGUgdG8gJyArIGNvbXBvbmVudE5hbWUgKyAnIGludGVycnVwdGVkIHRoZSBwcmV2aW91cyByZW5kZXInO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA+IDEpIHtcbiAgICAgIHdhcm5pbmckJDEgPSAnVGhlcmUgd2VyZSBjYXNjYWRpbmcgdXBkYXRlcyc7XG4gICAgfVxuICAgIGNvbW1pdENvdW50SW5DdXJyZW50V29ya0xvb3AgPSAwO1xuICAgIHZhciBsYWJlbCA9IGRpZENvbXBsZXRlUm9vdCA/ICcoUmVhY3QgVHJlZSBSZWNvbmNpbGlhdGlvbjogQ29tcGxldGVkIFJvb3QpJyA6ICcoUmVhY3QgVHJlZSBSZWNvbmNpbGlhdGlvbjogWWllbGRlZCknO1xuICAgIC8vIFBhdXNlIGFueSBtZWFzdXJlbWVudHMgdW50aWwgdGhlIG5leHQgbG9vcC5cbiAgICBwYXVzZVRpbWVycygpO1xuICAgIGVuZE1hcmsobGFiZWwsICcoUmVhY3QgVHJlZSBSZWNvbmNpbGlhdGlvbiknLCB3YXJuaW5nJCQxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydENvbW1pdFRpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlzQ29tbWl0dGluZyA9IHRydWU7XG4gICAgaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50Q29tbWl0ID0gZmFsc2U7XG4gICAgbGFiZWxzSW5DdXJyZW50Q29tbWl0LmNsZWFyKCk7XG4gICAgYmVnaW5NYXJrKCcoQ29tbWl0dGluZyBDaGFuZ2VzKScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BDb21taXRUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3YXJuaW5nJCQxID0gbnVsbDtcbiAgICBpZiAoaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50Q29tbWl0KSB7XG4gICAgICB3YXJuaW5nJCQxID0gJ0xpZmVjeWNsZSBob29rIHNjaGVkdWxlZCBhIGNhc2NhZGluZyB1cGRhdGUnO1xuICAgIH0gZWxzZSBpZiAoY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA+IDApIHtcbiAgICAgIHdhcm5pbmckJDEgPSAnQ2F1c2VkIGJ5IGEgY2FzY2FkaW5nIHVwZGF0ZSBpbiBlYXJsaWVyIGNvbW1pdCc7XG4gICAgfVxuICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IGZhbHNlO1xuICAgIGNvbW1pdENvdW50SW5DdXJyZW50V29ya0xvb3ArKztcbiAgICBpc0NvbW1pdHRpbmcgPSBmYWxzZTtcbiAgICBsYWJlbHNJbkN1cnJlbnRDb21taXQuY2xlYXIoKTtcblxuICAgIGVuZE1hcmsoJyhDb21taXR0aW5nIENoYW5nZXMpJywgJyhDb21taXR0aW5nIENoYW5nZXMpJywgd2FybmluZyQkMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgYmVnaW5NYXJrKCcoQ29tbWl0dGluZyBTbmFwc2hvdCBFZmZlY3RzKScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY291bnQgPSBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdDtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgZW5kTWFyaygnKENvbW1pdHRpbmcgU25hcHNob3QgRWZmZWN0czogJyArIGNvdW50ICsgJyBUb3RhbCknLCAnKENvbW1pdHRpbmcgU25hcHNob3QgRWZmZWN0cyknLCBudWxsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydENvbW1pdEhvc3RFZmZlY3RzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGJlZ2luTWFyaygnKENvbW1pdHRpbmcgSG9zdCBFZmZlY3RzKScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BDb21taXRIb3N0RWZmZWN0c1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjb3VudCA9IGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0O1xuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBlbmRNYXJrKCcoQ29tbWl0dGluZyBIb3N0IEVmZmVjdHM6ICcgKyBjb3VudCArICcgVG90YWwpJywgJyhDb21taXR0aW5nIEhvc3QgRWZmZWN0cyknLCBudWxsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydENvbW1pdExpZmVDeWNsZXNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgYmVnaW5NYXJrKCcoQ2FsbGluZyBMaWZlY3ljbGUgTWV0aG9kcyknKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wQ29tbWl0TGlmZUN5Y2xlc1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjb3VudCA9IGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0O1xuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBlbmRNYXJrKCcoQ2FsbGluZyBMaWZlY3ljbGUgTWV0aG9kczogJyArIGNvdW50ICsgJyBUb3RhbCknLCAnKENhbGxpbmcgTGlmZWN5Y2xlIE1ldGhvZHMpJywgbnVsbCk7XG4gIH1cbn1cblxudmFyIHZhbHVlU3RhY2sgPSBbXTtcblxudmFyIGZpYmVyU3RhY2sgPSB2b2lkIDA7XG5cbntcbiAgZmliZXJTdGFjayA9IFtdO1xufVxuXG52YXIgaW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY3JlYXRlQ3Vyc29yKGRlZmF1bHRWYWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGN1cnJlbnQ6IGRlZmF1bHRWYWx1ZVxuICB9O1xufVxuXG5mdW5jdGlvbiBwb3AoY3Vyc29yLCBmaWJlcikge1xuICBpZiAoaW5kZXggPCAwKSB7XG4gICAge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1VuZXhwZWN0ZWQgcG9wLicpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICB7XG4gICAgaWYgKGZpYmVyICE9PSBmaWJlclN0YWNrW2luZGV4XSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1VuZXhwZWN0ZWQgRmliZXIgcG9wcGVkLicpO1xuICAgIH1cbiAgfVxuXG4gIGN1cnNvci5jdXJyZW50ID0gdmFsdWVTdGFja1tpbmRleF07XG5cbiAgdmFsdWVTdGFja1tpbmRleF0gPSBudWxsO1xuXG4gIHtcbiAgICBmaWJlclN0YWNrW2luZGV4XSA9IG51bGw7XG4gIH1cblxuICBpbmRleC0tO1xufVxuXG5mdW5jdGlvbiBwdXNoKGN1cnNvciwgdmFsdWUsIGZpYmVyKSB7XG4gIGluZGV4Kys7XG5cbiAgdmFsdWVTdGFja1tpbmRleF0gPSBjdXJzb3IuY3VycmVudDtcblxuICB7XG4gICAgZmliZXJTdGFja1tpbmRleF0gPSBmaWJlcjtcbiAgfVxuXG4gIGN1cnNvci5jdXJyZW50ID0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGNoZWNrVGhhdFN0YWNrSXNFbXB0eSgpIHtcbiAge1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdFeHBlY3RlZCBhbiBlbXB0eSBzdGFjay4gU29tZXRoaW5nIHdhcyBub3QgcmVzZXQgcHJvcGVybHkuJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlc2V0U3RhY2tBZnRlckZhdGFsRXJyb3JJbkRldigpIHtcbiAge1xuICAgIGluZGV4ID0gLTE7XG4gICAgdmFsdWVTdGFjay5sZW5ndGggPSAwO1xuICAgIGZpYmVyU3RhY2subGVuZ3RoID0gMDtcbiAgfVxufVxuXG52YXIgd2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0ID0gdm9pZCAwO1xuXG57XG4gIHdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dCA9IHt9O1xufVxuXG4vLyBBIGN1cnNvciB0byB0aGUgY3VycmVudCBtZXJnZWQgY29udGV4dCBvYmplY3Qgb24gdGhlIHN0YWNrLlxudmFyIGNvbnRleHRTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihlbXB0eU9iamVjdCk7XG4vLyBBIGN1cnNvciB0byBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjb250ZXh0IGhhcyBjaGFuZ2VkLlxudmFyIGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IoZmFsc2UpO1xuLy8gS2VlcCB0cmFjayBvZiB0aGUgcHJldmlvdXMgY29udGV4dCBvYmplY3QgdGhhdCB3YXMgb24gdGhlIHN0YWNrLlxuLy8gV2UgdXNlIHRoaXMgdG8gZ2V0IGFjY2VzcyB0byB0aGUgcGFyZW50IGNvbnRleHQgYWZ0ZXIgd2UgaGF2ZSBhbHJlYWR5XG4vLyBwdXNoZWQgdGhlIG5leHQgY29udGV4dCBwcm92aWRlciwgYW5kIG5vdyBuZWVkIHRvIG1lcmdlIHRoZWlyIGNvbnRleHRzLlxudmFyIHByZXZpb3VzQ29udGV4dCA9IGVtcHR5T2JqZWN0O1xuXG5mdW5jdGlvbiBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpIHtcbiAgdmFyIGhhc093bkNvbnRleHQgPSBpc0NvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gIGlmIChoYXNPd25Db250ZXh0KSB7XG4gICAgLy8gSWYgdGhlIGZpYmVyIGlzIGEgY29udGV4dCBwcm92aWRlciBpdHNlbGYsIHdoZW4gd2UgcmVhZCBpdHMgY29udGV4dFxuICAgIC8vIHdlIGhhdmUgYWxyZWFkeSBwdXNoZWQgaXRzIG93biBjaGlsZCBjb250ZXh0IG9uIHRoZSBzdGFjay4gQSBjb250ZXh0XG4gICAgLy8gcHJvdmlkZXIgc2hvdWxkIG5vdCBcInNlZVwiIGl0cyBvd24gY2hpbGQgY29udGV4dC4gVGhlcmVmb3JlIHdlIHJlYWQgdGhlXG4gICAgLy8gcHJldmlvdXMgKHBhcmVudCkgY29udGV4dCBpbnN0ZWFkIGZvciBhIGNvbnRleHQgcHJvdmlkZXIuXG4gICAgcmV0dXJuIHByZXZpb3VzQ29udGV4dDtcbiAgfVxuICByZXR1cm4gY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQ7XG59XG5cbmZ1bmN0aW9uIGNhY2hlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0LCBtYXNrZWRDb250ZXh0KSB7XG4gIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCA9IHVubWFza2VkQ29udGV4dDtcbiAgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQgPSBtYXNrZWRDb250ZXh0O1xufVxuXG5mdW5jdGlvbiBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQpIHtcbiAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICB2YXIgY29udGV4dFR5cGVzID0gdHlwZS5jb250ZXh0VHlwZXM7XG4gIGlmICghY29udGV4dFR5cGVzKSB7XG4gICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICB9XG5cbiAgLy8gQXZvaWQgcmVjcmVhdGluZyBtYXNrZWQgY29udGV4dCB1bmxlc3MgdW5tYXNrZWQgY29udGV4dCBoYXMgY2hhbmdlZC5cbiAgLy8gRmFpbGluZyB0byBkbyB0aGlzIHdpbGwgcmVzdWx0IGluIHVubmVjZXNzYXJ5IGNhbGxzIHRvIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuXG4gIC8vIFRoaXMgbWF5IHRyaWdnZXIgaW5maW5pdGUgbG9vcHMgaWYgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyBjYWxscyBzZXRTdGF0ZS5cbiAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCA9PT0gdW5tYXNrZWRDb250ZXh0KSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0O1xuICB9XG5cbiAgdmFyIGNvbnRleHQgPSB7fTtcbiAgZm9yICh2YXIga2V5IGluIGNvbnRleHRUeXBlcykge1xuICAgIGNvbnRleHRba2V5XSA9IHVubWFza2VkQ29udGV4dFtrZXldO1xuICB9XG5cbiAge1xuICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgJ1Vua25vd24nO1xuICAgIGNoZWNrUHJvcFR5cGVzKGNvbnRleHRUeXBlcywgY29udGV4dCwgJ2NvbnRleHQnLCBuYW1lLCBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0pO1xuICB9XG5cbiAgLy8gQ2FjaGUgdW5tYXNrZWQgY29udGV4dCBzbyB3ZSBjYW4gYXZvaWQgcmVjcmVhdGluZyBtYXNrZWQgY29udGV4dCB1bmxlc3MgbmVjZXNzYXJ5LlxuICAvLyBDb250ZXh0IGlzIGNyZWF0ZWQgYmVmb3JlIHRoZSBjbGFzcyBjb21wb25lbnQgaXMgaW5zdGFudGlhdGVkIHNvIGNoZWNrIGZvciBpbnN0YW5jZS5cbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgY2FjaGVDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQsIGNvbnRleHQpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIGhhc0NvbnRleHRDaGFuZ2VkKCkge1xuICByZXR1cm4gZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvci5jdXJyZW50O1xufVxuXG5mdW5jdGlvbiBpc0NvbnRleHRDb25zdW1lcihmaWJlcikge1xuICByZXR1cm4gZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCAmJiBmaWJlci50eXBlLmNvbnRleHRUeXBlcyAhPSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0NvbnRleHRQcm92aWRlcihmaWJlcikge1xuICByZXR1cm4gZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCAmJiBmaWJlci50eXBlLmNoaWxkQ29udGV4dFR5cGVzICE9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHBvcENvbnRleHRQcm92aWRlcihmaWJlcikge1xuICBpZiAoIWlzQ29udGV4dFByb3ZpZGVyKGZpYmVyKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHBvcChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKTtcbn1cblxuZnVuY3Rpb24gcG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0KGZpYmVyKSB7XG4gIHBvcChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKTtcbn1cblxuZnVuY3Rpb24gcHVzaFRvcExldmVsQ29udGV4dE9iamVjdChmaWJlciwgY29udGV4dCwgZGlkQ2hhbmdlKSB7XG4gICEoY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQgPT09IGVtcHR5T2JqZWN0KSA/IGludmFyaWFudChmYWxzZSwgJ1VuZXhwZWN0ZWQgY29udGV4dCBmb3VuZCBvbiBzdGFjay4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcblxuICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgY29udGV4dCwgZmliZXIpO1xuICBwdXNoKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGRpZENoYW5nZSwgZmliZXIpO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzQ2hpbGRDb250ZXh0KGZpYmVyLCBwYXJlbnRDb250ZXh0KSB7XG4gIHZhciBpbnN0YW5jZSA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgdmFyIGNoaWxkQ29udGV4dFR5cGVzID0gZmliZXIudHlwZS5jaGlsZENvbnRleHRUeXBlcztcblxuICAvLyBUT0RPIChidmF1Z2huKSBSZXBsYWNlIHRoaXMgYmVoYXZpb3Igd2l0aCBhbiBpbnZhcmlhbnQoKSBpbiB0aGUgZnV0dXJlLlxuICAvLyBJdCBoYXMgb25seSBiZWVuIGFkZGVkIGluIEZpYmVyIHRvIG1hdGNoIHRoZSAodW5pbnRlbnRpb25hbCkgYmVoYXZpb3IgaW4gU3RhY2suXG4gIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnVW5rbm93bic7XG5cbiAgICAgIGlmICghd2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0W2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIHdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dFtjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICclcy5jaGlsZENvbnRleHRUeXBlcyBpcyBzcGVjaWZpZWQgYnV0IHRoZXJlIGlzIG5vIGdldENoaWxkQ29udGV4dCgpIG1ldGhvZCAnICsgJ29uIHRoZSBpbnN0YW5jZS4gWW91IGNhbiBlaXRoZXIgZGVmaW5lIGdldENoaWxkQ29udGV4dCgpIG9uICVzIG9yIHJlbW92ZSAnICsgJ2NoaWxkQ29udGV4dFR5cGVzIGZyb20gaXQuJywgY29tcG9uZW50TmFtZSwgY29tcG9uZW50TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnRDb250ZXh0O1xuICB9XG5cbiAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcbiAge1xuICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKCdnZXRDaGlsZENvbnRleHQnKTtcbiAgfVxuICBzdGFydFBoYXNlVGltZXIoZmliZXIsICdnZXRDaGlsZENvbnRleHQnKTtcbiAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XG4gIHN0b3BQaGFzZVRpbWVyKCk7XG4gIHtcbiAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZShudWxsKTtcbiAgfVxuICBmb3IgKHZhciBjb250ZXh0S2V5IGluIGNoaWxkQ29udGV4dCkge1xuICAgICEoY29udGV4dEtleSBpbiBjaGlsZENvbnRleHRUeXBlcykgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5nZXRDaGlsZENvbnRleHQoKToga2V5IFwiJXNcIiBpcyBub3QgZGVmaW5lZCBpbiBjaGlsZENvbnRleHRUeXBlcy4nLCBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnVW5rbm93bicsIGNvbnRleHRLZXkpIDogdm9pZCAwO1xuICB9XG4gIHtcbiAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdVbmtub3duJztcbiAgICBjaGVja1Byb3BUeXBlcyhjaGlsZENvbnRleHRUeXBlcywgY2hpbGRDb250ZXh0LCAnY2hpbGQgY29udGV4dCcsIG5hbWUsXG4gICAgLy8gSW4gcHJhY3RpY2UsIHRoZXJlIGlzIG9uZSBjYXNlIGluIHdoaWNoIHdlIHdvbid0IGdldCBhIHN0YWNrLiBJdCdzIHdoZW5cbiAgICAvLyBzb21lYm9keSBjYWxscyB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcigpIGFuZCB3ZSBwcm9jZXNzXG4gICAgLy8gY29udGV4dCBmcm9tIHRoZSBwYXJlbnQgY29tcG9uZW50IGluc3RhbmNlLiBUaGUgc3RhY2sgd2lsbCBiZSBtaXNzaW5nXG4gICAgLy8gYmVjYXVzZSBpdCdzIG91dHNpZGUgb2YgdGhlIHJlY29uY2lsaWF0aW9uLCBhbmQgc28gdGhlIHBvaW50ZXIgaGFzIG5vdFxuICAgIC8vIGJlZW4gc2V0LiBUaGlzIGlzIHJhcmUgYW5kIGRvZXNuJ3QgbWF0dGVyLiBXZSdsbCBhbHNvIHJlbW92ZSB0aGF0IEFQSS5cbiAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0pO1xuICB9XG5cbiAgcmV0dXJuIF9hc3NpZ24oe30sIHBhcmVudENvbnRleHQsIGNoaWxkQ29udGV4dCk7XG59XG5cbmZ1bmN0aW9uIHB1c2hDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpIHtcbiAgaWYgKCFpc0NvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gIC8vIFdlIHB1c2ggdGhlIGNvbnRleHQgYXMgZWFybHkgYXMgcG9zc2libGUgdG8gZW5zdXJlIHN0YWNrIGludGVncml0eS5cbiAgLy8gSWYgdGhlIGluc3RhbmNlIGRvZXMgbm90IGV4aXN0IHlldCwgd2Ugd2lsbCBwdXNoIG51bGwgYXQgZmlyc3QsXG4gIC8vIGFuZCByZXBsYWNlIGl0IG9uIHRoZSBzdGFjayBsYXRlciB3aGVuIGludmFsaWRhdGluZyB0aGUgY29udGV4dC5cbiAgdmFyIG1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0ID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgfHwgZW1wdHlPYmplY3Q7XG5cbiAgLy8gUmVtZW1iZXIgdGhlIHBhcmVudCBjb250ZXh0IHNvIHdlIGNhbiBtZXJnZSB3aXRoIGl0IGxhdGVyLlxuICAvLyBJbmhlcml0IHRoZSBwYXJlbnQncyBkaWQtcGVyZm9ybS13b3JrIHZhbHVlIHRvIGF2b2lkIGluYWR2ZXJ0ZW50bHkgYmxvY2tpbmcgdXBkYXRlcy5cbiAgcHJldmlvdXNDb250ZXh0ID0gY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBtZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpO1xuICBwdXNoKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IuY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBkaWRDaGFuZ2UpIHtcbiAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAhaW5zdGFuY2UgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCB0byBoYXZlIGFuIGluc3RhbmNlIGJ5IHRoaXMgcG9pbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG5cbiAgaWYgKGRpZENoYW5nZSkge1xuICAgIC8vIE1lcmdlIHBhcmVudCBhbmQgb3duIGNvbnRleHQuXG4gICAgLy8gU2tpcCB0aGlzIGlmIHdlJ3JlIG5vdCB1cGRhdGluZyBkdWUgdG8gc0NVLlxuICAgIC8vIFRoaXMgYXZvaWRzIHVubmVjZXNzYXJpbHkgcmVjb21wdXRpbmcgbWVtb2l6ZWQgdmFsdWVzLlxuICAgIHZhciBtZXJnZWRDb250ZXh0ID0gcHJvY2Vzc0NoaWxkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgcHJldmlvdXNDb250ZXh0KTtcbiAgICBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCA9IG1lcmdlZENvbnRleHQ7XG5cbiAgICAvLyBSZXBsYWNlIHRoZSBvbGQgKG9yIGVtcHR5KSBjb250ZXh0IHdpdGggdGhlIG5ldyBvbmUuXG4gICAgLy8gSXQgaXMgaW1wb3J0YW50IHRvIHVud2luZCB0aGUgY29udGV4dCBpbiB0aGUgcmV2ZXJzZSBvcmRlci5cbiAgICBwb3AoZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKTtcbiAgICAvLyBOb3cgcHVzaCB0aGUgbmV3IGNvbnRleHQgYW5kIG1hcmsgdGhhdCBpdCBoYXMgY2hhbmdlZC5cbiAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbWVyZ2VkQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHB1c2goZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZGlkQ2hhbmdlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gIH0gZWxzZSB7XG4gICAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKTtcbiAgICBwdXNoKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGRpZENoYW5nZSwgd29ya0luUHJvZ3Jlc3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0KGZpYmVyKSB7XG4gIC8vIEN1cnJlbnRseSB0aGlzIGlzIG9ubHkgdXNlZCB3aXRoIHJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyOyBub3Qgc3VyZSBpZiBpdFxuICAvLyBtYWtlcyBzZW5zZSBlbHNld2hlcmVcbiAgIShpc0ZpYmVyTW91bnRlZChmaWJlcikgJiYgZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBzdWJ0cmVlIHBhcmVudCB0byBiZSBhIG1vdW50ZWQgY2xhc3MgY29tcG9uZW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuXG4gIHZhciBub2RlID0gZmliZXI7XG4gIHdoaWxlIChub2RlLnRhZyAhPT0gSG9zdFJvb3QpIHtcbiAgICBpZiAoaXNDb250ZXh0UHJvdmlkZXIobm9kZSkpIHtcbiAgICAgIHJldHVybiBub2RlLnN0YXRlTm9kZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dDtcbiAgICB9XG4gICAgdmFyIHBhcmVudCA9IG5vZGUucmV0dXJuO1xuICAgICFwYXJlbnQgPyBpbnZhcmlhbnQoZmFsc2UsICdGb3VuZCB1bmV4cGVjdGVkIGRldGFjaGVkIHN1YnRyZWUgcGFyZW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgIG5vZGUgPSBwYXJlbnQ7XG4gIH1cbiAgcmV0dXJuIG5vZGUuc3RhdGVOb2RlLmNvbnRleHQ7XG59XG5cbi8vIE1heCAzMSBiaXQgaW50ZWdlci4gVGhlIG1heCBpbnRlZ2VyIHNpemUgaW4gVjggZm9yIDMyLWJpdCBzeXN0ZW1zLlxuLy8gTWF0aC5wb3coMiwgMzApIC0gMVxuLy8gMGIxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTFcbnZhciBNQVhfU0lHTkVEXzMxX0JJVF9JTlQgPSAxMDczNzQxODIzO1xuXG4vLyBUT0RPOiBVc2UgYW4gb3BhcXVlIHR5cGUgb25jZSBFU0xpbnQgZXQgYWwgc3VwcG9ydCB0aGUgc3ludGF4XG5cblxudmFyIE5vV29yayA9IDA7XG52YXIgU3luYyA9IDE7XG52YXIgTmV2ZXIgPSBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG5cbnZhciBVTklUX1NJWkUgPSAxMDtcbnZhciBNQUdJQ19OVU1CRVJfT0ZGU0VUID0gMjtcblxuLy8gMSB1bml0IG9mIGV4cGlyYXRpb24gdGltZSByZXByZXNlbnRzIDEwbXMuXG5mdW5jdGlvbiBtc1RvRXhwaXJhdGlvblRpbWUobXMpIHtcbiAgLy8gQWx3YXlzIGFkZCBhbiBvZmZzZXQgc28gdGhhdCB3ZSBkb24ndCBjbGFzaCB3aXRoIHRoZSBtYWdpYyBudW1iZXIgZm9yIE5vV29yay5cbiAgcmV0dXJuIChtcyAvIFVOSVRfU0laRSB8IDApICsgTUFHSUNfTlVNQkVSX09GRlNFVDtcbn1cblxuZnVuY3Rpb24gZXhwaXJhdGlvblRpbWVUb01zKGV4cGlyYXRpb25UaW1lKSB7XG4gIHJldHVybiAoZXhwaXJhdGlvblRpbWUgLSBNQUdJQ19OVU1CRVJfT0ZGU0VUKSAqIFVOSVRfU0laRTtcbn1cblxuZnVuY3Rpb24gY2VpbGluZyhudW0sIHByZWNpc2lvbikge1xuICByZXR1cm4gKChudW0gLyBwcmVjaXNpb24gfCAwKSArIDEpICogcHJlY2lzaW9uO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldChjdXJyZW50VGltZSwgZXhwaXJhdGlvbkluTXMsIGJ1Y2tldFNpemVNcykge1xuICByZXR1cm4gTUFHSUNfTlVNQkVSX09GRlNFVCArIGNlaWxpbmcoY3VycmVudFRpbWUgLSBNQUdJQ19OVU1CRVJfT0ZGU0VUICsgZXhwaXJhdGlvbkluTXMgLyBVTklUX1NJWkUsIGJ1Y2tldFNpemVNcyAvIFVOSVRfU0laRSk7XG59XG5cbnZhciBOb0NvbnRleHQgPSAwO1xudmFyIEFzeW5jTW9kZSA9IDE7XG52YXIgU3RyaWN0TW9kZSA9IDI7XG52YXIgUHJvZmlsZU1vZGUgPSA0O1xuXG52YXIgaGFzQmFkTWFwUG9seWZpbGwgPSB2b2lkIDA7XG5cbntcbiAgaGFzQmFkTWFwUG9seWZpbGwgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgbm9uRXh0ZW5zaWJsZU9iamVjdCA9IE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSk7XG4gICAgdmFyIHRlc3RNYXAgPSBuZXcgTWFwKFtbbm9uRXh0ZW5zaWJsZU9iamVjdCwgbnVsbF1dKTtcbiAgICB2YXIgdGVzdFNldCA9IG5ldyBTZXQoW25vbkV4dGVuc2libGVPYmplY3RdKTtcbiAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgUm9sbHVwIHRvIG5vdCBjb25zaWRlciB0aGVzZSB1bnVzZWQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE3NzFcbiAgICAvLyBUT0RPOiB3ZSBjYW4gcmVtb3ZlIHRoZXNlIGlmIFJvbGx1cCBmaXhlcyB0aGUgYnVnLlxuICAgIHRlc3RNYXAuc2V0KDAsIDApO1xuICAgIHRlc3RTZXQuYWRkKDApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gVE9ETzogQ29uc2lkZXIgd2FybmluZyBhYm91dCBiYWQgcG9seWZpbGxzXG4gICAgaGFzQmFkTWFwUG9seWZpbGwgPSB0cnVlO1xuICB9XG59XG5cbi8vIEEgRmliZXIgaXMgd29yayBvbiBhIENvbXBvbmVudCB0aGF0IG5lZWRzIHRvIGJlIGRvbmUgb3Igd2FzIGRvbmUuIFRoZXJlIGNhblxuLy8gYmUgbW9yZSB0aGFuIG9uZSBwZXIgY29tcG9uZW50LlxuXG5cbnZhciBkZWJ1Z0NvdW50ZXIgPSB2b2lkIDA7XG5cbntcbiAgZGVidWdDb3VudGVyID0gMTtcbn1cblxuZnVuY3Rpb24gRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgLy8gSW5zdGFuY2VcbiAgdGhpcy50YWcgPSB0YWc7XG4gIHRoaXMua2V5ID0ga2V5O1xuICB0aGlzLnR5cGUgPSBudWxsO1xuICB0aGlzLnN0YXRlTm9kZSA9IG51bGw7XG5cbiAgLy8gRmliZXJcbiAgdGhpcy5yZXR1cm4gPSBudWxsO1xuICB0aGlzLmNoaWxkID0gbnVsbDtcbiAgdGhpcy5zaWJsaW5nID0gbnVsbDtcbiAgdGhpcy5pbmRleCA9IDA7XG5cbiAgdGhpcy5yZWYgPSBudWxsO1xuXG4gIHRoaXMucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzO1xuICB0aGlzLm1lbW9pemVkUHJvcHMgPSBudWxsO1xuICB0aGlzLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgdGhpcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcblxuICB0aGlzLm1vZGUgPSBtb2RlO1xuXG4gIC8vIEVmZmVjdHNcbiAgdGhpcy5lZmZlY3RUYWcgPSBOb0VmZmVjdDtcbiAgdGhpcy5uZXh0RWZmZWN0ID0gbnVsbDtcblxuICB0aGlzLmZpcnN0RWZmZWN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0RWZmZWN0ID0gbnVsbDtcblxuICB0aGlzLmV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIHRoaXMuYWx0ZXJuYXRlID0gbnVsbDtcblxuICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHRoaXMuYWN0dWFsRHVyYXRpb24gPSAwO1xuICAgIHRoaXMuYWN0dWFsU3RhcnRUaW1lID0gMDtcbiAgICB0aGlzLnNlbGZCYXNlVGltZSA9IDA7XG4gICAgdGhpcy50cmVlQmFzZVRpbWUgPSAwO1xuICB9XG5cbiAge1xuICAgIHRoaXMuX2RlYnVnSUQgPSBkZWJ1Z0NvdW50ZXIrKztcbiAgICB0aGlzLl9kZWJ1Z1NvdXJjZSA9IG51bGw7XG4gICAgdGhpcy5fZGVidWdPd25lciA9IG51bGw7XG4gICAgdGhpcy5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IGZhbHNlO1xuICAgIGlmICghaGFzQmFkTWFwUG9seWZpbGwgJiYgdHlwZW9mIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBUaGlzIGlzIGEgY29uc3RydWN0b3IgZnVuY3Rpb24sIHJhdGhlciB0aGFuIGEgUE9KTyBjb25zdHJ1Y3Rvciwgc3RpbGxcbi8vIHBsZWFzZSBlbnN1cmUgd2UgZG8gdGhlIGZvbGxvd2luZzpcbi8vIDEpIE5vYm9keSBzaG91bGQgYWRkIGFueSBpbnN0YW5jZSBtZXRob2RzIG9uIHRoaXMuIEluc3RhbmNlIG1ldGhvZHMgY2FuIGJlXG4vLyAgICBtb3JlIGRpZmZpY3VsdCB0byBwcmVkaWN0IHdoZW4gdGhleSBnZXQgb3B0aW1pemVkIGFuZCB0aGV5IGFyZSBhbG1vc3Rcbi8vICAgIG5ldmVyIGlubGluZWQgcHJvcGVybHkgaW4gc3RhdGljIGNvbXBpbGVycy5cbi8vIDIpIE5vYm9keSBzaG91bGQgcmVseSBvbiBgaW5zdGFuY2VvZiBGaWJlcmAgZm9yIHR5cGUgdGVzdGluZy4gV2Ugc2hvdWxkXG4vLyAgICBhbHdheXMga25vdyB3aGVuIGl0IGlzIGEgZmliZXIuXG4vLyAzKSBXZSBtaWdodCB3YW50IHRvIGV4cGVyaW1lbnQgd2l0aCB1c2luZyBudW1lcmljIGtleXMgc2luY2UgdGhleSBhcmUgZWFzaWVyXG4vLyAgICB0byBvcHRpbWl6ZSBpbiBhIG5vbi1KSVQgZW52aXJvbm1lbnQuXG4vLyA0KSBXZSBjYW4gZWFzaWx5IGdvIGZyb20gYSBjb25zdHJ1Y3RvciB0byBhIGNyZWF0ZUZpYmVyIG9iamVjdCBsaXRlcmFsIGlmIHRoYXRcbi8vICAgIGlzIGZhc3Rlci5cbi8vIDUpIEl0IHNob3VsZCBiZSBlYXN5IHRvIHBvcnQgdGhpcyB0byBhIEMgc3RydWN0IGFuZCBrZWVwIGEgQyBpbXBsZW1lbnRhdGlvblxuLy8gICAgY29tcGF0aWJsZS5cbnZhciBjcmVhdGVGaWJlciA9IGZ1bmN0aW9uICh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSB7XG4gIC8vICRGbG93Rml4TWU6IHRoZSBzaGFwZXMgYXJlIGV4YWN0IGhlcmUgYnV0IEZsb3cgZG9lc24ndCBsaWtlIGNvbnN0cnVjdG9yc1xuICByZXR1cm4gbmV3IEZpYmVyTm9kZSh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbn07XG5cbmZ1bmN0aW9uIHNob3VsZENvbnN0cnVjdChDb21wb25lbnQpIHtcbiAgcmV0dXJuICEhKENvbXBvbmVudC5wcm90b3R5cGUgJiYgQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuLy8gVGhpcyBpcyB1c2VkIHRvIGNyZWF0ZSBhbiBhbHRlcm5hdGUgZmliZXIgdG8gZG8gd29yayBvbi5cbmZ1bmN0aW9uIGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnQsIHBlbmRpbmdQcm9wcywgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIHdvcmtJblByb2dyZXNzID0gY3VycmVudC5hbHRlcm5hdGU7XG4gIGlmICh3b3JrSW5Qcm9ncmVzcyA9PT0gbnVsbCkge1xuICAgIC8vIFdlIHVzZSBhIGRvdWJsZSBidWZmZXJpbmcgcG9vbGluZyB0ZWNobmlxdWUgYmVjYXVzZSB3ZSBrbm93IHRoYXQgd2UnbGxcbiAgICAvLyBvbmx5IGV2ZXIgbmVlZCBhdCBtb3N0IHR3byB2ZXJzaW9ucyBvZiBhIHRyZWUuIFdlIHBvb2wgdGhlIFwib3RoZXJcIiB1bnVzZWRcbiAgICAvLyBub2RlIHRoYXQgd2UncmUgZnJlZSB0byByZXVzZS4gVGhpcyBpcyBsYXppbHkgY3JlYXRlZCB0byBhdm9pZCBhbGxvY2F0aW5nXG4gICAgLy8gZXh0cmEgb2JqZWN0cyBmb3IgdGhpbmdzIHRoYXQgYXJlIG5ldmVyIHVwZGF0ZWQuIEl0IGFsc28gYWxsb3cgdXMgdG9cbiAgICAvLyByZWNsYWltIHRoZSBleHRyYSBtZW1vcnkgaWYgbmVlZGVkLlxuICAgIHdvcmtJblByb2dyZXNzID0gY3JlYXRlRmliZXIoY3VycmVudC50YWcsIHBlbmRpbmdQcm9wcywgY3VycmVudC5rZXksIGN1cnJlbnQubW9kZSk7XG4gICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQudHlwZTtcbiAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50LnN0YXRlTm9kZTtcblxuICAgIHtcbiAgICAgIC8vIERFVi1vbmx5IGZpZWxkc1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnSUQgPSBjdXJyZW50Ll9kZWJ1Z0lEO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnU291cmNlID0gY3VycmVudC5fZGVidWdTb3VyY2U7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdPd25lciA9IGN1cnJlbnQuX2RlYnVnT3duZXI7XG4gICAgfVxuXG4gICAgd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlID0gY3VycmVudDtcbiAgICBjdXJyZW50LmFsdGVybmF0ZSA9IHdvcmtJblByb2dyZXNzO1xuICB9IGVsc2Uge1xuICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wcztcblxuICAgIC8vIFdlIGFscmVhZHkgaGF2ZSBhbiBhbHRlcm5hdGUuXG4gICAgLy8gUmVzZXQgdGhlIGVmZmVjdCB0YWcuXG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnID0gTm9FZmZlY3Q7XG5cbiAgICAvLyBUaGUgZWZmZWN0IGxpc3QgaXMgbm8gbG9uZ2VyIHZhbGlkLlxuICAgIHdvcmtJblByb2dyZXNzLm5leHRFZmZlY3QgPSBudWxsO1xuICAgIHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0ID0gbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy5sYXN0RWZmZWN0ID0gbnVsbDtcblxuICAgIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgICAvLyBXZSBpbnRlbnRpb25hbGx5IHJlc2V0LCByYXRoZXIgdGhhbiBjb3B5LCBhY3R1YWxEdXJhdGlvbiAmIGFjdHVhbFN0YXJ0VGltZS5cbiAgICAgIC8vIFRoaXMgcHJldmVudHMgdGltZSBmcm9tIGVuZGxlc3NseSBhY2N1bXVsYXRpbmcgaW4gbmV3IGNvbW1pdHMuXG4gICAgICAvLyBUaGlzIGhhcyB0aGUgZG93bnNpZGUgb2YgcmVzZXR0aW5nIHZhbHVlcyBmb3IgZGlmZmVyZW50IHByaW9yaXR5IHJlbmRlcnMsXG4gICAgICAvLyBCdXQgd29ya3MgZm9yIHlpZWxkaW5nICh0aGUgY29tbW9uIGNhc2UpIGFuZCBzaG91bGQgc3VwcG9ydCByZXN1bWluZy5cbiAgICAgIHdvcmtJblByb2dyZXNzLmFjdHVhbER1cmF0aW9uID0gMDtcbiAgICAgIHdvcmtJblByb2dyZXNzLmFjdHVhbFN0YXJ0VGltZSA9IDA7XG4gICAgfVxuICB9XG5cbiAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcblxuICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQ7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZTtcblxuICAvLyBUaGVzZSB3aWxsIGJlIG92ZXJyaWRkZW4gZHVyaW5nIHRoZSBwYXJlbnQncyByZWNvbmNpbGlhdGlvblxuICB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nID0gY3VycmVudC5zaWJsaW5nO1xuICB3b3JrSW5Qcm9ncmVzcy5pbmRleCA9IGN1cnJlbnQuaW5kZXg7XG4gIHdvcmtJblByb2dyZXNzLnJlZiA9IGN1cnJlbnQucmVmO1xuXG4gIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgd29ya0luUHJvZ3Jlc3Muc2VsZkJhc2VUaW1lID0gY3VycmVudC5zZWxmQmFzZVRpbWU7XG4gICAgd29ya0luUHJvZ3Jlc3MudHJlZUJhc2VUaW1lID0gY3VycmVudC50cmVlQmFzZVRpbWU7XG4gIH1cblxuICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhvc3RSb290RmliZXIoaXNBc3luYykge1xuICB2YXIgbW9kZSA9IGlzQXN5bmMgPyBBc3luY01vZGUgfCBTdHJpY3RNb2RlIDogTm9Db250ZXh0O1xuICByZXR1cm4gY3JlYXRlRmliZXIoSG9zdFJvb3QsIG51bGwsIG51bGwsIG1vZGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBvd25lciA9IG51bGw7XG4gIHtcbiAgICBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICB9XG5cbiAgdmFyIGZpYmVyID0gdm9pZCAwO1xuICB2YXIgdHlwZSA9IGVsZW1lbnQudHlwZTtcbiAgdmFyIGtleSA9IGVsZW1lbnQua2V5O1xuICB2YXIgcGVuZGluZ1Byb3BzID0gZWxlbWVudC5wcm9wcztcblxuICB2YXIgZmliZXJUYWcgPSB2b2lkIDA7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZpYmVyVGFnID0gc2hvdWxkQ29uc3RydWN0KHR5cGUpID8gQ2xhc3NDb21wb25lbnQgOiBJbmRldGVybWluYXRlQ29tcG9uZW50O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIGZpYmVyVGFnID0gSG9zdENvbXBvbmVudDtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KHBlbmRpbmdQcm9wcy5jaGlsZHJlbiwgbW9kZSwgZXhwaXJhdGlvblRpbWUsIGtleSk7XG4gICAgICBjYXNlIFJFQUNUX0FTWU5DX01PREVfVFlQRTpcbiAgICAgICAgZmliZXJUYWcgPSBNb2RlO1xuICAgICAgICBtb2RlIHw9IEFzeW5jTW9kZSB8IFN0cmljdE1vZGU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICBmaWJlclRhZyA9IE1vZGU7XG4gICAgICAgIG1vZGUgfD0gU3RyaWN0TW9kZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgIHJldHVybiBjcmVhdGVGaWJlckZyb21Qcm9maWxlcihwZW5kaW5nUHJvcHMsIG1vZGUsIGV4cGlyYXRpb25UaW1lLCBrZXkpO1xuICAgICAgY2FzZSBSRUFDVF9USU1FT1VUX1RZUEU6XG4gICAgICAgIGZpYmVyVGFnID0gVGltZW91dENvbXBvbmVudDtcbiAgICAgICAgLy8gU3VzcGVuc2UgZG9lcyBub3QgcmVxdWlyZSBhc3luYywgYnV0IGl0cyBjaGlsZHJlbiBzaG91bGQgYmUgc3RyaWN0XG4gICAgICAgIC8vIG1vZGUgY29tcGF0aWJsZS5cbiAgICAgICAgbW9kZSB8PSBTdHJpY3RNb2RlO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGZpYmVyVGFnID0gZ2V0RmliZXJUYWdGcm9tT2JqZWN0VHlwZSh0eXBlLCBvd25lcik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGZpYmVyID0gY3JlYXRlRmliZXIoZmliZXJUYWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbiAgZmliZXIudHlwZSA9IHR5cGU7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG5cbiAge1xuICAgIGZpYmVyLl9kZWJ1Z1NvdXJjZSA9IGVsZW1lbnQuX3NvdXJjZTtcbiAgICBmaWJlci5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICB9XG5cbiAgcmV0dXJuIGZpYmVyO1xufVxuXG5mdW5jdGlvbiBnZXRGaWJlclRhZ0Zyb21PYmplY3RUeXBlKHR5cGUsIG93bmVyKSB7XG4gIHZhciAkJHR5cGVvZiA9IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsID8gdHlwZS4kJHR5cGVvZiA6IG51bGw7XG5cbiAgc3dpdGNoICgkJHR5cGVvZikge1xuICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgIHJldHVybiBDb250ZXh0UHJvdmlkZXI7XG4gICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAvLyBUaGlzIGlzIGEgY29uc3VtZXJcbiAgICAgIHJldHVybiBDb250ZXh0Q29uc3VtZXI7XG4gICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgcmV0dXJuIEZvcndhcmRSZWY7XG4gICAgZGVmYXVsdDpcbiAgICAgIHtcbiAgICAgICAgdmFyIGluZm8gPSAnJztcbiAgICAgICAge1xuICAgICAgICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgT2JqZWN0LmtleXModHlwZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBpbmZvICs9ICcgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgJyArIFwiaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBcIiArICduYW1lZCBpbXBvcnRzLic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBvd25lck5hbWUgPSBvd25lciA/IGdldENvbXBvbmVudE5hbWUob3duZXIpIDogbnVsbDtcbiAgICAgICAgICBpZiAob3duZXJOYW1lKSB7XG4gICAgICAgICAgICBpbmZvICs9ICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG93bmVyTmFtZSArICdgLic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ0VsZW1lbnQgdHlwZSBpcyBpbnZhbGlkOiBleHBlY3RlZCBhIHN0cmluZyAoZm9yIGJ1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXMnLCB0eXBlID09IG51bGwgPyB0eXBlIDogdHlwZW9mIHR5cGUsIGluZm8pO1xuICAgICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGVsZW1lbnRzLCBtb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KSB7XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKEZyYWdtZW50LCBlbGVtZW50cywga2V5LCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgcmV0dXJuIGZpYmVyO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21Qcm9maWxlcihwZW5kaW5nUHJvcHMsIG1vZGUsIGV4cGlyYXRpb25UaW1lLCBrZXkpIHtcbiAge1xuICAgIGlmICh0eXBlb2YgcGVuZGluZ1Byb3BzLmlkICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgcGVuZGluZ1Byb3BzLm9uUmVuZGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdQcm9maWxlciBtdXN0IHNwZWNpZnkgYW4gXCJpZFwiIHN0cmluZyBhbmQgXCJvblJlbmRlclwiIGZ1bmN0aW9uIGFzIHByb3BzJyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoUHJvZmlsZXIsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlIHwgUHJvZmlsZU1vZGUpO1xuICBmaWJlci50eXBlID0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcblxuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVRleHQoY29udGVudCwgbW9kZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdFRleHQsIGNvbnRlbnQsIG51bGwsIG1vZGUpO1xuICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUhvc3RJbnN0YW5jZUZvckRlbGV0aW9uKCkge1xuICB2YXIgZmliZXIgPSBjcmVhdGVGaWJlcihIb3N0Q29tcG9uZW50LCBudWxsLCBudWxsLCBOb0NvbnRleHQpO1xuICBmaWJlci50eXBlID0gJ0RFTEVURUQnO1xuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBwZW5kaW5nUHJvcHMgPSBwb3J0YWwuY2hpbGRyZW4gIT09IG51bGwgPyBwb3J0YWwuY2hpbGRyZW4gOiBbXTtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdFBvcnRhbCwgcGVuZGluZ1Byb3BzLCBwb3J0YWwua2V5LCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgZmliZXIuc3RhdGVOb2RlID0ge1xuICAgIGNvbnRhaW5lckluZm86IHBvcnRhbC5jb250YWluZXJJbmZvLFxuICAgIHBlbmRpbmdDaGlsZHJlbjogbnVsbCwgLy8gVXNlZCBieSBwZXJzaXN0ZW50IHVwZGF0ZXNcbiAgICBpbXBsZW1lbnRhdGlvbjogcG9ydGFsLmltcGxlbWVudGF0aW9uXG4gIH07XG4gIHJldHVybiBmaWJlcjtcbn1cblxuLy8gVXNlZCBmb3Igc3Rhc2hpbmcgV0lQIHByb3BlcnRpZXMgdG8gcmVwbGF5IGZhaWxlZCB3b3JrIGluIERFVi5cbmZ1bmN0aW9uIGFzc2lnbkZpYmVyUHJvcGVydGllc0luREVWKHRhcmdldCwgc291cmNlKSB7XG4gIGlmICh0YXJnZXQgPT09IG51bGwpIHtcbiAgICAvLyBUaGlzIEZpYmVyJ3MgaW5pdGlhbCBwcm9wZXJ0aWVzIHdpbGwgYWx3YXlzIGJlIG92ZXJ3cml0dGVuLlxuICAgIC8vIFdlIG9ubHkgdXNlIGEgRmliZXIgdG8gZW5zdXJlIHRoZSBzYW1lIGhpZGRlbiBjbGFzcyBzbyBERVYgaXNuJ3Qgc2xvdy5cbiAgICB0YXJnZXQgPSBjcmVhdGVGaWJlcihJbmRldGVybWluYXRlQ29tcG9uZW50LCBudWxsLCBudWxsLCBOb0NvbnRleHQpO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IHdyaXR0ZW4gYXMgYSBsaXN0IG9mIGFsbCBwcm9wZXJ0aWVzLlxuICAvLyBXZSB0cmllZCB0byB1c2UgT2JqZWN0LmFzc2lnbigpIGluc3RlYWQgYnV0IHRoaXMgaXMgY2FsbGVkIGluXG4gIC8vIHRoZSBob3R0ZXN0IHBhdGgsIGFuZCBPYmplY3QuYXNzaWduKCkgd2FzIHRvbyBzbG93OlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEyNTAyXG4gIC8vIFRoaXMgY29kZSBpcyBERVYtb25seSBzbyBzaXplIGlzIG5vdCBhIGNvbmNlcm4uXG5cbiAgdGFyZ2V0LnRhZyA9IHNvdXJjZS50YWc7XG4gIHRhcmdldC5rZXkgPSBzb3VyY2Uua2V5O1xuICB0YXJnZXQudHlwZSA9IHNvdXJjZS50eXBlO1xuICB0YXJnZXQuc3RhdGVOb2RlID0gc291cmNlLnN0YXRlTm9kZTtcbiAgdGFyZ2V0LnJldHVybiA9IHNvdXJjZS5yZXR1cm47XG4gIHRhcmdldC5jaGlsZCA9IHNvdXJjZS5jaGlsZDtcbiAgdGFyZ2V0LnNpYmxpbmcgPSBzb3VyY2Uuc2libGluZztcbiAgdGFyZ2V0LmluZGV4ID0gc291cmNlLmluZGV4O1xuICB0YXJnZXQucmVmID0gc291cmNlLnJlZjtcbiAgdGFyZ2V0LnBlbmRpbmdQcm9wcyA9IHNvdXJjZS5wZW5kaW5nUHJvcHM7XG4gIHRhcmdldC5tZW1vaXplZFByb3BzID0gc291cmNlLm1lbW9pemVkUHJvcHM7XG4gIHRhcmdldC51cGRhdGVRdWV1ZSA9IHNvdXJjZS51cGRhdGVRdWV1ZTtcbiAgdGFyZ2V0Lm1lbW9pemVkU3RhdGUgPSBzb3VyY2UubWVtb2l6ZWRTdGF0ZTtcbiAgdGFyZ2V0Lm1vZGUgPSBzb3VyY2UubW9kZTtcbiAgdGFyZ2V0LmVmZmVjdFRhZyA9IHNvdXJjZS5lZmZlY3RUYWc7XG4gIHRhcmdldC5uZXh0RWZmZWN0ID0gc291cmNlLm5leHRFZmZlY3Q7XG4gIHRhcmdldC5maXJzdEVmZmVjdCA9IHNvdXJjZS5maXJzdEVmZmVjdDtcbiAgdGFyZ2V0Lmxhc3RFZmZlY3QgPSBzb3VyY2UubGFzdEVmZmVjdDtcbiAgdGFyZ2V0LmV4cGlyYXRpb25UaW1lID0gc291cmNlLmV4cGlyYXRpb25UaW1lO1xuICB0YXJnZXQuYWx0ZXJuYXRlID0gc291cmNlLmFsdGVybmF0ZTtcbiAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICB0YXJnZXQuYWN0dWFsRHVyYXRpb24gPSBzb3VyY2UuYWN0dWFsRHVyYXRpb247XG4gICAgdGFyZ2V0LmFjdHVhbFN0YXJ0VGltZSA9IHNvdXJjZS5hY3R1YWxTdGFydFRpbWU7XG4gICAgdGFyZ2V0LnNlbGZCYXNlVGltZSA9IHNvdXJjZS5zZWxmQmFzZVRpbWU7XG4gICAgdGFyZ2V0LnRyZWVCYXNlVGltZSA9IHNvdXJjZS50cmVlQmFzZVRpbWU7XG4gIH1cbiAgdGFyZ2V0Ll9kZWJ1Z0lEID0gc291cmNlLl9kZWJ1Z0lEO1xuICB0YXJnZXQuX2RlYnVnU291cmNlID0gc291cmNlLl9kZWJ1Z1NvdXJjZTtcbiAgdGFyZ2V0Ll9kZWJ1Z093bmVyID0gc291cmNlLl9kZWJ1Z093bmVyO1xuICB0YXJnZXQuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBzb3VyY2UuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmc7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGxpZnRlZCBpbnRvIHRoZSByZW5kZXJlci5cblxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlclJvb3QoY29udGFpbmVySW5mbywgaXNBc3luYywgaHlkcmF0ZSkge1xuICAvLyBDeWNsaWMgY29uc3RydWN0aW9uLiBUaGlzIGNoZWF0cyB0aGUgdHlwZSBzeXN0ZW0gcmlnaHQgbm93IGJlY2F1c2VcbiAgLy8gc3RhdGVOb2RlIGlzIGFueS5cbiAgdmFyIHVuaW5pdGlhbGl6ZWRGaWJlciA9IGNyZWF0ZUhvc3RSb290RmliZXIoaXNBc3luYyk7XG4gIHZhciByb290ID0ge1xuICAgIGN1cnJlbnQ6IHVuaW5pdGlhbGl6ZWRGaWJlcixcbiAgICBjb250YWluZXJJbmZvOiBjb250YWluZXJJbmZvLFxuICAgIHBlbmRpbmdDaGlsZHJlbjogbnVsbCxcblxuICAgIGVhcmxpZXN0UGVuZGluZ1RpbWU6IE5vV29yayxcbiAgICBsYXRlc3RQZW5kaW5nVGltZTogTm9Xb3JrLFxuICAgIGVhcmxpZXN0U3VzcGVuZGVkVGltZTogTm9Xb3JrLFxuICAgIGxhdGVzdFN1c3BlbmRlZFRpbWU6IE5vV29yayxcbiAgICBsYXRlc3RQaW5nZWRUaW1lOiBOb1dvcmssXG5cbiAgICBwZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWU6IE5vV29yayxcbiAgICBmaW5pc2hlZFdvcms6IG51bGwsXG4gICAgY29udGV4dDogbnVsbCxcbiAgICBwZW5kaW5nQ29udGV4dDogbnVsbCxcbiAgICBoeWRyYXRlOiBoeWRyYXRlLFxuICAgIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lOiBOb1dvcmssXG4gICAgZmlyc3RCYXRjaDogbnVsbCxcbiAgICBuZXh0U2NoZWR1bGVkUm9vdDogbnVsbFxuICB9O1xuICB1bmluaXRpYWxpemVkRmliZXIuc3RhdGVOb2RlID0gcm9vdDtcbiAgcmV0dXJuIHJvb3Q7XG59XG5cbnZhciBvbkNvbW1pdEZpYmVyUm9vdCA9IG51bGw7XG52YXIgb25Db21taXRGaWJlclVubW91bnQgPSBudWxsO1xudmFyIGhhc0xvZ2dlZEVycm9yID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGNhdGNoRXJyb3JzKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihhcmcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHRydWUgJiYgIWhhc0xvZ2dlZEVycm9yKSB7XG4gICAgICAgIGhhc0xvZ2dlZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0IERldlRvb2xzIGVuY291bnRlcmVkIGFuIGVycm9yOiAlcycsIGVycik7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbmplY3RJbnRlcm5hbHMoaW50ZXJuYWxzKSB7XG4gIGlmICh0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE5vIERldlRvb2xzXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBob29rID0gX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xuICBpZiAoaG9vay5pc0Rpc2FibGVkKSB7XG4gICAgLy8gVGhpcyBpc24ndCBhIHJlYWwgcHJvcGVydHkgb24gdGhlIGhvb2ssIGJ1dCBpdCBjYW4gYmUgc2V0IHRvIG9wdCBvdXRcbiAgICAvLyBvZiBEZXZUb29scyBpbnRlZ3JhdGlvbiBhbmQgYXNzb2NpYXRlZCB3YXJuaW5ncyBhbmQgbG9ncy5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzM4NzdcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIWhvb2suc3VwcG9ydHNGaWJlcikge1xuICAgIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgaW5zdGFsbGVkIHZlcnNpb24gb2YgUmVhY3QgRGV2VG9vbHMgaXMgdG9vIG9sZCBhbmQgd2lsbCBub3Qgd29yayAnICsgJ3dpdGggdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBSZWFjdC4gUGxlYXNlIHVwZGF0ZSBSZWFjdCBEZXZUb29scy4gJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWRldnRvb2xzJyk7XG4gICAgfVxuICAgIC8vIERldlRvb2xzIGV4aXN0cywgZXZlbiB0aG91Z2ggaXQgZG9lc24ndCBzdXBwb3J0IEZpYmVyLlxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIHJlbmRlcmVySUQgPSBob29rLmluamVjdChpbnRlcm5hbHMpO1xuICAgIC8vIFdlIGhhdmUgc3VjY2Vzc2Z1bGx5IGluamVjdGVkLCBzbyBub3cgaXQgaXMgc2FmZSB0byBzZXQgdXAgaG9va3MuXG4gICAgb25Db21taXRGaWJlclJvb3QgPSBjYXRjaEVycm9ycyhmdW5jdGlvbiAocm9vdCkge1xuICAgICAgcmV0dXJuIGhvb2sub25Db21taXRGaWJlclJvb3QocmVuZGVyZXJJRCwgcm9vdCk7XG4gICAgfSk7XG4gICAgb25Db21taXRGaWJlclVubW91bnQgPSBjYXRjaEVycm9ycyhmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgIHJldHVybiBob29rLm9uQ29tbWl0RmliZXJVbm1vdW50KHJlbmRlcmVySUQsIGZpYmVyKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gQ2F0Y2ggYWxsIGVycm9ycyBiZWNhdXNlIGl0IGlzIHVuc2FmZSB0byB0aHJvdyBkdXJpbmcgaW5pdGlhbGl6YXRpb24uXG4gICAge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0IERldlRvb2xzIGVuY291bnRlcmVkIGFuIGVycm9yOiAlcy4nLCBlcnIpO1xuICAgIH1cbiAgfVxuICAvLyBEZXZUb29scyBleGlzdHNcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIG9uQ29tbWl0Um9vdChyb290KSB7XG4gIGlmICh0eXBlb2Ygb25Db21taXRGaWJlclJvb3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvbkNvbW1pdEZpYmVyUm9vdChyb290KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkNvbW1pdFVubW91bnQoZmliZXIpIHtcbiAgaWYgKHR5cGVvZiBvbkNvbW1pdEZpYmVyVW5tb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9uQ29tbWl0RmliZXJVbm1vdW50KGZpYmVyKTtcbiAgfVxufVxuXG4vKipcbiAqIEZvcmtlZCBmcm9tIGZianMvd2FybmluZzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xuICpcbiAqIE9ubHkgY2hhbmdlIGlzIHdlIHVzZSBjb25zb2xlLndhcm4gaW5zdGVhZCBvZiBjb25zb2xlLmVycm9yLFxuICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cbiAqIFRoaXMgcmVhbGx5IHNpbXBsaWZpZXMgdGhlIGNvZGUuXG4gKiAtLS1cbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG5cbiAgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZyQxID0gbG93UHJpb3JpdHlXYXJuaW5nO1xuXG52YXIgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MgPSB7XG4gIGRpc2NhcmRQZW5kaW5nV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9LFxuICBmbHVzaFBlbmRpbmdEZXByZWNhdGlvbldhcm5pbmdzOiBmdW5jdGlvbiAoKSB7fSxcbiAgZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9LFxuICByZWNvcmREZXByZWNhdGlvbldhcm5pbmdzOiBmdW5jdGlvbiAoZmliZXIsIGluc3RhbmNlKSB7fSxcbiAgcmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uIChmaWJlciwgaW5zdGFuY2UpIHt9LFxuICByZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZzogZnVuY3Rpb24gKGZpYmVyLCBpbnN0YW5jZSkge30sXG4gIGZsdXNoTGVnYWN5Q29udGV4dFdhcm5pbmc6IGZ1bmN0aW9uICgpIHt9XG59O1xuXG57XG4gIHZhciBMSUZFQ1lDTEVfU1VHR0VTVElPTlMgPSB7XG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudDogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogJ3N0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMnLFxuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlOiAnY29tcG9uZW50RGlkVXBkYXRlJ1xuICB9O1xuXG4gIHZhciBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IG5ldyBNYXAoKTtcbiAgdmFyIHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZyA9IG5ldyBNYXAoKTtcblxuICAvLyBUcmFja3MgY29tcG9uZW50cyB3ZSBoYXZlIGFscmVhZHkgd2FybmVkIGFib3V0LlxuICB2YXIgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMgPSBuZXcgU2V0KCk7XG4gIHZhciBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzID0gbmV3IFNldCgpO1xuICB2YXIgZGlkV2FybkFib3V0TGVnYWN5Q29udGV4dCA9IG5ldyBTZXQoKTtcblxuICB2YXIgc2V0VG9Tb3J0ZWRTdHJpbmcgPSBmdW5jdGlvbiAoc2V0KSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBhcnJheS5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXJyYXkuc29ydCgpLmpvaW4oJywgJyk7XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZGlzY2FyZFBlbmRpbmdXYXJuaW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdO1xuICAgIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IG5ldyBNYXAoKTtcbiAgICBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcgPSBuZXcgTWFwKCk7XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGxpZmVjeWNsZVdhcm5pbmdzTWFwLCBzdHJpY3RSb290KSB7XG4gICAgICB2YXIgbGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzID0gW107XG5cbiAgICAgIE9iamVjdC5rZXlzKGxpZmVjeWNsZVdhcm5pbmdzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChsaWZlY3ljbGUpIHtcbiAgICAgICAgdmFyIGxpZmVjeWNsZVdhcm5pbmdzID0gbGlmZWN5Y2xlV2FybmluZ3NNYXBbbGlmZWN5Y2xlXTtcbiAgICAgICAgaWYgKGxpZmVjeWNsZVdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgY29tcG9uZW50TmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgbGlmZWN5Y2xlV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnQ29tcG9uZW50Jyk7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBmb3JtYXR0ZWQgPSBsaWZlY3ljbGUucmVwbGFjZSgnVU5TQUZFXycsICcnKTtcbiAgICAgICAgICB2YXIgc3VnZ2VzdGlvbiA9IExJRkVDWUNMRV9TVUdHRVNUSU9OU1tsaWZlY3ljbGVdO1xuICAgICAgICAgIHZhciBzb3J0ZWRDb21wb25lbnROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKGNvbXBvbmVudE5hbWVzKTtcblxuICAgICAgICAgIGxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcy5wdXNoKGZvcm1hdHRlZCArICc6IFBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzIHRvIHVzZSAnICsgKHN1Z2dlc3Rpb24gKyAnIGluc3RlYWQ6ICcgKyBzb3J0ZWRDb21wb25lbnROYW1lcykpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBzdHJpY3RSb290Q29tcG9uZW50U3RhY2sgPSBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHN0cmljdFJvb3QpO1xuXG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdVbnNhZmUgbGlmZWN5Y2xlIG1ldGhvZHMgd2VyZSBmb3VuZCB3aXRoaW4gYSBzdHJpY3QtbW9kZSB0cmVlOiVzJyArICdcXG5cXG4lcycgKyAnXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTonICsgJ1xcbmh0dHBzOi8vZmIubWUvcmVhY3Qtc3RyaWN0LW1vZGUtd2FybmluZ3MnLCBzdHJpY3RSb290Q29tcG9uZW50U3RhY2ssIGxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcy5qb2luKCdcXG5cXG4nKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBuZXcgTWFwKCk7XG4gIH07XG5cbiAgdmFyIGZpbmRTdHJpY3RSb290ID0gZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgdmFyIG1heWJlU3RyaWN0Um9vdCA9IG51bGw7XG5cbiAgICB2YXIgbm9kZSA9IGZpYmVyO1xuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICBtYXliZVN0cmljdFJvb3QgPSBub2RlO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBtYXliZVN0cmljdFJvb3Q7XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciB1bmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICB1bmlxdWVOYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ0NvbXBvbmVudCcpO1xuICAgICAgICBkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcodW5pcXVlTmFtZXMpO1xuXG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ2NvbXBvbmVudFdpbGxNb3VudCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gJyArICdVc2UgY29tcG9uZW50RGlkTW91bnQgaW5zdGVhZC4gQXMgYSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZCwgJyArICd5b3UgY2FuIHJlbmFtZSB0byBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50LicgKyAnXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzJyArICdcXG5cXG5MZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOicgKyAnXFxuaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzJywgc29ydGVkTmFtZXMpO1xuXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAocGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgX3VuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICBfdW5pcXVlTmFtZXMuYWRkKGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBfc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhfdW5pcXVlTmFtZXMpO1xuXG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uICcgKyAnVXNlIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgaW5zdGVhZC4nICsgJ1xcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlcycgKyAnXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTonICsgJ1xcbmh0dHBzOi8vZmIubWUvcmVhY3QtYXN5bmMtY29tcG9uZW50LWxpZmVjeWNsZS1ob29rcycsIF9zb3J0ZWROYW1lcyk7XG5cbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAocGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgX3VuaXF1ZU5hbWVzMiA9IG5ldyBTZXQoKTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgX3VuaXF1ZU5hbWVzMi5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ0NvbXBvbmVudCcpO1xuICAgICAgICBkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIF9zb3J0ZWROYW1lczIgPSBzZXRUb1NvcnRlZFN0cmluZyhfdW5pcXVlTmFtZXMyKTtcblxuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICdjb21wb25lbnRXaWxsVXBkYXRlIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiAnICsgJ1VzZSBjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4gQXMgYSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZCwgJyArICd5b3UgY2FuIHJlbmFtZSB0byBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZS4nICsgJ1xcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlcycgKyAnXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTonICsgJ1xcbmh0dHBzOi8vZmIubWUvcmVhY3QtYXN5bmMtY29tcG9uZW50LWxpZmVjeWNsZS1ob29rcycsIF9zb3J0ZWROYW1lczIpO1xuXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgfVxuICB9O1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZERlcHJlY2F0aW9uV2FybmluZ3MgPSBmdW5jdGlvbiAoZmliZXIsIGluc3RhbmNlKSB7XG4gICAgLy8gRGVkdXAgc3RyYXRlZ3k6IFdhcm4gb25jZSBwZXIgY29tcG9uZW50LlxuICAgIGlmIChkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcy5oYXMoZmliZXIudHlwZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEb24ndCB3YXJuIGFib3V0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cy5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgfTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IGZ1bmN0aW9uIChmaWJlciwgaW5zdGFuY2UpIHtcbiAgICB2YXIgc3RyaWN0Um9vdCA9IGZpbmRTdHJpY3RSb290KGZpYmVyKTtcbiAgICBpZiAoc3RyaWN0Um9vdCA9PT0gbnVsbCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0V4cGVjdGVkIHRvIGZpbmQgYSBTdHJpY3RNb2RlIGNvbXBvbmVudCBpbiBhIHN0cmljdCBtb2RlIHRyZWUuICcgKyAnVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZWR1cCBzdHJhdGVneTogV2FybiBvbmNlIHBlciBjb21wb25lbnQuXG4gICAgLy8gVGhpcyBpcyBkaWZmaWN1bHQgdG8gdHJhY2sgYW55IG90aGVyIHdheSBzaW5jZSBjb21wb25lbnQgbmFtZXNcbiAgICAvLyBhcmUgb2Z0ZW4gdmFndWUgYW5kIGFyZSBsaWtlbHkgdG8gY29sbGlkZSBiZXR3ZWVuIDNyZCBwYXJ0eSBsaWJyYXJpZXMuXG4gICAgLy8gQW4gZXhwYW5kIHByb3BlcnR5IGlzIHByb2JhYmx5IG9rYXkgdG8gdXNlIGhlcmUgc2luY2UgaXQncyBERVYtb25seSxcbiAgICAvLyBhbmQgd2lsbCBvbmx5IGJlIHNldCBpbiB0aGUgZXZlbnQgb2Ygc2VyaW91cyB3YXJuaW5ncy5cbiAgICBpZiAoZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5oYXMoZmliZXIudHlwZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2FybmluZ3NGb3JSb290ID0gdm9pZCAwO1xuICAgIGlmICghcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLmhhcyhzdHJpY3RSb290KSkge1xuICAgICAgd2FybmluZ3NGb3JSb290ID0ge1xuICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50OiBbXSxcbiAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IFtdLFxuICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZTogW11cbiAgICAgIH07XG5cbiAgICAgIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncy5zZXQoc3RyaWN0Um9vdCwgd2FybmluZ3NGb3JSb290KTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZ3NGb3JSb290ID0gcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLmdldChzdHJpY3RSb290KTtcbiAgICB9XG5cbiAgICB2YXIgdW5zYWZlTGlmZWN5Y2xlcyA9IFtdO1xuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudC5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlIHx8IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB1bnNhZmVMaWZlY3ljbGVzLnB1c2goJ1VOU0FGRV9jb21wb25lbnRXaWxsTW91bnQnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSB8fCB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHVuc2FmZUxpZmVjeWNsZXMucHVzaCgnVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSB8fCB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHVuc2FmZUxpZmVjeWNsZXMucHVzaCgnVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcbiAgICB9XG5cbiAgICBpZiAodW5zYWZlTGlmZWN5Y2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICB1bnNhZmVMaWZlY3ljbGVzLmZvckVhY2goZnVuY3Rpb24gKGxpZmVjeWNsZSkge1xuICAgICAgICB3YXJuaW5nc0ZvclJvb3RbbGlmZWN5Y2xlXS5wdXNoKGZpYmVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZyA9IGZ1bmN0aW9uIChmaWJlciwgaW5zdGFuY2UpIHtcbiAgICB2YXIgc3RyaWN0Um9vdCA9IGZpbmRTdHJpY3RSb290KGZpYmVyKTtcbiAgICBpZiAoc3RyaWN0Um9vdCA9PT0gbnVsbCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0V4cGVjdGVkIHRvIGZpbmQgYSBTdHJpY3RNb2RlIGNvbXBvbmVudCBpbiBhIHN0cmljdCBtb2RlIHRyZWUuICcgKyAnVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZWR1cCBzdHJhdGVneTogV2FybiBvbmNlIHBlciBjb21wb25lbnQuXG4gICAgaWYgKGRpZFdhcm5BYm91dExlZ2FjeUNvbnRleHQuaGFzKGZpYmVyLnR5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHdhcm5pbmdzRm9yUm9vdCA9IHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZy5nZXQoc3RyaWN0Um9vdCk7XG5cbiAgICBpZiAoZmliZXIudHlwZS5jb250ZXh0VHlwZXMgIT0gbnVsbCB8fCBmaWJlci50eXBlLmNoaWxkQ29udGV4dFR5cGVzICE9IG51bGwgfHwgaW5zdGFuY2UgIT09IG51bGwgJiYgdHlwZW9mIGluc3RhbmNlLmdldENoaWxkQ29udGV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKHdhcm5pbmdzRm9yUm9vdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHdhcm5pbmdzRm9yUm9vdCA9IFtdO1xuICAgICAgICBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcuc2V0KHN0cmljdFJvb3QsIHdhcm5pbmdzRm9yUm9vdCk7XG4gICAgICB9XG4gICAgICB3YXJuaW5nc0ZvclJvb3QucHVzaChmaWJlcik7XG4gICAgfVxuICB9O1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoTGVnYWN5Q29udGV4dFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyQXJyYXksIHN0cmljdFJvb3QpIHtcbiAgICAgIHZhciB1bmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIGZpYmVyQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgdW5pcXVlTmFtZXMuYWRkKGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0TGVnYWN5Q29udGV4dC5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcodW5pcXVlTmFtZXMpO1xuICAgICAgdmFyIHN0cmljdFJvb3RDb21wb25lbnRTdGFjayA9IGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoc3RyaWN0Um9vdCk7XG5cbiAgICAgIHdhcm5pbmcoZmFsc2UsICdMZWdhY3kgY29udGV4dCBBUEkgaGFzIGJlZW4gZGV0ZWN0ZWQgd2l0aGluIGEgc3RyaWN0LW1vZGUgdHJlZTogJXMnICsgJ1xcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlcycgKyAnXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTonICsgJ1xcbmh0dHBzOi8vZmIubWUvcmVhY3Qtc3RyaWN0LW1vZGUtd2FybmluZ3MnLCBzdHJpY3RSb290Q29tcG9uZW50U3RhY2ssIHNvcnRlZE5hbWVzKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gVGhpcyBsZXRzIHVzIGhvb2sgaW50byBGaWJlciB0byBkZWJ1ZyB3aGF0IGl0J3MgZG9pbmcuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvODAzMy5cbi8vIFRoaXMgaXMgbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBBUEksIG5vdCBldmVuIGZvciBSZWFjdCBEZXZUb29scy5cbi8vIFlvdSBtYXkgb25seSBpbmplY3QgYSBkZWJ1Z1Rvb2wgaWYgeW91IHdvcmsgb24gUmVhY3QgRmliZXIgaXRzZWxmLlxudmFyIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb24gPSB7XG4gIGRlYnVnVG9vbDogbnVsbFxufTtcblxudmFyIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMSA9IFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb247XG5cbi8vIFRPRE86IE9mZnNjcmVlbiB1cGRhdGVzXG5cbmZ1bmN0aW9uIG1hcmtQZW5kaW5nUHJpb3JpdHlMZXZlbChyb290LCBleHBpcmF0aW9uVGltZSkge1xuICBpZiAoZW5hYmxlU3VzcGVuc2UpIHtcbiAgICAvLyBVcGRhdGUgdGhlIGxhdGVzdCBhbmQgZWFybGllc3QgcGVuZGluZyB0aW1lc1xuICAgIHZhciBlYXJsaWVzdFBlbmRpbmdUaW1lID0gcm9vdC5lYXJsaWVzdFBlbmRpbmdUaW1lO1xuICAgIGlmIChlYXJsaWVzdFBlbmRpbmdUaW1lID09PSBOb1dvcmspIHtcbiAgICAgIC8vIE5vIG90aGVyIHBlbmRpbmcgdXBkYXRlcy5cbiAgICAgIHJvb3QuZWFybGllc3RQZW5kaW5nVGltZSA9IHJvb3QubGF0ZXN0UGVuZGluZ1RpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVhcmxpZXN0UGVuZGluZ1RpbWUgPiBleHBpcmF0aW9uVGltZSkge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBlYXJsaWVzdCBwZW5kaW5nIHVwZGF0ZS5cbiAgICAgICAgcm9vdC5lYXJsaWVzdFBlbmRpbmdUaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbGF0ZXN0UGVuZGluZ1RpbWUgPSByb290LmxhdGVzdFBlbmRpbmdUaW1lO1xuICAgICAgICBpZiAobGF0ZXN0UGVuZGluZ1RpbWUgPCBleHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGxhdGVzdCBwZW5kaW5nIHVwZGF0ZVxuICAgICAgICAgIHJvb3QubGF0ZXN0UGVuZGluZ1RpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtYXJrQ29tbWl0dGVkUHJpb3JpdHlMZXZlbHMocm9vdCwgY3VycmVudFRpbWUsIGVhcmxpZXN0UmVtYWluaW5nVGltZSkge1xuICBpZiAoZW5hYmxlU3VzcGVuc2UpIHtcbiAgICBpZiAoZWFybGllc3RSZW1haW5pbmdUaW1lID09PSBOb1dvcmspIHtcbiAgICAgIC8vIEZhc3QgcGF0aC4gVGhlcmUncyBubyByZW1haW5pbmcgd29yay4gQ2xlYXIgZXZlcnl0aGluZy5cbiAgICAgIHJvb3QuZWFybGllc3RQZW5kaW5nVGltZSA9IE5vV29yaztcbiAgICAgIHJvb3QubGF0ZXN0UGVuZGluZ1RpbWUgPSBOb1dvcms7XG4gICAgICByb290LmVhcmxpZXN0U3VzcGVuZGVkVGltZSA9IE5vV29yaztcbiAgICAgIHJvb3QubGF0ZXN0U3VzcGVuZGVkVGltZSA9IE5vV29yaztcbiAgICAgIHJvb3QubGF0ZXN0UGluZ2VkVGltZSA9IE5vV29yaztcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBMZXQncyBzZWUgaWYgdGhlIHByZXZpb3VzIGxhdGVzdCBrbm93biBwZW5kaW5nIGxldmVsIHdhcyBqdXN0IGZsdXNoZWQuXG4gICAgdmFyIGxhdGVzdFBlbmRpbmdUaW1lID0gcm9vdC5sYXRlc3RQZW5kaW5nVGltZTtcbiAgICBpZiAobGF0ZXN0UGVuZGluZ1RpbWUgIT09IE5vV29yaykge1xuICAgICAgaWYgKGxhdGVzdFBlbmRpbmdUaW1lIDwgZWFybGllc3RSZW1haW5pbmdUaW1lKSB7XG4gICAgICAgIC8vIFdlJ3ZlIGZsdXNoZWQgYWxsIHRoZSBrbm93biBwZW5kaW5nIGxldmVscy5cbiAgICAgICAgcm9vdC5lYXJsaWVzdFBlbmRpbmdUaW1lID0gcm9vdC5sYXRlc3RQZW5kaW5nVGltZSA9IE5vV29yaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBlYXJsaWVzdFBlbmRpbmdUaW1lID0gcm9vdC5lYXJsaWVzdFBlbmRpbmdUaW1lO1xuICAgICAgICBpZiAoZWFybGllc3RQZW5kaW5nVGltZSA8IGVhcmxpZXN0UmVtYWluaW5nVGltZSkge1xuICAgICAgICAgIC8vIFdlJ3ZlIGZsdXNoZWQgdGhlIGVhcmxpZXN0IGtub3duIHBlbmRpbmcgbGV2ZWwuIFNldCB0aGlzIHRvIHRoZVxuICAgICAgICAgIC8vIGxhdGVzdCBwZW5kaW5nIHRpbWUuXG4gICAgICAgICAgcm9vdC5lYXJsaWVzdFBlbmRpbmdUaW1lID0gcm9vdC5sYXRlc3RQZW5kaW5nVGltZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vdyBsZXQncyBoYW5kbGUgdGhlIGVhcmxpZXN0IHJlbWFpbmluZyBsZXZlbCBpbiB0aGUgd2hvbGUgdHJlZS4gV2UgbmVlZCB0b1xuICAgIC8vIGRlY2lkZSB3aGV0aGVyIHRvIHRyZWF0IGl0IGFzIGEgcGVuZGluZyBsZXZlbCBvciBhcyBzdXNwZW5kZWQuIENoZWNrXG4gICAgLy8gaXQgZmFsbHMgd2l0aGluIHRoZSByYW5nZSBvZiBrbm93biBzdXNwZW5kZWQgbGV2ZWxzLlxuXG4gICAgdmFyIGVhcmxpZXN0U3VzcGVuZGVkVGltZSA9IHJvb3QuZWFybGllc3RTdXNwZW5kZWRUaW1lO1xuICAgIGlmIChlYXJsaWVzdFN1c3BlbmRlZFRpbWUgPT09IE5vV29yaykge1xuICAgICAgLy8gVGhlcmUncyBubyBzdXNwZW5kZWQgd29yay4gVHJlYXQgdGhlIGVhcmxpZXN0IHJlbWFpbmluZyBsZXZlbCBhcyBhXG4gICAgICAvLyBwZW5kaW5nIGxldmVsLlxuICAgICAgbWFya1BlbmRpbmdQcmlvcml0eUxldmVsKHJvb3QsIGVhcmxpZXN0UmVtYWluaW5nVGltZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxhdGVzdFN1c3BlbmRlZFRpbWUgPSByb290LmxhdGVzdFN1c3BlbmRlZFRpbWU7XG4gICAgaWYgKGVhcmxpZXN0UmVtYWluaW5nVGltZSA+IGxhdGVzdFN1c3BlbmRlZFRpbWUpIHtcbiAgICAgIC8vIFRoZSBlYXJsaWVzdCByZW1haW5pbmcgbGV2ZWwgaXMgbGF0ZXIgdGhhbiBhbGwgdGhlIHN1c3BlbmRlZCB3b3JrLiBUaGF0XG4gICAgICAvLyBtZWFucyB3ZSd2ZSBmbHVzaGVkIGFsbCB0aGUgc3VzcGVuZGVkIHdvcmsuXG4gICAgICByb290LmVhcmxpZXN0U3VzcGVuZGVkVGltZSA9IE5vV29yaztcbiAgICAgIHJvb3QubGF0ZXN0U3VzcGVuZGVkVGltZSA9IE5vV29yaztcbiAgICAgIHJvb3QubGF0ZXN0UGluZ2VkVGltZSA9IE5vV29yaztcblxuICAgICAgLy8gVGhlcmUncyBubyBzdXNwZW5kZWQgd29yay4gVHJlYXQgdGhlIGVhcmxpZXN0IHJlbWFpbmluZyBsZXZlbCBhcyBhXG4gICAgICAvLyBwZW5kaW5nIGxldmVsLlxuICAgICAgbWFya1BlbmRpbmdQcmlvcml0eUxldmVsKHJvb3QsIGVhcmxpZXN0UmVtYWluaW5nVGltZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVhcmxpZXN0UmVtYWluaW5nVGltZSA8IGVhcmxpZXN0U3VzcGVuZGVkVGltZSkge1xuICAgICAgLy8gVGhlIGVhcmxpZXN0IHJlbWFpbmluZyB0aW1lIGlzIGVhcmxpZXIgdGhhbiBhbGwgdGhlIHN1c3BlbmRlZCB3b3JrLlxuICAgICAgLy8gVHJlYXQgaXQgYXMgYSBwZW5kaW5nIHVwZGF0ZS5cbiAgICAgIG1hcmtQZW5kaW5nUHJpb3JpdHlMZXZlbChyb290LCBlYXJsaWVzdFJlbWFpbmluZ1RpbWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRoZSBlYXJsaWVzdCByZW1haW5pbmcgdGltZSBmYWxscyB3aXRoaW4gdGhlIHJhbmdlIG9mIGtub3duIHN1c3BlbmRlZFxuICAgIC8vIGxldmVscy4gV2Ugc2hvdWxkIHRyZWF0IHRoaXMgYXMgc3VzcGVuZGVkIHdvcmsuXG4gIH1cbn1cblxuZnVuY3Rpb24gbWFya1N1c3BlbmRlZFByaW9yaXR5TGV2ZWwocm9vdCwgc3VzcGVuZGVkVGltZSkge1xuICBpZiAoZW5hYmxlU3VzcGVuc2UpIHtcbiAgICAvLyBGaXJzdCwgY2hlY2sgdGhlIGtub3duIHBlbmRpbmcgbGV2ZWxzIGFuZCB1cGRhdGUgdGhlbSBpZiBuZWVkZWQuXG4gICAgdmFyIGVhcmxpZXN0UGVuZGluZ1RpbWUgPSByb290LmVhcmxpZXN0UGVuZGluZ1RpbWU7XG4gICAgdmFyIGxhdGVzdFBlbmRpbmdUaW1lID0gcm9vdC5sYXRlc3RQZW5kaW5nVGltZTtcbiAgICBpZiAoZWFybGllc3RQZW5kaW5nVGltZSA9PT0gc3VzcGVuZGVkVGltZSkge1xuICAgICAgaWYgKGxhdGVzdFBlbmRpbmdUaW1lID09PSBzdXNwZW5kZWRUaW1lKSB7XG4gICAgICAgIC8vIEJvdGgga25vd24gcGVuZGluZyBsZXZlbHMgd2VyZSBzdXNwZW5kZWQuIENsZWFyIHRoZW0uXG4gICAgICAgIHJvb3QuZWFybGllc3RQZW5kaW5nVGltZSA9IHJvb3QubGF0ZXN0UGVuZGluZ1RpbWUgPSBOb1dvcms7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGUgZWFybGllc3QgcGVuZGluZyBsZXZlbCB3YXMgc3VzcGVuZGVkLiBDbGVhciBieSBzZXR0aW5nIGl0IHRvIHRoZVxuICAgICAgICAvLyBsYXRlc3QgcGVuZGluZyBsZXZlbC5cbiAgICAgICAgcm9vdC5lYXJsaWVzdFBlbmRpbmdUaW1lID0gbGF0ZXN0UGVuZGluZ1RpbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsYXRlc3RQZW5kaW5nVGltZSA9PT0gc3VzcGVuZGVkVGltZSkge1xuICAgICAgLy8gVGhlIGxhdGVzdCBwZW5kaW5nIGxldmVsIHdhcyBzdXNwZW5kZWQuIENsZWFyIGJ5IHNldHRpbmcgaXQgdG8gdGhlXG4gICAgICAvLyBsYXRlc3QgcGVuZGluZyBsZXZlbC5cbiAgICAgIHJvb3QubGF0ZXN0UGVuZGluZ1RpbWUgPSBlYXJsaWVzdFBlbmRpbmdUaW1lO1xuICAgIH1cblxuICAgIC8vIE5leHQsIGlmIHdlJ3JlIHdvcmtpbmcgb24gdGhlIGxvd2VzdCBrbm93biBzdXNwZW5kZWQgbGV2ZWwsIGNsZWFyIHRoZSBwaW5nLlxuICAgIC8vIFRPRE86IFdoYXQgaWYgYSBwcm9taXNlIHN1c3BlbmRzIGFuZCBwaW5ncyBiZWZvcmUgdGhlIHJvb3QgY29tcGxldGVzP1xuICAgIHZhciBsYXRlc3RTdXNwZW5kZWRUaW1lID0gcm9vdC5sYXRlc3RTdXNwZW5kZWRUaW1lO1xuICAgIGlmIChsYXRlc3RTdXNwZW5kZWRUaW1lID09PSBzdXNwZW5kZWRUaW1lKSB7XG4gICAgICByb290LmxhdGVzdFBpbmdlZFRpbWUgPSBOb1dvcms7XG4gICAgfVxuXG4gICAgLy8gRmluYWxseSwgdXBkYXRlIHRoZSBrbm93biBzdXNwZW5kZWQgbGV2ZWxzLlxuICAgIHZhciBlYXJsaWVzdFN1c3BlbmRlZFRpbWUgPSByb290LmVhcmxpZXN0U3VzcGVuZGVkVGltZTtcbiAgICBpZiAoZWFybGllc3RTdXNwZW5kZWRUaW1lID09PSBOb1dvcmspIHtcbiAgICAgIC8vIE5vIG90aGVyIHN1c3BlbmRlZCBsZXZlbHMuXG4gICAgICByb290LmVhcmxpZXN0U3VzcGVuZGVkVGltZSA9IHJvb3QubGF0ZXN0U3VzcGVuZGVkVGltZSA9IHN1c3BlbmRlZFRpbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlYXJsaWVzdFN1c3BlbmRlZFRpbWUgPiBzdXNwZW5kZWRUaW1lKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGVhcmxpZXN0IHN1c3BlbmRlZCBsZXZlbC5cbiAgICAgICAgcm9vdC5lYXJsaWVzdFN1c3BlbmRlZFRpbWUgPSBzdXNwZW5kZWRUaW1lO1xuICAgICAgfSBlbHNlIGlmIChsYXRlc3RTdXNwZW5kZWRUaW1lIDwgc3VzcGVuZGVkVGltZSkge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBsYXRlc3Qgc3VzcGVuZGVkIGxldmVsXG4gICAgICAgIHJvb3QubGF0ZXN0U3VzcGVuZGVkVGltZSA9IHN1c3BlbmRlZFRpbWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG1hcmtQaW5nZWRQcmlvcml0eUxldmVsKHJvb3QsIHBpbmdlZFRpbWUpIHtcbiAgaWYgKGVuYWJsZVN1c3BlbnNlKSB7XG4gICAgdmFyIGxhdGVzdFN1c3BlbmRlZFRpbWUgPSByb290LmxhdGVzdFN1c3BlbmRlZFRpbWU7XG4gICAgaWYgKGxhdGVzdFN1c3BlbmRlZFRpbWUgIT09IE5vV29yayAmJiBsYXRlc3RTdXNwZW5kZWRUaW1lIDw9IHBpbmdlZFRpbWUpIHtcbiAgICAgIHZhciBsYXRlc3RQaW5nZWRUaW1lID0gcm9vdC5sYXRlc3RQaW5nZWRUaW1lO1xuICAgICAgaWYgKGxhdGVzdFBpbmdlZFRpbWUgPT09IE5vV29yayB8fCBsYXRlc3RQaW5nZWRUaW1lIDwgcGluZ2VkVGltZSkge1xuICAgICAgICByb290LmxhdGVzdFBpbmdlZFRpbWUgPSBwaW5nZWRUaW1lO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kTmV4dFBlbmRpbmdQcmlvcml0eUxldmVsKHJvb3QpIHtcbiAgaWYgKGVuYWJsZVN1c3BlbnNlKSB7XG4gICAgdmFyIGVhcmxpZXN0U3VzcGVuZGVkVGltZSA9IHJvb3QuZWFybGllc3RTdXNwZW5kZWRUaW1lO1xuICAgIHZhciBlYXJsaWVzdFBlbmRpbmdUaW1lID0gcm9vdC5lYXJsaWVzdFBlbmRpbmdUaW1lO1xuICAgIGlmIChlYXJsaWVzdFN1c3BlbmRlZFRpbWUgPT09IE5vV29yaykge1xuICAgICAgLy8gRmFzdCBwYXRoLiBUaGVyZSdzIG5vIHN1c3BlbmRlZCB3b3JrLlxuICAgICAgcmV0dXJuIGVhcmxpZXN0UGVuZGluZ1RpbWU7XG4gICAgfVxuXG4gICAgLy8gRmlyc3QsIGNoZWNrIGlmIHRoZXJlJ3Mga25vd24gcGVuZGluZyB3b3JrLlxuICAgIGlmIChlYXJsaWVzdFBlbmRpbmdUaW1lICE9PSBOb1dvcmspIHtcbiAgICAgIHJldHVybiBlYXJsaWVzdFBlbmRpbmdUaW1lO1xuICAgIH1cblxuICAgIC8vIEZpbmFsbHksIGlmIGEgc3VzcGVuZGVkIGxldmVsIHdhcyBwaW5nZWQsIHdvcmsgb24gdGhhdC4gT3RoZXJ3aXNlIHRoZXJlJ3NcbiAgICAvLyBub3RoaW5nIHRvIHdvcmsgb24uXG4gICAgcmV0dXJuIHJvb3QubGF0ZXN0UGluZ2VkVGltZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcm9vdC5jdXJyZW50LmV4cGlyYXRpb25UaW1lO1xuICB9XG59XG5cbi8vIFVwZGF0ZVF1ZXVlIGlzIGEgbGlua2VkIGxpc3Qgb2YgcHJpb3JpdGl6ZWQgdXBkYXRlcy5cbi8vXG4vLyBMaWtlIGZpYmVycywgdXBkYXRlIHF1ZXVlcyBjb21lIGluIHBhaXJzOiBhIGN1cnJlbnQgcXVldWUsIHdoaWNoIHJlcHJlc2VudHNcbi8vIHRoZSB2aXNpYmxlIHN0YXRlIG9mIHRoZSBzY3JlZW4sIGFuZCBhIHdvcmstaW4tcHJvZ3Jlc3MgcXVldWUsIHdoaWNoIGlzXG4vLyBjYW4gYmUgbXV0YXRlZCBhbmQgcHJvY2Vzc2VkIGFzeW5jaHJvbm91c2x5IGJlZm9yZSBpdCBpcyBjb21taXR0ZWQg4oCUIGEgZm9ybVxuLy8gb2YgZG91YmxlIGJ1ZmZlcmluZy4gSWYgYSB3b3JrLWluLXByb2dyZXNzIHJlbmRlciBpcyBkaXNjYXJkZWQgYmVmb3JlXG4vLyBmaW5pc2hpbmcsIHdlIGNyZWF0ZSBhIG5ldyB3b3JrLWluLXByb2dyZXNzIGJ5IGNsb25pbmcgdGhlIGN1cnJlbnQgcXVldWUuXG4vL1xuLy8gQm90aCBxdWV1ZXMgc2hhcmUgYSBwZXJzaXN0ZW50LCBzaW5nbHktbGlua2VkIGxpc3Qgc3RydWN0dXJlLiBUbyBzY2hlZHVsZSBhblxuLy8gdXBkYXRlLCB3ZSBhcHBlbmQgaXQgdG8gdGhlIGVuZCBvZiBib3RoIHF1ZXVlcy4gRWFjaCBxdWV1ZSBtYWludGFpbnMgYVxuLy8gcG9pbnRlciB0byBmaXJzdCB1cGRhdGUgaW4gdGhlIHBlcnNpc3RlbnQgbGlzdCB0aGF0IGhhc24ndCBiZWVuIHByb2Nlc3NlZC5cbi8vIFRoZSB3b3JrLWluLXByb2dyZXNzIHBvaW50ZXIgYWx3YXlzIGhhcyBhIHBvc2l0aW9uIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhblxuLy8gdGhlIGN1cnJlbnQgcXVldWUsIHNpbmNlIHdlIGFsd2F5cyB3b3JrIG9uIHRoYXQgb25lLiBUaGUgY3VycmVudCBxdWV1ZSdzXG4vLyBwb2ludGVyIGlzIG9ubHkgdXBkYXRlZCBkdXJpbmcgdGhlIGNvbW1pdCBwaGFzZSwgd2hlbiB3ZSBzd2FwIGluIHRoZVxuLy8gd29yay1pbi1wcm9ncmVzcy5cbi8vXG4vLyBGb3IgZXhhbXBsZTpcbi8vXG4vLyAgIEN1cnJlbnQgcG9pbnRlcjogICAgICAgICAgIEEgLSBCIC0gQyAtIEQgLSBFIC0gRlxuLy8gICBXb3JrLWluLXByb2dyZXNzIHBvaW50ZXI6ICAgICAgICAgICAgICBEIC0gRSAtIEZcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgd29yay1pbi1wcm9ncmVzcyBxdWV1ZSBoYXNcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkIG1vcmUgdXBkYXRlcyB0aGFuIGN1cnJlbnQuXG4vL1xuLy8gVGhlIHJlYXNvbiB3ZSBhcHBlbmQgdG8gYm90aCBxdWV1ZXMgaXMgYmVjYXVzZSBvdGhlcndpc2Ugd2UgbWlnaHQgZHJvcFxuLy8gdXBkYXRlcyB3aXRob3V0IGV2ZXIgcHJvY2Vzc2luZyB0aGVtLiBGb3IgZXhhbXBsZSwgaWYgd2Ugb25seSBhZGQgdXBkYXRlcyB0b1xuLy8gdGhlIHdvcmstaW4tcHJvZ3Jlc3MgcXVldWUsIHNvbWUgdXBkYXRlcyBjb3VsZCBiZSBsb3N0IHdoZW5ldmVyIGEgd29yay1pblxuLy8gLXByb2dyZXNzIHJlbmRlciByZXN0YXJ0cyBieSBjbG9uaW5nIGZyb20gY3VycmVudC4gU2ltaWxhcmx5LCBpZiB3ZSBvbmx5IGFkZFxuLy8gdXBkYXRlcyB0byB0aGUgY3VycmVudCBxdWV1ZSwgdGhlIHVwZGF0ZXMgd2lsbCBiZSBsb3N0IHdoZW5ldmVyIGFuIGFscmVhZHlcbi8vIGluLXByb2dyZXNzIHF1ZXVlIGNvbW1pdHMgYW5kIHN3YXBzIHdpdGggdGhlIGN1cnJlbnQgcXVldWUuIEhvd2V2ZXIsIGJ5XG4vLyBhZGRpbmcgdG8gYm90aCBxdWV1ZXMsIHdlIGd1YXJhbnRlZSB0aGF0IHRoZSB1cGRhdGUgd2lsbCBiZSBwYXJ0IG9mIHRoZSBuZXh0XG4vLyB3b3JrLWluLXByb2dyZXNzLiAoQW5kIGJlY2F1c2UgdGhlIHdvcmstaW4tcHJvZ3Jlc3MgcXVldWUgYmVjb21lcyB0aGVcbi8vIGN1cnJlbnQgcXVldWUgb25jZSBpdCBjb21taXRzLCB0aGVyZSdzIG5vIGRhbmdlciBvZiBhcHBseWluZyB0aGUgc2FtZVxuLy8gdXBkYXRlIHR3aWNlLilcbi8vXG4vLyBQcmlvcml0aXphdGlvblxuLy8gLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyBVcGRhdGVzIGFyZSBub3Qgc29ydGVkIGJ5IHByaW9yaXR5LCBidXQgYnkgaW5zZXJ0aW9uOyBuZXcgdXBkYXRlcyBhcmUgYWx3YXlzXG4vLyBhcHBlbmRlZCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LlxuLy9cbi8vIFRoZSBwcmlvcml0eSBpcyBzdGlsbCBpbXBvcnRhbnQsIHRob3VnaC4gV2hlbiBwcm9jZXNzaW5nIHRoZSB1cGRhdGUgcXVldWVcbi8vIGR1cmluZyB0aGUgcmVuZGVyIHBoYXNlLCBvbmx5IHRoZSB1cGRhdGVzIHdpdGggc3VmZmljaWVudCBwcmlvcml0eSBhcmVcbi8vIGluY2x1ZGVkIGluIHRoZSByZXN1bHQuIElmIHdlIHNraXAgYW4gdXBkYXRlIGJlY2F1c2UgaXQgaGFzIGluc3VmZmljaWVudFxuLy8gcHJpb3JpdHksIGl0IHJlbWFpbnMgaW4gdGhlIHF1ZXVlIHRvIGJlIHByb2Nlc3NlZCBsYXRlciwgZHVyaW5nIGEgbG93ZXJcbi8vIHByaW9yaXR5IHJlbmRlci4gQ3J1Y2lhbGx5LCBhbGwgdXBkYXRlcyBzdWJzZXF1ZW50IHRvIGEgc2tpcHBlZCB1cGRhdGUgYWxzb1xuLy8gcmVtYWluIGluIHRoZSBxdWV1ZSAqcmVnYXJkbGVzcyBvZiB0aGVpciBwcmlvcml0eSouIFRoYXQgbWVhbnMgaGlnaCBwcmlvcml0eVxuLy8gdXBkYXRlcyBhcmUgc29tZXRpbWVzIHByb2Nlc3NlZCB0d2ljZSwgYXQgdHdvIHNlcGFyYXRlIHByaW9yaXRpZXMuIFdlIGFsc29cbi8vIGtlZXAgdHJhY2sgb2YgYSBiYXNlIHN0YXRlLCB0aGF0IHJlcHJlc2VudHMgdGhlIHN0YXRlIGJlZm9yZSB0aGUgZmlyc3Rcbi8vIHVwZGF0ZSBpbiB0aGUgcXVldWUgaXMgYXBwbGllZC5cbi8vXG4vLyBGb3IgZXhhbXBsZTpcbi8vXG4vLyAgIEdpdmVuIGEgYmFzZSBzdGF0ZSBvZiAnJywgYW5kIHRoZSBmb2xsb3dpbmcgcXVldWUgb2YgdXBkYXRlc1xuLy9cbi8vICAgICBBMSAtIEIyIC0gQzEgLSBEMlxuLy9cbi8vICAgd2hlcmUgdGhlIG51bWJlciBpbmRpY2F0ZXMgdGhlIHByaW9yaXR5LCBhbmQgdGhlIHVwZGF0ZSBpcyBhcHBsaWVkIHRvIHRoZVxuLy8gICBwcmV2aW91cyBzdGF0ZSBieSBhcHBlbmRpbmcgYSBsZXR0ZXIsIFJlYWN0IHdpbGwgcHJvY2VzcyB0aGVzZSB1cGRhdGVzIGFzXG4vLyAgIHR3byBzZXBhcmF0ZSByZW5kZXJzLCBvbmUgcGVyIGRpc3RpbmN0IHByaW9yaXR5IGxldmVsOlxuLy9cbi8vICAgRmlyc3QgcmVuZGVyLCBhdCBwcmlvcml0eSAxOlxuLy8gICAgIEJhc2Ugc3RhdGU6ICcnXG4vLyAgICAgVXBkYXRlczogW0ExLCBDMV1cbi8vICAgICBSZXN1bHQgc3RhdGU6ICdBQydcbi8vXG4vLyAgIFNlY29uZCByZW5kZXIsIGF0IHByaW9yaXR5IDI6XG4vLyAgICAgQmFzZSBzdGF0ZTogJ0EnICAgICAgICAgICAgPC0gIFRoZSBiYXNlIHN0YXRlIGRvZXMgbm90IGluY2x1ZGUgQzEsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlY2F1c2UgQjIgd2FzIHNraXBwZWQuXG4vLyAgICAgVXBkYXRlczogW0IyLCBDMSwgRDJdICAgICAgPC0gIEMxIHdhcyByZWJhc2VkIG9uIHRvcCBvZiBCMlxuLy8gICAgIFJlc3VsdCBzdGF0ZTogJ0FCQ0QnXG4vL1xuLy8gQmVjYXVzZSB3ZSBwcm9jZXNzIHVwZGF0ZXMgaW4gaW5zZXJ0aW9uIG9yZGVyLCBhbmQgcmViYXNlIGhpZ2ggcHJpb3JpdHlcbi8vIHVwZGF0ZXMgd2hlbiBwcmVjZWRpbmcgdXBkYXRlcyBhcmUgc2tpcHBlZCwgdGhlIGZpbmFsIHJlc3VsdCBpcyBkZXRlcm1pbmlzdGljXG4vLyByZWdhcmRsZXNzIG9mIHByaW9yaXR5LiBJbnRlcm1lZGlhdGUgc3RhdGUgbWF5IHZhcnkgYWNjb3JkaW5nIHRvIHN5c3RlbVxuLy8gcmVzb3VyY2VzLCBidXQgdGhlIGZpbmFsIHN0YXRlIGlzIGFsd2F5cyB0aGUgc2FtZS5cblxudmFyIFVwZGF0ZVN0YXRlID0gMDtcbnZhciBSZXBsYWNlU3RhdGUgPSAxO1xudmFyIEZvcmNlVXBkYXRlID0gMjtcbnZhciBDYXB0dXJlVXBkYXRlID0gMztcblxuLy8gR2xvYmFsIHN0YXRlIHRoYXQgaXMgcmVzZXQgYXQgdGhlIGJlZ2lubmluZyBvZiBjYWxsaW5nIGBwcm9jZXNzVXBkYXRlUXVldWVgLlxuLy8gSXQgc2hvdWxkIG9ubHkgYmUgcmVhZCByaWdodCBhZnRlciBjYWxsaW5nIGBwcm9jZXNzVXBkYXRlUXVldWVgLCB2aWFcbi8vIGBjaGVja0hhc0ZvcmNlVXBkYXRlQWZ0ZXJQcm9jZXNzaW5nYC5cbnZhciBoYXNGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuXG52YXIgZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSA9IHZvaWQgMDtcbnZhciBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSB2b2lkIDA7XG52YXIgcmVzZXRDdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSB2b2lkIDA7XG57XG4gIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUgPSBmYWxzZTtcbiAgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID0gbnVsbDtcbiAgcmVzZXRDdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID0gbnVsbDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVXBkYXRlUXVldWUoYmFzZVN0YXRlKSB7XG4gIHZhciBxdWV1ZSA9IHtcbiAgICBleHBpcmF0aW9uVGltZTogTm9Xb3JrLFxuICAgIGJhc2VTdGF0ZTogYmFzZVN0YXRlLFxuICAgIGZpcnN0VXBkYXRlOiBudWxsLFxuICAgIGxhc3RVcGRhdGU6IG51bGwsXG4gICAgZmlyc3RDYXB0dXJlZFVwZGF0ZTogbnVsbCxcbiAgICBsYXN0Q2FwdHVyZWRVcGRhdGU6IG51bGwsXG4gICAgZmlyc3RFZmZlY3Q6IG51bGwsXG4gICAgbGFzdEVmZmVjdDogbnVsbCxcbiAgICBmaXJzdENhcHR1cmVkRWZmZWN0OiBudWxsLFxuICAgIGxhc3RDYXB0dXJlZEVmZmVjdDogbnVsbFxuICB9O1xuICByZXR1cm4gcXVldWU7XG59XG5cbmZ1bmN0aW9uIGNsb25lVXBkYXRlUXVldWUoY3VycmVudFF1ZXVlKSB7XG4gIHZhciBxdWV1ZSA9IHtcbiAgICBleHBpcmF0aW9uVGltZTogY3VycmVudFF1ZXVlLmV4cGlyYXRpb25UaW1lLFxuICAgIGJhc2VTdGF0ZTogY3VycmVudFF1ZXVlLmJhc2VTdGF0ZSxcbiAgICBmaXJzdFVwZGF0ZTogY3VycmVudFF1ZXVlLmZpcnN0VXBkYXRlLFxuICAgIGxhc3RVcGRhdGU6IGN1cnJlbnRRdWV1ZS5sYXN0VXBkYXRlLFxuXG4gICAgLy8gVE9ETzogV2l0aCByZXN1bWluZywgaWYgd2UgYmFpbCBvdXQgYW5kIHJlc3VzZSB0aGUgY2hpbGQgdHJlZSwgd2Ugc2hvdWxkXG4gICAgLy8ga2VlcCB0aGVzZSBlZmZlY3RzLlxuICAgIGZpcnN0Q2FwdHVyZWRVcGRhdGU6IG51bGwsXG4gICAgbGFzdENhcHR1cmVkVXBkYXRlOiBudWxsLFxuXG4gICAgZmlyc3RFZmZlY3Q6IG51bGwsXG4gICAgbGFzdEVmZmVjdDogbnVsbCxcblxuICAgIGZpcnN0Q2FwdHVyZWRFZmZlY3Q6IG51bGwsXG4gICAgbGFzdENhcHR1cmVkRWZmZWN0OiBudWxsXG4gIH07XG4gIHJldHVybiBxdWV1ZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVXBkYXRlKGV4cGlyYXRpb25UaW1lKSB7XG4gIHJldHVybiB7XG4gICAgZXhwaXJhdGlvblRpbWU6IGV4cGlyYXRpb25UaW1lLFxuXG4gICAgdGFnOiBVcGRhdGVTdGF0ZSxcbiAgICBwYXlsb2FkOiBudWxsLFxuICAgIGNhbGxiYWNrOiBudWxsLFxuXG4gICAgbmV4dDogbnVsbCxcbiAgICBuZXh0RWZmZWN0OiBudWxsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFVwZGF0ZVRvUXVldWUocXVldWUsIHVwZGF0ZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gQXBwZW5kIHRoZSB1cGRhdGUgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdC5cbiAgaWYgKHF1ZXVlLmxhc3RVcGRhdGUgPT09IG51bGwpIHtcbiAgICAvLyBRdWV1ZSBpcyBlbXB0eVxuICAgIHF1ZXVlLmZpcnN0VXBkYXRlID0gcXVldWUubGFzdFVwZGF0ZSA9IHVwZGF0ZTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZS5sYXN0VXBkYXRlLm5leHQgPSB1cGRhdGU7XG4gICAgcXVldWUubGFzdFVwZGF0ZSA9IHVwZGF0ZTtcbiAgfVxuICBpZiAocXVldWUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBxdWV1ZS5leHBpcmF0aW9uVGltZSA+IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVGhlIGluY29taW5nIHVwZGF0ZSBoYXMgdGhlIGVhcmxpZXN0IGV4cGlyYXRpb24gb2YgYW55IHVwZGF0ZSBpbiB0aGVcbiAgICAvLyBxdWV1ZS4gVXBkYXRlIHRoZSBxdWV1ZSdzIGV4cGlyYXRpb24gdGltZS5cbiAgICBxdWV1ZS5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVucXVldWVVcGRhdGUoZmliZXIsIHVwZGF0ZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gVXBkYXRlIHF1ZXVlcyBhcmUgY3JlYXRlZCBsYXppbHkuXG4gIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gIHZhciBxdWV1ZTEgPSB2b2lkIDA7XG4gIHZhciBxdWV1ZTIgPSB2b2lkIDA7XG4gIGlmIChhbHRlcm5hdGUgPT09IG51bGwpIHtcbiAgICAvLyBUaGVyZSdzIG9ubHkgb25lIGZpYmVyLlxuICAgIHF1ZXVlMSA9IGZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgIHF1ZXVlMiA9IG51bGw7XG4gICAgaWYgKHF1ZXVlMSA9PT0gbnVsbCkge1xuICAgICAgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWUgPSBjcmVhdGVVcGRhdGVRdWV1ZShmaWJlci5tZW1vaXplZFN0YXRlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhlcmUgYXJlIHR3byBvd25lcnMuXG4gICAgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWU7XG4gICAgcXVldWUyID0gYWx0ZXJuYXRlLnVwZGF0ZVF1ZXVlO1xuICAgIGlmIChxdWV1ZTEgPT09IG51bGwpIHtcbiAgICAgIGlmIChxdWV1ZTIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gTmVpdGhlciBmaWJlciBoYXMgYW4gdXBkYXRlIHF1ZXVlLiBDcmVhdGUgbmV3IG9uZXMuXG4gICAgICAgIHF1ZXVlMSA9IGZpYmVyLnVwZGF0ZVF1ZXVlID0gY3JlYXRlVXBkYXRlUXVldWUoZmliZXIubWVtb2l6ZWRTdGF0ZSk7XG4gICAgICAgIHF1ZXVlMiA9IGFsdGVybmF0ZS51cGRhdGVRdWV1ZSA9IGNyZWF0ZVVwZGF0ZVF1ZXVlKGFsdGVybmF0ZS5tZW1vaXplZFN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9ubHkgb25lIGZpYmVyIGhhcyBhbiB1cGRhdGUgcXVldWUuIENsb25lIHRvIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICAgIHF1ZXVlMSA9IGZpYmVyLnVwZGF0ZVF1ZXVlID0gY2xvbmVVcGRhdGVRdWV1ZShxdWV1ZTIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocXVldWUyID09PSBudWxsKSB7XG4gICAgICAgIC8vIE9ubHkgb25lIGZpYmVyIGhhcyBhbiB1cGRhdGUgcXVldWUuIENsb25lIHRvIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICAgIHF1ZXVlMiA9IGFsdGVybmF0ZS51cGRhdGVRdWV1ZSA9IGNsb25lVXBkYXRlUXVldWUocXVldWUxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJvdGggb3duZXJzIGhhdmUgYW4gdXBkYXRlIHF1ZXVlLlxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAocXVldWUyID09PSBudWxsIHx8IHF1ZXVlMSA9PT0gcXVldWUyKSB7XG4gICAgLy8gVGhlcmUncyBvbmx5IGEgc2luZ2xlIHF1ZXVlLlxuICAgIGFwcGVuZFVwZGF0ZVRvUXVldWUocXVldWUxLCB1cGRhdGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUaGVyZSBhcmUgdHdvIHF1ZXVlcy4gV2UgbmVlZCB0byBhcHBlbmQgdGhlIHVwZGF0ZSB0byBib3RoIHF1ZXVlcyxcbiAgICAvLyB3aGlsZSBhY2NvdW50aW5nIGZvciB0aGUgcGVyc2lzdGVudCBzdHJ1Y3R1cmUgb2YgdGhlIGxpc3Qg4oCUIHdlIGRvbid0XG4gICAgLy8gd2FudCB0aGUgc2FtZSB1cGRhdGUgdG8gYmUgYWRkZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgaWYgKHF1ZXVlMS5sYXN0VXBkYXRlID09PSBudWxsIHx8IHF1ZXVlMi5sYXN0VXBkYXRlID09PSBudWxsKSB7XG4gICAgICAvLyBPbmUgb2YgdGhlIHF1ZXVlcyBpcyBub3QgZW1wdHkuIFdlIG11c3QgYWRkIHRoZSB1cGRhdGUgdG8gYm90aCBxdWV1ZXMuXG4gICAgICBhcHBlbmRVcGRhdGVUb1F1ZXVlKHF1ZXVlMSwgdXBkYXRlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBhcHBlbmRVcGRhdGVUb1F1ZXVlKHF1ZXVlMiwgdXBkYXRlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEJvdGggcXVldWVzIGFyZSBub24tZW1wdHkuIFRoZSBsYXN0IHVwZGF0ZSBpcyB0aGUgc2FtZSBpbiBib3RoIGxpc3RzLFxuICAgICAgLy8gYmVjYXVzZSBvZiBzdHJ1Y3R1cmFsIHNoYXJpbmcuIFNvLCBvbmx5IGFwcGVuZCB0byBvbmUgb2YgdGhlIGxpc3RzLlxuICAgICAgYXBwZW5kVXBkYXRlVG9RdWV1ZShxdWV1ZTEsIHVwZGF0ZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgLy8gQnV0IHdlIHN0aWxsIG5lZWQgdG8gdXBkYXRlIHRoZSBgbGFzdFVwZGF0ZWAgcG9pbnRlciBvZiBxdWV1ZTIuXG4gICAgICBxdWV1ZTIubGFzdFVwZGF0ZSA9IHVwZGF0ZTtcbiAgICB9XG4gIH1cblxuICB7XG4gICAgaWYgKGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQgJiYgKGN1cnJlbnRseVByb2Nlc3NpbmdRdWV1ZSA9PT0gcXVldWUxIHx8IHF1ZXVlMiAhPT0gbnVsbCAmJiBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPT09IHF1ZXVlMikgJiYgIWRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdBbiB1cGRhdGUgKHNldFN0YXRlLCByZXBsYWNlU3RhdGUsIG9yIGZvcmNlVXBkYXRlKSB3YXMgc2NoZWR1bGVkICcgKyAnZnJvbSBpbnNpZGUgYW4gdXBkYXRlIGZ1bmN0aW9uLiBVcGRhdGUgZnVuY3Rpb25zIHNob3VsZCBiZSBwdXJlLCAnICsgJ3dpdGggemVybyBzaWRlLWVmZmVjdHMuIENvbnNpZGVyIHVzaW5nIGNvbXBvbmVudERpZFVwZGF0ZSBvciBhICcgKyAnY2FsbGJhY2suJyk7XG4gICAgICBkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHdvcmtJblByb2dyZXNzLCB1cGRhdGUsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIC8vIENhcHR1cmVkIHVwZGF0ZXMgZ28gaW50byBhIHNlcGFyYXRlIGxpc3QsIGFuZCBvbmx5IG9uIHRoZSB3b3JrLWluLVxuICAvLyBwcm9ncmVzcyBxdWV1ZS5cbiAgdmFyIHdvcmtJblByb2dyZXNzUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgaWYgKHdvcmtJblByb2dyZXNzUXVldWUgPT09IG51bGwpIHtcbiAgICB3b3JrSW5Qcm9ncmVzc1F1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBjcmVhdGVVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUT0RPOiBJIHB1dCB0aGlzIGhlcmUgcmF0aGVyIHRoYW4gY3JlYXRlV29ya0luUHJvZ3Jlc3Mgc28gdGhhdCB3ZSBkb24ndFxuICAgIC8vIGNsb25lIHRoZSBxdWV1ZSB1bm5lY2Vzc2FyaWx5LiBUaGVyZSdzIHByb2JhYmx5IGEgYmV0dGVyIHdheSB0b1xuICAgIC8vIHN0cnVjdHVyZSB0aGlzLlxuICAgIHdvcmtJblByb2dyZXNzUXVldWUgPSBlbnN1cmVXb3JrSW5Qcm9ncmVzc1F1ZXVlSXNBQ2xvbmUod29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzUXVldWUpO1xuICB9XG5cbiAgLy8gQXBwZW5kIHRoZSB1cGRhdGUgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdC5cbiAgaWYgKHdvcmtJblByb2dyZXNzUXVldWUubGFzdENhcHR1cmVkVXBkYXRlID09PSBudWxsKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgcmVuZGVyIHBoYXNlIHVwZGF0ZVxuICAgIHdvcmtJblByb2dyZXNzUXVldWUuZmlyc3RDYXB0dXJlZFVwZGF0ZSA9IHdvcmtJblByb2dyZXNzUXVldWUubGFzdENhcHR1cmVkVXBkYXRlID0gdXBkYXRlO1xuICB9IGVsc2Uge1xuICAgIHdvcmtJblByb2dyZXNzUXVldWUubGFzdENhcHR1cmVkVXBkYXRlLm5leHQgPSB1cGRhdGU7XG4gICAgd29ya0luUHJvZ3Jlc3NRdWV1ZS5sYXN0Q2FwdHVyZWRVcGRhdGUgPSB1cGRhdGU7XG4gIH1cbiAgaWYgKHdvcmtJblByb2dyZXNzUXVldWUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCB3b3JrSW5Qcm9ncmVzc1F1ZXVlLmV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBUaGUgaW5jb21pbmcgdXBkYXRlIGhhcyB0aGUgZWFybGllc3QgZXhwaXJhdGlvbiBvZiBhbnkgdXBkYXRlIGluIHRoZVxuICAgIC8vIHF1ZXVlLiBVcGRhdGUgdGhlIHF1ZXVlJ3MgZXhwaXJhdGlvbiB0aW1lLlxuICAgIHdvcmtJblByb2dyZXNzUXVldWUuZXhwaXJhdGlvblRpbWUgPSByZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbnN1cmVXb3JrSW5Qcm9ncmVzc1F1ZXVlSXNBQ2xvbmUod29ya0luUHJvZ3Jlc3MsIHF1ZXVlKSB7XG4gIHZhciBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlO1xuICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgIC8vIElmIHRoZSB3b3JrLWluLXByb2dyZXNzIHF1ZXVlIGlzIGVxdWFsIHRvIHRoZSBjdXJyZW50IHF1ZXVlLFxuICAgIC8vIHdlIG5lZWQgdG8gY2xvbmUgaXQgZmlyc3QuXG4gICAgaWYgKHF1ZXVlID09PSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSB7XG4gICAgICBxdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY2xvbmVVcGRhdGVRdWV1ZShxdWV1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBxdWV1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0U3RhdGVGcm9tVXBkYXRlKHdvcmtJblByb2dyZXNzLCBxdWV1ZSwgdXBkYXRlLCBwcmV2U3RhdGUsIG5leHRQcm9wcywgaW5zdGFuY2UpIHtcbiAgc3dpdGNoICh1cGRhdGUudGFnKSB7XG4gICAgY2FzZSBSZXBsYWNlU3RhdGU6XG4gICAgICB7XG4gICAgICAgIHZhciBfcGF5bG9hZCA9IHVwZGF0ZS5wYXlsb2FkO1xuICAgICAgICBpZiAodHlwZW9mIF9wYXlsb2FkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgLy8gVXBkYXRlciBmdW5jdGlvblxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgfHwgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICAgICAgICBfcGF5bG9hZC5jYWxsKGluc3RhbmNlLCBwcmV2U3RhdGUsIG5leHRQcm9wcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcGF5bG9hZC5jYWxsKGluc3RhbmNlLCBwcmV2U3RhdGUsIG5leHRQcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhdGUgb2JqZWN0XG4gICAgICAgIHJldHVybiBfcGF5bG9hZDtcbiAgICAgIH1cbiAgICBjYXNlIENhcHR1cmVVcGRhdGU6XG4gICAgICB7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIH5TaG91bGRDYXB0dXJlIHwgRGlkQ2FwdHVyZTtcbiAgICAgIH1cbiAgICAvLyBJbnRlbnRpb25hbCBmYWxsdGhyb3VnaFxuICAgIGNhc2UgVXBkYXRlU3RhdGU6XG4gICAgICB7XG4gICAgICAgIHZhciBfcGF5bG9hZDIgPSB1cGRhdGUucGF5bG9hZDtcbiAgICAgICAgdmFyIHBhcnRpYWxTdGF0ZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHR5cGVvZiBfcGF5bG9hZDIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAvLyBVcGRhdGVyIGZ1bmN0aW9uXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyB8fCBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgICAgICAgIF9wYXlsb2FkMi5jYWxsKGluc3RhbmNlLCBwcmV2U3RhdGUsIG5leHRQcm9wcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnRpYWxTdGF0ZSA9IF9wYXlsb2FkMi5jYWxsKGluc3RhbmNlLCBwcmV2U3RhdGUsIG5leHRQcm9wcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUGFydGlhbCBzdGF0ZSBvYmplY3RcbiAgICAgICAgICBwYXJ0aWFsU3RhdGUgPSBfcGF5bG9hZDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxTdGF0ZSA9PT0gbnVsbCB8fCBwYXJ0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIE51bGwgYW5kIHVuZGVmaW5lZCBhcmUgdHJlYXRlZCBhcyBuby1vcHMuXG4gICAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNZXJnZSB0aGUgcGFydGlhbCBzdGF0ZSBhbmQgdGhlIHByZXZpb3VzIHN0YXRlLlxuICAgICAgICByZXR1cm4gX2Fzc2lnbih7fSwgcHJldlN0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICAgICAgfVxuICAgIGNhc2UgRm9yY2VVcGRhdGU6XG4gICAgICB7XG4gICAgICAgIGhhc0ZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gcHJldlN0YXRlO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIHF1ZXVlLCBwcm9wcywgaW5zdGFuY2UsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIGhhc0ZvcmNlVXBkYXRlID0gZmFsc2U7XG5cbiAgaWYgKHF1ZXVlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgcXVldWUuZXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIC8vIEluc3VmZmljaWVudCBwcmlvcml0eS4gQmFpbG91dC5cbiAgICByZXR1cm47XG4gIH1cblxuICBxdWV1ZSA9IGVuc3VyZVdvcmtJblByb2dyZXNzUXVldWVJc0FDbG9uZSh3b3JrSW5Qcm9ncmVzcywgcXVldWUpO1xuXG4gIHtcbiAgICBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSBxdWV1ZTtcbiAgfVxuXG4gIC8vIFRoZXNlIHZhbHVlcyBtYXkgY2hhbmdlIGFzIHdlIHByb2Nlc3MgdGhlIHF1ZXVlLlxuICB2YXIgbmV3QmFzZVN0YXRlID0gcXVldWUuYmFzZVN0YXRlO1xuICB2YXIgbmV3Rmlyc3RVcGRhdGUgPSBudWxsO1xuICB2YXIgbmV3RXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG5cbiAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBsaXN0IG9mIHVwZGF0ZXMgdG8gY29tcHV0ZSB0aGUgcmVzdWx0LlxuICB2YXIgdXBkYXRlID0gcXVldWUuZmlyc3RVcGRhdGU7XG4gIHZhciByZXN1bHRTdGF0ZSA9IG5ld0Jhc2VTdGF0ZTtcbiAgd2hpbGUgKHVwZGF0ZSAhPT0gbnVsbCkge1xuICAgIHZhciB1cGRhdGVFeHBpcmF0aW9uVGltZSA9IHVwZGF0ZS5leHBpcmF0aW9uVGltZTtcbiAgICBpZiAodXBkYXRlRXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgLy8gVGhpcyB1cGRhdGUgZG9lcyBub3QgaGF2ZSBzdWZmaWNpZW50IHByaW9yaXR5LiBTa2lwIGl0LlxuICAgICAgaWYgKG5ld0ZpcnN0VXBkYXRlID09PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IHNraXBwZWQgdXBkYXRlLiBJdCB3aWxsIGJlIHRoZSBmaXJzdCB1cGRhdGUgaW5cbiAgICAgICAgLy8gdGhlIG5ldyBsaXN0LlxuICAgICAgICBuZXdGaXJzdFVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgLy8gU2luY2UgdGhpcyBpcyB0aGUgZmlyc3QgdXBkYXRlIHRoYXQgd2FzIHNraXBwZWQsIHRoZSBjdXJyZW50IHJlc3VsdFxuICAgICAgICAvLyBpcyB0aGUgbmV3IGJhc2Ugc3RhdGUuXG4gICAgICAgIG5ld0Jhc2VTdGF0ZSA9IHJlc3VsdFN0YXRlO1xuICAgICAgfVxuICAgICAgLy8gU2luY2UgdGhpcyB1cGRhdGUgd2lsbCByZW1haW4gaW4gdGhlIGxpc3QsIHVwZGF0ZSB0aGUgcmVtYWluaW5nXG4gICAgICAvLyBleHBpcmF0aW9uIHRpbWUuXG4gICAgICBpZiAobmV3RXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBuZXdFeHBpcmF0aW9uVGltZSA+IHVwZGF0ZUV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIG5ld0V4cGlyYXRpb25UaW1lID0gdXBkYXRlRXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgdXBkYXRlIGRvZXMgaGF2ZSBzdWZmaWNpZW50IHByaW9yaXR5LiBQcm9jZXNzIGl0IGFuZCBjb21wdXRlXG4gICAgICAvLyBhIG5ldyByZXN1bHQuXG4gICAgICByZXN1bHRTdGF0ZSA9IGdldFN0YXRlRnJvbVVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgcXVldWUsIHVwZGF0ZSwgcmVzdWx0U3RhdGUsIHByb3BzLCBpbnN0YW5jZSk7XG4gICAgICB2YXIgX2NhbGxiYWNrID0gdXBkYXRlLmNhbGxiYWNrO1xuICAgICAgaWYgKF9jYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gQ2FsbGJhY2s7XG4gICAgICAgIC8vIFNldCB0aGlzIHRvIG51bGwsIGluIGNhc2UgaXQgd2FzIG11dGF0ZWQgZHVyaW5nIGFuIGFib3J0ZWQgcmVuZGVyLlxuICAgICAgICB1cGRhdGUubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgICAgIGlmIChxdWV1ZS5sYXN0RWZmZWN0ID09PSBudWxsKSB7XG4gICAgICAgICAgcXVldWUuZmlyc3RFZmZlY3QgPSBxdWV1ZS5sYXN0RWZmZWN0ID0gdXBkYXRlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHF1ZXVlLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IHVwZGF0ZTtcbiAgICAgICAgICBxdWV1ZS5sYXN0RWZmZWN0ID0gdXBkYXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIENvbnRpbnVlIHRvIHRoZSBuZXh0IHVwZGF0ZS5cbiAgICB1cGRhdGUgPSB1cGRhdGUubmV4dDtcbiAgfVxuXG4gIC8vIFNlcGFyYXRlbHksIGl0ZXJhdGUgdGhvdWdoIHRoZSBsaXN0IG9mIGNhcHR1cmVkIHVwZGF0ZXMuXG4gIHZhciBuZXdGaXJzdENhcHR1cmVkVXBkYXRlID0gbnVsbDtcbiAgdXBkYXRlID0gcXVldWUuZmlyc3RDYXB0dXJlZFVwZGF0ZTtcbiAgd2hpbGUgKHVwZGF0ZSAhPT0gbnVsbCkge1xuICAgIHZhciBfdXBkYXRlRXhwaXJhdGlvblRpbWUgPSB1cGRhdGUuZXhwaXJhdGlvblRpbWU7XG4gICAgaWYgKF91cGRhdGVFeHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAvLyBUaGlzIHVwZGF0ZSBkb2VzIG5vdCBoYXZlIHN1ZmZpY2llbnQgcHJpb3JpdHkuIFNraXAgaXQuXG4gICAgICBpZiAobmV3Rmlyc3RDYXB0dXJlZFVwZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBza2lwcGVkIGNhcHR1cmVkIHVwZGF0ZS4gSXQgd2lsbCBiZSB0aGUgZmlyc3RcbiAgICAgICAgLy8gdXBkYXRlIGluIHRoZSBuZXcgbGlzdC5cbiAgICAgICAgbmV3Rmlyc3RDYXB0dXJlZFVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdXBkYXRlIHRoYXQgd2FzIHNraXBwZWQsIHRoZSBjdXJyZW50IHJlc3VsdCBpc1xuICAgICAgICAvLyB0aGUgbmV3IGJhc2Ugc3RhdGUuXG4gICAgICAgIGlmIChuZXdGaXJzdFVwZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIG5ld0Jhc2VTdGF0ZSA9IHJlc3VsdFN0YXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBTaW5jZSB0aGlzIHVwZGF0ZSB3aWxsIHJlbWFpbiBpbiB0aGUgbGlzdCwgdXBkYXRlIHRoZSByZW1haW5pbmdcbiAgICAgIC8vIGV4cGlyYXRpb24gdGltZS5cbiAgICAgIGlmIChuZXdFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IG5ld0V4cGlyYXRpb25UaW1lID4gX3VwZGF0ZUV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIG5ld0V4cGlyYXRpb25UaW1lID0gX3VwZGF0ZUV4cGlyYXRpb25UaW1lO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIHVwZGF0ZSBkb2VzIGhhdmUgc3VmZmljaWVudCBwcmlvcml0eS4gUHJvY2VzcyBpdCBhbmQgY29tcHV0ZVxuICAgICAgLy8gYSBuZXcgcmVzdWx0LlxuICAgICAgcmVzdWx0U3RhdGUgPSBnZXRTdGF0ZUZyb21VcGRhdGUod29ya0luUHJvZ3Jlc3MsIHF1ZXVlLCB1cGRhdGUsIHJlc3VsdFN0YXRlLCBwcm9wcywgaW5zdGFuY2UpO1xuICAgICAgdmFyIF9jYWxsYmFjazIgPSB1cGRhdGUuY2FsbGJhY2s7XG4gICAgICBpZiAoX2NhbGxiYWNrMiAhPT0gbnVsbCkge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gQ2FsbGJhY2s7XG4gICAgICAgIC8vIFNldCB0aGlzIHRvIG51bGwsIGluIGNhc2UgaXQgd2FzIG11dGF0ZWQgZHVyaW5nIGFuIGFib3J0ZWQgcmVuZGVyLlxuICAgICAgICB1cGRhdGUubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgICAgIGlmIChxdWV1ZS5sYXN0Q2FwdHVyZWRFZmZlY3QgPT09IG51bGwpIHtcbiAgICAgICAgICBxdWV1ZS5maXJzdENhcHR1cmVkRWZmZWN0ID0gcXVldWUubGFzdENhcHR1cmVkRWZmZWN0ID0gdXBkYXRlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHF1ZXVlLmxhc3RDYXB0dXJlZEVmZmVjdC5uZXh0RWZmZWN0ID0gdXBkYXRlO1xuICAgICAgICAgIHF1ZXVlLmxhc3RDYXB0dXJlZEVmZmVjdCA9IHVwZGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUgPSB1cGRhdGUubmV4dDtcbiAgfVxuXG4gIGlmIChuZXdGaXJzdFVwZGF0ZSA9PT0gbnVsbCkge1xuICAgIHF1ZXVlLmxhc3RVcGRhdGUgPSBudWxsO1xuICB9XG4gIGlmIChuZXdGaXJzdENhcHR1cmVkVXBkYXRlID09PSBudWxsKSB7XG4gICAgcXVldWUubGFzdENhcHR1cmVkVXBkYXRlID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gQ2FsbGJhY2s7XG4gIH1cbiAgaWYgKG5ld0ZpcnN0VXBkYXRlID09PSBudWxsICYmIG5ld0ZpcnN0Q2FwdHVyZWRVcGRhdGUgPT09IG51bGwpIHtcbiAgICAvLyBXZSBwcm9jZXNzZWQgZXZlcnkgdXBkYXRlLCB3aXRob3V0IHNraXBwaW5nLiBUaGF0IG1lYW5zIHRoZSBuZXcgYmFzZVxuICAgIC8vIHN0YXRlIGlzIHRoZSBzYW1lIGFzIHRoZSByZXN1bHQgc3RhdGUuXG4gICAgbmV3QmFzZVN0YXRlID0gcmVzdWx0U3RhdGU7XG4gIH1cblxuICBxdWV1ZS5iYXNlU3RhdGUgPSBuZXdCYXNlU3RhdGU7XG4gIHF1ZXVlLmZpcnN0VXBkYXRlID0gbmV3Rmlyc3RVcGRhdGU7XG4gIHF1ZXVlLmZpcnN0Q2FwdHVyZWRVcGRhdGUgPSBuZXdGaXJzdENhcHR1cmVkVXBkYXRlO1xuICBxdWV1ZS5leHBpcmF0aW9uVGltZSA9IG5ld0V4cGlyYXRpb25UaW1lO1xuXG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSByZXN1bHRTdGF0ZTtcblxuICB7XG4gICAgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxsQ2FsbGJhY2soY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgISh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpID8gaW52YXJpYW50KGZhbHNlLCAnSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgYXMgY2FsbGJhY2suIEV4cGVjdGVkIGEgZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzJywgY2FsbGJhY2spIDogdm9pZCAwO1xuICBjYWxsYmFjay5jYWxsKGNvbnRleHQpO1xufVxuXG5mdW5jdGlvbiByZXNldEhhc0ZvcmNlVXBkYXRlQmVmb3JlUHJvY2Vzc2luZygpIHtcbiAgaGFzRm9yY2VVcGRhdGUgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gY2hlY2tIYXNGb3JjZVVwZGF0ZUFmdGVyUHJvY2Vzc2luZygpIHtcbiAgcmV0dXJuIGhhc0ZvcmNlVXBkYXRlO1xufVxuXG5mdW5jdGlvbiBjb21taXRVcGRhdGVRdWV1ZShmaW5pc2hlZFdvcmssIGZpbmlzaGVkUXVldWUsIGluc3RhbmNlLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAvLyBJZiB0aGUgZmluaXNoZWQgcmVuZGVyIGluY2x1ZGVkIGNhcHR1cmVkIHVwZGF0ZXMsIGFuZCB0aGVyZSBhcmUgc3RpbGxcbiAgLy8gbG93ZXIgcHJpb3JpdHkgdXBkYXRlcyBsZWZ0IG92ZXIsIHdlIG5lZWQgdG8ga2VlcCB0aGUgY2FwdHVyZWQgdXBkYXRlc1xuICAvLyBpbiB0aGUgcXVldWUgc28gdGhhdCB0aGV5IGFyZSByZWJhc2VkIGFuZCBub3QgZHJvcHBlZCBvbmNlIHdlIHByb2Nlc3MgdGhlXG4gIC8vIHF1ZXVlIGFnYWluIGF0IHRoZSBsb3dlciBwcmlvcml0eS5cbiAgaWYgKGZpbmlzaGVkUXVldWUuZmlyc3RDYXB0dXJlZFVwZGF0ZSAhPT0gbnVsbCkge1xuICAgIC8vIEpvaW4gdGhlIGNhcHR1cmVkIHVwZGF0ZSBsaXN0IHRvIHRoZSBlbmQgb2YgdGhlIG5vcm1hbCBsaXN0LlxuICAgIGlmIChmaW5pc2hlZFF1ZXVlLmxhc3RVcGRhdGUgIT09IG51bGwpIHtcbiAgICAgIGZpbmlzaGVkUXVldWUubGFzdFVwZGF0ZS5uZXh0ID0gZmluaXNoZWRRdWV1ZS5maXJzdENhcHR1cmVkVXBkYXRlO1xuICAgICAgZmluaXNoZWRRdWV1ZS5sYXN0VXBkYXRlID0gZmluaXNoZWRRdWV1ZS5sYXN0Q2FwdHVyZWRVcGRhdGU7XG4gICAgfVxuICAgIC8vIENsZWFyIHRoZSBsaXN0IG9mIGNhcHR1cmVkIHVwZGF0ZXMuXG4gICAgZmluaXNoZWRRdWV1ZS5maXJzdENhcHR1cmVkVXBkYXRlID0gZmluaXNoZWRRdWV1ZS5sYXN0Q2FwdHVyZWRVcGRhdGUgPSBudWxsO1xuICB9XG5cbiAgLy8gQ29tbWl0IHRoZSBlZmZlY3RzXG4gIHZhciBlZmZlY3QgPSBmaW5pc2hlZFF1ZXVlLmZpcnN0RWZmZWN0O1xuICBmaW5pc2hlZFF1ZXVlLmZpcnN0RWZmZWN0ID0gZmluaXNoZWRRdWV1ZS5sYXN0RWZmZWN0ID0gbnVsbDtcbiAgd2hpbGUgKGVmZmVjdCAhPT0gbnVsbCkge1xuICAgIHZhciBfY2FsbGJhY2szID0gZWZmZWN0LmNhbGxiYWNrO1xuICAgIGlmIChfY2FsbGJhY2szICE9PSBudWxsKSB7XG4gICAgICBlZmZlY3QuY2FsbGJhY2sgPSBudWxsO1xuICAgICAgY2FsbENhbGxiYWNrKF9jYWxsYmFjazMsIGluc3RhbmNlKTtcbiAgICB9XG4gICAgZWZmZWN0ID0gZWZmZWN0Lm5leHRFZmZlY3Q7XG4gIH1cblxuICBlZmZlY3QgPSBmaW5pc2hlZFF1ZXVlLmZpcnN0Q2FwdHVyZWRFZmZlY3Q7XG4gIGZpbmlzaGVkUXVldWUuZmlyc3RDYXB0dXJlZEVmZmVjdCA9IGZpbmlzaGVkUXVldWUubGFzdENhcHR1cmVkRWZmZWN0ID0gbnVsbDtcbiAgd2hpbGUgKGVmZmVjdCAhPT0gbnVsbCkge1xuICAgIHZhciBfY2FsbGJhY2s0ID0gZWZmZWN0LmNhbGxiYWNrO1xuICAgIGlmIChfY2FsbGJhY2s0ICE9PSBudWxsKSB7XG4gICAgICBlZmZlY3QuY2FsbGJhY2sgPSBudWxsO1xuICAgICAgY2FsbENhbGxiYWNrKF9jYWxsYmFjazQsIGluc3RhbmNlKTtcbiAgICB9XG4gICAgZWZmZWN0ID0gZWZmZWN0Lm5leHRFZmZlY3Q7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2FwdHVyZWRWYWx1ZSh2YWx1ZSwgc291cmNlKSB7XG4gIC8vIElmIHRoZSB2YWx1ZSBpcyBhbiBlcnJvciwgY2FsbCB0aGlzIGZ1bmN0aW9uIGltbWVkaWF0ZWx5IGFmdGVyIGl0IGlzIHRocm93blxuICAvLyBzbyB0aGUgc3RhY2sgaXMgYWNjdXJhdGUuXG4gIHJldHVybiB7XG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIHNvdXJjZTogc291cmNlLFxuICAgIHN0YWNrOiBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHNvdXJjZSlcbiAgfTtcbn1cblxudmFyIHByb3ZpZGVyQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpO1xudmFyIHZhbHVlQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpO1xudmFyIGNoYW5nZWRCaXRzQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKDApO1xuXG52YXIgcmVuZGVyZXJTaWdpbCA9IHZvaWQgMDtcbntcbiAgLy8gVXNlIHRoaXMgdG8gZGV0ZWN0IG11bHRpcGxlIHJlbmRlcmVycyB1c2luZyB0aGUgc2FtZSBjb250ZXh0XG4gIHJlbmRlcmVyU2lnaWwgPSB7fTtcbn1cblxuZnVuY3Rpb24gcHVzaFByb3ZpZGVyKHByb3ZpZGVyRmliZXIpIHtcbiAgdmFyIGNvbnRleHQgPSBwcm92aWRlckZpYmVyLnR5cGUuX2NvbnRleHQ7XG5cbiAgaWYgKGlzUHJpbWFyeVJlbmRlcmVyKSB7XG4gICAgcHVzaChjaGFuZ2VkQml0c0N1cnNvciwgY29udGV4dC5fY2hhbmdlZEJpdHMsIHByb3ZpZGVyRmliZXIpO1xuICAgIHB1c2godmFsdWVDdXJzb3IsIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSwgcHJvdmlkZXJGaWJlcik7XG4gICAgcHVzaChwcm92aWRlckN1cnNvciwgcHJvdmlkZXJGaWJlciwgcHJvdmlkZXJGaWJlcik7XG5cbiAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSBwcm92aWRlckZpYmVyLnBlbmRpbmdQcm9wcy52YWx1ZTtcbiAgICBjb250ZXh0Ll9jaGFuZ2VkQml0cyA9IHByb3ZpZGVyRmliZXIuc3RhdGVOb2RlO1xuICAgIHtcbiAgICAgICEoY29udGV4dC5fY3VycmVudFJlbmRlcmVyID09PSB1bmRlZmluZWQgfHwgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID09PSBudWxsIHx8IGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9PT0gcmVuZGVyZXJTaWdpbCkgPyB3YXJuaW5nKGZhbHNlLCAnRGV0ZWN0ZWQgbXVsdGlwbGUgcmVuZGVyZXJzIGNvbmN1cnJlbnRseSByZW5kZXJpbmcgdGhlICcgKyAnc2FtZSBjb250ZXh0IHByb3ZpZGVyLiBUaGlzIGlzIGN1cnJlbnRseSB1bnN1cHBvcnRlZC4nKSA6IHZvaWQgMDtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9IHJlbmRlcmVyU2lnaWw7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHB1c2goY2hhbmdlZEJpdHNDdXJzb3IsIGNvbnRleHQuX2NoYW5nZWRCaXRzMiwgcHJvdmlkZXJGaWJlcik7XG4gICAgcHVzaCh2YWx1ZUN1cnNvciwgY29udGV4dC5fY3VycmVudFZhbHVlMiwgcHJvdmlkZXJGaWJlcik7XG4gICAgcHVzaChwcm92aWRlckN1cnNvciwgcHJvdmlkZXJGaWJlciwgcHJvdmlkZXJGaWJlcik7XG5cbiAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUyID0gcHJvdmlkZXJGaWJlci5wZW5kaW5nUHJvcHMudmFsdWU7XG4gICAgY29udGV4dC5fY2hhbmdlZEJpdHMyID0gcHJvdmlkZXJGaWJlci5zdGF0ZU5vZGU7XG4gICAge1xuICAgICAgIShjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIyID09PSB1bmRlZmluZWQgfHwgY29udGV4dC5fY3VycmVudFJlbmRlcmVyMiA9PT0gbnVsbCB8fCBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIyID09PSByZW5kZXJlclNpZ2lsKSA/IHdhcm5pbmcoZmFsc2UsICdEZXRlY3RlZCBtdWx0aXBsZSByZW5kZXJlcnMgY29uY3VycmVudGx5IHJlbmRlcmluZyB0aGUgJyArICdzYW1lIGNvbnRleHQgcHJvdmlkZXIuIFRoaXMgaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkLicpIDogdm9pZCAwO1xuICAgICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyMiA9IHJlbmRlcmVyU2lnaWw7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBvcFByb3ZpZGVyKHByb3ZpZGVyRmliZXIpIHtcbiAgdmFyIGNoYW5nZWRCaXRzID0gY2hhbmdlZEJpdHNDdXJzb3IuY3VycmVudDtcbiAgdmFyIGN1cnJlbnRWYWx1ZSA9IHZhbHVlQ3Vyc29yLmN1cnJlbnQ7XG5cbiAgcG9wKHByb3ZpZGVyQ3Vyc29yLCBwcm92aWRlckZpYmVyKTtcbiAgcG9wKHZhbHVlQ3Vyc29yLCBwcm92aWRlckZpYmVyKTtcbiAgcG9wKGNoYW5nZWRCaXRzQ3Vyc29yLCBwcm92aWRlckZpYmVyKTtcblxuICB2YXIgY29udGV4dCA9IHByb3ZpZGVyRmliZXIudHlwZS5fY29udGV4dDtcbiAgaWYgKGlzUHJpbWFyeVJlbmRlcmVyKSB7XG4gICAgY29udGV4dC5fY3VycmVudFZhbHVlID0gY3VycmVudFZhbHVlO1xuICAgIGNvbnRleHQuX2NoYW5nZWRCaXRzID0gY2hhbmdlZEJpdHM7XG4gIH0gZWxzZSB7XG4gICAgY29udGV4dC5fY3VycmVudFZhbHVlMiA9IGN1cnJlbnRWYWx1ZTtcbiAgICBjb250ZXh0Ll9jaGFuZ2VkQml0czIgPSBjaGFuZ2VkQml0cztcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDb250ZXh0Q3VycmVudFZhbHVlKGNvbnRleHQpIHtcbiAgcmV0dXJuIGlzUHJpbWFyeVJlbmRlcmVyID8gY29udGV4dC5fY3VycmVudFZhbHVlIDogY29udGV4dC5fY3VycmVudFZhbHVlMjtcbn1cblxuZnVuY3Rpb24gZ2V0Q29udGV4dENoYW5nZWRCaXRzKGNvbnRleHQpIHtcbiAgcmV0dXJuIGlzUHJpbWFyeVJlbmRlcmVyID8gY29udGV4dC5fY2hhbmdlZEJpdHMgOiBjb250ZXh0Ll9jaGFuZ2VkQml0czI7XG59XG5cbnZhciBOT19DT05URVhUID0ge307XG5cbnZhciBjb250ZXh0U3RhY2tDdXJzb3IkMSA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcbnZhciBjb250ZXh0RmliZXJTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcbnZhciByb290SW5zdGFuY2VTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcblxuZnVuY3Rpb24gcmVxdWlyZWRDb250ZXh0KGMpIHtcbiAgIShjICE9PSBOT19DT05URVhUKSA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIGhvc3QgY29udGV4dCB0byBleGlzdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgcmV0dXJuIGM7XG59XG5cbmZ1bmN0aW9uIGdldFJvb3RIb3N0Q29udGFpbmVyKCkge1xuICB2YXIgcm9vdEluc3RhbmNlID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICByZXR1cm4gcm9vdEluc3RhbmNlO1xufVxuXG5mdW5jdGlvbiBwdXNoSG9zdENvbnRhaW5lcihmaWJlciwgbmV4dFJvb3RJbnN0YW5jZSkge1xuICAvLyBQdXNoIGN1cnJlbnQgcm9vdCBpbnN0YW5jZSBvbnRvIHRoZSBzdGFjaztcbiAgLy8gVGhpcyBhbGxvd3MgdXMgdG8gcmVzZXQgcm9vdCB3aGVuIHBvcnRhbHMgYXJlIHBvcHBlZC5cbiAgcHVzaChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgbmV4dFJvb3RJbnN0YW5jZSwgZmliZXIpO1xuICAvLyBUcmFjayB0aGUgY29udGV4dCBhbmQgdGhlIEZpYmVyIHRoYXQgcHJvdmlkZWQgaXQuXG4gIC8vIFRoaXMgZW5hYmxlcyB1cyB0byBwb3Agb25seSBGaWJlcnMgdGhhdCBwcm92aWRlIHVuaXF1ZSBjb250ZXh0cy5cbiAgcHVzaChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIsIGZpYmVyKTtcblxuICAvLyBGaW5hbGx5LCB3ZSBuZWVkIHRvIHB1c2ggdGhlIGhvc3QgY29udGV4dCB0byB0aGUgc3RhY2suXG4gIC8vIEhvd2V2ZXIsIHdlIGNhbid0IGp1c3QgY2FsbCBnZXRSb290SG9zdENvbnRleHQoKSBhbmQgcHVzaCBpdCBiZWNhdXNlXG4gIC8vIHdlJ2QgaGF2ZSBhIGRpZmZlcmVudCBudW1iZXIgb2YgZW50cmllcyBvbiB0aGUgc3RhY2sgZGVwZW5kaW5nIG9uXG4gIC8vIHdoZXRoZXIgZ2V0Um9vdEhvc3RDb250ZXh0KCkgdGhyb3dzIHNvbWV3aGVyZSBpbiByZW5kZXJlciBjb2RlIG9yIG5vdC5cbiAgLy8gU28gd2UgcHVzaCBhbiBlbXB0eSB2YWx1ZSBmaXJzdC4gVGhpcyBsZXRzIHVzIHNhZmVseSB1bndpbmQgb24gZXJyb3JzLlxuICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciQxLCBOT19DT05URVhULCBmaWJlcik7XG4gIHZhciBuZXh0Um9vdENvbnRleHQgPSBnZXRSb290SG9zdENvbnRleHQobmV4dFJvb3RJbnN0YW5jZSk7XG4gIC8vIE5vdyB0aGF0IHdlIGtub3cgdGhpcyBmdW5jdGlvbiBkb2Vzbid0IHRocm93LCByZXBsYWNlIGl0LlxuICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yJDEsIGZpYmVyKTtcbiAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IkMSwgbmV4dFJvb3RDb250ZXh0LCBmaWJlcik7XG59XG5cbmZ1bmN0aW9uIHBvcEhvc3RDb250YWluZXIoZmliZXIpIHtcbiAgcG9wKGNvbnRleHRTdGFja0N1cnNvciQxLCBmaWJlcik7XG4gIHBvcChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIpO1xuICBwb3Aocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IsIGZpYmVyKTtcbn1cblxuZnVuY3Rpb24gZ2V0SG9zdENvbnRleHQoKSB7XG4gIHZhciBjb250ZXh0ID0gcmVxdWlyZWRDb250ZXh0KGNvbnRleHRTdGFja0N1cnNvciQxLmN1cnJlbnQpO1xuICByZXR1cm4gY29udGV4dDtcbn1cblxuZnVuY3Rpb24gcHVzaEhvc3RDb250ZXh0KGZpYmVyKSB7XG4gIHZhciByb290SW5zdGFuY2UgPSByZXF1aXJlZENvbnRleHQocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudCk7XG4gIHZhciBjb250ZXh0ID0gcmVxdWlyZWRDb250ZXh0KGNvbnRleHRTdGFja0N1cnNvciQxLmN1cnJlbnQpO1xuICB2YXIgbmV4dENvbnRleHQgPSBnZXRDaGlsZEhvc3RDb250ZXh0KGNvbnRleHQsIGZpYmVyLnR5cGUsIHJvb3RJbnN0YW5jZSk7XG5cbiAgLy8gRG9uJ3QgcHVzaCB0aGlzIEZpYmVyJ3MgY29udGV4dCB1bmxlc3MgaXQncyB1bmlxdWUuXG4gIGlmIChjb250ZXh0ID09PSBuZXh0Q29udGV4dCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRyYWNrIHRoZSBjb250ZXh0IGFuZCB0aGUgRmliZXIgdGhhdCBwcm92aWRlZCBpdC5cbiAgLy8gVGhpcyBlbmFibGVzIHVzIHRvIHBvcCBvbmx5IEZpYmVycyB0aGF0IHByb3ZpZGUgdW5pcXVlIGNvbnRleHRzLlxuICBwdXNoKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpO1xuICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciQxLCBuZXh0Q29udGV4dCwgZmliZXIpO1xufVxuXG5mdW5jdGlvbiBwb3BIb3N0Q29udGV4dChmaWJlcikge1xuICAvLyBEbyBub3QgcG9wIHVubGVzcyB0aGlzIEZpYmVyIHByb3ZpZGVkIHRoZSBjdXJyZW50IGNvbnRleHQuXG4gIC8vIHB1c2hIb3N0Q29udGV4dCgpIG9ubHkgcHVzaGVzIEZpYmVycyB0aGF0IHByb3ZpZGUgdW5pcXVlIGNvbnRleHRzLlxuICBpZiAoY29udGV4dEZpYmVyU3RhY2tDdXJzb3IuY3VycmVudCAhPT0gZmliZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yJDEsIGZpYmVyKTtcbiAgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG59XG5cbnZhciBjb21taXRUaW1lID0gMDtcblxuZnVuY3Rpb24gZ2V0Q29tbWl0VGltZSgpIHtcbiAgcmV0dXJuIGNvbW1pdFRpbWU7XG59XG5cbmZ1bmN0aW9uIHJlY29yZENvbW1pdFRpbWUoKSB7XG4gIGlmICghZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb21taXRUaW1lID0gbm93KCk7XG59XG5cbi8qKlxuICogVGhlIFwiYWN0dWFsXCIgcmVuZGVyIHRpbWUgaXMgdG90YWwgdGltZSByZXF1aXJlZCB0byByZW5kZXIgdGhlIGRlc2NlbmRhbnRzIG9mIGEgUHJvZmlsZXIgY29tcG9uZW50LlxuICogVGhpcyB0aW1lIGlzIHN0b3JlZCBhcyBhIHN0YWNrLCBzaW5jZSBQcm9maWxlcnMgY2FuIGJlIG5lc3RlZC5cbiAqIFRoaXMgdGltZSBpcyBzdGFydGVkIGR1cmluZyB0aGUgXCJiZWdpblwiIHBoYXNlIGFuZCBzdG9wcGVkIGR1cmluZyB0aGUgXCJjb21wbGV0ZVwiIHBoYXNlLlxuICogSXQgaXMgcGF1c2VkIChhbmQgYWNjdW11bGF0ZWQpIGluIHRoZSBldmVudCBvZiBhbiBpbnRlcnJ1cHRpb24gb3IgYW4gYWJvcnRlZCByZW5kZXIuXG4gKi9cblxudmFyIGZpYmVyU3RhY2skMSA9IHZvaWQgMDtcblxue1xuICBmaWJlclN0YWNrJDEgPSBbXTtcbn1cblxudmFyIHRpbWVyUGF1c2VkQXQgPSAwO1xudmFyIHRvdGFsRWxhcHNlZFBhdXNlVGltZSA9IDA7XG5cbmZ1bmN0aW9uIGNoZWNrQWN0dWFsUmVuZGVyVGltZVN0YWNrRW1wdHkoKSB7XG4gIGlmICghZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHJldHVybjtcbiAgfVxuICB7XG4gICAgIShmaWJlclN0YWNrJDEubGVuZ3RoID09PSAwKSA/IHdhcm5pbmcoZmFsc2UsICdFeHBlY3RlZCBhbiBlbXB0eSBzdGFjay4gU29tZXRoaW5nIHdhcyBub3QgcmVzZXQgcHJvcGVybHkuJykgOiB2b2lkIDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFya0FjdHVhbFJlbmRlclRpbWVTdGFydGVkKGZpYmVyKSB7XG4gIGlmICghZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHJldHVybjtcbiAgfVxuICB7XG4gICAgZmliZXJTdGFjayQxLnB1c2goZmliZXIpO1xuICB9XG5cbiAgZmliZXIuYWN0dWFsRHVyYXRpb24gPSBub3coKSAtIGZpYmVyLmFjdHVhbER1cmF0aW9uIC0gdG90YWxFbGFwc2VkUGF1c2VUaW1lO1xuICBmaWJlci5hY3R1YWxTdGFydFRpbWUgPSBub3coKTtcbn1cblxuZnVuY3Rpb24gcGF1c2VBY3R1YWxSZW5kZXJUaW1lcklmUnVubmluZygpIHtcbiAgaWYgKCFlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0aW1lclBhdXNlZEF0ID09PSAwKSB7XG4gICAgdGltZXJQYXVzZWRBdCA9IG5vdygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY29yZEVsYXBzZWRBY3R1YWxSZW5kZXJUaW1lKGZpYmVyKSB7XG4gIGlmICghZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHJldHVybjtcbiAgfVxuICB7XG4gICAgIShmaWJlciA9PT0gZmliZXJTdGFjayQxLnBvcCgpKSA/IHdhcm5pbmcoZmFsc2UsICdVbmV4cGVjdGVkIEZpYmVyICglcykgcG9wcGVkLicsIGdldENvbXBvbmVudE5hbWUoZmliZXIpKSA6IHZvaWQgMDtcbiAgfVxuXG4gIGZpYmVyLmFjdHVhbER1cmF0aW9uID0gbm93KCkgLSB0b3RhbEVsYXBzZWRQYXVzZVRpbWUgLSBmaWJlci5hY3R1YWxEdXJhdGlvbjtcbn1cblxuZnVuY3Rpb24gcmVzZXRBY3R1YWxSZW5kZXJUaW1lcigpIHtcbiAgaWYgKCFlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRvdGFsRWxhcHNlZFBhdXNlVGltZSA9IDA7XG59XG5cbmZ1bmN0aW9uIHJlc3VtZUFjdHVhbFJlbmRlclRpbWVySWZQYXVzZWQoKSB7XG4gIGlmICghZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodGltZXJQYXVzZWRBdCA+IDApIHtcbiAgICB0b3RhbEVsYXBzZWRQYXVzZVRpbWUgKz0gbm93KCkgLSB0aW1lclBhdXNlZEF0O1xuICAgIHRpbWVyUGF1c2VkQXQgPSAwO1xuICB9XG59XG5cbi8qKlxuICogVGhlIFwiYmFzZVwiIHJlbmRlciB0aW1lIGlzIHRoZSBkdXJhdGlvbiBvZiB0aGUg4oCcYmVnaW7igJ0gcGhhc2Ugb2Ygd29yayBmb3IgYSBwYXJ0aWN1bGFyIGZpYmVyLlxuICogVGhpcyB0aW1lIGlzIG1lYXN1cmVkIGFuZCBzdG9yZWQgb24gZWFjaCBmaWJlci5cbiAqIFRoZSB0aW1lIGZvciBhbGwgc2libGluZyBmaWJlcnMgYXJlIGFjY3VtdWxhdGVkIGFuZCBzdG9yZWQgb24gdGhlaXIgcGFyZW50IGR1cmluZyB0aGUgXCJjb21wbGV0ZVwiIHBoYXNlLlxuICogSWYgYSBmaWJlciBiYWlscyBvdXQgKHNDVSBmYWxzZSkgdGhlbiBpdHMgXCJiYXNlXCIgdGltZXIgaXMgY2FuY2VsbGVkIGFuZCB0aGUgZmliZXIgaXMgbm90IHVwZGF0ZWQuXG4gKi9cblxudmFyIGJhc2VTdGFydFRpbWUgPSAtMTtcblxuZnVuY3Rpb24gcmVjb3JkRWxhcHNlZEJhc2VSZW5kZXJUaW1lSWZSdW5uaW5nKGZpYmVyKSB7XG4gIGlmICghZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoYmFzZVN0YXJ0VGltZSAhPT0gLTEpIHtcbiAgICBmaWJlci5zZWxmQmFzZVRpbWUgPSBub3coKSAtIGJhc2VTdGFydFRpbWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRCYXNlUmVuZGVyVGltZXIoKSB7XG4gIGlmICghZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHJldHVybjtcbiAgfVxuICB7XG4gICAgaWYgKGJhc2VTdGFydFRpbWUgIT09IC0xKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnQ2Fubm90IHN0YXJ0IGJhc2UgdGltZXIgdGhhdCBpcyBhbHJlYWR5IHJ1bm5pbmcuICcgKyAnVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiAnICsgJ1BsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxuICBiYXNlU3RhcnRUaW1lID0gbm93KCk7XG59XG5cbmZ1bmN0aW9uIHN0b3BCYXNlUmVuZGVyVGltZXJJZlJ1bm5pbmcoKSB7XG4gIGlmICghZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHJldHVybjtcbiAgfVxuICBiYXNlU3RhcnRUaW1lID0gLTE7XG59XG5cbnZhciBmYWtlSW50ZXJuYWxJbnN0YW5jZSA9IHt9O1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG52YXIgZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50ID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZSA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUgPSB2b2lkIDA7XG52YXIgd2Fybk9uVW5kZWZpbmVkRGVyaXZlZFN0YXRlID0gdm9pZCAwO1xudmFyIHdhcm5PbkludmFsaWRDYWxsYmFjayQxID0gdm9pZCAwO1xuXG57XG4gIGRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudCA9IG5ldyBTZXQoKTtcbiAgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlID0gbmV3IFNldCgpO1xuICBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcblxuICB2YXIgZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrID0gbmV3IFNldCgpO1xuXG4gIHdhcm5PbkludmFsaWRDYWxsYmFjayQxID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgaWYgKGNhbGxiYWNrID09PSBudWxsIHx8IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIga2V5ID0gY2FsbGVyTmFtZSArICdfJyArIGNhbGxiYWNrO1xuICAgIGlmICghZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrLmhhcyhrZXkpKSB7XG4gICAgICBkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2suYWRkKGtleSk7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogRXhwZWN0ZWQgdGhlIGxhc3Qgb3B0aW9uYWwgYGNhbGxiYWNrYCBhcmd1bWVudCB0byBiZSBhICcgKyAnZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLicsIGNhbGxlck5hbWUsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgd2Fybk9uVW5kZWZpbmVkRGVyaXZlZFN0YXRlID0gZnVuY3Rpb24gKHdvcmtJblByb2dyZXNzLCBwYXJ0aWFsU3RhdGUpIHtcbiAgICBpZiAocGFydGlhbFN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgJ0NvbXBvbmVudCc7XG4gICAgICBpZiAoIWRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZS5oYXMoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlLmFkZChjb21wb25lbnROYW1lKTtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpOiBBIHZhbGlkIHN0YXRlIG9iamVjdCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gJyArICdZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuJywgY29tcG9uZW50TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoaXMgaXMgc28gZ3Jvc3MgYnV0IGl0J3MgYXQgbGVhc3Qgbm9uLWNyaXRpY2FsIGFuZCBjYW4gYmUgcmVtb3ZlZCBpZlxuICAvLyBpdCBjYXVzZXMgcHJvYmxlbXMuIFRoaXMgaXMgbWVhbnQgdG8gZ2l2ZSBhIG5pY2VyIGVycm9yIG1lc3NhZ2UgZm9yXG4gIC8vIFJlYWN0RE9NMTUudW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIocmVhY3RET00xNkNvbXBvbmVudCxcbiAgLy8gLi4uKSkgd2hpY2ggb3RoZXJ3aXNlIHRocm93cyBhIFwiX3Byb2Nlc3NDaGlsZENvbnRleHQgaXMgbm90IGEgZnVuY3Rpb25cIlxuICAvLyBleGNlcHRpb24uXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmYWtlSW50ZXJuYWxJbnN0YW5jZSwgJ19wcm9jZXNzQ2hpbGRDb250ZXh0Jywge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdfcHJvY2Vzc0NoaWxkQ29udGV4dCBpcyBub3QgYXZhaWxhYmxlIGluIFJlYWN0IDE2Ky4gVGhpcyBsaWtlbHkgbWVhbnMgeW91IGhhdmUgbXVsdGlwbGUgY29waWVzIG9mIFJlYWN0IGFuZCBhcmUgYXR0ZW1wdGluZyB0byBuZXN0IGEgUmVhY3QgMTUgdHJlZSBpbnNpZGUgYSBSZWFjdCAxNiB0cmVlIHVzaW5nIHVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyLCB3aGljaCBpc25cXCd0IHN1cHBvcnRlZC4gVHJ5IHRvIG1ha2Ugc3VyZSB5b3UgaGF2ZSBvbmx5IG9uZSBjb3B5IG9mIFJlYWN0IChhbmQgaWRlYWxseSwgc3dpdGNoIHRvIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbCkuJyk7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmZyZWV6ZShmYWtlSW50ZXJuYWxJbnN0YW5jZSk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMsIG5leHRQcm9wcykge1xuICB2YXIgcHJldlN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcblxuICB7XG4gICAgaWYgKGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyB8fCBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAvLyBJbnZva2UgdGhlIGZ1bmN0aW9uIGFuIGV4dHJhIHRpbWUgdG8gaGVscCBkZXRlY3Qgc2lkZS1lZmZlY3RzLlxuICAgICAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgcGFydGlhbFN0YXRlID0gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKTtcblxuICB7XG4gICAgd2Fybk9uVW5kZWZpbmVkRGVyaXZlZFN0YXRlKHdvcmtJblByb2dyZXNzLCBwYXJ0aWFsU3RhdGUpO1xuICB9XG4gIC8vIE1lcmdlIHRoZSBwYXJ0aWFsIHN0YXRlIGFuZCB0aGUgcHJldmlvdXMgc3RhdGUuXG4gIHZhciBtZW1vaXplZFN0YXRlID0gcGFydGlhbFN0YXRlID09PSBudWxsIHx8IHBhcnRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkID8gcHJldlN0YXRlIDogX2Fzc2lnbih7fSwgcHJldlN0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbWVtb2l6ZWRTdGF0ZTtcblxuICAvLyBPbmNlIHRoZSB1cGRhdGUgcXVldWUgaXMgZW1wdHksIHBlcnNpc3QgdGhlIGRlcml2ZWQgc3RhdGUgb250byB0aGVcbiAgLy8gYmFzZSBzdGF0ZS5cbiAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB1cGRhdGVRdWV1ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrKSB7XG4gICAgdXBkYXRlUXVldWUuYmFzZVN0YXRlID0gbWVtb2l6ZWRTdGF0ZTtcbiAgfVxufVxuXG52YXIgY2xhc3NDb21wb25lbnRVcGRhdGVyID0ge1xuICBpc01vdW50ZWQ6IGlzTW91bnRlZCxcbiAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAoaW5zdCwgcGF5bG9hZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZmliZXIgPSBnZXQoaW5zdCk7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoY3VycmVudFRpbWUsIGZpYmVyKTtcblxuICAgIHZhciB1cGRhdGUgPSBjcmVhdGVVcGRhdGUoZXhwaXJhdGlvblRpbWUpO1xuICAgIHVwZGF0ZS5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICBpZiAoY2FsbGJhY2sgIT09IHVuZGVmaW5lZCAmJiBjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAge1xuICAgICAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMShjYWxsYmFjaywgJ3NldFN0YXRlJyk7XG4gICAgICB9XG4gICAgICB1cGRhdGUuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBlbnF1ZXVlVXBkYXRlKGZpYmVyLCB1cGRhdGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICBzY2hlZHVsZVdvcmskMShmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICB9LFxuICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAoaW5zdCwgcGF5bG9hZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZmliZXIgPSBnZXQoaW5zdCk7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoY3VycmVudFRpbWUsIGZpYmVyKTtcblxuICAgIHZhciB1cGRhdGUgPSBjcmVhdGVVcGRhdGUoZXhwaXJhdGlvblRpbWUpO1xuICAgIHVwZGF0ZS50YWcgPSBSZXBsYWNlU3RhdGU7XG4gICAgdXBkYXRlLnBheWxvYWQgPSBwYXlsb2FkO1xuXG4gICAgaWYgKGNhbGxiYWNrICE9PSB1bmRlZmluZWQgJiYgY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIHtcbiAgICAgICAgd2Fybk9uSW52YWxpZENhbGxiYWNrJDEoY2FsbGJhY2ssICdyZXBsYWNlU3RhdGUnKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZS5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGVucXVldWVVcGRhdGUoZmliZXIsIHVwZGF0ZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgIHNjaGVkdWxlV29yayQxKGZpYmVyLCBleHBpcmF0aW9uVGltZSk7XG4gIH0sXG4gIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKGluc3QsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZpYmVyID0gZ2V0KGluc3QpO1xuICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICB2YXIgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGN1cnJlbnRUaW1lLCBmaWJlcik7XG5cbiAgICB2YXIgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGV4cGlyYXRpb25UaW1lKTtcbiAgICB1cGRhdGUudGFnID0gRm9yY2VVcGRhdGU7XG5cbiAgICBpZiAoY2FsbGJhY2sgIT09IHVuZGVmaW5lZCAmJiBjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAge1xuICAgICAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMShjYWxsYmFjaywgJ2ZvcmNlVXBkYXRlJyk7XG4gICAgICB9XG4gICAgICB1cGRhdGUuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBlbnF1ZXVlVXBkYXRlKGZpYmVyLCB1cGRhdGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICBzY2hlZHVsZVdvcmskMShmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgb2xkUHJvcHMsIG5ld1Byb3BzLCBvbGRTdGF0ZSwgbmV3U3RhdGUsIG5ld0NvbnRleHQpIHtcbiAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gIGlmICh0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc3RhcnRQaGFzZVRpbWVyKHdvcmtJblByb2dyZXNzLCAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyk7XG4gICAgdmFyIHNob3VsZFVwZGF0ZSA9IGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZShuZXdQcm9wcywgbmV3U3RhdGUsIG5ld0NvbnRleHQpO1xuICAgIHN0b3BQaGFzZVRpbWVyKCk7XG5cbiAgICB7XG4gICAgICAhKHNob3VsZFVwZGF0ZSAhPT0gdW5kZWZpbmVkKSA/IHdhcm5pbmcoZmFsc2UsICclcy5zaG91bGRDb21wb25lbnRVcGRhdGUoKTogUmV0dXJuZWQgdW5kZWZpbmVkIGluc3RlYWQgb2YgYSAnICsgJ2Jvb2xlYW4gdmFsdWUuIE1ha2Ugc3VyZSB0byByZXR1cm4gdHJ1ZSBvciBmYWxzZS4nLCBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNob3VsZFVwZGF0ZTtcbiAgfVxuXG4gIGlmIChjdG9yLnByb3RvdHlwZSAmJiBjdG9yLnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCkge1xuICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKG9sZFByb3BzLCBuZXdQcm9wcykgfHwgIXNoYWxsb3dFcXVhbChvbGRTdGF0ZSwgbmV3U3RhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNoZWNrQ2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcykge1xuICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gIHZhciB0eXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAge1xuICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgJ0NvbXBvbmVudCc7XG4gICAgdmFyIHJlbmRlclByZXNlbnQgPSBpbnN0YW5jZS5yZW5kZXI7XG5cbiAgICBpZiAoIXJlbmRlclByZXNlbnQpIHtcbiAgICAgIGlmICh0eXBlLnByb3RvdHlwZSAmJiB0eXBlb2YgdHlwZS5wcm90b3R5cGUucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlIHJldHVybmVkIGNvbXBvbmVudCAnICsgJ2luc3RhbmNlOiBkaWQgeW91IGFjY2lkZW50YWxseSByZXR1cm4gYW4gb2JqZWN0IGZyb20gdGhlIGNvbnN0cnVjdG9yPycsIG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzKC4uLik6IE5vIGByZW5kZXJgIG1ldGhvZCBmb3VuZCBvbiB0aGUgcmV0dXJuZWQgY29tcG9uZW50ICcgKyAnaW5zdGFuY2U6IHlvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gZGVmaW5lIGByZW5kZXJgLicsIG5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBub0dldEluaXRpYWxTdGF0ZU9uRVM2ID0gIWluc3RhbmNlLmdldEluaXRpYWxTdGF0ZSB8fCBpbnN0YW5jZS5nZXRJbml0aWFsU3RhdGUuaXNSZWFjdENsYXNzQXBwcm92ZWQgfHwgaW5zdGFuY2Uuc3RhdGU7XG4gICAgIW5vR2V0SW5pdGlhbFN0YXRlT25FUzYgPyB3YXJuaW5nKGZhbHNlLCAnZ2V0SW5pdGlhbFN0YXRlIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuICcgKyAnVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiAnICsgJ0RpZCB5b3UgbWVhbiB0byBkZWZpbmUgYSBzdGF0ZSBwcm9wZXJ0eSBpbnN0ZWFkPycsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBub0dldERlZmF1bHRQcm9wc09uRVM2ID0gIWluc3RhbmNlLmdldERlZmF1bHRQcm9wcyB8fCBpbnN0YW5jZS5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQ7XG4gICAgIW5vR2V0RGVmYXVsdFByb3BzT25FUzYgPyB3YXJuaW5nKGZhbHNlLCAnZ2V0RGVmYXVsdFByb3BzIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuICcgKyAnVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiAnICsgJ1VzZSBhIHN0YXRpYyBwcm9wZXJ0eSB0byBkZWZpbmUgZGVmYXVsdFByb3BzIGluc3RlYWQuJywgbmFtZSkgOiB2b2lkIDA7XG4gICAgdmFyIG5vSW5zdGFuY2VQcm9wVHlwZXMgPSAhaW5zdGFuY2UucHJvcFR5cGVzO1xuICAgICFub0luc3RhbmNlUHJvcFR5cGVzID8gd2FybmluZyhmYWxzZSwgJ3Byb3BUeXBlcyB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljICcgKyAncHJvcGVydHkgdG8gZGVmaW5lIHByb3BUeXBlcyBpbnN0ZWFkLicsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBub0luc3RhbmNlQ29udGV4dFR5cGVzID0gIWluc3RhbmNlLmNvbnRleHRUeXBlcztcbiAgICAhbm9JbnN0YW5jZUNvbnRleHRUeXBlcyA/IHdhcm5pbmcoZmFsc2UsICdjb250ZXh0VHlwZXMgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhIHN0YXRpYyAnICsgJ3Byb3BlcnR5IHRvIGRlZmluZSBjb250ZXh0VHlwZXMgaW5zdGVhZC4nLCBuYW1lKSA6IHZvaWQgMDtcbiAgICB2YXIgbm9Db21wb25lbnRTaG91bGRVcGRhdGUgPSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50U2hvdWxkVXBkYXRlICE9PSAnZnVuY3Rpb24nO1xuICAgICFub0NvbXBvbmVudFNob3VsZFVwZGF0ZSA/IHdhcm5pbmcoZmFsc2UsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gJyArICdUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgJyArICdleHBlY3RlZCB0byByZXR1cm4gYSB2YWx1ZS4nLCBuYW1lKSA6IHZvaWQgMDtcbiAgICBpZiAodHlwZS5wcm90b3R5cGUgJiYgdHlwZS5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQgJiYgdHlwZW9mIGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpLiAnICsgJ3Nob3VsZENvbXBvbmVudFVwZGF0ZSBzaG91bGQgbm90IGJlIHVzZWQgd2hlbiBleHRlbmRpbmcgUmVhY3QuUHVyZUNvbXBvbmVudC4gJyArICdQbGVhc2UgZXh0ZW5kIFJlYWN0LkNvbXBvbmVudCBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgaXMgdXNlZC4nLCBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQSBwdXJlIGNvbXBvbmVudCcpO1xuICAgIH1cbiAgICB2YXIgbm9Db21wb25lbnREaWRVbm1vdW50ID0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVubW91bnQgIT09ICdmdW5jdGlvbic7XG4gICAgIW5vQ29tcG9uZW50RGlkVW5tb3VudCA/IHdhcm5pbmcoZmFsc2UsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50RGlkVW5tb3VudCgpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiAnICsgJ0RpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsVW5tb3VudCgpPycsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBub0NvbXBvbmVudERpZFJlY2VpdmVQcm9wcyA9IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRSZWNlaXZlUHJvcHMgIT09ICdmdW5jdGlvbic7XG4gICAgIW5vQ29tcG9uZW50RGlkUmVjZWl2ZVByb3BzID8gd2FybmluZyhmYWxzZSwgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnREaWRSZWNlaXZlUHJvcHMoKS4gQnV0IHRoZXJlIGlzIG5vIHN1Y2ggbGlmZWN5Y2xlIG1ldGhvZC4gJyArICdJZiB5b3UgbWVhbnQgdG8gdXBkYXRlIHRoZSBzdGF0ZSBpbiByZXNwb25zZSB0byBjaGFuZ2luZyBwcm9wcywgJyArICd1c2UgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpLiBJZiB5b3UgbWVhbnQgdG8gZmV0Y2ggZGF0YSBvciAnICsgJ3J1biBzaWRlLWVmZmVjdHMgb3IgbXV0YXRpb25zIGFmdGVyIFJlYWN0IGhhcyB1cGRhdGVkIHRoZSBVSSwgdXNlIGNvbXBvbmVudERpZFVwZGF0ZSgpLicsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBub0NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgPSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAhPT0gJ2Z1bmN0aW9uJztcbiAgICAhbm9Db21wb25lbnRXaWxsUmVjaWV2ZVByb3BzID8gd2FybmluZyhmYWxzZSwgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/JywgbmFtZSkgOiB2b2lkIDA7XG4gICAgdmFyIG5vVW5zYWZlQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyA9IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAhPT0gJ2Z1bmN0aW9uJztcbiAgICAhbm9VbnNhZmVDb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzID8gd2FybmluZyhmYWxzZSwgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdVTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT8nLCBuYW1lKSA6IHZvaWQgMDtcbiAgICB2YXIgaGFzTXV0YXRlZFByb3BzID0gaW5zdGFuY2UucHJvcHMgIT09IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAhKGluc3RhbmNlLnByb3BzID09PSB1bmRlZmluZWQgfHwgIWhhc011dGF0ZWRQcm9wcykgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogV2hlbiBjYWxsaW5nIHN1cGVyKCkgaW4gYCVzYCwgbWFrZSBzdXJlIHRvIHBhc3MgJyArIFwidXAgdGhlIHNhbWUgcHJvcHMgdGhhdCB5b3VyIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yIHdhcyBwYXNzZWQuXCIsIG5hbWUsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBub0luc3RhbmNlRGVmYXVsdFByb3BzID0gIWluc3RhbmNlLmRlZmF1bHRQcm9wcztcbiAgICAhbm9JbnN0YW5jZURlZmF1bHRQcm9wcyA/IHdhcm5pbmcoZmFsc2UsICdTZXR0aW5nIGRlZmF1bHRQcm9wcyBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIGlnbm9yZWQuJyArICcgSW5zdGVhZCwgZGVmaW5lIGRlZmF1bHRQcm9wcyBhcyBhIHN0YXRpYyBwcm9wZXJ0eSBvbiAlcy4nLCBuYW1lLCBuYW1lKSA6IHZvaWQgMDtcblxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJyAmJiAhZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlLmhhcyh0eXBlKSkge1xuICAgICAgZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlLmFkZCh0eXBlKTtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclczogZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBzaG91bGQgYmUgdXNlZCB3aXRoIGNvbXBvbmVudERpZFVwZGF0ZSgpLiAnICsgJ1RoaXMgY29tcG9uZW50IGRlZmluZXMgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBvbmx5LicsIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpKTtcbiAgICB9XG5cbiAgICB2YXIgbm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IHR5cGVvZiBpbnN0YW5jZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT09ICdmdW5jdGlvbic7XG4gICAgIW5vSW5zdGFuY2VHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPyB3YXJuaW5nKGZhbHNlLCAnJXM6IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpIGlzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgbWV0aG9kICcgKyAnYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhIHN0YXRpYyBtZXRob2QuJywgbmFtZSkgOiB2b2lkIDA7XG4gICAgdmFyIG5vSW5zdGFuY2VHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSB0eXBlb2YgaW5zdGFuY2UuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSAnZnVuY3Rpb24nO1xuICAgICFub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID8gd2FybmluZyhmYWxzZSwgJyVzOiBnZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2goKSBpcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIG1ldGhvZCAnICsgJ2FuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYSBzdGF0aWMgbWV0aG9kLicsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBub1N0YXRpY0dldFNuYXBzaG90QmVmb3JlVXBkYXRlID0gdHlwZW9mIHR5cGUuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT09ICdmdW5jdGlvbic7XG4gICAgIW5vU3RhdGljR2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPyB3YXJuaW5nKGZhbHNlLCAnJXM6IGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgaXMgZGVmaW5lZCBhcyBhIHN0YXRpYyBtZXRob2QgJyArICdhbmQgd2lsbCBiZSBpZ25vcmVkLiBJbnN0ZWFkLCBkZWNsYXJlIGl0IGFzIGFuIGluc3RhbmNlIG1ldGhvZC4nLCBuYW1lKSA6IHZvaWQgMDtcbiAgICB2YXIgX3N0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG4gICAgaWYgKF9zdGF0ZSAmJiAodHlwZW9mIF9zdGF0ZSAhPT0gJ29iamVjdCcgfHwgaXNBcnJheShfc3RhdGUpKSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJyVzLnN0YXRlOiBtdXN0IGJlIHNldCB0byBhbiBvYmplY3Qgb3IgbnVsbCcsIG5hbWUpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmdldENoaWxkQ29udGV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgISh0eXBlb2YgdHlwZS5jaGlsZENvbnRleHRUeXBlcyA9PT0gJ29iamVjdCcpID8gd2FybmluZyhmYWxzZSwgJyVzLmdldENoaWxkQ29udGV4dCgpOiBjaGlsZENvbnRleHRUeXBlcyBtdXN0IGJlIGRlZmluZWQgaW4gb3JkZXIgdG8gJyArICd1c2UgZ2V0Q2hpbGRDb250ZXh0KCkuJywgbmFtZSkgOiB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFkb3B0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UudXBkYXRlciA9IGNsYXNzQ29tcG9uZW50VXBkYXRlcjtcbiAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gaW5zdGFuY2U7XG4gIC8vIFRoZSBpbnN0YW5jZSBuZWVkcyBhY2Nlc3MgdG8gdGhlIGZpYmVyIHNvIHRoYXQgaXQgY2FuIHNjaGVkdWxlIHVwZGF0ZXNcbiAgc2V0KGluc3RhbmNlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gIHtcbiAgICBpbnN0YW5jZS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gZmFrZUludGVybmFsSW5zdGFuY2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29uc3RydWN0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgdmFyIHVubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gIHZhciBuZWVkc0NvbnRleHQgPSBpc0NvbnRleHRDb25zdW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gIHZhciBjb250ZXh0ID0gbmVlZHNDb250ZXh0ID8gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KSA6IGVtcHR5T2JqZWN0O1xuXG4gIC8vIEluc3RhbnRpYXRlIHR3aWNlIHRvIGhlbHAgZGV0ZWN0IHNpZGUtZWZmZWN0cy5cbiAge1xuICAgIGlmIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgfHwgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgbmV3IGN0b3IocHJvcHMsIGNvbnRleHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIH1cbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IG5ldyBjdG9yKHByb3BzLCBjb250ZXh0KTtcbiAgdmFyIHN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlICE9PSBudWxsICYmIGluc3RhbmNlLnN0YXRlICE9PSB1bmRlZmluZWQgPyBpbnN0YW5jZS5zdGF0ZSA6IG51bGw7XG4gIGFkb3B0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuXG4gIHtcbiAgICBpZiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nICYmIHN0YXRlID09PSBudWxsKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnO1xuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUuaGFzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZS5hZGQoY29tcG9uZW50TmFtZSk7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICclczogRGlkIG5vdCBwcm9wZXJseSBpbml0aWFsaXplIHN0YXRlIGR1cmluZyBjb25zdHJ1Y3Rpb24uICcgKyAnRXhwZWN0ZWQgc3RhdGUgdG8gYmUgYW4gb2JqZWN0LCBidXQgaXQgd2FzICVzLicsIGNvbXBvbmVudE5hbWUsIGluc3RhbmNlLnN0YXRlID09PSBudWxsID8gJ251bGwnIDogJ3VuZGVmaW5lZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIG5ldyBjb21wb25lbnQgQVBJcyBhcmUgZGVmaW5lZCwgXCJ1bnNhZmVcIiBsaWZlY3ljbGVzIHdvbid0IGJlIGNhbGxlZC5cbiAgICAvLyBXYXJuIGFib3V0IHRoZXNlIGxpZmVjeWNsZXMgaWYgdGhleSBhcmUgcHJlc2VudC5cbiAgICAvLyBEb24ndCB3YXJuIGFib3V0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgbWV0aG9kcyB0aG91Z2guXG4gICAgaWYgKHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBmb3VuZFdpbGxNb3VudE5hbWUgPSBudWxsO1xuICAgICAgdmFyIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSBudWxsO1xuICAgICAgdmFyIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgIT09IHRydWUpIHtcbiAgICAgICAgZm91bmRXaWxsTW91bnROYW1lID0gJ2NvbXBvbmVudFdpbGxNb3VudCc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZvdW5kV2lsbE1vdW50TmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgIT09IHRydWUpIHtcbiAgICAgICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSAnVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ2NvbXBvbmVudFdpbGxVcGRhdGUnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSc7XG4gICAgICB9XG4gICAgICBpZiAoZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsIHx8IGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgIT09IG51bGwgfHwgZm91bmRXaWxsVXBkYXRlTmFtZSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgX2NvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQ29tcG9uZW50JztcbiAgICAgICAgdmFyIG5ld0FwaU5hbWUgPSB0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicgPyAnZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCknIDogJ2dldFNuYXBzaG90QmVmb3JlVXBkYXRlKCknO1xuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUuaGFzKF9jb21wb25lbnROYW1lKSkge1xuICAgICAgICAgIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUuYWRkKF9jb21wb25lbnROYW1lKTtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnVW5zYWZlIGxlZ2FjeSBsaWZlY3ljbGVzIHdpbGwgbm90IGJlIGNhbGxlZCBmb3IgY29tcG9uZW50cyB1c2luZyBuZXcgY29tcG9uZW50IEFQSXMuXFxuXFxuJyArICclcyB1c2VzICVzIGJ1dCBhbHNvIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgbGVnYWN5IGxpZmVjeWNsZXM6JXMlcyVzXFxuXFxuJyArICdUaGUgYWJvdmUgbGlmZWN5Y2xlcyBzaG91bGQgYmUgcmVtb3ZlZC4gTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcXG4nICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtYXN5bmMtY29tcG9uZW50LWxpZmVjeWNsZS1ob29rcycsIF9jb21wb25lbnROYW1lLCBuZXdBcGlOYW1lLCBmb3VuZFdpbGxNb3VudE5hbWUgIT09IG51bGwgPyAnXFxuICAnICsgZm91bmRXaWxsTW91bnROYW1lIDogJycsIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgIT09IG51bGwgPyAnXFxuICAnICsgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA6ICcnLCBmb3VuZFdpbGxVcGRhdGVOYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbFVwZGF0ZU5hbWUgOiAnJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBDYWNoZSB1bm1hc2tlZCBjb250ZXh0IHNvIHdlIGNhbiBhdm9pZCByZWNyZWF0aW5nIG1hc2tlZCBjb250ZXh0IHVubGVzcyBuZWNlc3NhcnkuXG4gIC8vIFJlYWN0RmliZXJDb250ZXh0IHVzdWFsbHkgdXBkYXRlcyB0aGlzIGNhY2hlIGJ1dCBjYW4ndCBmb3IgbmV3bHktY3JlYXRlZCBpbnN0YW5jZXMuXG4gIGlmIChuZWVkc0NvbnRleHQpIHtcbiAgICBjYWNoZUNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCwgY29udGV4dCk7XG4gIH1cblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbmZ1bmN0aW9uIGNhbGxDb21wb25lbnRXaWxsTW91bnQod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKSB7XG4gIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgJ2NvbXBvbmVudFdpbGxNb3VudCcpO1xuICB2YXIgb2xkU3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcblxuICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCgpO1xuICB9XG4gIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgfVxuXG4gIHN0b3BQaGFzZVRpbWVyKCk7XG5cbiAgaWYgKG9sZFN0YXRlICE9PSBpbnN0YW5jZS5zdGF0ZSkge1xuICAgIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclcy5jb21wb25lbnRXaWxsTW91bnQoKTogQXNzaWduaW5nIGRpcmVjdGx5IHRvIHRoaXMuc3RhdGUgaXMgJyArIFwiZGVwcmVjYXRlZCAoZXhjZXB0IGluc2lkZSBhIGNvbXBvbmVudCdzIFwiICsgJ2NvbnN0cnVjdG9yKS4gVXNlIHNldFN0YXRlIGluc3RlYWQuJywgZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgJ0NvbXBvbmVudCcpO1xuICAgIH1cbiAgICBjbGFzc0NvbXBvbmVudFVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZShpbnN0YW5jZSwgaW5zdGFuY2Uuc3RhdGUsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5ld0NvbnRleHQpIHtcbiAgdmFyIG9sZFN0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG4gIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnKTtcbiAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgbmV3Q29udGV4dCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBuZXdDb250ZXh0KTtcbiAgfVxuICBzdG9wUGhhc2VUaW1lcigpO1xuXG4gIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gb2xkU3RhdGUpIHtcbiAgICB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnO1xuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQuaGFzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgIGRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudC5hZGQoY29tcG9uZW50TmFtZSk7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICclcy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byAnICsgXCJ0aGlzLnN0YXRlIGlzIGRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBcIiArICdjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLicsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBjbGFzc0NvbXBvbmVudFVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZShpbnN0YW5jZSwgaW5zdGFuY2Uuc3RhdGUsIG51bGwpO1xuICB9XG59XG5cbi8vIEludm9rZXMgdGhlIG1vdW50IGxpZmUtY3ljbGVzIG9uIGEgcHJldmlvdXNseSBuZXZlciByZW5kZXJlZCBpbnN0YW5jZS5cbmZ1bmN0aW9uIG1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuXG4gIHtcbiAgICBjaGVja0NsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MpO1xuICB9XG5cbiAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICB2YXIgcHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gIHZhciB1bm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuXG4gIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XG4gIGluc3RhbmNlLnN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgaW5zdGFuY2UucmVmcyA9IGVtcHR5T2JqZWN0O1xuICBpbnN0YW5jZS5jb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICB7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuXG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuICAgIH1cblxuICAgIGlmICh3YXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcykge1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkRGVwcmVjYXRpb25XYXJuaW5ncyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB1cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIHVwZGF0ZVF1ZXVlLCBwcm9wcywgaW5zdGFuY2UsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICBpbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gIH1cblxuICB2YXIgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gd29ya0luUHJvZ3Jlc3MudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XG4gIGlmICh0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMod29ya0luUHJvZ3Jlc3MsIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcywgcHJvcHMpO1xuICAgIGluc3RhbmNlLnN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgfVxuXG4gIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuICBpZiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICBjYWxsQ29tcG9uZW50V2lsbE1vdW50KHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG4gICAgLy8gSWYgd2UgaGFkIGFkZGl0aW9uYWwgc3RhdGUgdXBkYXRlcyBkdXJpbmcgdGhpcyBsaWZlLWN5Y2xlLCBsZXQnc1xuICAgIC8vIHByb2Nlc3MgdGhlbSBub3cuXG4gICAgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUXVldWUsIHByb3BzLCBpbnN0YW5jZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG5cbiAgdmFyIG9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICBpbnN0YW5jZS5wcm9wcyA9IG9sZFByb3BzO1xuXG4gIHZhciBvbGRDb250ZXh0ID0gaW5zdGFuY2UuY29udGV4dDtcbiAgdmFyIG5ld1VubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gIHZhciBuZXdDb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgbmV3VW5tYXNrZWRDb250ZXh0KTtcblxuICB2YXIgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XG4gIHZhciBoYXNOZXdMaWZlY3ljbGVzID0gdHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbic7XG5cbiAgLy8gTm90ZTogRHVyaW5nIHRoZXNlIGxpZmUtY3ljbGVzLCBpbnN0YW5jZS5wcm9wcy9pbnN0YW5jZS5zdGF0ZSBhcmUgd2hhdFxuICAvLyBldmVyIHRoZSBwcmV2aW91c2x5IGF0dGVtcHRlZCB0byByZW5kZXIgLSBub3QgdGhlIFwiY3VycmVudFwiLiBIb3dldmVyLFxuICAvLyBkdXJpbmcgY29tcG9uZW50RGlkVXBkYXRlIHdlIHBhc3MgdGhlIFwiY3VycmVudFwiIHByb3BzLlxuXG4gIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuICBpZiAoIWhhc05ld0xpZmVjeWNsZXMgJiYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzIHx8IG9sZENvbnRleHQgIT09IG5ld0NvbnRleHQpIHtcbiAgICAgIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5ld0NvbnRleHQpO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0SGFzRm9yY2VVcGRhdGVCZWZvcmVQcm9jZXNzaW5nKCk7XG5cbiAgdmFyIG9sZFN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgdmFyIG5ld1N0YXRlID0gaW5zdGFuY2Uuc3RhdGUgPSBvbGRTdGF0ZTtcbiAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUXVldWUsIG5ld1Byb3BzLCBpbnN0YW5jZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIG5ld1N0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgfVxuICBpZiAob2xkUHJvcHMgPT09IG5ld1Byb3BzICYmIG9sZFN0YXRlID09PSBuZXdTdGF0ZSAmJiAhaGFzQ29udGV4dENoYW5nZWQoKSAmJiAhY2hlY2tIYXNGb3JjZVVwZGF0ZUFmdGVyUHJvY2Vzc2luZygpKSB7XG4gICAgLy8gSWYgYW4gdXBkYXRlIHdhcyBhbHJlYWR5IGluIHByb2dyZXNzLCB3ZSBzaG91bGQgc2NoZWR1bGUgYW4gVXBkYXRlXG4gICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMsIG5ld1Byb3BzKTtcbiAgICBuZXdTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gIH1cblxuICB2YXIgc2hvdWxkVXBkYXRlID0gY2hlY2tIYXNGb3JjZVVwZGF0ZUFmdGVyUHJvY2Vzc2luZygpIHx8IGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKHdvcmtJblByb2dyZXNzLCBvbGRQcm9wcywgbmV3UHJvcHMsIG9sZFN0YXRlLCBuZXdTdGF0ZSwgbmV3Q29udGV4dCk7XG5cbiAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gICAgaWYgKCFoYXNOZXdMaWZlY3ljbGVzICYmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgc3RhcnRQaGFzZVRpbWVyKHdvcmtJblByb2dyZXNzLCAnY29tcG9uZW50V2lsbE1vdW50Jyk7XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICB9XG4gICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBhbiB1cGRhdGUgd2FzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHdlIHNob3VsZCBzY2hlZHVsZSBhbiBVcGRhdGVcbiAgICAvLyBlZmZlY3QgZXZlbiB0aG91Z2ggd2UncmUgYmFpbGluZyBvdXQsIHNvIHRoYXQgY1dVL2NEVSBhcmUgY2FsbGVkLlxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgfVxuXG4gICAgLy8gSWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybmVkIGZhbHNlLCB3ZSBzaG91bGQgc3RpbGwgdXBkYXRlIHRoZVxuICAgIC8vIG1lbW9pemVkIHN0YXRlIHRvIGluZGljYXRlIHRoYXQgdGhpcyB3b3JrIGNhbiBiZSByZXVzZWQuXG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5ld1Byb3BzO1xuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBuZXdTdGF0ZTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UncyBzdGF0ZSwgcHJvcHMsIGFuZCBjb250ZXh0IHBvaW50ZXJzIGV2ZW5cbiAgLy8gaWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybnMgZmFsc2UuXG4gIGluc3RhbmNlLnByb3BzID0gbmV3UHJvcHM7XG4gIGluc3RhbmNlLnN0YXRlID0gbmV3U3RhdGU7XG4gIGluc3RhbmNlLmNvbnRleHQgPSBuZXdDb250ZXh0O1xuXG4gIHJldHVybiBzaG91bGRVcGRhdGU7XG59XG5cbi8vIEludm9rZXMgdGhlIHVwZGF0ZSBsaWZlLWN5Y2xlcyBhbmQgcmV0dXJucyBmYWxzZSBpZiBpdCBzaG91bGRuJ3QgcmVyZW5kZXIuXG5mdW5jdGlvbiB1cGRhdGVDbGFzc0luc3RhbmNlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcblxuICB2YXIgb2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gIGluc3RhbmNlLnByb3BzID0gb2xkUHJvcHM7XG5cbiAgdmFyIG9sZENvbnRleHQgPSBpbnN0YW5jZS5jb250ZXh0O1xuICB2YXIgbmV3VW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgdmFyIG5ld0NvbnRleHQgPSBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBuZXdVbm1hc2tlZENvbnRleHQpO1xuXG4gIHZhciBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcztcbiAgdmFyIGhhc05ld0xpZmVjeWNsZXMgPSB0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJztcblxuICAvLyBOb3RlOiBEdXJpbmcgdGhlc2UgbGlmZS1jeWNsZXMsIGluc3RhbmNlLnByb3BzL2luc3RhbmNlLnN0YXRlIGFyZSB3aGF0XG4gIC8vIGV2ZXIgdGhlIHByZXZpb3VzbHkgYXR0ZW1wdGVkIHRvIHJlbmRlciAtIG5vdCB0aGUgXCJjdXJyZW50XCIuIEhvd2V2ZXIsXG4gIC8vIGR1cmluZyBjb21wb25lbnREaWRVcGRhdGUgd2UgcGFzcyB0aGUgXCJjdXJyZW50XCIgcHJvcHMuXG5cbiAgLy8gSW4gb3JkZXIgdG8gc3VwcG9ydCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMsXG4gIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gIGlmICghaGFzTmV3TGlmZWN5Y2xlcyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSkge1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMgfHwgb2xkQ29udGV4dCAhPT0gbmV3Q29udGV4dCkge1xuICAgICAgY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlLCBuZXdQcm9wcywgbmV3Q29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRIYXNGb3JjZVVwZGF0ZUJlZm9yZVByb2Nlc3NpbmcoKTtcblxuICB2YXIgb2xkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICB2YXIgbmV3U3RhdGUgPSBpbnN0YW5jZS5zdGF0ZSA9IG9sZFN0YXRlO1xuICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgcHJvY2Vzc1VwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzLCB1cGRhdGVRdWV1ZSwgbmV3UHJvcHMsIGluc3RhbmNlLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgbmV3U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICB9XG5cbiAgaWYgKG9sZFByb3BzID09PSBuZXdQcm9wcyAmJiBvbGRTdGF0ZSA9PT0gbmV3U3RhdGUgJiYgIWhhc0NvbnRleHRDaGFuZ2VkKCkgJiYgIWNoZWNrSGFzRm9yY2VVcGRhdGVBZnRlclByb2Nlc3NpbmcoKSkge1xuICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgIC8vIGVmZmVjdCBldmVuIHRob3VnaCB3ZSdyZSBiYWlsaW5nIG91dCwgc28gdGhhdCBjV1UvY0RVIGFyZSBjYWxsZWQuXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8IG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKG9sZFByb3BzICE9PSBjdXJyZW50Lm1lbW9pemVkUHJvcHMgfHwgb2xkU3RhdGUgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU25hcHNob3Q7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMod29ya0luUHJvZ3Jlc3MsIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcywgbmV3UHJvcHMpO1xuICAgIG5ld1N0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgfVxuXG4gIHZhciBzaG91bGRVcGRhdGUgPSBjaGVja0hhc0ZvcmNlVXBkYXRlQWZ0ZXJQcm9jZXNzaW5nKCkgfHwgY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUod29ya0luUHJvZ3Jlc3MsIG9sZFByb3BzLCBuZXdQcm9wcywgb2xkU3RhdGUsIG5ld1N0YXRlLCBuZXdDb250ZXh0KTtcblxuICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgLy8gSW4gb3JkZXIgdG8gc3VwcG9ydCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMsXG4gICAgLy8gVW5zYWZlIGxpZmVjeWNsZXMgc2hvdWxkIG5vdCBiZSBpbnZva2VkIGZvciBjb21wb25lbnRzIHVzaW5nIHRoZSBuZXcgQVBJcy5cbiAgICBpZiAoIWhhc05ld0xpZmVjeWNsZXMgJiYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgJ2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlKG5ld1Byb3BzLCBuZXdTdGF0ZSwgbmV3Q29udGV4dCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlKG5ld1Byb3BzLCBuZXdTdGF0ZSwgbmV3Q29udGV4dCk7XG4gICAgICB9XG4gICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNuYXBzaG90O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBhbiB1cGRhdGUgd2FzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHdlIHNob3VsZCBzY2hlZHVsZSBhbiBVcGRhdGVcbiAgICAvLyBlZmZlY3QgZXZlbiB0aG91Z2ggd2UncmUgYmFpbGluZyBvdXQsIHNvIHRoYXQgY1dVL2NEVSBhcmUgY2FsbGVkLlxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAob2xkUHJvcHMgIT09IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyB8fCBvbGRTdGF0ZSAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlKSB7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8IG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNuYXBzaG90O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5lZCBmYWxzZSwgd2Ugc2hvdWxkIHN0aWxsIHVwZGF0ZSB0aGVcbiAgICAvLyBtZW1vaXplZCBwcm9wcy9zdGF0ZSB0byBpbmRpY2F0ZSB0aGF0IHRoaXMgd29yayBjYW4gYmUgcmV1c2VkLlxuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXdQcm9wcztcbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbmV3U3RhdGU7XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIGV4aXN0aW5nIGluc3RhbmNlJ3Mgc3RhdGUsIHByb3BzLCBhbmQgY29udGV4dCBwb2ludGVycyBldmVuXG4gIC8vIGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5zIGZhbHNlLlxuICBpbnN0YW5jZS5wcm9wcyA9IG5ld1Byb3BzO1xuICBpbnN0YW5jZS5zdGF0ZSA9IG5ld1N0YXRlO1xuICBpbnN0YW5jZS5jb250ZXh0ID0gbmV3Q29udGV4dDtcblxuICByZXR1cm4gc2hvdWxkVXBkYXRlO1xufVxuXG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ3ID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG5cbnZhciBkaWRXYXJuQWJvdXRNYXBzID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZSA9IHZvaWQgMDtcbnZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB2b2lkIDA7XG52YXIgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nID0gdm9pZCAwO1xudmFyIHdhcm5Gb3JNaXNzaW5nS2V5ID0gZnVuY3Rpb24gKGNoaWxkKSB7fTtcblxue1xuICBkaWRXYXJuQWJvdXRNYXBzID0gZmFsc2U7XG4gIGRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBXYXJuIGlmIHRoZXJlJ3Mgbm8ga2V5IGV4cGxpY2l0bHkgc2V0IG9uIGR5bmFtaWMgYXJyYXlzIG9mIGNoaWxkcmVuIG9yXG4gICAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICAgKiB1cGRhdGVzLlxuICAgKi9cbiAgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gIG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZyA9IHt9O1xuXG4gIHdhcm5Gb3JNaXNzaW5nS2V5ID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkID09PSBudWxsIHx8IHR5cGVvZiBjaGlsZCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFjaGlsZC5fc3RvcmUgfHwgY2hpbGQuX3N0b3JlLnZhbGlkYXRlZCB8fCBjaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAhKHR5cGVvZiBjaGlsZC5fc3RvcmUgPT09ICdvYmplY3QnKSA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0IENvbXBvbmVudCBpbiB3YXJuRm9yTWlzc2luZ0tleSBzaG91bGQgaGF2ZSBhIF9zdG9yZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICBjaGlsZC5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcblxuICAgIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gJ0VhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgJyArICdcImtleVwiIHByb3AuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmcta2V5cyBmb3IgJyArICdtb3JlIGluZm9ybWF0aW9uLicgKyAoZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ3KCkgfHwgJycpO1xuICAgIGlmIChvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTtcblxuICAgIHdhcm5pbmcoZmFsc2UsICdFYWNoIGNoaWxkIGluIGFuIGFycmF5IG9yIGl0ZXJhdG9yIHNob3VsZCBoYXZlIGEgdW5pcXVlICcgKyAnXCJrZXlcIiBwcm9wLiBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWtleXMgZm9yICcgKyAnbW9yZSBpbmZvcm1hdGlvbi4lcycsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNygpKTtcbiAgfTtcbn1cblxudmFyIGlzQXJyYXkkMSA9IEFycmF5LmlzQXJyYXk7XG5cbmZ1bmN0aW9uIGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCkge1xuICB2YXIgbWl4ZWRSZWYgPSBlbGVtZW50LnJlZjtcbiAgaWYgKG1peGVkUmVmICE9PSBudWxsICYmIHR5cGVvZiBtaXhlZFJlZiAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgbWl4ZWRSZWYgIT09ICdvYmplY3QnKSB7XG4gICAge1xuICAgICAgaWYgKHJldHVybkZpYmVyLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShyZXR1cm5GaWJlcikgfHwgJ0NvbXBvbmVudCc7XG4gICAgICAgIGlmICghZGlkV2FybkFib3V0U3RyaW5nUmVmSW5TdHJpY3RNb2RlW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgICAgd2FybmluZyhmYWxzZSwgJ0Egc3RyaW5nIHJlZiwgXCIlc1wiLMKgaGFzIGJlZW4gZm91bmQgd2l0aGluIGEgc3RyaWN0IG1vZGUgdHJlZS4gJyArICdTdHJpbmcgcmVmcyBhcmUgYSBzb3VyY2Ugb2YgcG90ZW50aWFsIGJ1Z3MgYW5kIHNob3VsZCBiZSBhdm9pZGVkLiAnICsgJ1dlIHJlY29tbWVuZCB1c2luZyBjcmVhdGVSZWYoKSBpbnN0ZWFkLicgKyAnXFxuJXMnICsgJ1xcblxcbkxlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTonICsgJ1xcbmh0dHBzOi8vZmIubWUvcmVhY3Qtc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIG1peGVkUmVmLCBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHJldHVybkZpYmVyKSk7XG4gICAgICAgICAgZGlkV2FybkFib3V0U3RyaW5nUmVmSW5TdHJpY3RNb2RlW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbGVtZW50Ll9vd25lcikge1xuICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICB2YXIgaW5zdCA9IHZvaWQgMDtcbiAgICAgIGlmIChvd25lcikge1xuICAgICAgICB2YXIgb3duZXJGaWJlciA9IG93bmVyO1xuICAgICAgICAhKG93bmVyRmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkgPyBpbnZhcmlhbnQoZmFsc2UsICdTdGF0ZWxlc3MgZnVuY3Rpb24gY29tcG9uZW50cyBjYW5ub3QgaGF2ZSByZWZzLicpIDogdm9pZCAwO1xuICAgICAgICBpbnN0ID0gb3duZXJGaWJlci5zdGF0ZU5vZGU7XG4gICAgICB9XG4gICAgICAhaW5zdCA/IGludmFyaWFudChmYWxzZSwgJ01pc3Npbmcgb3duZXIgZm9yIHN0cmluZyByZWYgJXMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgbWl4ZWRSZWYpIDogdm9pZCAwO1xuICAgICAgdmFyIHN0cmluZ1JlZiA9ICcnICsgbWl4ZWRSZWY7XG4gICAgICAvLyBDaGVjayBpZiBwcmV2aW91cyBzdHJpbmcgcmVmIG1hdGNoZXMgbmV3IHN0cmluZyByZWZcbiAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQucmVmICE9PSBudWxsICYmIHR5cGVvZiBjdXJyZW50LnJlZiA9PT0gJ2Z1bmN0aW9uJyAmJiBjdXJyZW50LnJlZi5fc3RyaW5nUmVmID09PSBzdHJpbmdSZWYpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQucmVmO1xuICAgICAgfVxuICAgICAgdmFyIHJlZiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVmcyA9IGluc3QucmVmcyA9PT0gZW1wdHlPYmplY3QgPyBpbnN0LnJlZnMgPSB7fSA6IGluc3QucmVmcztcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgZGVsZXRlIHJlZnNbc3RyaW5nUmVmXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZzW3N0cmluZ1JlZl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJlZi5fc3RyaW5nUmVmID0gc3RyaW5nUmVmO1xuICAgICAgcmV0dXJuIHJlZjtcbiAgICB9IGVsc2Uge1xuICAgICAgISh0eXBlb2YgbWl4ZWRSZWYgPT09ICdzdHJpbmcnKSA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHJlZiB0byBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nLicpIDogdm9pZCAwO1xuICAgICAgIWVsZW1lbnQuX293bmVyID8gaW52YXJpYW50KGZhbHNlLCAnRWxlbWVudCByZWYgd2FzIHNwZWNpZmllZCBhcyBhIHN0cmluZyAoJXMpIGJ1dCBubyBvd25lciB3YXMgc2V0LiBUaGlzIGNvdWxkIGhhcHBlbiBmb3Igb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG4xLiBZb3UgbWF5IGJlIGFkZGluZyBhIHJlZiB0byBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XFxuMi4gWW91IG1heSBiZSBhZGRpbmcgYSByZWYgdG8gYSBjb21wb25lbnQgdGhhdCB3YXMgbm90IGNyZWF0ZWQgaW5zaWRlIGEgY29tcG9uZW50XFwncyByZW5kZXIgbWV0aG9kXFxuMy4gWW91IGhhdmUgbXVsdGlwbGUgY29waWVzIG9mIFJlYWN0IGxvYWRlZFxcblNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXJlZnMtbXVzdC1oYXZlLW93bmVyIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIG1peGVkUmVmKSA6IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1peGVkUmVmO1xufVxuXG5mdW5jdGlvbiB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKSB7XG4gIGlmIChyZXR1cm5GaWJlci50eXBlICE9PSAndGV4dGFyZWEnKSB7XG4gICAgdmFyIGFkZGVuZHVtID0gJyc7XG4gICAge1xuICAgICAgYWRkZW5kdW0gPSAnIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgJyArICdpbnN0ZWFkLicgKyAoZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ3KCkgfHwgJycpO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoZmFsc2UsICdPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6ICVzKS4lcycsIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdDaGlsZCkgPT09ICdbb2JqZWN0IE9iamVjdF0nID8gJ29iamVjdCB3aXRoIGtleXMgeycgKyBPYmplY3Qua2V5cyhuZXdDaGlsZCkuam9pbignLCAnKSArICd9JyA6IG5ld0NoaWxkLCBhZGRlbmR1bSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2Fybk9uRnVuY3Rpb25UeXBlKCkge1xuICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9ICdGdW5jdGlvbnMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLiBUaGlzIG1heSBoYXBwZW4gaWYgJyArICd5b3UgcmV0dXJuIGEgQ29tcG9uZW50IGluc3RlYWQgb2YgPENvbXBvbmVudCAvPiBmcm9tIHJlbmRlci4gJyArICdPciBtYXliZSB5b3UgbWVhbnQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHJldHVybiBpdC4nICsgKGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNygpIHx8ICcnKTtcblxuICBpZiAob3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7XG5cbiAgd2FybmluZyhmYWxzZSwgJ0Z1bmN0aW9ucyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuIFRoaXMgbWF5IGhhcHBlbiBpZiAnICsgJ3lvdSByZXR1cm4gYSBDb21wb25lbnQgaW5zdGVhZCBvZiA8Q29tcG9uZW50IC8+IGZyb20gcmVuZGVyLiAnICsgJ09yIG1heWJlIHlvdSBtZWFudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gcmF0aGVyIHRoYW4gcmV0dXJuIGl0LiVzJywgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ3KCkgfHwgJycpO1xufVxuXG4vLyBUaGlzIHdyYXBwZXIgZnVuY3Rpb24gZXhpc3RzIGJlY2F1c2UgSSBleHBlY3QgdG8gY2xvbmUgdGhlIGNvZGUgaW4gZWFjaCBwYXRoXG4vLyB0byBiZSBhYmxlIHRvIG9wdGltaXplIGVhY2ggcGF0aCBpbmRpdmlkdWFsbHkgYnkgYnJhbmNoaW5nIGVhcmx5LiBUaGlzIG5lZWRzXG4vLyBhIGNvbXBpbGVyIG9yIHdlIGNhbiBkbyBpdCBtYW51YWxseS4gSGVscGVycyB0aGF0IGRvbid0IG5lZWQgdGhpcyBicmFuY2hpbmdcbi8vIGxpdmUgb3V0c2lkZSBvZiB0aGlzIGZ1bmN0aW9uLlxuZnVuY3Rpb24gQ2hpbGRSZWNvbmNpbGVyKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgZnVuY3Rpb24gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkVG9EZWxldGUpIHtcbiAgICBpZiAoIXNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIE5vb3AuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIERlbGV0aW9ucyBhcmUgYWRkZWQgaW4gcmV2ZXJzZWQgb3JkZXIgc28gd2UgYWRkIGl0IHRvIHRoZSBmcm9udC5cbiAgICAvLyBBdCB0aGlzIHBvaW50LCB0aGUgcmV0dXJuIGZpYmVyJ3MgZWZmZWN0IGxpc3QgaXMgZW1wdHkgZXhjZXB0IGZvclxuICAgIC8vIGRlbGV0aW9ucywgc28gd2UgY2FuIGp1c3QgYXBwZW5kIHRoZSBkZWxldGlvbiB0byB0aGUgbGlzdC4gVGhlIHJlbWFpbmluZ1xuICAgIC8vIGVmZmVjdHMgYXJlbid0IGFkZGVkIHVudGlsIHRoZSBjb21wbGV0ZSBwaGFzZS4gT25jZSB3ZSBpbXBsZW1lbnRcbiAgICAvLyByZXN1bWluZywgdGhpcyBtYXkgbm90IGJlIHRydWUuXG4gICAgdmFyIGxhc3QgPSByZXR1cm5GaWJlci5sYXN0RWZmZWN0O1xuICAgIGlmIChsYXN0ICE9PSBudWxsKSB7XG4gICAgICBsYXN0Lm5leHRFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfVxuICAgIGNoaWxkVG9EZWxldGUubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgY2hpbGRUb0RlbGV0ZS5lZmZlY3RUYWcgPSBEZWxldGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCkge1xuICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gTm9vcC5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFRPRE86IEZvciB0aGUgc2hvdWxkQ2xvbmUgY2FzZSwgdGhpcyBjb3VsZCBiZSBtaWNyby1vcHRpbWl6ZWQgYSBiaXQgYnlcbiAgICAvLyBhc3N1bWluZyB0aGF0IGFmdGVyIHRoZSBmaXJzdCBjaGlsZCB3ZSd2ZSBhbHJlYWR5IGFkZGVkIGV2ZXJ5dGhpbmcuXG4gICAgdmFyIGNoaWxkVG9EZWxldGUgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGRUb0RlbGV0ZSAhPT0gbnVsbCkge1xuICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkVG9EZWxldGUpO1xuICAgICAgY2hpbGRUb0RlbGV0ZSA9IGNoaWxkVG9EZWxldGUuc2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBtYXBSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpIHtcbiAgICAvLyBBZGQgdGhlIHJlbWFpbmluZyBjaGlsZHJlbiB0byBhIHRlbXBvcmFyeSBtYXAgc28gdGhhdCB3ZSBjYW4gZmluZCB0aGVtIGJ5XG4gICAgLy8ga2V5cyBxdWlja2x5LiBJbXBsaWNpdCAobnVsbCkga2V5cyBnZXQgYWRkZWQgdG8gdGhpcyBzZXQgd2l0aCB0aGVpciBpbmRleFxuICAgIHZhciBleGlzdGluZ0NoaWxkcmVuID0gbmV3IE1hcCgpO1xuXG4gICAgdmFyIGV4aXN0aW5nQ2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoZXhpc3RpbmdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGV4aXN0aW5nQ2hpbGQua2V5ICE9PSBudWxsKSB7XG4gICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uc2V0KGV4aXN0aW5nQ2hpbGQua2V5LCBleGlzdGluZ0NoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uc2V0KGV4aXN0aW5nQ2hpbGQuaW5kZXgsIGV4aXN0aW5nQ2hpbGQpO1xuICAgICAgfVxuICAgICAgZXhpc3RpbmdDaGlsZCA9IGV4aXN0aW5nQ2hpbGQuc2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGRyZW47XG4gIH1cblxuICBmdW5jdGlvbiB1c2VGaWJlcihmaWJlciwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFdlIGN1cnJlbnRseSBzZXQgc2libGluZyB0byBudWxsIGFuZCBpbmRleCB0byAwIGhlcmUgYmVjYXVzZSBpdCBpcyBlYXN5XG4gICAgLy8gdG8gZm9yZ2V0IHRvIGRvIGJlZm9yZSByZXR1cm5pbmcgaXQuIEUuZy4gZm9yIHRoZSBzaW5nbGUgY2hpbGQgY2FzZS5cbiAgICB2YXIgY2xvbmUgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhmaWJlciwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSk7XG4gICAgY2xvbmUuaW5kZXggPSAwO1xuICAgIGNsb25lLnNpYmxpbmcgPSBudWxsO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYWNlQ2hpbGQobmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SW5kZXgpIHtcbiAgICBuZXdGaWJlci5pbmRleCA9IG5ld0luZGV4O1xuICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gTm9vcC5cbiAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgfVxuICAgIHZhciBjdXJyZW50ID0gbmV3RmliZXIuYWx0ZXJuYXRlO1xuICAgIGlmIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICB2YXIgb2xkSW5kZXggPSBjdXJyZW50LmluZGV4O1xuICAgICAgaWYgKG9sZEluZGV4IDwgbGFzdFBsYWNlZEluZGV4KSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBtb3ZlLlxuICAgICAgICBuZXdGaWJlci5lZmZlY3RUYWcgPSBQbGFjZW1lbnQ7XG4gICAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGl0ZW0gY2FuIHN0YXkgaW4gcGxhY2UuXG4gICAgICAgIHJldHVybiBvbGRJbmRleDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBpcyBhbiBpbnNlcnRpb24uXG4gICAgICBuZXdGaWJlci5lZmZlY3RUYWcgPSBQbGFjZW1lbnQ7XG4gICAgICByZXR1cm4gbGFzdFBsYWNlZEluZGV4O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYWNlU2luZ2xlQ2hpbGQobmV3RmliZXIpIHtcbiAgICAvLyBUaGlzIGlzIHNpbXBsZXIgZm9yIHRoZSBzaW5nbGUgY2hpbGQgY2FzZS4gV2Ugb25seSBuZWVkIHRvIGRvIGFcbiAgICAvLyBwbGFjZW1lbnQgZm9yIGluc2VydGluZyBuZXcgY2hpbGRyZW4uXG4gICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiYgbmV3RmliZXIuYWx0ZXJuYXRlID09PSBudWxsKSB7XG4gICAgICBuZXdGaWJlci5lZmZlY3RUYWcgPSBQbGFjZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBuZXdGaWJlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBjdXJyZW50LCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LnRhZyAhPT0gSG9zdFRleHQpIHtcbiAgICAgIC8vIEluc2VydFxuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21UZXh0KHRleHRDb250ZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBjcmVhdGVkLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVwZGF0ZVxuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudCwgdGV4dENvbnRlbnQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnQocmV0dXJuRmliZXIsIGN1cnJlbnQsIGVsZW1lbnQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKGN1cnJlbnQgIT09IG51bGwgJiYgY3VycmVudC50eXBlID09PSBlbGVtZW50LnR5cGUpIHtcbiAgICAgIC8vIE1vdmUgYmFzZWQgb24gaW5kZXhcbiAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGN1cnJlbnQsIGVsZW1lbnQucHJvcHMsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nLnJlZiA9IGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCk7XG4gICAgICBleGlzdGluZy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgIHtcbiAgICAgICAgZXhpc3RpbmcuX2RlYnVnU291cmNlID0gZWxlbWVudC5fc291cmNlO1xuICAgICAgICBleGlzdGluZy5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBjcmVhdGVkLnJlZiA9IGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCk7XG4gICAgICBjcmVhdGVkLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBjdXJyZW50LCBwb3J0YWwsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC50YWcgIT09IEhvc3RQb3J0YWwgfHwgY3VycmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyAhPT0gcG9ydGFsLmNvbnRhaW5lckluZm8gfHwgY3VycmVudC5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24gIT09IHBvcnRhbC5pbXBsZW1lbnRhdGlvbikge1xuICAgICAgLy8gSW5zZXJ0XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNyZWF0ZWQucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlXG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50LCBwb3J0YWwuY2hpbGRyZW4gfHwgW10sIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBjdXJyZW50LCBmcmFnbWVudCwgZXhwaXJhdGlvblRpbWUsIGtleSkge1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQudGFnICE9PSBGcmFnbWVudCkge1xuICAgICAgLy8gSW5zZXJ0XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGZyYWdtZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KTtcbiAgICAgIGNyZWF0ZWQucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlXG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50LCBmcmFnbWVudCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmcucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkge1xuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBrZXlzLiBJZiB0aGUgcHJldmlvdXMgbm9kZSBpcyBpbXBsaWNpdGx5IGtleWVkXG4gICAgICAvLyB3ZSBjYW4gY29udGludWUgdG8gcmVwbGFjZSBpdCB3aXRob3V0IGFib3J0aW5nIGV2ZW4gaWYgaXQgaXMgbm90IGEgdGV4dFxuICAgICAgLy8gbm9kZS5cbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tVGV4dCgnJyArIG5ld0NoaWxkLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBjcmVhdGVkLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9jcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChuZXdDaGlsZCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgICAgX2NyZWF0ZWQucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBudWxsLCBuZXdDaGlsZCk7XG4gICAgICAgICAgICBfY3JlYXRlZC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgIHJldHVybiBfY3JlYXRlZDtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9jcmVhdGVkMiA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChuZXdDaGlsZCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgICAgX2NyZWF0ZWQyLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVkMjtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5JDEobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgIHZhciBfY3JlYXRlZDMgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChuZXdDaGlsZCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUsIG51bGwpO1xuICAgICAgICBfY3JlYXRlZDMucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgIHJldHVybiBfY3JlYXRlZDM7XG4gICAgICB9XG5cbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTbG90KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVXBkYXRlIHRoZSBmaWJlciBpZiB0aGUga2V5cyBtYXRjaCwgb3RoZXJ3aXNlIHJldHVybiBudWxsLlxuXG4gICAgdmFyIGtleSA9IG9sZEZpYmVyICE9PSBudWxsID8gb2xkRmliZXIua2V5IDogbnVsbDtcblxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBrZXlzLiBJZiB0aGUgcHJldmlvdXMgbm9kZSBpcyBpbXBsaWNpdGx5IGtleWVkXG4gICAgICAvLyB3ZSBjYW4gY29udGludWUgdG8gcmVwbGFjZSBpdCB3aXRob3V0IGFib3J0aW5nIGV2ZW4gaWYgaXQgaXMgbm90IGEgdGV4dFxuICAgICAgLy8gbm9kZS5cbiAgICAgIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXBkYXRlVGV4dE5vZGUocmV0dXJuRmliZXIsIG9sZEZpYmVyLCAnJyArIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld0NoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgIGlmIChuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4sIGV4cGlyYXRpb25UaW1lLCBrZXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVFbGVtZW50KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3Q2hpbGQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVBvcnRhbChyZXR1cm5GaWJlciwgb2xkRmliZXIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5JDEobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cGRhdGVGcmFnbWVudChyZXR1cm5GaWJlciwgb2xkRmliZXIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSwgbnVsbCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGcm9tTWFwKGV4aXN0aW5nQ2hpbGRyZW4sIHJldHVybkZpYmVyLCBuZXdJZHgsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkge1xuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBrZXlzLCBzbyB3ZSBuZWl0aGVyIGhhdmUgdG8gY2hlY2sgdGhlIG9sZCBub3JcbiAgICAgIC8vIG5ldyBub2RlIGZvciB0aGUga2V5LiBJZiBib3RoIGFyZSB0ZXh0IG5vZGVzLCB0aGV5IG1hdGNoLlxuICAgICAgdmFyIG1hdGNoZWRGaWJlciA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0lkeCkgfHwgbnVsbDtcbiAgICAgIHJldHVybiB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgbWF0Y2hlZEZpYmVyLCAnJyArIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9tYXRjaGVkRmliZXIgPSBleGlzdGluZ0NoaWxkcmVuLmdldChuZXdDaGlsZC5rZXkgPT09IG51bGwgPyBuZXdJZHggOiBuZXdDaGlsZC5rZXkpIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAobmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQocmV0dXJuRmliZXIsIF9tYXRjaGVkRmliZXIsIG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuLCBleHBpcmF0aW9uVGltZSwgbmV3Q2hpbGQua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVFbGVtZW50KHJldHVybkZpYmVyLCBfbWF0Y2hlZEZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX21hdGNoZWRGaWJlcjIgPSBleGlzdGluZ0NoaWxkcmVuLmdldChuZXdDaGlsZC5rZXkgPT09IG51bGwgPyBuZXdJZHggOiBuZXdDaGlsZC5rZXkpIHx8IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBfbWF0Y2hlZEZpYmVyMiwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5JDEobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgIHZhciBfbWF0Y2hlZEZpYmVyMyA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0lkeCkgfHwgbnVsbDtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBfbWF0Y2hlZEZpYmVyMywgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYXJucyBpZiB0aGVyZSBpcyBhIGR1cGxpY2F0ZSBvciBtaXNzaW5nIGtleVxuICAgKi9cbiAgZnVuY3Rpb24gd2Fybk9uSW52YWxpZEtleShjaGlsZCwga25vd25LZXlzKSB7XG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBjaGlsZCAhPT0gJ29iamVjdCcgfHwgY2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGtub3duS2V5cztcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgd2FybkZvck1pc3NpbmdLZXkoY2hpbGQpO1xuICAgICAgICAgIHZhciBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGtub3duS2V5cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAga25vd25LZXlzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAga25vd25LZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgha25vd25LZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBrbm93bktleXMuYWRkKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgd2FybmluZyhmYWxzZSwgJ0VuY291bnRlcmVkIHR3byBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIGtleSwgYCVzYC4gJyArICdLZXlzIHNob3VsZCBiZSB1bmlxdWUgc28gdGhhdCBjb21wb25lbnRzIG1haW50YWluIHRoZWlyIGlkZW50aXR5ICcgKyAnYWNyb3NzIHVwZGF0ZXMuIE5vbi11bmlxdWUga2V5cyBtYXkgY2F1c2UgY2hpbGRyZW4gdG8gYmUgJyArICdkdXBsaWNhdGVkIGFuZC9vciBvbWl0dGVkIOKAlCB0aGUgYmVoYXZpb3IgaXMgdW5zdXBwb3J0ZWQgYW5kICcgKyAnY291bGQgY2hhbmdlIGluIGEgZnV0dXJlIHZlcnNpb24uJXMnLCBrZXksIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNygpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtub3duS2V5cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuQXJyYXkocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZHJlbiwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBUaGlzIGFsZ29yaXRobSBjYW4ndCBvcHRpbWl6ZSBieSBzZWFyY2hpbmcgZnJvbSBib3RocyBlbmRzIHNpbmNlIHdlXG4gICAgLy8gZG9uJ3QgaGF2ZSBiYWNrcG9pbnRlcnMgb24gZmliZXJzLiBJJ20gdHJ5aW5nIHRvIHNlZSBob3cgZmFyIHdlIGNhbiBnZXRcbiAgICAvLyB3aXRoIHRoYXQgbW9kZWwuIElmIGl0IGVuZHMgdXAgbm90IGJlaW5nIHdvcnRoIHRoZSB0cmFkZW9mZnMsIHdlIGNhblxuICAgIC8vIGFkZCBpdCBsYXRlci5cblxuICAgIC8vIEV2ZW4gd2l0aCBhIHR3byBlbmRlZCBvcHRpbWl6YXRpb24sIHdlJ2Qgd2FudCB0byBvcHRpbWl6ZSBmb3IgdGhlIGNhc2VcbiAgICAvLyB3aGVyZSB0aGVyZSBhcmUgZmV3IGNoYW5nZXMgYW5kIGJydXRlIGZvcmNlIHRoZSBjb21wYXJpc29uIGluc3RlYWQgb2ZcbiAgICAvLyBnb2luZyBmb3IgdGhlIE1hcC4gSXQnZCBsaWtlIHRvIGV4cGxvcmUgaGl0dGluZyB0aGF0IHBhdGggZmlyc3QgaW5cbiAgICAvLyBmb3J3YXJkLW9ubHkgbW9kZSBhbmQgb25seSBnbyBmb3IgdGhlIE1hcCBvbmNlIHdlIG5vdGljZSB0aGF0IHdlIG5lZWRcbiAgICAvLyBsb3RzIG9mIGxvb2sgYWhlYWQuIFRoaXMgZG9lc24ndCBoYW5kbGUgcmV2ZXJzYWwgYXMgd2VsbCBhcyB0d28gZW5kZWRcbiAgICAvLyBzZWFyY2ggYnV0IHRoYXQncyB1bnVzdWFsLiBCZXNpZGVzLCBmb3IgdGhlIHR3byBlbmRlZCBvcHRpbWl6YXRpb24gdG9cbiAgICAvLyB3b3JrIG9uIEl0ZXJhYmxlcywgd2UnZCBuZWVkIHRvIGNvcHkgdGhlIHdob2xlIHNldC5cblxuICAgIC8vIEluIHRoaXMgZmlyc3QgaXRlcmF0aW9uLCB3ZSdsbCBqdXN0IGxpdmUgd2l0aCBoaXR0aW5nIHRoZSBiYWQgY2FzZVxuICAgIC8vIChhZGRpbmcgZXZlcnl0aGluZyB0byBhIE1hcCkgaW4gZm9yIGV2ZXJ5IGluc2VydC9tb3ZlLlxuXG4gICAgLy8gSWYgeW91IGNoYW5nZSB0aGlzIGNvZGUsIGFsc28gdXBkYXRlIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IoKSB3aGljaFxuICAgIC8vIHVzZXMgdGhlIHNhbWUgYWxnb3JpdGhtLlxuXG4gICAge1xuICAgICAgLy8gRmlyc3QsIHZhbGlkYXRlIGtleXMuXG4gICAgICB2YXIga25vd25LZXlzID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gbmV3Q2hpbGRyZW5baV07XG4gICAgICAgIGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoY2hpbGQsIGtub3duS2V5cyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBudWxsO1xuICAgIHZhciBwcmV2aW91c05ld0ZpYmVyID0gbnVsbDtcblxuICAgIHZhciBvbGRGaWJlciA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHZhciBsYXN0UGxhY2VkSW5kZXggPSAwO1xuICAgIHZhciBuZXdJZHggPSAwO1xuICAgIHZhciBuZXh0T2xkRmliZXIgPSBudWxsO1xuICAgIGZvciAoOyBvbGRGaWJlciAhPT0gbnVsbCAmJiBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7IG5ld0lkeCsrKSB7XG4gICAgICBpZiAob2xkRmliZXIuaW5kZXggPiBuZXdJZHgpIHtcbiAgICAgICAgbmV4dE9sZEZpYmVyID0gb2xkRmliZXI7XG4gICAgICAgIG9sZEZpYmVyID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRPbGRGaWJlciA9IG9sZEZpYmVyLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RmliZXIgPSB1cGRhdGVTbG90KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGRyZW5bbmV3SWR4XSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgaWYgKG5ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgYnJlYWtzIG9uIGVtcHR5IHNsb3RzIGxpa2UgbnVsbCBjaGlsZHJlbi4gVGhhdCdzXG4gICAgICAgIC8vIHVuZm9ydHVuYXRlIGJlY2F1c2UgaXQgdHJpZ2dlcnMgdGhlIHNsb3cgcGF0aCBhbGwgdGhlIHRpbWUuIFdlIG5lZWRcbiAgICAgICAgLy8gYSBiZXR0ZXIgd2F5IHRvIGNvbW11bmljYXRlIHdoZXRoZXIgdGhpcyB3YXMgYSBtaXNzIG9yIG51bGwsXG4gICAgICAgIC8vIGJvb2xlYW4sIHVuZGVmaW5lZCwgZXRjLlxuICAgICAgICBpZiAob2xkRmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAgIGlmIChvbGRGaWJlciAmJiBuZXdGaWJlci5hbHRlcm5hdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSBtYXRjaGVkIHRoZSBzbG90LCBidXQgd2UgZGlkbid0IHJldXNlIHRoZSBleGlzdGluZyBmaWJlciwgc28gd2VcbiAgICAgICAgICAvLyBuZWVkIHRvIGRlbGV0ZSB0aGUgZXhpc3RpbmcgY2hpbGQuXG4gICAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChuZXdGaWJlciwgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gbmV3RmliZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUT0RPOiBEZWZlciBzaWJsaW5ncyBpZiB3ZSdyZSBub3QgYXQgdGhlIHJpZ2h0IGluZGV4IGZvciB0aGlzIHNsb3QuXG4gICAgICAgIC8vIEkuZS4gaWYgd2UgaGFkIG51bGwgdmFsdWVzIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIGRlZmVyIHRoaXNcbiAgICAgICAgLy8gZm9yIGVhY2ggbnVsbCB2YWx1ZS4gSG93ZXZlciwgd2UgYWxzbyBkb24ndCB3YW50IHRvIGNhbGwgdXBkYXRlU2xvdFxuICAgICAgICAvLyB3aXRoIHRoZSBwcmV2aW91cyBvbmUuXG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5ld0ZpYmVyO1xuICAgICAgfVxuICAgICAgcHJldmlvdXNOZXdGaWJlciA9IG5ld0ZpYmVyO1xuICAgICAgb2xkRmliZXIgPSBuZXh0T2xkRmliZXI7XG4gICAgfVxuXG4gICAgaWYgKG5ld0lkeCA9PT0gbmV3Q2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAvLyBXZSd2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIG5ldyBjaGlsZHJlbi4gV2UgY2FuIGRlbGV0ZSB0aGUgcmVzdC5cbiAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBpZiAob2xkRmliZXIgPT09IG51bGwpIHtcbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW55IG1vcmUgZXhpc3RpbmcgY2hpbGRyZW4gd2UgY2FuIGNob29zZSBhIGZhc3QgcGF0aFxuICAgICAgLy8gc2luY2UgdGhlIHJlc3Qgd2lsbCBhbGwgYmUgaW5zZXJ0aW9ucy5cbiAgICAgIGZvciAoOyBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7IG5ld0lkeCsrKSB7XG4gICAgICAgIHZhciBfbmV3RmliZXIgPSBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgbmV3Q2hpbGRyZW5bbmV3SWR4XSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICBpZiAoIV9uZXdGaWJlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQoX25ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gX25ld0ZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBfbmV3RmliZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICAvLyBBZGQgYWxsIGNoaWxkcmVuIHRvIGEga2V5IG1hcCBmb3IgcXVpY2sgbG9va3Vwcy5cbiAgICB2YXIgZXhpc3RpbmdDaGlsZHJlbiA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG5cbiAgICAvLyBLZWVwIHNjYW5uaW5nIGFuZCB1c2UgdGhlIG1hcCB0byByZXN0b3JlIGRlbGV0ZWQgaXRlbXMgYXMgbW92ZXMuXG4gICAgZm9yICg7IG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgIHZhciBfbmV3RmliZXIyID0gdXBkYXRlRnJvbU1hcChleGlzdGluZ0NoaWxkcmVuLCByZXR1cm5GaWJlciwgbmV3SWR4LCBuZXdDaGlsZHJlbltuZXdJZHhdLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBpZiAoX25ld0ZpYmVyMikge1xuICAgICAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgICAgIGlmIChfbmV3RmliZXIyLmFsdGVybmF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVGhlIG5ldyBmaWJlciBpcyBhIHdvcmsgaW4gcHJvZ3Jlc3MsIGJ1dCBpZiB0aGVyZSBleGlzdHMgYVxuICAgICAgICAgICAgLy8gY3VycmVudCwgdGhhdCBtZWFucyB0aGF0IHdlIHJldXNlZCB0aGUgZmliZXIuIFdlIG5lZWQgdG8gZGVsZXRlXG4gICAgICAgICAgICAvLyBpdCBmcm9tIHRoZSBjaGlsZCBsaXN0IHNvIHRoYXQgd2UgZG9uJ3QgYWRkIGl0IHRvIHRoZSBkZWxldGlvblxuICAgICAgICAgICAgLy8gbGlzdC5cbiAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZGVsZXRlKF9uZXdGaWJlcjIua2V5ID09PSBudWxsID8gbmV3SWR4IDogX25ld0ZpYmVyMi5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKF9uZXdGaWJlcjIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcbiAgICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gX25ld0ZpYmVyMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBfbmV3RmliZXIyO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBfbmV3RmliZXIyO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBBbnkgZXhpc3RpbmcgY2hpbGRyZW4gdGhhdCB3ZXJlbid0IGNvbnN1bWVkIGFib3ZlIHdlcmUgZGVsZXRlZC4gV2UgbmVlZFxuICAgICAgLy8gdG8gYWRkIHRoZW0gdG8gdGhlIGRlbGV0aW9uIGxpc3QuXG4gICAgICBleGlzdGluZ0NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGRyZW5JdGVyYWJsZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBzYW1lIGltcGxlbWVudGF0aW9uIGFzIHJlY29uY2lsZUNoaWxkcmVuQXJyYXkoKSxcbiAgICAvLyBidXQgdXNpbmcgdGhlIGl0ZXJhdG9yIGluc3RlYWQuXG5cbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG4gICAgISh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykgPyBpbnZhcmlhbnQoZmFsc2UsICdBbiBvYmplY3QgaXMgbm90IGFuIGl0ZXJhYmxlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuXG4gICAge1xuICAgICAgLy8gV2FybiBhYm91dCB1c2luZyBNYXBzIGFzIGNoaWxkcmVuXG4gICAgICBpZiAobmV3Q2hpbGRyZW5JdGVyYWJsZS5lbnRyaWVzID09PSBpdGVyYXRvckZuKSB7XG4gICAgICAgICFkaWRXYXJuQWJvdXRNYXBzID8gd2FybmluZyhmYWxzZSwgJ1VzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgdW5zdXBwb3J0ZWQgYW5kIHdpbGwgbGlrZWx5IHlpZWxkICcgKyAndW5leHBlY3RlZCByZXN1bHRzLiBDb252ZXJ0IGl0IHRvIGEgc2VxdWVuY2UvaXRlcmFibGUgb2Yga2V5ZWQgJyArICdSZWFjdEVsZW1lbnRzIGluc3RlYWQuJXMnLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDcoKSkgOiB2b2lkIDA7XG4gICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBGaXJzdCwgdmFsaWRhdGUga2V5cy5cbiAgICAgIC8vIFdlJ2xsIGdldCBhIGRpZmZlcmVudCBpdGVyYXRvciBsYXRlciBmb3IgdGhlIG1haW4gcGFzcy5cbiAgICAgIHZhciBfbmV3Q2hpbGRyZW4gPSBpdGVyYXRvckZuLmNhbGwobmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG4gICAgICBpZiAoX25ld0NoaWxkcmVuKSB7XG4gICAgICAgIHZhciBrbm93bktleXMgPSBudWxsO1xuICAgICAgICB2YXIgX3N0ZXAgPSBfbmV3Q2hpbGRyZW4ubmV4dCgpO1xuICAgICAgICBmb3IgKDsgIV9zdGVwLmRvbmU7IF9zdGVwID0gX25ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgICAgIHZhciBjaGlsZCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoY2hpbGQsIGtub3duS2V5cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbmV3Q2hpbGRyZW4gPSBpdGVyYXRvckZuLmNhbGwobmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG4gICAgIShuZXdDaGlsZHJlbiAhPSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ0FuIGl0ZXJhYmxlIG9iamVjdCBwcm92aWRlZCBubyBpdGVyYXRvci4nKSA6IHZvaWQgMDtcblxuICAgIHZhciByZXN1bHRpbmdGaXJzdENoaWxkID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXNOZXdGaWJlciA9IG51bGw7XG5cbiAgICB2YXIgb2xkRmliZXIgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB2YXIgbGFzdFBsYWNlZEluZGV4ID0gMDtcbiAgICB2YXIgbmV3SWR4ID0gMDtcbiAgICB2YXIgbmV4dE9sZEZpYmVyID0gbnVsbDtcblxuICAgIHZhciBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpO1xuICAgIGZvciAoOyBvbGRGaWJlciAhPT0gbnVsbCAmJiAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgaWYgKG9sZEZpYmVyLmluZGV4ID4gbmV3SWR4KSB7XG4gICAgICAgIG5leHRPbGRGaWJlciA9IG9sZEZpYmVyO1xuICAgICAgICBvbGRGaWJlciA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0T2xkRmliZXIgPSBvbGRGaWJlci5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0ZpYmVyID0gdXBkYXRlU2xvdChyZXR1cm5GaWJlciwgb2xkRmliZXIsIHN0ZXAudmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGlmIChuZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGJyZWFrcyBvbiBlbXB0eSBzbG90cyBsaWtlIG51bGwgY2hpbGRyZW4uIFRoYXQnc1xuICAgICAgICAvLyB1bmZvcnR1bmF0ZSBiZWNhdXNlIGl0IHRyaWdnZXJzIHRoZSBzbG93IHBhdGggYWxsIHRoZSB0aW1lLiBXZSBuZWVkXG4gICAgICAgIC8vIGEgYmV0dGVyIHdheSB0byBjb21tdW5pY2F0ZSB3aGV0aGVyIHRoaXMgd2FzIGEgbWlzcyBvciBudWxsLFxuICAgICAgICAvLyBib29sZWFuLCB1bmRlZmluZWQsIGV0Yy5cbiAgICAgICAgaWYgKCFvbGRGaWJlcikge1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgaWYgKG9sZEZpYmVyICYmIG5ld0ZpYmVyLmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIHNsb3QsIGJ1dCB3ZSBkaWRuJ3QgcmV1c2UgdGhlIGV4aXN0aW5nIGZpYmVyLCBzbyB3ZVxuICAgICAgICAgIC8vIG5lZWQgdG8gZGVsZXRlIHRoZSBleGlzdGluZyBjaGlsZC5cbiAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiB0aGUgbG9vcC4gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHRoZSBmaXJzdCBydW4uXG4gICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXdGaWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE86IERlZmVyIHNpYmxpbmdzIGlmIHdlJ3JlIG5vdCBhdCB0aGUgcmlnaHQgaW5kZXggZm9yIHRoaXMgc2xvdC5cbiAgICAgICAgLy8gSS5lLiBpZiB3ZSBoYWQgbnVsbCB2YWx1ZXMgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gZGVmZXIgdGhpc1xuICAgICAgICAvLyBmb3IgZWFjaCBudWxsIHZhbHVlLiBIb3dldmVyLCB3ZSBhbHNvIGRvbid0IHdhbnQgdG8gY2FsbCB1cGRhdGVTbG90XG4gICAgICAgIC8vIHdpdGggdGhlIHByZXZpb3VzIG9uZS5cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXI7XG4gICAgICB9XG4gICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICB9XG5cbiAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAvLyBXZSd2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIG5ldyBjaGlsZHJlbi4gV2UgY2FuIGRlbGV0ZSB0aGUgcmVzdC5cbiAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBpZiAob2xkRmliZXIgPT09IG51bGwpIHtcbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW55IG1vcmUgZXhpc3RpbmcgY2hpbGRyZW4gd2UgY2FuIGNob29zZSBhIGZhc3QgcGF0aFxuICAgICAgLy8gc2luY2UgdGhlIHJlc3Qgd2lsbCBhbGwgYmUgaW5zZXJ0aW9ucy5cbiAgICAgIGZvciAoOyAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgICB2YXIgX25ld0ZpYmVyMyA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBzdGVwLnZhbHVlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIGlmIChfbmV3RmliZXIzID09PSBudWxsKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXIzLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXIzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjM7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjM7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICAvLyBBZGQgYWxsIGNoaWxkcmVuIHRvIGEga2V5IG1hcCBmb3IgcXVpY2sgbG9va3Vwcy5cbiAgICB2YXIgZXhpc3RpbmdDaGlsZHJlbiA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG5cbiAgICAvLyBLZWVwIHNjYW5uaW5nIGFuZCB1c2UgdGhlIG1hcCB0byByZXN0b3JlIGRlbGV0ZWQgaXRlbXMgYXMgbW92ZXMuXG4gICAgZm9yICg7ICFzdGVwLmRvbmU7IG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpKSB7XG4gICAgICB2YXIgX25ld0ZpYmVyNCA9IHVwZGF0ZUZyb21NYXAoZXhpc3RpbmdDaGlsZHJlbiwgcmV0dXJuRmliZXIsIG5ld0lkeCwgc3RlcC52YWx1ZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgaWYgKF9uZXdGaWJlcjQgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgICBpZiAoX25ld0ZpYmVyNC5hbHRlcm5hdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRoZSBuZXcgZmliZXIgaXMgYSB3b3JrIGluIHByb2dyZXNzLCBidXQgaWYgdGhlcmUgZXhpc3RzIGFcbiAgICAgICAgICAgIC8vIGN1cnJlbnQsIHRoYXQgbWVhbnMgdGhhdCB3ZSByZXVzZWQgdGhlIGZpYmVyLiBXZSBuZWVkIHRvIGRlbGV0ZVxuICAgICAgICAgICAgLy8gaXQgZnJvbSB0aGUgY2hpbGQgbGlzdCBzbyB0aGF0IHdlIGRvbid0IGFkZCBpdCB0byB0aGUgZGVsZXRpb25cbiAgICAgICAgICAgIC8vIGxpc3QuXG4gICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLmRlbGV0ZShfbmV3RmliZXI0LmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IF9uZXdGaWJlcjQua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXI0LCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IF9uZXdGaWJlcjQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gX25ld0ZpYmVyNDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gX25ld0ZpYmVyNDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gQW55IGV4aXN0aW5nIGNoaWxkcmVuIHRoYXQgd2VyZW4ndCBjb25zdW1lZCBhYm92ZSB3ZXJlIGRlbGV0ZWQuIFdlIG5lZWRcbiAgICAgIC8vIHRvIGFkZCB0aGVtIHRvIHRoZSBkZWxldGlvbiBsaXN0LlxuICAgICAgZXhpc3RpbmdDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlU2luZ2xlVGV4dE5vZGUocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBUaGVyZSdzIG5vIG5lZWQgdG8gY2hlY2sgZm9yIGtleXMgb24gdGV4dCBub2RlcyBzaW5jZSB3ZSBkb24ndCBoYXZlIGFcbiAgICAvLyB3YXkgdG8gZGVmaW5lIHRoZW0uXG4gICAgaWYgKGN1cnJlbnRGaXJzdENoaWxkICE9PSBudWxsICYmIGN1cnJlbnRGaXJzdENoaWxkLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgIC8vIFdlIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBub2RlIHNvIGxldCdzIGp1c3QgdXBkYXRlIGl0IGFuZCBkZWxldGVcbiAgICAgIC8vIHRoZSByZXN0LlxuICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmcpO1xuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudEZpcnN0Q2hpbGQsIHRleHRDb250ZW50LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBleGlzdGluZy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG4gICAgLy8gVGhlIGV4aXN0aW5nIGZpcnN0IGNoaWxkIGlzIG5vdCBhIHRleHQgbm9kZSBzbyB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmVcbiAgICAvLyBhbmQgZGVsZXRlIHRoZSBleGlzdGluZyBvbmVzLlxuICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21UZXh0KHRleHRDb250ZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgY3JlYXRlZC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICByZXR1cm4gY3JlYXRlZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZVNpbmdsZUVsZW1lbnQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBlbGVtZW50LCBleHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgICB2YXIgY2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE86IElmIGtleSA9PT0gbnVsbCBhbmQgY2hpbGQua2V5ID09PSBudWxsLCB0aGVuIHRoaXMgb25seSBhcHBsaWVzIHRvXG4gICAgICAvLyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgbGlzdC5cbiAgICAgIGlmIChjaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICBpZiAoY2hpbGQudGFnID09PSBGcmFnbWVudCA/IGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSA6IGNoaWxkLnR5cGUgPT09IGVsZW1lbnQudHlwZSkge1xuICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjaGlsZCwgZWxlbWVudC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFID8gZWxlbWVudC5wcm9wcy5jaGlsZHJlbiA6IGVsZW1lbnQucHJvcHMsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICBleGlzdGluZy5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGNoaWxkLCBlbGVtZW50KTtcbiAgICAgICAgICBleGlzdGluZy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBleGlzdGluZy5fZGVidWdTb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgICAgICAgICBleGlzdGluZy5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lLCBlbGVtZW50LmtleSk7XG4gICAgICBjcmVhdGVkLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfY3JlYXRlZDQgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIF9jcmVhdGVkNC5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBlbGVtZW50KTtcbiAgICAgIF9jcmVhdGVkNC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBfY3JlYXRlZDQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlU2luZ2xlUG9ydGFsKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgcG9ydGFsLCBleHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBrZXkgPSBwb3J0YWwua2V5O1xuICAgIHZhciBjaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgLy8gVE9ETzogSWYga2V5ID09PSBudWxsIGFuZCBjaGlsZC5rZXkgPT09IG51bGwsIHRoZW4gdGhpcyBvbmx5IGFwcGxpZXMgdG9cbiAgICAgIC8vIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBsaXN0LlxuICAgICAgaWYgKGNoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgIGlmIChjaGlsZC50YWcgPT09IEhvc3RQb3J0YWwgJiYgY2hpbGQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gPT09IHBvcnRhbC5jb250YWluZXJJbmZvICYmIGNoaWxkLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiA9PT0gcG9ydGFsLmltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkLnNpYmxpbmcpO1xuICAgICAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGNoaWxkLCBwb3J0YWwuY2hpbGRyZW4gfHwgW10sIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICBleGlzdGluZy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICB9XG5cbiAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICBjcmVhdGVkLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgIHJldHVybiBjcmVhdGVkO1xuICB9XG5cbiAgLy8gVGhpcyBBUEkgd2lsbCB0YWcgdGhlIGNoaWxkcmVuIHdpdGggdGhlIHNpZGUtZWZmZWN0IG9mIHRoZSByZWNvbmNpbGlhdGlvblxuICAvLyBpdHNlbGYuIFRoZXkgd2lsbCBiZSBhZGRlZCB0byB0aGUgc2lkZS1lZmZlY3QgbGlzdCBhcyB3ZSBwYXNzIHRocm91Z2ggdGhlXG4gIC8vIGNoaWxkcmVuIGFuZCB0aGUgcGFyZW50LlxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZEZpYmVycyhyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgbm90IHJlY3Vyc2l2ZS5cbiAgICAvLyBJZiB0aGUgdG9wIGxldmVsIGl0ZW0gaXMgYW4gYXJyYXksIHdlIHRyZWF0IGl0IGFzIGEgc2V0IG9mIGNoaWxkcmVuLFxuICAgIC8vIG5vdCBhcyBhIGZyYWdtZW50LiBOZXN0ZWQgYXJyYXlzIG9uIHRoZSBvdGhlciBoYW5kIHdpbGwgYmUgdHJlYXRlZCBhc1xuICAgIC8vIGZyYWdtZW50IG5vZGVzLiBSZWN1cnNpb24gaGFwcGVucyBhdCB0aGUgbm9ybWFsIGZsb3cuXG5cbiAgICAvLyBIYW5kbGUgdG9wIGxldmVsIHVua2V5ZWQgZnJhZ21lbnRzIGFzIGlmIHRoZXkgd2VyZSBhcnJheXMuXG4gICAgLy8gVGhpcyBsZWFkcyB0byBhbiBhbWJpZ3VpdHkgYmV0d2VlbiA8PntbLi4uXX08Lz4gYW5kIDw+Li4uPC8+LlxuICAgIC8vIFdlIHRyZWF0IHRoZSBhbWJpZ3VvdXMgY2FzZXMgYWJvdmUgdGhlIHNhbWUuXG4gICAgdmFyIGlzVW5rZXllZFRvcExldmVsRnJhZ21lbnQgPSB0eXBlb2YgbmV3Q2hpbGQgPT09ICdvYmplY3QnICYmIG5ld0NoaWxkICE9PSBudWxsICYmIG5ld0NoaWxkLnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgJiYgbmV3Q2hpbGQua2V5ID09PSBudWxsO1xuICAgIGlmIChpc1Vua2V5ZWRUb3BMZXZlbEZyYWdtZW50KSB7XG4gICAgICBuZXdDaGlsZCA9IG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBvYmplY3QgdHlwZXNcbiAgICB2YXIgaXNPYmplY3QgPSB0eXBlb2YgbmV3Q2hpbGQgPT09ICdvYmplY3QnICYmIG5ld0NoaWxkICE9PSBudWxsO1xuXG4gICAgaWYgKGlzT2JqZWN0KSB7XG4gICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJlY29uY2lsZVNpbmdsZUVsZW1lbnQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpKTtcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICByZXR1cm4gcGxhY2VTaW5nbGVDaGlsZChyZWNvbmNpbGVTaW5nbGVQb3J0YWwocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbmV3Q2hpbGQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcGxhY2VTaW5nbGVDaGlsZChyZWNvbmNpbGVTaW5nbGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsICcnICsgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSk7XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkkMShuZXdDaGlsZCkpIHtcbiAgICAgIHJldHVybiByZWNvbmNpbGVDaGlsZHJlbkFycmF5KHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAoZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgIHJldHVybiByZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICd1bmRlZmluZWQnICYmICFpc1Vua2V5ZWRUb3BMZXZlbEZyYWdtZW50KSB7XG4gICAgICAvLyBJZiB0aGUgbmV3IGNoaWxkIGlzIHVuZGVmaW5lZCwgYW5kIHRoZSByZXR1cm4gZmliZXIgaXMgYSBjb21wb3NpdGVcbiAgICAgIC8vIGNvbXBvbmVudCwgdGhyb3cgYW4gZXJyb3IuIElmIEZpYmVyIHJldHVybiB0eXBlcyBhcmUgZGlzYWJsZWQsXG4gICAgICAvLyB3ZSBhbHJlYWR5IHRocmV3IGFib3ZlLlxuICAgICAgc3dpdGNoIChyZXR1cm5GaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHJldHVybkZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLnJlbmRlci5faXNNb2NrRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhbGxvdyBhdXRvLW1vY2tzIHRvIHByb2NlZWQgYXMgaWYgdGhleSdyZSByZXR1cm5pbmcgbnVsbC5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgLy8gSW50ZW50aW9uYWxseSBmYWxsIHRocm91Z2ggdG8gdGhlIG5leHQgY2FzZSwgd2hpY2ggaGFuZGxlcyBib3RoXG4gICAgICAgIC8vIGZ1bmN0aW9ucyBhbmQgY2xhc3Nlc1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVkIG5vLWZhbGx0aHJvdWdoXG4gICAgICAgIGNhc2UgRnVuY3Rpb25hbENvbXBvbmVudDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgQ29tcG9uZW50ID0gcmV0dXJuRmliZXIudHlwZTtcbiAgICAgICAgICAgIGludmFyaWFudChmYWxzZSwgJyVzKC4uLik6IE5vdGhpbmcgd2FzIHJldHVybmVkIGZyb20gcmVuZGVyLiBUaGlzIHVzdWFsbHkgbWVhbnMgYSByZXR1cm4gc3RhdGVtZW50IGlzIG1pc3NpbmcuIE9yLCB0byByZW5kZXIgbm90aGluZywgcmV0dXJuIG51bGwuJywgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtYWluaW5nIGNhc2VzIGFyZSBhbGwgdHJlYXRlZCBhcyBlbXB0eS5cbiAgICByZXR1cm4gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgfVxuXG4gIHJldHVybiByZWNvbmNpbGVDaGlsZEZpYmVycztcbn1cblxudmFyIHJlY29uY2lsZUNoaWxkRmliZXJzID0gQ2hpbGRSZWNvbmNpbGVyKHRydWUpO1xudmFyIG1vdW50Q2hpbGRGaWJlcnMgPSBDaGlsZFJlY29uY2lsZXIoZmFsc2UpO1xuXG5mdW5jdGlvbiBjbG9uZUNoaWxkRmliZXJzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICEoY3VycmVudCA9PT0gbnVsbCB8fCB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9PT0gY3VycmVudC5jaGlsZCkgPyBpbnZhcmlhbnQoZmFsc2UsICdSZXN1bWluZyB3b3JrIG5vdCB5ZXQgaW1wbGVtZW50ZWQuJykgOiB2b2lkIDA7XG5cbiAgaWYgKHdvcmtJblByb2dyZXNzLmNoaWxkID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRDaGlsZCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB2YXIgbmV3Q2hpbGQgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50Q2hpbGQsIGN1cnJlbnRDaGlsZC5wZW5kaW5nUHJvcHMsIGN1cnJlbnRDaGlsZC5leHBpcmF0aW9uVGltZSk7XG4gIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbmV3Q2hpbGQ7XG5cbiAgbmV3Q2hpbGQucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7XG4gIHdoaWxlIChjdXJyZW50Q2hpbGQuc2libGluZyAhPT0gbnVsbCkge1xuICAgIGN1cnJlbnRDaGlsZCA9IGN1cnJlbnRDaGlsZC5zaWJsaW5nO1xuICAgIG5ld0NoaWxkID0gbmV3Q2hpbGQuc2libGluZyA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnRDaGlsZCwgY3VycmVudENoaWxkLnBlbmRpbmdQcm9wcywgY3VycmVudENoaWxkLmV4cGlyYXRpb25UaW1lKTtcbiAgICBuZXdDaGlsZC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgfVxuICBuZXdDaGlsZC5zaWJsaW5nID0gbnVsbDtcbn1cblxuLy8gVGhlIGRlZXBlc3QgRmliZXIgb24gdGhlIHN0YWNrIGludm9sdmVkIGluIGEgaHlkcmF0aW9uIGNvbnRleHQuXG4vLyBUaGlzIG1heSBoYXZlIGJlZW4gYW4gaW5zZXJ0aW9uIG9yIGEgaHlkcmF0aW9uLlxudmFyIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gbnVsbDtcbnZhciBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gbnVsbDtcbnZhciBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBlbnRlckh5ZHJhdGlvblN0YXRlKGZpYmVyKSB7XG4gIGlmICghc3VwcG9ydHNIeWRyYXRpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcGFyZW50SW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldEZpcnN0SHlkcmF0YWJsZUNoaWxkKHBhcmVudEluc3RhbmNlKTtcbiAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlcjtcbiAgaXNIeWRyYXRpbmcgPSB0cnVlO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlKHJldHVybkZpYmVyLCBpbnN0YW5jZSkge1xuICB7XG4gICAgc3dpdGNoIChyZXR1cm5GaWJlci50YWcpIHtcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIGRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZShyZXR1cm5GaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbywgaW5zdGFuY2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgZGlkTm90SHlkcmF0ZUluc3RhbmNlKHJldHVybkZpYmVyLnR5cGUsIHJldHVybkZpYmVyLm1lbW9pemVkUHJvcHMsIHJldHVybkZpYmVyLnN0YXRlTm9kZSwgaW5zdGFuY2UpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgY2hpbGRUb0RlbGV0ZSA9IGNyZWF0ZUZpYmVyRnJvbUhvc3RJbnN0YW5jZUZvckRlbGV0aW9uKCk7XG4gIGNoaWxkVG9EZWxldGUuc3RhdGVOb2RlID0gaW5zdGFuY2U7XG4gIGNoaWxkVG9EZWxldGUucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gIGNoaWxkVG9EZWxldGUuZWZmZWN0VGFnID0gRGVsZXRpb247XG5cbiAgLy8gVGhpcyBtaWdodCBzZWVtIGxpa2UgaXQgYmVsb25ncyBvbiBwcm9ncmVzc2VkRmlyc3REZWxldGlvbi4gSG93ZXZlcixcbiAgLy8gdGhlc2UgY2hpbGRyZW4gYXJlIG5vdCBwYXJ0IG9mIHRoZSByZWNvbmNpbGlhdGlvbiBsaXN0IG9mIGNoaWxkcmVuLlxuICAvLyBFdmVuIGlmIHdlIGFib3J0IGFuZCByZXJlY29uY2lsZSB0aGUgY2hpbGRyZW4sIHRoYXQgd2lsbCB0cnkgdG8gaHlkcmF0ZVxuICAvLyBhZ2FpbiBhbmQgdGhlIG5vZGVzIGFyZSBzdGlsbCBpbiB0aGUgaG9zdCB0cmVlIHNvIHRoZXNlIHdpbGwgYmVcbiAgLy8gcmVjcmVhdGVkLlxuICBpZiAocmV0dXJuRmliZXIubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuRmliZXIuZmlyc3RFZmZlY3QgPSByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlKHJldHVybkZpYmVyLCBmaWJlcikge1xuICBmaWJlci5lZmZlY3RUYWcgfD0gUGxhY2VtZW50O1xuICB7XG4gICAgc3dpdGNoIChyZXR1cm5GaWJlci50YWcpIHtcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgcGFyZW50Q29udGFpbmVyID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVySW5zdGFuY2UocGFyZW50Q29udGFpbmVyLCB0eXBlLCBwcm9wcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgICAgICAgICAgdmFyIHRleHQgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdGV4dCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHBhcmVudFR5cGUgPSByZXR1cm5GaWJlci50eXBlO1xuICAgICAgICAgIHZhciBwYXJlbnRQcm9wcyA9IHJldHVybkZpYmVyLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgdmFyIHBhcmVudEluc3RhbmNlID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgICAgIHZhciBfdHlwZSA9IGZpYmVyLnR5cGU7XG4gICAgICAgICAgICAgIHZhciBfcHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2UocGFyZW50VHlwZSwgcGFyZW50UHJvcHMsIHBhcmVudEluc3RhbmNlLCBfdHlwZSwgX3Byb3BzKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICAgICAgICB2YXIgX3RleHQgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlVGV4dEluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgX3RleHQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJ5SHlkcmF0ZShmaWJlciwgbmV4dEluc3RhbmNlKSB7XG4gIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAge1xuICAgICAgICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG4gICAgICAgIHZhciBwcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgdmFyIGluc3RhbmNlID0gY2FuSHlkcmF0ZUluc3RhbmNlKG5leHRJbnN0YW5jZSwgdHlwZSwgcHJvcHMpO1xuICAgICAgICBpZiAoaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUgPSBpbnN0YW5jZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgIHtcbiAgICAgICAgdmFyIHRleHQgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgIHZhciB0ZXh0SW5zdGFuY2UgPSBjYW5IeWRyYXRlVGV4dEluc3RhbmNlKG5leHRJbnN0YW5jZSwgdGV4dCk7XG4gICAgICAgIGlmICh0ZXh0SW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUgPSB0ZXh0SW5zdGFuY2U7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2UoZmliZXIpIHtcbiAgaWYgKCFpc0h5ZHJhdGluZykge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbmV4dEluc3RhbmNlID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZTtcbiAgaWYgKCFuZXh0SW5zdGFuY2UpIHtcbiAgICAvLyBOb3RoaW5nIHRvIGh5ZHJhdGUuIE1ha2UgaXQgYW4gaW5zZXJ0aW9uLlxuICAgIGluc2VydE5vbkh5ZHJhdGVkSW5zdGFuY2UoaHlkcmF0aW9uUGFyZW50RmliZXIsIGZpYmVyKTtcbiAgICBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gZmliZXI7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBmaXJzdEF0dGVtcHRlZEluc3RhbmNlID0gbmV4dEluc3RhbmNlO1xuICBpZiAoIXRyeUh5ZHJhdGUoZmliZXIsIG5leHRJbnN0YW5jZSkpIHtcbiAgICAvLyBJZiB3ZSBjYW4ndCBoeWRyYXRlIHRoaXMgaW5zdGFuY2UgbGV0J3MgdHJ5IHRoZSBuZXh0IG9uZS5cbiAgICAvLyBXZSB1c2UgdGhpcyBhcyBhIGhldXJpc3RpYy4gSXQncyBiYXNlZCBvbiBpbnR1aXRpb24gYW5kIG5vdCBkYXRhIHNvIGl0XG4gICAgLy8gbWlnaHQgYmUgZmxhd2VkIG9yIHVubmVjZXNzYXJ5LlxuICAgIG5leHRJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlU2libGluZyhmaXJzdEF0dGVtcHRlZEluc3RhbmNlKTtcbiAgICBpZiAoIW5leHRJbnN0YW5jZSB8fCAhdHJ5SHlkcmF0ZShmaWJlciwgbmV4dEluc3RhbmNlKSkge1xuICAgICAgLy8gTm90aGluZyB0byBoeWRyYXRlLiBNYWtlIGl0IGFuIGluc2VydGlvbi5cbiAgICAgIGluc2VydE5vbkh5ZHJhdGVkSW5zdGFuY2UoaHlkcmF0aW9uUGFyZW50RmliZXIsIGZpYmVyKTtcbiAgICAgIGlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBXZSBtYXRjaGVkIHRoZSBuZXh0IG9uZSwgd2UnbGwgbm93IGFzc3VtZSB0aGF0IHRoZSBmaXJzdCBvbmUgd2FzXG4gICAgLy8gc3VwZXJmbHVvdXMgYW5kIHdlJ2xsIGRlbGV0ZSBpdC4gU2luY2Ugd2UgY2FuJ3QgZWFnZXJseSBkZWxldGUgaXRcbiAgICAvLyB3ZSdsbCBoYXZlIHRvIHNjaGVkdWxlIGEgZGVsZXRpb24uIFRvIGRvIHRoYXQsIHRoaXMgbm9kZSBuZWVkcyBhIGR1bW15XG4gICAgLy8gZmliZXIgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgIGRlbGV0ZUh5ZHJhdGFibGVJbnN0YW5jZShoeWRyYXRpb25QYXJlbnRGaWJlciwgZmlyc3RBdHRlbXB0ZWRJbnN0YW5jZSk7XG4gIH1cbiAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlcjtcbiAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldEZpcnN0SHlkcmF0YWJsZUNoaWxkKG5leHRJbnN0YW5jZSk7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UoZmliZXIsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQpIHtcbiAgaWYgKCFzdXBwb3J0c0h5ZHJhdGlvbikge1xuICAgIGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UoKSB0byBuZXZlciBiZSBjYWxsZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gIH1cblxuICB2YXIgaW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gIHZhciB1cGRhdGVQYXlsb2FkID0gaHlkcmF0ZUluc3RhbmNlKGluc3RhbmNlLCBmaWJlci50eXBlLCBmaWJlci5tZW1vaXplZFByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0LCBmaWJlcik7XG4gIC8vIFRPRE86IFR5cGUgdGhpcyBzcGVjaWZpYyB0byB0aGlzIHR5cGUgb2YgY29tcG9uZW50LlxuICBmaWJlci51cGRhdGVRdWV1ZSA9IHVwZGF0ZVBheWxvYWQ7XG4gIC8vIElmIHRoZSB1cGRhdGUgcGF5bG9hZCBpbmRpY2F0ZXMgdGhhdCB0aGVyZSBpcyBhIGNoYW5nZSBvciBpZiB0aGVyZVxuICAvLyBpcyBhIG5ldyByZWYgd2UgbWFyayB0aGlzIGFzIGFuIHVwZGF0ZS5cbiAgaWYgKHVwZGF0ZVBheWxvYWQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlKGZpYmVyKSB7XG4gIGlmICghc3VwcG9ydHNIeWRyYXRpb24pIHtcbiAgICBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSgpIHRvIG5ldmVyIGJlIGNhbGxlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgfVxuXG4gIHZhciB0ZXh0SW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gIHZhciB0ZXh0Q29udGVudCA9IGZpYmVyLm1lbW9pemVkUHJvcHM7XG4gIHZhciBzaG91bGRVcGRhdGUgPSBoeWRyYXRlVGV4dEluc3RhbmNlKHRleHRJbnN0YW5jZSwgdGV4dENvbnRlbnQsIGZpYmVyKTtcbiAge1xuICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgIC8vIFdlIGFzc3VtZSB0aGF0IHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlIGlzIGNhbGxlZCBpbiBhIGNvbnRleHQgd2hlcmUgdGhlXG4gICAgICAvLyBoeWRyYXRpb24gcGFyZW50IGlzIHRoZSBwYXJlbnQgaG9zdCBjb21wb25lbnQgb2YgdGhpcyBob3N0IHRleHQuXG4gICAgICB2YXIgcmV0dXJuRmliZXIgPSBoeWRyYXRpb25QYXJlbnRGaWJlcjtcbiAgICAgIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnRDb250YWluZXIgPSByZXR1cm5GaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZShwYXJlbnRDb250YWluZXIsIHRleHRJbnN0YW5jZSwgdGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnRUeXBlID0gcmV0dXJuRmliZXIudHlwZTtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudFByb3BzID0gcmV0dXJuRmliZXIubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgICAgdmFyIHBhcmVudEluc3RhbmNlID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICBkaWROb3RNYXRjaEh5ZHJhdGVkVGV4dEluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgdGV4dEluc3RhbmNlLCB0ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBzaG91bGRVcGRhdGU7XG59XG5cbmZ1bmN0aW9uIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpIHtcbiAgdmFyIHBhcmVudCA9IGZpYmVyLnJldHVybjtcbiAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCAmJiBwYXJlbnQudGFnICE9PSBIb3N0Q29tcG9uZW50ICYmIHBhcmVudC50YWcgIT09IEhvc3RSb290KSB7XG4gICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgfVxuICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IHBhcmVudDtcbn1cblxuZnVuY3Rpb24gcG9wSHlkcmF0aW9uU3RhdGUoZmliZXIpIHtcbiAgaWYgKCFzdXBwb3J0c0h5ZHJhdGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZmliZXIgIT09IGh5ZHJhdGlvblBhcmVudEZpYmVyKSB7XG4gICAgLy8gV2UncmUgZGVlcGVyIHRoYW4gdGhlIGN1cnJlbnQgaHlkcmF0aW9uIGNvbnRleHQsIGluc2lkZSBhbiBpbnNlcnRlZFxuICAgIC8vIHRyZWUuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAvLyBJZiB3ZSdyZSBub3QgY3VycmVudGx5IGh5ZHJhdGluZyBidXQgd2UncmUgaW4gYSBoeWRyYXRpb24gY29udGV4dCwgdGhlblxuICAgIC8vIHdlIHdlcmUgYW4gaW5zZXJ0aW9uIGFuZCBub3cgbmVlZCB0byBwb3AgdXAgcmVlbnRlciBoeWRyYXRpb24gb2Ygb3VyXG4gICAgLy8gc2libGluZ3MuXG4gICAgcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcik7XG4gICAgaXNIeWRyYXRpbmcgPSB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciB0eXBlID0gZmliZXIudHlwZTtcblxuICAvLyBJZiB3ZSBoYXZlIGFueSByZW1haW5pbmcgaHlkcmF0YWJsZSBub2Rlcywgd2UgbmVlZCB0byBkZWxldGUgdGhlbSBub3cuXG4gIC8vIFdlIG9ubHkgZG8gdGhpcyBkZWVwZXIgdGhhbiBoZWFkIGFuZCBib2R5IHNpbmNlIHRoZXkgdGVuZCB0byBoYXZlIHJhbmRvbVxuICAvLyBvdGhlciBub2RlcyBpbiB0aGVtLiBXZSBhbHNvIGlnbm9yZSBjb21wb25lbnRzIHdpdGggcHVyZSB0ZXh0IGNvbnRlbnQgaW5cbiAgLy8gc2lkZSBvZiB0aGVtLlxuICAvLyBUT0RPOiBCZXR0ZXIgaGV1cmlzdGljLlxuICBpZiAoZmliZXIudGFnICE9PSBIb3N0Q29tcG9uZW50IHx8IHR5cGUgIT09ICdoZWFkJyAmJiB0eXBlICE9PSAnYm9keScgJiYgIXNob3VsZFNldFRleHRDb250ZW50KHR5cGUsIGZpYmVyLm1lbW9pemVkUHJvcHMpKSB7XG4gICAgdmFyIG5leHRJbnN0YW5jZSA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2U7XG4gICAgd2hpbGUgKG5leHRJbnN0YW5jZSkge1xuICAgICAgZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlKGZpYmVyLCBuZXh0SW5zdGFuY2UpO1xuICAgICAgbmV4dEluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKG5leHRJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcik7XG4gIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBoeWRyYXRpb25QYXJlbnRGaWJlciA/IGdldE5leHRIeWRyYXRhYmxlU2libGluZyhmaWJlci5zdGF0ZU5vZGUpIDogbnVsbDtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlc2V0SHlkcmF0aW9uU3RhdGUoKSB7XG4gIGlmICghc3VwcG9ydHNIeWRyYXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IG51bGw7XG4gIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsO1xuICBpc0h5ZHJhdGluZyA9IGZhbHNlO1xufVxuXG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ2ID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG5cbnZhciBkaWRXYXJuQWJvdXRCYWRDbGFzcyA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uYWxDb21wb25lbnQgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0U3RhdGVsZXNzUmVmcyA9IHZvaWQgMDtcblxue1xuICBkaWRXYXJuQWJvdXRCYWRDbGFzcyA9IHt9O1xuICBkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uYWxDb21wb25lbnQgPSB7fTtcbiAgZGlkV2FybkFib3V0U3RhdGVsZXNzUmVmcyA9IHt9O1xufVxuXG4vLyBUT0RPOiBSZW1vdmUgdGhpcyBhbmQgdXNlIHJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZSBkaXJlY3RseS5cbmZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pIHtcbiAgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lKTtcbn1cblxuZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgLy8gSWYgdGhpcyBpcyBhIGZyZXNoIG5ldyBjb21wb25lbnQgdGhhdCBoYXNuJ3QgYmVlbiByZW5kZXJlZCB5ZXQsIHdlXG4gICAgLy8gd29uJ3QgdXBkYXRlIGl0cyBjaGlsZCBzZXQgYnkgYXBwbHlpbmcgbWluaW1hbCBzaWRlLWVmZmVjdHMuIEluc3RlYWQsXG4gICAgLy8gd2Ugd2lsbCBhZGQgdGhlbSBhbGwgdG8gdGhlIGNoaWxkIGJlZm9yZSBpdCBnZXRzIHJlbmRlcmVkLiBUaGF0IG1lYW5zXG4gICAgLy8gd2UgY2FuIG9wdGltaXplIHRoaXMgcmVjb25jaWxpYXRpb24gcGFzcyBieSBub3QgdHJhY2tpbmcgc2lkZS1lZmZlY3RzLlxuICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbW91bnRDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgbnVsbCwgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgdGhlIGN1cnJlbnQgY2hpbGQgaXMgdGhlIHNhbWUgYXMgdGhlIHdvcmsgaW4gcHJvZ3Jlc3MsIGl0IG1lYW5zIHRoYXRcbiAgICAvLyB3ZSBoYXZlbid0IHlldCBzdGFydGVkIGFueSB3b3JrIG9uIHRoZXNlIGNoaWxkcmVuLiBUaGVyZWZvcmUsIHdlIHVzZVxuICAgIC8vIHRoZSBjbG9uZSBhbGdvcml0aG0gdG8gY3JlYXRlIGEgY29weSBvZiBhbGwgdGhlIGN1cnJlbnQgY2hpbGRyZW4uXG5cbiAgICAvLyBJZiB3ZSBoYWQgYW55IHByb2dyZXNzZWQgd29yayBhbHJlYWR5LCB0aGF0IGlzIGludmFsaWQgYXQgdGhpcyBwb2ludCBzb1xuICAgIC8vIGxldCdzIHRocm93IGl0IG91dC5cbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBjdXJyZW50LmNoaWxkLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVGb3J3YXJkUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gIHZhciByZW5kZXIgPSB3b3JrSW5Qcm9ncmVzcy50eXBlLnJlbmRlcjtcbiAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgdmFyIHJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgaWYgKGhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICB9IGVsc2UgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgIHZhciBjdXJyZW50UmVmID0gY3VycmVudCAhPT0gbnVsbCA/IGN1cnJlbnQucmVmIDogbnVsbDtcbiAgICBpZiAocmVmID09PSBjdXJyZW50UmVmKSB7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG5leHRDaGlsZHJlbiA9IHZvaWQgMDtcbiAge1xuICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZSgncmVuZGVyJyk7XG4gICAgbmV4dENoaWxkcmVuID0gcmVuZGVyKG5leHRQcm9wcywgcmVmKTtcbiAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZShudWxsKTtcbiAgfVxuXG4gIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcyk7XG4gIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRnJhZ21lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgdmFyIG5leHRDaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgaWYgKGhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICB9IGVsc2UgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRDaGlsZHJlbikge1xuICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgfVxuICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU1vZGUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgdmFyIG5leHRDaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlbjtcbiAgaWYgKGhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICB9IGVsc2UgaWYgKG5leHRDaGlsZHJlbiA9PT0gbnVsbCB8fCB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0Q2hpbGRyZW4pIHtcbiAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gIH1cbiAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVQcm9maWxlcihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gIH1cbiAgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgfVxuICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dFByb3BzLmNoaWxkcmVuO1xuICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMpO1xuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbmZ1bmN0aW9uIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgdmFyIHJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgaWYgKGN1cnJlbnQgPT09IG51bGwgJiYgcmVmICE9PSBudWxsIHx8IGN1cnJlbnQgIT09IG51bGwgJiYgY3VycmVudC5yZWYgIT09IHJlZikge1xuICAgIC8vIFNjaGVkdWxlIGEgUmVmIGVmZmVjdFxuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBSZWY7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRnVuY3Rpb25hbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICB2YXIgZm4gPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuXG4gIGlmIChoYXNDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgfSBlbHNlIHtcbiAgICBpZiAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9PT0gbmV4dFByb3BzKSB7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIC8vIFRPRE86IGNvbnNpZGVyIGJyaW5naW5nIGZuLnNob3VsZENvbXBvbmVudFVwZGF0ZSgpIGJhY2suXG4gICAgLy8gSXQgdXNlZCB0byBiZSBoZXJlLlxuICB9XG5cbiAgdmFyIHVubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gIHZhciBjb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICB2YXIgbmV4dENoaWxkcmVuID0gdm9pZCAwO1xuXG4gIHtcbiAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UoJ3JlbmRlcicpO1xuICAgIG5leHRDaGlsZHJlbiA9IGZuKG5leHRQcm9wcywgY29udGV4dCk7XG4gICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UobnVsbCk7XG4gIH1cbiAgLy8gUmVhY3QgRGV2VG9vbHMgcmVhZHMgdGhpcyBmbGFnLlxuICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcbiAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKTtcbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVDbGFzc0NvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gUHVzaCBjb250ZXh0IHByb3ZpZGVycyBlYXJseSB0byBwcmV2ZW50IGNvbnRleHQgc3RhY2sgbWlzbWF0Y2hlcy5cbiAgLy8gRHVyaW5nIG1vdW50aW5nIHdlIGRvbid0IGtub3cgdGhlIGNoaWxkIGNvbnRleHQgeWV0IGFzIHRoZSBpbnN0YW5jZSBkb2Vzbid0IGV4aXN0LlxuICAvLyBXZSB3aWxsIGludmFsaWRhdGUgdGhlIGNoaWxkIGNvbnRleHQgaW4gZmluaXNoQ2xhc3NDb21wb25lbnQoKSByaWdodCBhZnRlciByZW5kZXJpbmcuXG4gIHZhciBoYXNDb250ZXh0ID0gcHVzaENvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gIHZhciBzaG91bGRVcGRhdGUgPSB2b2lkIDA7XG4gIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9PT0gbnVsbCkge1xuICAgICAgLy8gSW4gdGhlIGluaXRpYWwgcGFzcyB3ZSBtaWdodCBuZWVkIHRvIGNvbnN0cnVjdCB0aGUgaW5zdGFuY2UuXG4gICAgICBjb25zdHJ1Y3RDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIG1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICBzaG91bGRVcGRhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJbiBhIHJlc3VtZSwgd2UnbGwgYWxyZWFkeSBoYXZlIGFuIGluc3RhbmNlIHdlIGNhbiByZXVzZS5cbiAgICAgIHNob3VsZFVwZGF0ZSA9IHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzaG91bGRVcGRhdGUgPSB1cGRhdGVDbGFzc0luc3RhbmNlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH1cbiAgcmV0dXJuIGZpbmlzaENsYXNzQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBzaG91bGRVcGRhdGUsIGhhc0NvbnRleHQsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbn1cblxuZnVuY3Rpb24gZmluaXNoQ2xhc3NDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHNob3VsZFVwZGF0ZSwgaGFzQ29udGV4dCwgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gUmVmcyBzaG91bGQgdXBkYXRlIGV2ZW4gaWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybnMgZmFsc2VcbiAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgdmFyIGRpZENhcHR1cmVFcnJvciA9ICh3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJiBEaWRDYXB0dXJlKSAhPT0gTm9FZmZlY3Q7XG5cbiAgaWYgKCFzaG91bGRVcGRhdGUgJiYgIWRpZENhcHR1cmVFcnJvcikge1xuICAgIC8vIENvbnRleHQgcHJvdmlkZXJzIHNob3VsZCBkZWZlciB0byBzQ1UgZm9yIHJlbmRlcmluZ1xuICAgIGlmIChoYXNDb250ZXh0KSB7XG4gICAgICBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICB9XG5cbiAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG5cbiAgLy8gUmVyZW5kZXJcbiAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHdvcmtJblByb2dyZXNzO1xuICB2YXIgbmV4dENoaWxkcmVuID0gdm9pZCAwO1xuICBpZiAoZGlkQ2FwdHVyZUVycm9yICYmICghZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIHx8IHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAvLyBJZiB3ZSBjYXB0dXJlZCBhbiBlcnJvciwgYnV0IGdldERlcml2ZWRTdGF0ZUZyb20gY2F0Y2ggaXMgbm90IGRlZmluZWQsXG4gICAgLy8gdW5tb3VudCBhbGwgdGhlIGNoaWxkcmVuLiBjb21wb25lbnREaWRDYXRjaCB3aWxsIHNjaGVkdWxlIGFuIHVwZGF0ZSB0b1xuICAgIC8vIHJlLXJlbmRlciBhIGZhbGxiYWNrLiBUaGlzIGlzIHRlbXBvcmFyeSB1bnRpbCB3ZSBtaWdyYXRlIGV2ZXJ5b25lIHRvXG4gICAgLy8gdGhlIG5ldyBBUEkuXG4gICAgLy8gVE9ETzogV2FybiBpbiBhIGZ1dHVyZSByZWxlYXNlLlxuICAgIG5leHRDaGlsZHJlbiA9IG51bGw7XG5cbiAgICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgICAgc3RvcEJhc2VSZW5kZXJUaW1lcklmUnVubmluZygpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZSgncmVuZGVyJyk7XG4gICAgICBuZXh0Q2hpbGRyZW4gPSBpbnN0YW5jZS5yZW5kZXIoKTtcbiAgICAgIGlmIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgfHwgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICBpbnN0YW5jZS5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cbiAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFBlcmZvcm1lZFdvcms7XG4gIGlmIChkaWRDYXB0dXJlRXJyb3IpIHtcbiAgICAvLyBJZiB3ZSdyZSByZWNvdmVyaW5nIGZyb20gYW4gZXJyb3IsIHJlY29uY2lsZSB0d2ljZTogZmlyc3QgdG8gZGVsZXRlXG4gICAgLy8gYWxsIHRoZSBleGlzdGluZyBjaGlsZHJlbi5cbiAgICByZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG51bGwsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG51bGw7XG4gICAgLy8gTm93IHdlIGNhbiBjb250aW51ZSByZWNvbmNpbGluZyBsaWtlIG5vcm1hbC4gVGhpcyBoYXMgdGhlIGVmZmVjdCBvZlxuICAgIC8vIHJlbW91bnRpbmcgYWxsIGNoaWxkcmVuIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGVpciB0aGVpclxuICAgIC8vIGlkZW50aXR5IG1hdGNoZXMuXG4gIH1cbiAgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgLy8gTWVtb2l6ZSBwcm9wcyBhbmQgc3RhdGUgdXNpbmcgdGhlIHZhbHVlcyB3ZSBqdXN0IHVzZWQgdG8gcmVuZGVyLlxuICAvLyBUT0RPOiBSZXN0cnVjdHVyZSBzbyB3ZSBuZXZlciByZWFkIHZhbHVlcyBmcm9tIHRoZSBpbnN0YW5jZS5cbiAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZS5zdGF0ZSk7XG4gIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UucHJvcHMpO1xuXG4gIC8vIFRoZSBjb250ZXh0IG1pZ2h0IGhhdmUgY2hhbmdlZCBzbyB3ZSBuZWVkIHRvIHJlY2FsY3VsYXRlIGl0LlxuICBpZiAoaGFzQ29udGV4dCkge1xuICAgIGludmFsaWRhdGVDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG5mdW5jdGlvbiBwdXNoSG9zdFJvb3RDb250ZXh0KHdvcmtJblByb2dyZXNzKSB7XG4gIHZhciByb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICBpZiAocm9vdC5wZW5kaW5nQ29udGV4dCkge1xuICAgIHB1c2hUb3BMZXZlbENvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MsIHJvb3QucGVuZGluZ0NvbnRleHQsIHJvb3QucGVuZGluZ0NvbnRleHQgIT09IHJvb3QuY29udGV4dCk7XG4gIH0gZWxzZSBpZiAocm9vdC5jb250ZXh0KSB7XG4gICAgLy8gU2hvdWxkIGFsd2F5cyBiZSBzZXRcbiAgICBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0KHdvcmtJblByb2dyZXNzLCByb290LmNvbnRleHQsIGZhbHNlKTtcbiAgfVxuICBwdXNoSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcywgcm9vdC5jb250YWluZXJJbmZvKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlSG9zdFJvb3QoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHB1c2hIb3N0Um9vdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgcHJldlN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICB2YXIgcHJldkNoaWxkcmVuID0gcHJldlN0YXRlICE9PSBudWxsID8gcHJldlN0YXRlLmVsZW1lbnQgOiBudWxsO1xuICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUXVldWUsIG5leHRQcm9wcywgbnVsbCwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIHZhciBuZXh0U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIC8vIENhdXRpb246IFJlYWN0IERldlRvb2xzIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJvcGVydHlcbiAgICAvLyBiZWluZyBjYWxsZWQgXCJlbGVtZW50XCIuXG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRTdGF0ZS5lbGVtZW50O1xuXG4gICAgaWYgKG5leHRDaGlsZHJlbiA9PT0gcHJldkNoaWxkcmVuKSB7XG4gICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgdGhlIHNhbWUgYXMgYmVmb3JlLCB0aGF0J3MgYSBiYWlsb3V0IGJlY2F1c2Ugd2UgaGFkXG4gICAgICAvLyBubyB3b3JrIHRoYXQgZXhwaXJlcyBhdCB0aGlzIHRpbWUuXG4gICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIHZhciByb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIGlmICgoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LmNoaWxkID09PSBudWxsKSAmJiByb290Lmh5ZHJhdGUgJiYgZW50ZXJIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW55IGN1cnJlbnQgY2hpbGRyZW4gdGhpcyBtaWdodCBiZSB0aGUgZmlyc3QgcGFzcy5cbiAgICAgIC8vIFdlIGFsd2F5cyB0cnkgdG8gaHlkcmF0ZS4gSWYgdGhpcyBpc24ndCBhIGh5ZHJhdGlvbiBwYXNzIHRoZXJlIHdvbid0XG4gICAgICAvLyBiZSBhbnkgY2hpbGRyZW4gdG8gaHlkcmF0ZSB3aGljaCBpcyBlZmZlY3RpdmVseSB0aGUgc2FtZSB0aGluZyBhc1xuICAgICAgLy8gbm90IGh5ZHJhdGluZy5cblxuICAgICAgLy8gVGhpcyBpcyBhIGJpdCBvZiBhIGhhY2suIFdlIHRyYWNrIHRoZSBob3N0IHJvb3QgYXMgYSBwbGFjZW1lbnQgdG9cbiAgICAgIC8vIGtub3cgdGhhdCB3ZSdyZSBjdXJyZW50bHkgaW4gYSBtb3VudGluZyBzdGF0ZS4gVGhhdCB3YXkgaXNNb3VudGVkXG4gICAgICAvLyB3b3JrcyBhcyBleHBlY3RlZC4gV2UgbXVzdCByZXNldCB0aGlzIGJlZm9yZSBjb21taXR0aW5nLlxuICAgICAgLy8gVE9ETzogRGVsZXRlIHRoaXMgd2hlbiB3ZSBkZWxldGUgaXNNb3VudGVkIGFuZCBmaW5kRE9NTm9kZS5cbiAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQbGFjZW1lbnQ7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGF0IGNoaWxkcmVuIG1vdW50IGludG8gdGhpcyByb290IHdpdGhvdXQgdHJhY2tpbmdcbiAgICAgIC8vIHNpZGUtZWZmZWN0cy4gVGhpcyBlbnN1cmVzIHRoYXQgd2UgZG9uJ3Qgc3RvcmUgUGxhY2VtZW50IGVmZmVjdHMgb25cbiAgICAgIC8vIG5vZGVzIHRoYXQgd2lsbCBiZSBoeWRyYXRlZC5cbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbW91bnRDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgbnVsbCwgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE90aGVyd2lzZSByZXNldCBoeWRyYXRpb24gc3RhdGUgaW4gY2FzZSB3ZSBhYm9ydGVkIGFuZCByZXN1bWVkIGFub3RoZXJcbiAgICAgIC8vIHJvb3QuXG4gICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG4gIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgLy8gSWYgdGhlcmUgaXMgbm8gdXBkYXRlIHF1ZXVlLCB0aGF0J3MgYSBiYWlsb3V0IGJlY2F1c2UgdGhlIHJvb3QgaGFzIG5vIHByb3BzLlxuICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUhvc3RDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHB1c2hIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcyk7XG4gIH1cblxuICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gIHZhciBtZW1vaXplZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBudWxsO1xuXG4gIGlmIChoYXNDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgfSBlbHNlIGlmIChtZW1vaXplZFByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICB2YXIgaXNIaWRkZW4gPSB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgQXN5bmNNb2RlICYmIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUodHlwZSwgbmV4dFByb3BzKTtcbiAgICBpZiAoaXNIaWRkZW4pIHtcbiAgICAgIC8vIEJlZm9yZSBiYWlsaW5nIG91dCwgbWFrZSBzdXJlIHdlJ3ZlIGRlcHJpb3JpdGl6ZWQgYSBoaWRkZW4gY29tcG9uZW50LlxuICAgICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBOZXZlcjtcbiAgICB9XG4gICAgaWYgKCFpc0hpZGRlbiB8fCByZW5kZXJFeHBpcmF0aW9uVGltZSAhPT0gTmV2ZXIpIHtcbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgLy8gSWYgd2UncmUgcmVuZGVyaW5nIGEgaGlkZGVuIG5vZGUgYXQgaGlkZGVuIHByaW9yaXR5LCBkb24ndCBiYWlsb3V0LiBUaGVcbiAgICAvLyBwYXJlbnQgaXMgY29tcGxldGUsIGJ1dCB0aGUgY2hpbGRyZW4gbWF5IG5vdCBiZS5cbiAgfVxuXG4gIHZhciBuZXh0Q2hpbGRyZW4gPSBuZXh0UHJvcHMuY2hpbGRyZW47XG4gIHZhciBpc0RpcmVjdFRleHRDaGlsZCA9IHNob3VsZFNldFRleHRDb250ZW50KHR5cGUsIG5leHRQcm9wcyk7XG5cbiAgaWYgKGlzRGlyZWN0VGV4dENoaWxkKSB7XG4gICAgLy8gV2Ugc3BlY2lhbCBjYXNlIGEgZGlyZWN0IHRleHQgY2hpbGQgb2YgYSBob3N0IG5vZGUuIFRoaXMgaXMgYSBjb21tb25cbiAgICAvLyBjYXNlLiBXZSB3b24ndCBoYW5kbGUgaXQgYXMgYSByZWlmaWVkIGNoaWxkLiBXZSB3aWxsIGluc3RlYWQgaGFuZGxlXG4gICAgLy8gdGhpcyBpbiB0aGUgaG9zdCBlbnZpcm9ubWVudCB0aGF0IGFsc28gaGF2ZSBhY2Nlc3MgdG8gdGhpcyBwcm9wLiBUaGF0XG4gICAgLy8gYXZvaWRzIGFsbG9jYXRpbmcgYW5vdGhlciBIb3N0VGV4dCBmaWJlciBhbmQgdHJhdmVyc2luZyBpdC5cbiAgICBuZXh0Q2hpbGRyZW4gPSBudWxsO1xuICB9IGVsc2UgaWYgKHByZXZQcm9wcyAmJiBzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBwcmV2UHJvcHMpKSB7XG4gICAgLy8gSWYgd2UncmUgc3dpdGNoaW5nIGZyb20gYSBkaXJlY3QgdGV4dCBjaGlsZCB0byBhIG5vcm1hbCBjaGlsZCwgb3IgdG9cbiAgICAvLyBlbXB0eSwgd2UgbmVlZCB0byBzY2hlZHVsZSB0aGUgdGV4dCBjb250ZW50IHRvIGJlIHJlc2V0LlxuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBDb250ZW50UmVzZXQ7XG4gIH1cblxuICBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcblxuICAvLyBDaGVjayB0aGUgaG9zdCBjb25maWcgdG8gc2VlIGlmIHRoZSBjaGlsZHJlbiBhcmUgb2Zmc2NyZWVuL2hpZGRlbi5cbiAgaWYgKHJlbmRlckV4cGlyYXRpb25UaW1lICE9PSBOZXZlciAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgQXN5bmNNb2RlICYmIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUodHlwZSwgbmV4dFByb3BzKSkge1xuICAgIC8vIERvd24tcHJpb3JpdGl6ZSB0aGUgY2hpbGRyZW4uXG4gICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBOZXZlcjtcbiAgICAvLyBCYWlsb3V0IGFuZCBjb21lIGJhY2sgdG8gdGhpcyBmaWJlciBsYXRlci5cbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV4dFByb3BzO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKTtcbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVIb3N0VGV4dChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlKHdvcmtJblByb2dyZXNzKTtcbiAgfVxuICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcyk7XG4gIC8vIE5vdGhpbmcgdG8gZG8gaGVyZS4gVGhpcyBpcyB0ZXJtaW5hbC4gV2UnbGwgZG8gdGhlIGNvbXBsZXRpb24gc3RlcFxuICAvLyBpbW1lZGlhdGVseSBhZnRlci5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG1vdW50SW5kZXRlcm1pbmF0ZUNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgIShjdXJyZW50ID09PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ0FuIGluZGV0ZXJtaW5hdGUgY29tcG9uZW50IHNob3VsZCBuZXZlciBoYXZlIG1vdW50ZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gIHZhciBmbiA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gIHZhciBwcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgdmFyIHVubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gIHZhciBjb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICB2YXIgdmFsdWUgPSB2b2lkIDA7XG5cbiAge1xuICAgIGlmIChmbi5wcm90b3R5cGUgJiYgdHlwZW9mIGZuLnByb3RvdHlwZS5yZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgJ1Vua25vd24nO1xuXG4gICAgICBpZiAoIWRpZFdhcm5BYm91dEJhZENsYXNzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsIFwiVGhlIDwlcyAvPiBjb21wb25lbnQgYXBwZWFycyB0byBoYXZlIGEgcmVuZGVyIG1ldGhvZCwgYnV0IGRvZXNuJ3QgZXh0ZW5kIFJlYWN0LkNvbXBvbmVudC4gXCIgKyAnVGhpcyBpcyBsaWtlbHkgdG8gY2F1c2UgZXJyb3JzLiBDaGFuZ2UgJXMgdG8gZXh0ZW5kIFJlYWN0LkNvbXBvbmVudCBpbnN0ZWFkLicsIGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgICBkaWRXYXJuQWJvdXRCYWRDbGFzc1tjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZyh3b3JrSW5Qcm9ncmVzcywgbnVsbCk7XG4gICAgfVxuXG4gICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHdvcmtJblByb2dyZXNzO1xuICAgIHZhbHVlID0gZm4ocHJvcHMsIGNvbnRleHQpO1xuICB9XG4gIC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cbiAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFBlcmZvcm1lZFdvcms7XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlLnJlbmRlciA9PT0gJ2Z1bmN0aW9uJyAmJiB2YWx1ZS4kJHR5cGVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIENvbXBvbmVudCA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG5cbiAgICAvLyBQcm9jZWVkIHVuZGVyIHRoZSBhc3N1bXB0aW9uIHRoYXQgdGhpcyBpcyBhIGNsYXNzIGluc3RhbmNlXG4gICAgd29ya0luUHJvZ3Jlc3MudGFnID0gQ2xhc3NDb21wb25lbnQ7XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gdmFsdWUuc3RhdGUgIT09IG51bGwgJiYgdmFsdWUuc3RhdGUgIT09IHVuZGVmaW5lZCA/IHZhbHVlLnN0YXRlIDogbnVsbDtcblxuICAgIHZhciBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzO1xuICAgIGlmICh0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhcHBseURlcml2ZWRTdGF0ZUZyb21Qcm9wcyh3b3JrSW5Qcm9ncmVzcywgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLCBwcm9wcyk7XG4gICAgfVxuXG4gICAgLy8gUHVzaCBjb250ZXh0IHByb3ZpZGVycyBlYXJseSB0byBwcmV2ZW50IGNvbnRleHQgc3RhY2sgbWlzbWF0Y2hlcy5cbiAgICAvLyBEdXJpbmcgbW91bnRpbmcgd2UgZG9uJ3Qga25vdyB0aGUgY2hpbGQgY29udGV4dCB5ZXQgYXMgdGhlIGluc3RhbmNlIGRvZXNuJ3QgZXhpc3QuXG4gICAgLy8gV2Ugd2lsbCBpbnZhbGlkYXRlIHRoZSBjaGlsZCBjb250ZXh0IGluIGZpbmlzaENsYXNzQ29tcG9uZW50KCkgcmlnaHQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgIHZhciBoYXNDb250ZXh0ID0gcHVzaENvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgYWRvcHRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCB2YWx1ZSk7XG4gICAgbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgcmV0dXJuIGZpbmlzaENsYXNzQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB0cnVlLCBoYXNDb250ZXh0LCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gUHJvY2VlZCB1bmRlciB0aGUgYXNzdW1wdGlvbiB0aGF0IHRoaXMgaXMgYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IEZ1bmN0aW9uYWxDb21wb25lbnQ7XG4gICAge1xuICAgICAgdmFyIF9Db21wb25lbnQgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuXG4gICAgICBpZiAoX0NvbXBvbmVudCkge1xuICAgICAgICAhIV9Db21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogY2hpbGRDb250ZXh0VHlwZXMgY2Fubm90IGJlIGRlZmluZWQgb24gYSBmdW5jdGlvbmFsIGNvbXBvbmVudC4nLCBfQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IF9Db21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBpZiAod29ya0luUHJvZ3Jlc3MucmVmICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBpbmZvID0gJyc7XG4gICAgICAgIHZhciBvd25lck5hbWUgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlck93bmVyTmFtZSgpO1xuICAgICAgICBpZiAob3duZXJOYW1lKSB7XG4gICAgICAgICAgaW5mbyArPSAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBvd25lck5hbWUgKyAnYC4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdhcm5pbmdLZXkgPSBvd25lck5hbWUgfHwgd29ya0luUHJvZ3Jlc3MuX2RlYnVnSUQgfHwgJyc7XG4gICAgICAgIHZhciBkZWJ1Z1NvdXJjZSA9IHdvcmtJblByb2dyZXNzLl9kZWJ1Z1NvdXJjZTtcbiAgICAgICAgaWYgKGRlYnVnU291cmNlKSB7XG4gICAgICAgICAgd2FybmluZ0tleSA9IGRlYnVnU291cmNlLmZpbGVOYW1lICsgJzonICsgZGVidWdTb3VyY2UubGluZU51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dFN0YXRlbGVzc1JlZnNbd2FybmluZ0tleV0pIHtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzW3dhcm5pbmdLZXldID0gdHJ1ZTtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnU3RhdGVsZXNzIGZ1bmN0aW9uIGNvbXBvbmVudHMgY2Fubm90IGJlIGdpdmVuIHJlZnMuICcgKyAnQXR0ZW1wdHMgdG8gYWNjZXNzIHRoaXMgcmVmIHdpbGwgZmFpbC4lcyVzJywgaW5mbywgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtKCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZm4uZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBfY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdVbmtub3duJztcblxuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25hbENvbXBvbmVudFtfY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXM6IFN0YXRlbGVzcyBmdW5jdGlvbmFsIGNvbXBvbmVudHMgZG8gbm90IHN1cHBvcnQgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLicsIF9jb21wb25lbnROYW1lKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uYWxDb21wb25lbnRbX2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdmFsdWUpO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgcHJvcHMpO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVUaW1lb3V0Q29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICBpZiAoZW5hYmxlU3VzcGVuc2UpIHtcbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciBwcmV2UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuXG4gICAgdmFyIHByZXZEaWRUaW1lb3V0ID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcblxuICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgYXR0ZW1wdGVkIHRvIHJlbmRlciB0aGUgbm9ybWFsIHN0YXRlLiBJZiB3ZSBkaWQsXG4gICAgLy8gYW5kIHdlIHRpbWVkIG91dCwgcmVuZGVyIHRoZSBwbGFjZWhvbGRlciBzdGF0ZS5cbiAgICB2YXIgYWxyZWFkeUNhcHR1cmVkID0gKHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIERpZENhcHR1cmUpID09PSBOb0VmZmVjdDtcbiAgICB2YXIgbmV4dERpZFRpbWVvdXQgPSAhYWxyZWFkeUNhcHR1cmVkO1xuXG4gICAgaWYgKGhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKG5leHRQcm9wcyA9PT0gcHJldlByb3BzICYmIG5leHREaWRUaW1lb3V0ID09PSBwcmV2RGlkVGltZW91dCkge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIHZhciByZW5kZXIgPSBuZXh0UHJvcHMuY2hpbGRyZW47XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IHJlbmRlcihuZXh0RGlkVGltZW91dCk7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcztcbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbmV4dERpZFRpbWVvdXQ7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVBvcnRhbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgcHVzaEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKTtcbiAgdmFyIG5leHRDaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgaWYgKGhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICB9IGVsc2UgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRDaGlsZHJlbikge1xuICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgfVxuXG4gIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgLy8gUG9ydGFscyBhcmUgc3BlY2lhbCBiZWNhdXNlIHdlIGRvbid0IGFwcGVuZCB0aGUgY2hpbGRyZW4gZHVyaW5nIG1vdW50XG4gICAgLy8gYnV0IGF0IGNvbW1pdC4gVGhlcmVmb3JlIHdlIG5lZWQgdG8gdHJhY2sgaW5zZXJ0aW9ucyB3aGljaCB0aGUgbm9ybWFsXG4gICAgLy8gZmxvdyBkb2Vzbid0IGRvIGR1cmluZyBtb3VudC4gVGhpcyBkb2Vzbid0IGhhcHBlbiBhdCB0aGUgcm9vdCBiZWNhdXNlXG4gICAgLy8gdGhlIHJvb3QgYWx3YXlzIHN0YXJ0cyB3aXRoIGEgXCJjdXJyZW50XCIgd2l0aCBhIG51bGwgY2hpbGQuXG4gICAgLy8gVE9ETzogQ29uc2lkZXIgdW5pZnlpbmcgdGhpcyB3aXRoIGhvdyB0aGUgcm9vdCB3b3Jrcy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBudWxsLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gIH0gZWxzZSB7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICB9XG4gIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbn1cblxuZnVuY3Rpb24gcHJvcGFnYXRlQ29udGV4dENoYW5nZSh3b3JrSW5Qcm9ncmVzcywgY29udGV4dCwgY2hhbmdlZEJpdHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBmaWJlciA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICBpZiAoZmliZXIgIT09IG51bGwpIHtcbiAgICAvLyBTZXQgdGhlIHJldHVybiBwb2ludGVyIG9mIHRoZSBjaGlsZCB0byB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci5cbiAgICBmaWJlci5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgfVxuICB3aGlsZSAoZmliZXIgIT09IG51bGwpIHtcbiAgICB2YXIgbmV4dEZpYmVyID0gdm9pZCAwO1xuICAgIC8vIFZpc2l0IHRoaXMgZmliZXIuXG4gICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgIGNhc2UgQ29udGV4dENvbnN1bWVyOlxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY29udGV4dCBtYXRjaGVzLlxuICAgICAgICB2YXIgb2JzZXJ2ZWRCaXRzID0gZmliZXIuc3RhdGVOb2RlIHwgMDtcbiAgICAgICAgaWYgKGZpYmVyLnR5cGUgPT09IGNvbnRleHQgJiYgKG9ic2VydmVkQml0cyAmIGNoYW5nZWRCaXRzKSAhPT0gMCkge1xuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZXhwaXJhdGlvbiB0aW1lIG9mIGFsbCB0aGUgYW5jZXN0b3JzLCBpbmNsdWRpbmdcbiAgICAgICAgICAvLyB0aGUgYWx0ZXJuYXRlcy5cbiAgICAgICAgICB2YXIgbm9kZSA9IGZpYmVyO1xuICAgICAgICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgYWx0ZXJuYXRlID0gbm9kZS5hbHRlcm5hdGU7XG4gICAgICAgICAgICBpZiAobm9kZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IG5vZGUuZXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgICAgICBub2RlLmV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgICAgIGlmIChhbHRlcm5hdGUgIT09IG51bGwgJiYgKGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKSkge1xuICAgICAgICAgICAgICAgIGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsdGVybmF0ZSAhPT0gbnVsbCAmJiAoYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWUpKSB7XG4gICAgICAgICAgICAgIGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gTmVpdGhlciBhbHRlcm5hdGUgd2FzIHVwZGF0ZWQsIHdoaWNoIG1lYW5zIHRoZSByZXN0IG9mIHRoZVxuICAgICAgICAgICAgICAvLyBhbmNlc3RvciBwYXRoIGFscmVhZHkgaGFzIHN1ZmZpY2llbnQgcHJpb3JpdHkuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBEb24ndCBzY2FuIGRlZXBlciB0aGFuIGEgbWF0Y2hpbmcgY29uc3VtZXIuIFdoZW4gd2UgcmVuZGVyIHRoZVxuICAgICAgICAgIC8vIGNvbnN1bWVyLCB3ZSdsbCBjb250aW51ZSBzY2FubmluZyBmcm9tIHRoYXQgcG9pbnQuIFRoaXMgd2F5IHRoZVxuICAgICAgICAgIC8vIHNjYW5uaW5nIHdvcmsgaXMgdGltZS1zbGljZWQuXG4gICAgICAgICAgbmV4dEZpYmVyID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUcmF2ZXJzZSBkb3duLlxuICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIC8vIERvbid0IHNjYW4gZGVlcGVyIGlmIHRoaXMgaXMgYSBtYXRjaGluZyBwcm92aWRlclxuICAgICAgICBuZXh0RmliZXIgPSBmaWJlci50eXBlID09PSB3b3JrSW5Qcm9ncmVzcy50eXBlID8gbnVsbCA6IGZpYmVyLmNoaWxkO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIFRyYXZlcnNlIGRvd24uXG4gICAgICAgIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKG5leHRGaWJlciAhPT0gbnVsbCkge1xuICAgICAgLy8gU2V0IHRoZSByZXR1cm4gcG9pbnRlciBvZiB0aGUgY2hpbGQgdG8gdGhlIHdvcmstaW4tcHJvZ3Jlc3MgZmliZXIuXG4gICAgICBuZXh0RmliZXIucmV0dXJuID0gZmliZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIGNoaWxkLiBUcmF2ZXJzZSB0byBuZXh0IHNpYmxpbmcuXG4gICAgICBuZXh0RmliZXIgPSBmaWJlcjtcbiAgICAgIHdoaWxlIChuZXh0RmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5leHRGaWJlciA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAvLyBXZSdyZSBiYWNrIHRvIHRoZSByb290IG9mIHRoaXMgc3VidHJlZS4gRXhpdC5cbiAgICAgICAgICBuZXh0RmliZXIgPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaWJsaW5nID0gbmV4dEZpYmVyLnNpYmxpbmc7XG4gICAgICAgIGlmIChzaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gU2V0IHRoZSByZXR1cm4gcG9pbnRlciBvZiB0aGUgc2libGluZyB0byB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci5cbiAgICAgICAgICBzaWJsaW5nLnJldHVybiA9IG5leHRGaWJlci5yZXR1cm47XG4gICAgICAgICAgbmV4dEZpYmVyID0gc2libGluZztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBObyBtb3JlIHNpYmxpbmdzLiBUcmF2ZXJzZSB1cC5cbiAgICAgICAgbmV4dEZpYmVyID0gbmV4dEZpYmVyLnJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgZmliZXIgPSBuZXh0RmliZXI7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQ29udGV4dFByb3ZpZGVyKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICB2YXIgcHJvdmlkZXJUeXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgdmFyIGNvbnRleHQgPSBwcm92aWRlclR5cGUuX2NvbnRleHQ7XG5cbiAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICB2YXIgb2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICB2YXIgY2FuQmFpbE9uUHJvcHMgPSB0cnVlO1xuXG4gIGlmIChoYXNDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgY2FuQmFpbE9uUHJvcHMgPSBmYWxzZTtcbiAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICB9IGVsc2UgaWYgKG9sZFByb3BzID09PSBuZXdQcm9wcykge1xuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IDA7XG4gICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gIH1cblxuICB2YXIgbmV3VmFsdWUgPSBuZXdQcm9wcy52YWx1ZTtcbiAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5ld1Byb3BzO1xuXG4gIHtcbiAgICB2YXIgcHJvdmlkZXJQcm9wVHlwZXMgPSB3b3JrSW5Qcm9ncmVzcy50eXBlLnByb3BUeXBlcztcblxuICAgIGlmIChwcm92aWRlclByb3BUeXBlcykge1xuICAgICAgY2hlY2tQcm9wVHlwZXMocHJvdmlkZXJQcm9wVHlwZXMsIG5ld1Byb3BzLCAncHJvcCcsICdDb250ZXh0LlByb3ZpZGVyJywgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ2KTtcbiAgICB9XG4gIH1cblxuICB2YXIgY2hhbmdlZEJpdHMgPSB2b2lkIDA7XG4gIGlmIChvbGRQcm9wcyA9PT0gbnVsbCkge1xuICAgIC8vIEluaXRpYWwgcmVuZGVyXG4gICAgY2hhbmdlZEJpdHMgPSBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9sZFByb3BzLnZhbHVlID09PSBuZXdQcm9wcy52YWx1ZSkge1xuICAgICAgLy8gTm8gY2hhbmdlLiBCYWlsb3V0IGVhcmx5IGlmIGNoaWxkcmVuIGFyZSB0aGUgc2FtZS5cbiAgICAgIGlmIChvbGRQcm9wcy5jaGlsZHJlbiA9PT0gbmV3UHJvcHMuY2hpbGRyZW4gJiYgY2FuQmFpbE9uUHJvcHMpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gMDtcbiAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICAgY2hhbmdlZEJpdHMgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgb2xkVmFsdWUgPSBvbGRQcm9wcy52YWx1ZTtcbiAgICAgIC8vIFVzZSBPYmplY3QuaXMgdG8gY29tcGFyZSB0aGUgbmV3IGNvbnRleHQgdmFsdWUgdG8gdGhlIG9sZCB2YWx1ZS5cbiAgICAgIC8vIElubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsLlxuICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gICAgICBpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlICYmIChvbGRWYWx1ZSAhPT0gMCB8fCAxIC8gb2xkVmFsdWUgPT09IDEgLyBuZXdWYWx1ZSkgfHwgb2xkVmFsdWUgIT09IG9sZFZhbHVlICYmIG5ld1ZhbHVlICE9PSBuZXdWYWx1ZSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgKSB7XG4gICAgICAgICAgLy8gTm8gY2hhbmdlLiBCYWlsb3V0IGVhcmx5IGlmIGNoaWxkcmVuIGFyZSB0aGUgc2FtZS5cbiAgICAgICAgICBpZiAob2xkUHJvcHMuY2hpbGRyZW4gPT09IG5ld1Byb3BzLmNoaWxkcmVuICYmIGNhbkJhaWxPblByb3BzKSB7XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSAwO1xuICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhbmdlZEJpdHMgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICBjaGFuZ2VkQml0cyA9IHR5cGVvZiBjb250ZXh0Ll9jYWxjdWxhdGVDaGFuZ2VkQml0cyA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnRleHQuX2NhbGN1bGF0ZUNoYW5nZWRCaXRzKG9sZFZhbHVlLCBuZXdWYWx1ZSkgOiBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG4gICAgICAgIHtcbiAgICAgICAgICAhKChjaGFuZ2VkQml0cyAmIE1BWF9TSUdORURfMzFfQklUX0lOVCkgPT09IGNoYW5nZWRCaXRzKSA/IHdhcm5pbmcoZmFsc2UsICdjYWxjdWxhdGVDaGFuZ2VkQml0czogRXhwZWN0ZWQgdGhlIHJldHVybiB2YWx1ZSB0byBiZSBhICcgKyAnMzEtYml0IGludGVnZXIuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzJywgY2hhbmdlZEJpdHMpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGNoYW5nZWRCaXRzIHw9IDA7XG5cbiAgICAgICAgaWYgKGNoYW5nZWRCaXRzID09PSAwKSB7XG4gICAgICAgICAgLy8gTm8gY2hhbmdlLiBCYWlsb3V0IGVhcmx5IGlmIGNoaWxkcmVuIGFyZSB0aGUgc2FtZS5cbiAgICAgICAgICBpZiAob2xkUHJvcHMuY2hpbGRyZW4gPT09IG5ld1Byb3BzLmNoaWxkcmVuICYmIGNhbkJhaWxPblByb3BzKSB7XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSAwO1xuICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvcGFnYXRlQ29udGV4dENoYW5nZSh3b3JrSW5Qcm9ncmVzcywgY29udGV4dCwgY2hhbmdlZEJpdHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNoYW5nZWRCaXRzO1xuICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuXG4gIHZhciBuZXdDaGlsZHJlbiA9IG5ld1Byb3BzLmNoaWxkcmVuO1xuICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV3Q2hpbGRyZW4pO1xuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRDb25zdW1lcihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIGNvbnRleHQgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gIHZhciBvbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG5cbiAgdmFyIG5ld1ZhbHVlID0gZ2V0Q29udGV4dEN1cnJlbnRWYWx1ZShjb250ZXh0KTtcbiAgdmFyIGNoYW5nZWRCaXRzID0gZ2V0Q29udGV4dENoYW5nZWRCaXRzKGNvbnRleHQpO1xuXG4gIGlmIChoYXNDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgfSBlbHNlIGlmIChjaGFuZ2VkQml0cyA9PT0gMCAmJiBvbGRQcm9wcyA9PT0gbmV3UHJvcHMpIHtcbiAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gIH1cbiAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5ld1Byb3BzO1xuXG4gIHZhciBvYnNlcnZlZEJpdHMgPSBuZXdQcm9wcy51bnN0YWJsZV9vYnNlcnZlZEJpdHM7XG4gIGlmIChvYnNlcnZlZEJpdHMgPT09IHVuZGVmaW5lZCB8fCBvYnNlcnZlZEJpdHMgPT09IG51bGwpIHtcbiAgICAvLyBTdWJzY3JpYmUgdG8gYWxsIGNoYW5nZXMgYnkgZGVmYXVsdFxuICAgIG9ic2VydmVkQml0cyA9IE1BWF9TSUdORURfMzFfQklUX0lOVDtcbiAgfVxuICAvLyBTdG9yZSB0aGUgb2JzZXJ2ZWRCaXRzIG9uIHRoZSBmaWJlcidzIHN0YXRlTm9kZSBmb3IgcXVpY2sgYWNjZXNzLlxuICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBvYnNlcnZlZEJpdHM7XG5cbiAgaWYgKChjaGFuZ2VkQml0cyAmIG9ic2VydmVkQml0cykgIT09IDApIHtcbiAgICAvLyBDb250ZXh0IGNoYW5nZSBwcm9wYWdhdGlvbiBzdG9wcyBhdCBtYXRjaGluZyBjb25zdW1lcnMsIGZvciB0aW1lLVxuICAgIC8vIHNsaWNpbmcuIENvbnRpbnVlIHRoZSBwcm9wYWdhdGlvbiBoZXJlLlxuICAgIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2Uod29ya0luUHJvZ3Jlc3MsIGNvbnRleHQsIGNoYW5nZWRCaXRzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH0gZWxzZSBpZiAob2xkUHJvcHMgPT09IG5ld1Byb3BzKSB7XG4gICAgLy8gU2tpcCBvdmVyIGEgbWVtb2l6ZWQgcGFyZW50IHdpdGggYSBiaXRtYXNrIGJhaWxvdXQgZXZlblxuICAgIC8vIGlmIHdlIGJlZ2FuIHdvcmtpbmcgb24gaXQgYmVjYXVzZSBvZiBhIGRlZXBlciBtYXRjaGluZyBjaGlsZC5cbiAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gIH1cbiAgLy8gVGhlcmUgaXMgbm8gYmFpbG91dCBvbiBgY2hpbGRyZW5gIGVxdWFsaXR5IGJlY2F1c2Ugd2UgZXhwZWN0IHBlb3BsZVxuICAvLyB0byBvZnRlbiBwYXNzIGEgYm91bmQgbWV0aG9kIGFzIGEgY2hpbGQsIGJ1dCBpdCBtYXkgcmVmZXJlbmNlXG4gIC8vIGB0aGlzLnN0YXRlYCBvciBgdGhpcy5wcm9wc2AgKGFuZCB0aHVzIG5lZWRzIHRvIHJlLXJlbmRlciBvbiBgc2V0U3RhdGVgKS5cblxuICB2YXIgcmVuZGVyID0gbmV3UHJvcHMuY2hpbGRyZW47XG5cbiAge1xuICAgICEodHlwZW9mIHJlbmRlciA9PT0gJ2Z1bmN0aW9uJykgPyB3YXJuaW5nKGZhbHNlLCAnQSBjb250ZXh0IGNvbnN1bWVyIHdhcyByZW5kZXJlZCB3aXRoIG11bHRpcGxlIGNoaWxkcmVuLCBvciBhIGNoaWxkICcgKyBcInRoYXQgaXNuJ3QgYSBmdW5jdGlvbi4gQSBjb250ZXh0IGNvbnN1bWVyIGV4cGVjdHMgYSBzaW5nbGUgY2hpbGQgXCIgKyAndGhhdCBpcyBhIGZ1bmN0aW9uLiBJZiB5b3UgZGlkIHBhc3MgYSBmdW5jdGlvbiwgbWFrZSBzdXJlIHRoZXJlICcgKyAnaXMgbm8gdHJhaWxpbmcgb3IgbGVhZGluZyB3aGl0ZXNwYWNlIGFyb3VuZCBpdC4nKSA6IHZvaWQgMDtcbiAgfVxuXG4gIHZhciBuZXdDaGlsZHJlbiA9IHZvaWQgMDtcbiAge1xuICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZSgncmVuZGVyJyk7XG4gICAgbmV3Q2hpbGRyZW4gPSByZW5kZXIobmV3VmFsdWUpO1xuICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKG51bGwpO1xuICB9XG5cbiAgLy8gUmVhY3QgRGV2VG9vbHMgcmVhZHMgdGhpcyBmbGFnLlxuICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcbiAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5ld0NoaWxkcmVuKTtcbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG4vKlxuICBmdW5jdGlvbiByZXVzZUNoaWxkcmVuRWZmZWN0cyhyZXR1cm5GaWJlciA6IEZpYmVyLCBmaXJzdENoaWxkIDogRmliZXIpIHtcbiAgICBsZXQgY2hpbGQgPSBmaXJzdENoaWxkO1xuICAgIGRvIHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBmaXJzdCBhbmQgbGFzdCBlZmZlY3Qgb2YgdGhlIHBhcmVudCBjb3JyZXNwb25kc1xuICAgICAgLy8gdG8gdGhlIGNoaWxkcmVuJ3MgZmlyc3QgYW5kIGxhc3QgZWZmZWN0LlxuICAgICAgaWYgKCFyZXR1cm5GaWJlci5maXJzdEVmZmVjdCkge1xuICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IGNoaWxkLmZpcnN0RWZmZWN0O1xuICAgICAgfVxuICAgICAgaWYgKGNoaWxkLmxhc3RFZmZlY3QpIHtcbiAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QpIHtcbiAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSBjaGlsZC5maXJzdEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGQubGFzdEVmZmVjdDtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICB9XG4gICovXG5cbmZ1bmN0aW9uIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgY2FuY2VsV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcblxuICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIC8vIERvbid0IHVwZGF0ZSBcImJhc2VcIiByZW5kZXIgdGltZXMgZm9yIGJhaWxvdXRzLlxuICAgIHN0b3BCYXNlUmVuZGVyVGltZXJJZlJ1bm5pbmcoKTtcbiAgfVxuXG4gIC8vIFRPRE86IFdlIHNob3VsZCBpZGVhbGx5IGJlIGFibGUgdG8gYmFpbCBvdXQgZWFybHkgaWYgdGhlIGNoaWxkcmVuIGhhdmUgbm9cbiAgLy8gbW9yZSB3b3JrIHRvIGRvLiBIb3dldmVyLCBzaW5jZSB3ZSBkb24ndCBoYXZlIGEgc2VwYXJhdGlvbiBvZiB0aGlzXG4gIC8vIEZpYmVyJ3MgcHJpb3JpdHkgYW5kIGl0cyBjaGlsZHJlbiB5ZXQgLSB3ZSBkb24ndCBrbm93IHdpdGhvdXQgZG9pbmcgbG90c1xuICAvLyBvZiB0aGUgc2FtZSB3b3JrIHdlIGRvIGFueXdheS4gT25jZSB3ZSBoYXZlIHRoYXQgc2VwYXJhdGlvbiB3ZSBjYW4ganVzdFxuICAvLyBiYWlsIG91dCBoZXJlIGlmIHRoZSBjaGlsZHJlbiBoYXMgbm8gbW9yZSB3b3JrIGF0IHRoaXMgcHJpb3JpdHkgbGV2ZWwuXG4gIC8vIGlmICh3b3JrSW5Qcm9ncmVzcy5wcmlvcml0eU9mQ2hpbGRyZW4gPD0gcHJpb3JpdHlMZXZlbCkge1xuICAvLyAgIC8vIElmIHRoZXJlIGFyZSBzaWRlLWVmZmVjdHMgaW4gdGhlc2UgY2hpbGRyZW4gdGhhdCBoYXZlIG5vdCB5ZXQgYmVlblxuICAvLyAgIC8vIGNvbW1pdHRlZCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZXkgZ2V0IHByb3Blcmx5IHRyYW5zZmVycmVkIHVwLlxuICAvLyAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQuY2hpbGQgIT09IHdvcmtJblByb2dyZXNzLmNoaWxkKSB7XG4gIC8vICAgICByZXVzZUNoaWxkcmVuRWZmZWN0cyh3b3JrSW5Qcm9ncmVzcywgY2hpbGQpO1xuICAvLyAgIH1cbiAgLy8gICByZXR1cm4gbnVsbDtcbiAgLy8gfVxuXG4gIGNsb25lQ2hpbGRGaWJlcnMoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbmZ1bmN0aW9uIGJhaWxvdXRPbkxvd1ByaW9yaXR5KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gIGNhbmNlbFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICAvLyBEb24ndCB1cGRhdGUgXCJiYXNlXCIgcmVuZGVyIHRpbWVzIGZvciBiYWlsb3V0cy5cbiAgICBzdG9wQmFzZVJlbmRlclRpbWVySWZSdW5uaW5nKCk7XG4gIH1cblxuICAvLyBUT0RPOiBIYW5kbGUgSG9zdENvbXBvbmVudCB0YWdzIGhlcmUgYXMgd2VsbCBhbmQgY2FsbCBwdXNoSG9zdENvbnRleHQoKT9cbiAgLy8gU2VlIFBSIDg1OTAgZGlzY3Vzc2lvbiBmb3IgY29udGV4dFxuICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICBwdXNoSG9zdFJvb3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICBwdXNoQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgIHB1c2hIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBicmVhaztcbiAgfVxuICAvLyBUT0RPOiBXaGF0IGlmIHRoaXMgaXMgY3VycmVudGx5IGluIHByb2dyZXNzP1xuICAvLyBIb3cgY2FuIHRoYXQgaGFwcGVuPyBIb3cgaXMgdGhpcyBub3QgYmVpbmcgY2xvbmVkP1xuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gVE9ETzogRGVsZXRlIG1lbW9pemVQcm9wcy9TdGF0ZSBhbmQgbW92ZSB0byByZWNvbmNpbGUvYmFpbG91dCBpbnN0ZWFkXG5mdW5jdGlvbiBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcykge1xuICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV4dFByb3BzO1xufVxuXG5mdW5jdGlvbiBtZW1vaXplU3RhdGUod29ya0luUHJvZ3Jlc3MsIG5leHRTdGF0ZSkge1xuICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbmV4dFN0YXRlO1xuICAvLyBEb24ndCByZXNldCB0aGUgdXBkYXRlUXVldWUsIGluIGNhc2UgdGhlcmUgYXJlIHBlbmRpbmcgdXBkYXRlcy4gUmVzZXR0aW5nXG4gIC8vIGlzIGhhbmRsZWQgYnkgcHJvY2Vzc1VwZGF0ZVF1ZXVlLlxufVxuXG5mdW5jdGlvbiBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkge1xuICAgICAgbWFya0FjdHVhbFJlbmRlclRpbWVTdGFydGVkKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gIH1cblxuICBpZiAod29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgcmV0dXJuIGJhaWxvdXRPbkxvd1ByaW9yaXR5KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgfVxuXG4gIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgY2FzZSBJbmRldGVybWluYXRlQ29tcG9uZW50OlxuICAgICAgcmV0dXJuIG1vdW50SW5kZXRlcm1pbmF0ZUNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIGNhc2UgRnVuY3Rpb25hbENvbXBvbmVudDpcbiAgICAgIHJldHVybiB1cGRhdGVGdW5jdGlvbmFsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgcmV0dXJuIHVwZGF0ZUNsYXNzQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgIHJldHVybiB1cGRhdGVIb3N0Um9vdChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHJldHVybiB1cGRhdGVIb3N0Q29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgIHJldHVybiB1cGRhdGVIb3N0VGV4dChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgY2FzZSBUaW1lb3V0Q29tcG9uZW50OlxuICAgICAgcmV0dXJuIHVwZGF0ZVRpbWVvdXRDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICByZXR1cm4gdXBkYXRlUG9ydGFsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgY2FzZSBGb3J3YXJkUmVmOlxuICAgICAgcmV0dXJuIHVwZGF0ZUZvcndhcmRSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIGNhc2UgTW9kZTpcbiAgICAgIHJldHVybiB1cGRhdGVNb2RlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICBjYXNlIFByb2ZpbGVyOlxuICAgICAgcmV0dXJuIHVwZGF0ZVByb2ZpbGVyKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgIHJldHVybiB1cGRhdGVDb250ZXh0UHJvdmlkZXIoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICAgIHJldHVybiB1cGRhdGVDb250ZXh0Q29uc3VtZXIoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICBkZWZhdWx0OlxuICAgICAgaW52YXJpYW50KGZhbHNlLCAnVW5rbm93biB1bml0IG9mIHdvcmsgdGFnLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpIHtcbiAgLy8gVGFnIHRoZSBmaWJlciB3aXRoIGFuIHVwZGF0ZSBlZmZlY3QuIFRoaXMgdHVybnMgYSBQbGFjZW1lbnQgaW50b1xuICAvLyBhIFBsYWNlbWVudEFuZFVwZGF0ZS5cbiAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbn1cblxuZnVuY3Rpb24gbWFya1JlZiQxKHdvcmtJblByb2dyZXNzKSB7XG4gIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBSZWY7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZEFsbENoaWxkcmVuKHBhcmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgLy8gV2Ugb25seSBoYXZlIHRoZSB0b3AgRmliZXIgdGhhdCB3YXMgY3JlYXRlZCBidXQgd2UgbmVlZCByZWN1cnNlIGRvd24gaXRzXG4gIC8vIGNoaWxkcmVuIHRvIGZpbmQgYWxsIHRoZSB0ZXJtaW5hbCBub2Rlcy5cbiAgdmFyIG5vZGUgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICBhcHBlbmRJbml0aWFsQ2hpbGQocGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBvcnRhbCBjaGlsZCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlXG4gICAgICAvLyBkb3duIGl0cyBjaGlsZHJlbi4gSW5zdGVhZCwgd2UnbGwgZ2V0IGluc2VydGlvbnMgZnJvbSBlYWNoIGNoaWxkIGluXG4gICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgbm9kZS5jaGlsZC5yZXR1cm4gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgIGlmIChub2RlLnJldHVybiA9PT0gbnVsbCB8fCBub2RlLnJldHVybiA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgIH1cbiAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfVxufVxuXG52YXIgdXBkYXRlSG9zdENvbnRhaW5lciA9IHZvaWQgMDtcbnZhciB1cGRhdGVIb3N0Q29tcG9uZW50JDEgPSB2b2lkIDA7XG52YXIgdXBkYXRlSG9zdFRleHQkMSA9IHZvaWQgMDtcbmlmIChzdXBwb3J0c011dGF0aW9uKSB7XG4gIC8vIE11dGF0aW9uIG1vZGVcblxuICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24gKHdvcmtJblByb2dyZXNzKSB7XG4gICAgLy8gTm9vcFxuICB9O1xuICB1cGRhdGVIb3N0Q29tcG9uZW50JDEgPSBmdW5jdGlvbiAoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBjdXJyZW50SG9zdENvbnRleHQpIHtcbiAgICAvLyBUT0RPOiBUeXBlIHRoaXMgc3BlY2lmaWMgdG8gdGhpcyB0eXBlIG9mIGNvbXBvbmVudC5cbiAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHVwZGF0ZVBheWxvYWQ7XG4gICAgLy8gSWYgdGhlIHVwZGF0ZSBwYXlsb2FkIGluZGljYXRlcyB0aGF0IHRoZXJlIGlzIGEgY2hhbmdlIG9yIGlmIHRoZXJlXG4gICAgLy8gaXMgYSBuZXcgcmVmIHdlIG1hcmsgdGhpcyBhcyBhbiB1cGRhdGUuIEFsbCB0aGUgd29yayBpcyBkb25lIGluIGNvbW1pdFdvcmsuXG4gICAgaWYgKHVwZGF0ZVBheWxvYWQpIHtcbiAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfTtcbiAgdXBkYXRlSG9zdFRleHQkMSA9IGZ1bmN0aW9uIChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgb2xkVGV4dCwgbmV3VGV4dCkge1xuICAgIC8vIElmIHRoZSB0ZXh0IGRpZmZlcnMsIG1hcmsgaXQgYXMgYW4gdXBkYXRlLiBBbGwgdGhlIHdvcmsgaW4gZG9uZSBpbiBjb21taXRXb3JrLlxuICAgIGlmIChvbGRUZXh0ICE9PSBuZXdUZXh0KSB7XG4gICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gIH07XG59IGVsc2UgaWYgKHN1cHBvcnRzUGVyc2lzdGVuY2UpIHtcbiAgLy8gUGVyc2lzdGVudCBob3N0IHRyZWUgbW9kZVxuXG4gIC8vIEFuIHVuZm9ydHVuYXRlIGZvcmsgb2YgYXBwZW5kQWxsQ2hpbGRyZW4gYmVjYXVzZSB3ZSBoYXZlIHR3byBkaWZmZXJlbnQgcGFyZW50IHR5cGVzLlxuICB2YXIgYXBwZW5kQWxsQ2hpbGRyZW5Ub0NvbnRhaW5lciA9IGZ1bmN0aW9uIChjb250YWluZXJDaGlsZFNldCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAvLyBXZSBvbmx5IGhhdmUgdGhlIHRvcCBGaWJlciB0aGF0IHdhcyBjcmVhdGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG4gICAgdmFyIG5vZGUgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyQ2hpbGRTZXQoY29udGFpbmVyQ2hpbGRTZXQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBvcnRhbCBjaGlsZCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlXG4gICAgICAgIC8vIGRvd24gaXRzIGNoaWxkcmVuLiBJbnN0ZWFkLCB3ZSdsbCBnZXQgaW5zZXJ0aW9ucyBmcm9tIGVhY2ggY2hpbGQgaW5cbiAgICAgICAgLy8gdGhlIHBvcnRhbCBkaXJlY3RseS5cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICBub2RlLmNoaWxkLnJldHVybiA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlLnJldHVybiA9PT0gbnVsbCB8fCBub2RlLnJldHVybiA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgICAgfVxuICAgICAgbm9kZS5zaWJsaW5nLnJldHVybiA9IG5vZGUucmV0dXJuO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB9XG4gIH07XG4gIHVwZGF0ZUhvc3RDb250YWluZXIgPSBmdW5jdGlvbiAod29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgcG9ydGFsT3JSb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHZhciBjaGlsZHJlblVuY2hhbmdlZCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0ID09PSBudWxsO1xuICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCkge1xuICAgICAgLy8gTm8gY2hhbmdlcywganVzdCByZXVzZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UuXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjb250YWluZXIgPSBwb3J0YWxPclJvb3QuY29udGFpbmVySW5mbztcbiAgICAgIHZhciBuZXdDaGlsZFNldCA9IGNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0KGNvbnRhaW5lcik7XG4gICAgICAvLyBJZiBjaGlsZHJlbiBtaWdodCBoYXZlIGNoYW5nZWQsIHdlIGhhdmUgdG8gYWRkIHRoZW0gYWxsIHRvIHRoZSBzZXQuXG4gICAgICBhcHBlbmRBbGxDaGlsZHJlblRvQ29udGFpbmVyKG5ld0NoaWxkU2V0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBwb3J0YWxPclJvb3QucGVuZGluZ0NoaWxkcmVuID0gbmV3Q2hpbGRTZXQ7XG4gICAgICAvLyBTY2hlZHVsZSBhbiB1cGRhdGUgb24gdGhlIGNvbnRhaW5lciB0byBzd2FwIG91dCB0aGUgY29udGFpbmVyLlxuICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBmaW5hbGl6ZUNvbnRhaW5lckNoaWxkcmVuKGNvbnRhaW5lciwgbmV3Q2hpbGRTZXQpO1xuICAgIH1cbiAgfTtcbiAgdXBkYXRlSG9zdENvbXBvbmVudCQxID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB1cGRhdGVQYXlsb2FkLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSB7XG4gICAgLy8gSWYgdGhlcmUgYXJlIG5vIGVmZmVjdHMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbm9kZSwgdGhlbiBub25lIG9mIG91ciBjaGlsZHJlbiBoYWQgYW55IHVwZGF0ZXMuXG4gICAgLy8gVGhpcyBndWFyYW50ZWVzIHRoYXQgd2UgY2FuIHJldXNlIGFsbCBvZiB0aGVtLlxuICAgIHZhciBjaGlsZHJlblVuY2hhbmdlZCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0ID09PSBudWxsO1xuICAgIHZhciBjdXJyZW50SW5zdGFuY2UgPSBjdXJyZW50LnN0YXRlTm9kZTtcbiAgICBpZiAoY2hpbGRyZW5VbmNoYW5nZWQgJiYgdXBkYXRlUGF5bG9hZCA9PT0gbnVsbCkge1xuICAgICAgLy8gTm8gY2hhbmdlcywganVzdCByZXVzZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UuXG4gICAgICAvLyBOb3RlIHRoYXQgdGhpcyBtaWdodCByZWxlYXNlIGEgcHJldmlvdXMgY2xvbmUuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50SW5zdGFuY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZWN5Y2xhYmxlSW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICB2YXIgbmV3SW5zdGFuY2UgPSBjbG9uZUluc3RhbmNlKGN1cnJlbnRJbnN0YW5jZSwgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCB3b3JrSW5Qcm9ncmVzcywgY2hpbGRyZW5VbmNoYW5nZWQsIHJlY3ljbGFibGVJbnN0YW5jZSk7XG4gICAgICBpZiAoZmluYWxpemVJbml0aWFsQ2hpbGRyZW4obmV3SW5zdGFuY2UsIHR5cGUsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGN1cnJlbnRIb3N0Q29udGV4dCkpIHtcbiAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBuZXdJbnN0YW5jZTtcbiAgICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCkge1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gb3RoZXIgZWZmZWN0cyBpbiB0aGlzIHRyZWUsIHdlIG5lZWQgdG8gZmxhZyB0aGlzIG5vZGUgYXMgaGF2aW5nIG9uZS5cbiAgICAgICAgLy8gRXZlbiB0aG91Z2ggd2UncmUgbm90IGdvaW5nIHRvIHVzZSBpdCBmb3IgYW55dGhpbmcuXG4gICAgICAgIC8vIE90aGVyd2lzZSBwYXJlbnRzIHdvbid0IGtub3cgdGhhdCB0aGVyZSBhcmUgbmV3IGNoaWxkcmVuIHRvIHByb3BhZ2F0ZSB1cHdhcmRzLlxuICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIGNoaWxkcmVuIG1pZ2h0IGhhdmUgY2hhbmdlZCwgd2UgaGF2ZSB0byBhZGQgdGhlbSBhbGwgdG8gdGhlIHNldC5cbiAgICAgICAgYXBwZW5kQWxsQ2hpbGRyZW4obmV3SW5zdGFuY2UsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHVwZGF0ZUhvc3RUZXh0JDEgPSBmdW5jdGlvbiAoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgICBpZiAob2xkVGV4dCAhPT0gbmV3VGV4dCkge1xuICAgICAgLy8gSWYgdGhlIHRleHQgY29udGVudCBkaWZmZXJzLCB3ZSdsbCBjcmVhdGUgYSBuZXcgdGV4dCBpbnN0YW5jZSBmb3IgaXQuXG4gICAgICB2YXIgcm9vdENvbnRhaW5lckluc3RhbmNlID0gZ2V0Um9vdEhvc3RDb250YWluZXIoKTtcbiAgICAgIHZhciBjdXJyZW50SG9zdENvbnRleHQgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3JlYXRlVGV4dEluc3RhbmNlKG5ld1RleHQsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAvLyBXZSdsbCBoYXZlIHRvIG1hcmsgaXQgYXMgaGF2aW5nIGFuIGVmZmVjdCwgZXZlbiB0aG91Z2ggd2Ugd29uJ3QgdXNlIHRoZSBlZmZlY3QgZm9yIGFueXRoaW5nLlxuICAgICAgLy8gVGhpcyBsZXRzIHRoZSBwYXJlbnRzIGtub3cgdGhhdCBhdCBsZWFzdCBvbmUgb2YgdGhlaXIgY2hpbGRyZW4gaGFzIGNoYW5nZWQuXG4gICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICAvLyBObyBob3N0IG9wZXJhdGlvbnNcbiAgdXBkYXRlSG9zdENvbnRhaW5lciA9IGZ1bmN0aW9uICh3b3JrSW5Qcm9ncmVzcykge1xuICAgIC8vIE5vb3BcbiAgfTtcbiAgdXBkYXRlSG9zdENvbXBvbmVudCQxID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB1cGRhdGVQYXlsb2FkLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSB7XG4gICAgLy8gTm9vcFxuICB9O1xuICB1cGRhdGVIb3N0VGV4dCQxID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgLy8gTm9vcFxuICB9O1xufVxuXG5mdW5jdGlvbiBjb21wbGV0ZVdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcblxuICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpIHtcbiAgICAgIHJlY29yZEVsYXBzZWRBY3R1YWxSZW5kZXJUaW1lKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gIH1cblxuICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgIGNhc2UgRnVuY3Rpb25hbENvbXBvbmVudDpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIC8vIFdlIGFyZSBsZWF2aW5nIHRoaXMgc3VidHJlZSwgc28gcG9wIGNvbnRleHQgaWYgYW55LlxuICAgICAgICBwb3BDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICBjYXNlIEhvc3RSb290OlxuICAgICAge1xuICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgdmFyIGZpYmVyUm9vdCA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgaWYgKGZpYmVyUm9vdC5wZW5kaW5nQ29udGV4dCkge1xuICAgICAgICAgIGZpYmVyUm9vdC5jb250ZXh0ID0gZmliZXJSb290LnBlbmRpbmdDb250ZXh0O1xuICAgICAgICAgIGZpYmVyUm9vdC5wZW5kaW5nQ29udGV4dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC5jaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHdlIGh5ZHJhdGVkLCBwb3Agc28gdGhhdCB3ZSBjYW4gZGVsZXRlIGFueSByZW1haW5pbmcgY2hpbGRyZW5cbiAgICAgICAgICAvLyB0aGF0IHdlcmVuJ3QgaHlkcmF0ZWQuXG4gICAgICAgICAgcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIC8vIFRoaXMgcmVzZXRzIHRoZSBoYWNreSBzdGF0ZSB0byBmaXggaXNNb3VudGVkIGJlZm9yZSBjb21taXR0aW5nLlxuICAgICAgICAgIC8vIFRPRE86IERlbGV0ZSB0aGlzIHdoZW4gd2UgZGVsZXRlIGlzTW91bnRlZCBhbmQgZmluZERPTU5vZGUuXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICY9IH5QbGFjZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgcG9wSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB2YXIgcm9vdENvbnRhaW5lckluc3RhbmNlID0gZ2V0Um9vdEhvc3RDb250YWluZXIoKTtcbiAgICAgICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCAmJiB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHdlIGhhdmUgYW4gYWx0ZXJuYXRlLCB0aGF0IG1lYW5zIHRoaXMgaXMgYW4gdXBkYXRlIGFuZCB3ZSBuZWVkIHRvXG4gICAgICAgICAgLy8gc2NoZWR1bGUgYSBzaWRlLWVmZmVjdCB0byBkbyB0aGUgdXBkYXRlcy5cbiAgICAgICAgICB2YXIgb2xkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgLy8gSWYgd2UgZ2V0IHVwZGF0ZWQgYmVjYXVzZSBvbmUgb2Ygb3VyIGNoaWxkcmVuIHVwZGF0ZWQsIHdlIGRvbid0XG4gICAgICAgICAgLy8gaGF2ZSBuZXdQcm9wcyBzbyB3ZSdsbCBoYXZlIHRvIHJldXNlIHRoZW0uXG4gICAgICAgICAgLy8gVE9ETzogU3BsaXQgdGhlIHVwZGF0ZSBBUEkgYXMgc2VwYXJhdGUgZm9yIHRoZSBwcm9wcyB2cy4gY2hpbGRyZW4uXG4gICAgICAgICAgLy8gRXZlbiBiZXR0ZXIgd291bGQgYmUgaWYgY2hpbGRyZW4gd2VyZW4ndCBzcGVjaWFsIGNhc2VkIGF0IGFsbCB0aG8uXG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgIHZhciBjdXJyZW50SG9zdENvbnRleHQgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgIC8vIFRPRE86IEV4cGVyaWVuY2luZyBhbiBlcnJvciB3aGVyZSBvbGRQcm9wcyBpcyBudWxsLiBTdWdnZXN0cyBhIGhvc3RcbiAgICAgICAgICAvLyBjb21wb25lbnQgaXMgaGl0dGluZyB0aGUgcmVzdW1lIHBhdGguIEZpZ3VyZSBvdXQgd2h5LiBQb3NzaWJseVxuICAgICAgICAgIC8vIHJlbGF0ZWQgdG8gYGhpZGRlbmAuXG4gICAgICAgICAgdmFyIHVwZGF0ZVBheWxvYWQgPSBwcmVwYXJlVXBkYXRlKGluc3RhbmNlLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KTtcblxuICAgICAgICAgIHVwZGF0ZUhvc3RDb21wb25lbnQkMShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGN1cnJlbnRIb3N0Q29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY3VycmVudC5yZWYgIT09IHdvcmtJblByb2dyZXNzLnJlZikge1xuICAgICAgICAgICAgbWFya1JlZiQxKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFuZXdQcm9wcykge1xuICAgICAgICAgICAgISh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnV2UgbXVzdCBoYXZlIG5ldyBwcm9wcyBmb3IgbmV3IG1vdW50cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiB3aGVuIHdlIGFib3J0IHdvcmsuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX2N1cnJlbnRIb3N0Q29udGV4dCA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgLy8gVE9ETzogTW92ZSBjcmVhdGVJbnN0YW5jZSB0byBiZWdpbldvcmsgYW5kIGtlZXAgaXQgb24gYSBjb250ZXh0XG4gICAgICAgICAgLy8gXCJzdGFja1wiIGFzIHRoZSBwYXJlbnQuIFRoZW4gYXBwZW5kIGNoaWxkcmVuIGFzIHdlIGdvIGluIGJlZ2luV29ya1xuICAgICAgICAgIC8vIG9yIGNvbXBsZXRlV29yayBkZXBlbmRpbmcgb24gd2Ugd2FudCB0byBhZGQgdGhlbiB0b3AtPmRvd24gb3JcbiAgICAgICAgICAvLyBib3R0b20tPnVwLiBUb3AtPmRvd24gaXMgZmFzdGVyIGluIElFMTEuXG4gICAgICAgICAgdmFyIHdhc0h5ZHJhdGVkID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmICh3YXNIeWRyYXRlZCkge1xuICAgICAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIGFuZCBjcmVhdGVJbnN0YW5jZSBzdGVwIGludG8gdGhlIGJlZ2luUGhhc2VcbiAgICAgICAgICAgIC8vIHRvIGNvbnNvbGlkYXRlLlxuICAgICAgICAgICAgaWYgKHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgX2N1cnJlbnRIb3N0Q29udGV4dCkpIHtcbiAgICAgICAgICAgICAgLy8gSWYgY2hhbmdlcyB0byB0aGUgaHlkcmF0ZWQgbm9kZSBuZWVkcyB0byBiZSBhcHBsaWVkIGF0IHRoZVxuICAgICAgICAgICAgICAvLyBjb21taXQtcGhhc2Ugd2UgbWFyayB0aGlzIGFzIHN1Y2guXG4gICAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgX2luc3RhbmNlID0gY3JlYXRlSW5zdGFuY2UodHlwZSwgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgX2N1cnJlbnRIb3N0Q29udGV4dCwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlbihfaW5zdGFuY2UsIHdvcmtJblByb2dyZXNzKTtcblxuICAgICAgICAgICAgLy8gQ2VydGFpbiByZW5kZXJlcnMgcmVxdWlyZSBjb21taXQtdGltZSBlZmZlY3RzIGZvciBpbml0aWFsIG1vdW50LlxuICAgICAgICAgICAgLy8gKGVnIERPTSByZW5kZXJlciBzdXBwb3J0cyBhdXRvLWZvY3VzIGZvciBjZXJ0YWluIGVsZW1lbnRzKS5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBzdWNoIHJlbmRlcmVycyBnZXQgc2NoZWR1bGVkIGZvciBsYXRlciB3b3JrLlxuICAgICAgICAgICAgaWYgKGZpbmFsaXplSW5pdGlhbENoaWxkcmVuKF9pbnN0YW5jZSwgdHlwZSwgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgX2N1cnJlbnRIb3N0Q29udGV4dCkpIHtcbiAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBfaW5zdGFuY2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLnJlZiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSByZWYgb24gYSBob3N0IG5vZGUgd2UgbmVlZCB0byBzY2hlZHVsZSBhIGNhbGxiYWNrXG4gICAgICAgICAgICBtYXJrUmVmJDEod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAge1xuICAgICAgICB2YXIgbmV3VGV4dCA9IG5ld1Byb3BzO1xuICAgICAgICBpZiAoY3VycmVudCAmJiB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciBvbGRUZXh0ID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIC8vIElmIHdlIGhhdmUgYW4gYWx0ZXJuYXRlLCB0aGF0IG1lYW5zIHRoaXMgaXMgYW4gdXBkYXRlIGFuZCB3ZSBuZWVkXG4gICAgICAgICAgLy8gdG8gc2NoZWR1bGUgYSBzaWRlLWVmZmVjdCB0byBkbyB0aGUgdXBkYXRlcy5cbiAgICAgICAgICB1cGRhdGVIb3N0VGV4dCQxKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG5ld1RleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAhKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIHdoZW4gd2UgYWJvcnQgd29yay5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgX3Jvb3RDb250YWluZXJJbnN0YW5jZSA9IGdldFJvb3RIb3N0Q29udGFpbmVyKCk7XG4gICAgICAgICAgdmFyIF9jdXJyZW50SG9zdENvbnRleHQyID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICAgICAgICB2YXIgX3dhc0h5ZHJhdGVkID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmIChfd2FzSHlkcmF0ZWQpIHtcbiAgICAgICAgICAgIGlmIChwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNyZWF0ZVRleHRJbnN0YW5jZShuZXdUZXh0LCBfcm9vdENvbnRhaW5lckluc3RhbmNlLCBfY3VycmVudEhvc3RDb250ZXh0Miwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlIFRpbWVvdXRDb21wb25lbnQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSBNb2RlOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSBQcm9maWxlcjpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgdXBkYXRlSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgIC8vIFBvcCBwcm92aWRlciBmaWJlclxuICAgICAgcG9wUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSBDb250ZXh0Q29uc3VtZXI6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICAvLyBFcnJvciBjYXNlc1xuICAgIGNhc2UgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDpcbiAgICAgIGludmFyaWFudChmYWxzZSwgJ0FuIGluZGV0ZXJtaW5hdGUgY29tcG9uZW50IHNob3VsZCBoYXZlIGJlY29tZSBkZXRlcm1pbmF0ZSBiZWZvcmUgY29tcGxldGluZy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICBkZWZhdWx0OlxuICAgICAgaW52YXJpYW50KGZhbHNlLCAnVW5rbm93biB1bml0IG9mIHdvcmsgdGFnLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICB9XG59XG5cbi8vIFRoaXMgbW9kdWxlIGlzIGZvcmtlZCBpbiBkaWZmZXJlbnQgZW52aXJvbm1lbnRzLlxuLy8gQnkgZGVmYXVsdCwgcmV0dXJuIGB0cnVlYCB0byBsb2cgZXJyb3JzIHRvIHRoZSBjb25zb2xlLlxuLy8gRm9ya3MgY2FuIHJldHVybiBgZmFsc2VgIGlmIHRoaXMgaXNuJ3QgZGVzaXJhYmxlLlxuZnVuY3Rpb24gc2hvd0Vycm9yRGlhbG9nKGNhcHR1cmVkRXJyb3IpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGxvZ0NhcHR1cmVkRXJyb3IoY2FwdHVyZWRFcnJvcikge1xuICB2YXIgbG9nRXJyb3IgPSBzaG93RXJyb3JEaWFsb2coY2FwdHVyZWRFcnJvcik7XG5cbiAgLy8gQWxsb3cgaW5qZWN0ZWQgc2hvd0Vycm9yRGlhbG9nKCkgdG8gcHJldmVudCBkZWZhdWx0IGNvbnNvbGUuZXJyb3IgbG9nZ2luZy5cbiAgLy8gVGhpcyBlbmFibGVzIHJlbmRlcmVycyBsaWtlIFJlYWN0TmF0aXZlIHRvIGJldHRlciBtYW5hZ2UgcmVkYm94IGJlaGF2aW9yLlxuICBpZiAobG9nRXJyb3IgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGVycm9yID0gY2FwdHVyZWRFcnJvci5lcnJvcjtcbiAgdmFyIHN1cHByZXNzTG9nZ2luZyA9IGVycm9yICYmIGVycm9yLnN1cHByZXNzUmVhY3RFcnJvckxvZ2dpbmc7XG4gIGlmIChzdXBwcmVzc0xvZ2dpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjYXB0dXJlZEVycm9yLmNvbXBvbmVudE5hbWUsXG4gICAgICAgIGNvbXBvbmVudFN0YWNrID0gY2FwdHVyZWRFcnJvci5jb21wb25lbnRTdGFjayxcbiAgICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgPSBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlOYW1lLFxuICAgICAgICBlcnJvckJvdW5kYXJ5Rm91bmQgPSBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlGb3VuZCxcbiAgICAgICAgd2lsbFJldHJ5ID0gY2FwdHVyZWRFcnJvci53aWxsUmV0cnk7XG5cblxuICAgIHZhciBjb21wb25lbnROYW1lTWVzc2FnZSA9IGNvbXBvbmVudE5hbWUgPyAnVGhlIGFib3ZlIGVycm9yIG9jY3VycmVkIGluIHRoZSA8JyArIGNvbXBvbmVudE5hbWUgKyAnPiBjb21wb25lbnQ6JyA6ICdUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gb25lIG9mIHlvdXIgUmVhY3QgY29tcG9uZW50czonO1xuXG4gICAgdmFyIGVycm9yQm91bmRhcnlNZXNzYWdlID0gdm9pZCAwO1xuICAgIC8vIGVycm9yQm91bmRhcnlGb3VuZCBjaGVjayBpcyBzdWZmaWNpZW50OyBlcnJvckJvdW5kYXJ5TmFtZSBjaGVjayBpcyB0byBzYXRpc2Z5IEZsb3cuXG4gICAgaWYgKGVycm9yQm91bmRhcnlGb3VuZCAmJiBlcnJvckJvdW5kYXJ5TmFtZSkge1xuICAgICAgaWYgKHdpbGxSZXRyeSkge1xuICAgICAgICBlcnJvckJvdW5kYXJ5TWVzc2FnZSA9ICdSZWFjdCB3aWxsIHRyeSB0byByZWNyZWF0ZSB0aGlzIGNvbXBvbmVudCB0cmVlIGZyb20gc2NyYXRjaCAnICsgKCd1c2luZyB0aGUgZXJyb3IgYm91bmRhcnkgeW91IHByb3ZpZGVkLCAnICsgZXJyb3JCb3VuZGFyeU5hbWUgKyAnLicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3JCb3VuZGFyeU1lc3NhZ2UgPSAnVGhpcyBlcnJvciB3YXMgaW5pdGlhbGx5IGhhbmRsZWQgYnkgdGhlIGVycm9yIGJvdW5kYXJ5ICcgKyBlcnJvckJvdW5kYXJ5TmFtZSArICcuXFxuJyArICdSZWNyZWF0aW5nIHRoZSB0cmVlIGZyb20gc2NyYXRjaCBmYWlsZWQgc28gUmVhY3Qgd2lsbCB1bm1vdW50IHRoZSB0cmVlLic7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVycm9yQm91bmRhcnlNZXNzYWdlID0gJ0NvbnNpZGVyIGFkZGluZyBhbiBlcnJvciBib3VuZGFyeSB0byB5b3VyIHRyZWUgdG8gY3VzdG9taXplIGVycm9yIGhhbmRsaW5nIGJlaGF2aW9yLlxcbicgKyAnVmlzaXQgaHR0cHM6Ly9mYi5tZS9yZWFjdC1lcnJvci1ib3VuZGFyaWVzIHRvIGxlYXJuIG1vcmUgYWJvdXQgZXJyb3IgYm91bmRhcmllcy4nO1xuICAgIH1cbiAgICB2YXIgY29tYmluZWRNZXNzYWdlID0gJycgKyBjb21wb25lbnROYW1lTWVzc2FnZSArIGNvbXBvbmVudFN0YWNrICsgJ1xcblxcbicgKyAoJycgKyBlcnJvckJvdW5kYXJ5TWVzc2FnZSk7XG5cbiAgICAvLyBJbiBkZXZlbG9wbWVudCwgd2UgcHJvdmlkZSBvdXIgb3duIG1lc3NhZ2Ugd2l0aCBqdXN0IHRoZSBjb21wb25lbnQgc3RhY2suXG4gICAgLy8gV2UgZG9uJ3QgaW5jbHVkZSB0aGUgb3JpZ2luYWwgZXJyb3IgbWVzc2FnZSBhbmQgSlMgc3RhY2sgYmVjYXVzZSB0aGUgYnJvd3NlclxuICAgIC8vIGhhcyBhbHJlYWR5IHByaW50ZWQgaXQuIEV2ZW4gaWYgdGhlIGFwcGxpY2F0aW9uIHN3YWxsb3dzIHRoZSBlcnJvciwgaXQgaXMgc3RpbGxcbiAgICAvLyBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgdGhhbmtzIHRvIHRoZSBERVYtb25seSBmYWtlIGV2ZW50IHRyaWNrIGluIFJlYWN0RXJyb3JVdGlscy5cbiAgICBjb25zb2xlLmVycm9yKGNvbWJpbmVkTWVzc2FnZSk7XG4gIH1cbn1cblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQzID0gUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjaztcbnZhciBoYXNDYXVnaHRFcnJvciQxID0gUmVhY3RFcnJvclV0aWxzLmhhc0NhdWdodEVycm9yO1xudmFyIGNsZWFyQ2F1Z2h0RXJyb3IkMSA9IFJlYWN0RXJyb3JVdGlscy5jbGVhckNhdWdodEVycm9yO1xuXG5cbnZhciBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IG51bGw7XG57XG4gIGRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlID0gbmV3IFNldCgpO1xufVxuXG5mdW5jdGlvbiBsb2dFcnJvcihib3VuZGFyeSwgZXJyb3JJbmZvKSB7XG4gIHZhciBzb3VyY2UgPSBlcnJvckluZm8uc291cmNlO1xuICB2YXIgc3RhY2sgPSBlcnJvckluZm8uc3RhY2s7XG4gIGlmIChzdGFjayA9PT0gbnVsbCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICBzdGFjayA9IGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoc291cmNlKTtcbiAgfVxuXG4gIHZhciBjYXB0dXJlZEVycm9yID0ge1xuICAgIGNvbXBvbmVudE5hbWU6IHNvdXJjZSAhPT0gbnVsbCA/IGdldENvbXBvbmVudE5hbWUoc291cmNlKSA6IG51bGwsXG4gICAgY29tcG9uZW50U3RhY2s6IHN0YWNrICE9PSBudWxsID8gc3RhY2sgOiAnJyxcbiAgICBlcnJvcjogZXJyb3JJbmZvLnZhbHVlLFxuICAgIGVycm9yQm91bmRhcnk6IG51bGwsXG4gICAgZXJyb3JCb3VuZGFyeU5hbWU6IG51bGwsXG4gICAgZXJyb3JCb3VuZGFyeUZvdW5kOiBmYWxzZSxcbiAgICB3aWxsUmV0cnk6IGZhbHNlXG4gIH07XG5cbiAgaWYgKGJvdW5kYXJ5ICE9PSBudWxsICYmIGJvdW5kYXJ5LnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnkgPSBib3VuZGFyeS5zdGF0ZU5vZGU7XG4gICAgY2FwdHVyZWRFcnJvci5lcnJvckJvdW5kYXJ5TmFtZSA9IGdldENvbXBvbmVudE5hbWUoYm91bmRhcnkpO1xuICAgIGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeUZvdW5kID0gdHJ1ZTtcbiAgICBjYXB0dXJlZEVycm9yLndpbGxSZXRyeSA9IHRydWU7XG4gIH1cblxuICB0cnkge1xuICAgIGxvZ0NhcHR1cmVkRXJyb3IoY2FwdHVyZWRFcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBQcmV2ZW50IGN5Y2xlIGlmIGxvZ0NhcHR1cmVkRXJyb3IoKSB0aHJvd3MuXG4gICAgLy8gQSBjeWNsZSBtYXkgc3RpbGwgb2NjdXIgaWYgbG9nQ2FwdHVyZWRFcnJvciByZW5kZXJzIGEgY29tcG9uZW50IHRoYXQgdGhyb3dzLlxuICAgIHZhciBzdXBwcmVzc0xvZ2dpbmcgPSBlICYmIGUuc3VwcHJlc3NSZWFjdEVycm9yTG9nZ2luZztcbiAgICBpZiAoIXN1cHByZXNzTG9nZ2luZykge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudFdpdGhUaW1lciA9IGZ1bmN0aW9uIChjdXJyZW50LCBpbnN0YW5jZSkge1xuICBzdGFydFBoYXNlVGltZXIoY3VycmVudCwgJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyk7XG4gIGluc3RhbmNlLnByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICBpbnN0YW5jZS5zdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVubW91bnQoKTtcbiAgc3RvcFBoYXNlVGltZXIoKTtcbn07XG5cbi8vIENhcHR1cmUgZXJyb3JzIHNvIHRoZXkgZG9uJ3QgaW50ZXJydXB0IHVubW91bnRpbmcuXG5mdW5jdGlvbiBzYWZlbHlDYWxsQ29tcG9uZW50V2lsbFVubW91bnQoY3VycmVudCwgaW5zdGFuY2UpIHtcbiAge1xuICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQzKG51bGwsIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudFdpdGhUaW1lciwgbnVsbCwgY3VycmVudCwgaW5zdGFuY2UpO1xuICAgIGlmIChoYXNDYXVnaHRFcnJvciQxKCkpIHtcbiAgICAgIHZhciB1bm1vdW50RXJyb3IgPSBjbGVhckNhdWdodEVycm9yJDEoKTtcbiAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQsIHVubW91bnRFcnJvcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNhZmVseURldGFjaFJlZihjdXJyZW50KSB7XG4gIHZhciByZWYgPSBjdXJyZW50LnJlZjtcbiAgaWYgKHJlZiAhPT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB7XG4gICAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQzKG51bGwsIHJlZiwgbnVsbCwgbnVsbCk7XG4gICAgICAgIGlmIChoYXNDYXVnaHRFcnJvciQxKCkpIHtcbiAgICAgICAgICB2YXIgcmVmRXJyb3IgPSBjbGVhckNhdWdodEVycm9yJDEoKTtcbiAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCByZWZFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMoY3VycmVudCwgZmluaXNoZWRXb3JrKSB7XG4gIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIGlmIChmaW5pc2hlZFdvcmsuZWZmZWN0VGFnICYgU25hcHNob3QpIHtcbiAgICAgICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIHZhciBwcmV2U3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICBzdGFydFBoYXNlVGltZXIoZmluaXNoZWRXb3JrLCAnZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUnKTtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgaW5zdGFuY2Uuc3RhdGUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgIHZhciBzbmFwc2hvdCA9IGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIGRpZFdhcm5TZXQgPSBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtcbiAgICAgICAgICAgICAgaWYgKHNuYXBzaG90ID09PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5TZXQuaGFzKGZpbmlzaGVkV29yay50eXBlKSkge1xuICAgICAgICAgICAgICAgIGRpZFdhcm5TZXQuYWRkKGZpbmlzaGVkV29yay50eXBlKTtcbiAgICAgICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKTogQSBzbmFwc2hvdCB2YWx1ZSAob3IgbnVsbCkgJyArICdtdXN0IGJlIHJldHVybmVkLiBZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuJywgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmspKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5zdGFuY2UuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGUgPSBzbmFwc2hvdDtcbiAgICAgICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBjYXNlIEhvc3RSb290OlxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICBjYXNlIEhvc3RUZXh0OlxuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgIC8vIE5vdGhpbmcgdG8gZG8gZm9yIHRoZXNlIGNvbXBvbmVudCB0eXBlc1xuICAgICAgcmV0dXJuO1xuICAgIGRlZmF1bHQ6XG4gICAgICB7XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ1RoaXMgdW5pdCBvZiB3b3JrIHRhZyBzaG91bGQgbm90IGhhdmUgc2lkZS1lZmZlY3RzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbW1pdExpZmVDeWNsZXMoZmluaXNoZWRSb290LCBjdXJyZW50LCBmaW5pc2hlZFdvcmssIGN1cnJlbnRUaW1lLCBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSkge1xuICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICBpZiAoZmluaXNoZWRXb3JrLmVmZmVjdFRhZyAmIFVwZGF0ZSkge1xuICAgICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdGFydFBoYXNlVGltZXIoZmluaXNoZWRXb3JrLCAnY29tcG9uZW50RGlkTW91bnQnKTtcbiAgICAgICAgICAgIGluc3RhbmNlLnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICBpbnN0YW5jZS5zdGF0ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQoKTtcbiAgICAgICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICB2YXIgcHJldlN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgc3RhcnRQaGFzZVRpbWVyKGZpbmlzaGVkV29yaywgJ2NvbXBvbmVudERpZFVwZGF0ZScpO1xuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIGluc3RhbmNlLnN0YXRlID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUsIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlKTtcbiAgICAgICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgICAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICBpbnN0YW5jZS5zdGF0ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGNvbW1pdFVwZGF0ZVF1ZXVlKGZpbmlzaGVkV29yaywgdXBkYXRlUXVldWUsIGluc3RhbmNlLCBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICB7XG4gICAgICAgIHZhciBfdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgIGlmIChfdXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgICB2YXIgX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICBpZiAoZmluaXNoZWRXb3JrLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay5jaGlsZC50YWcpIHtcbiAgICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgICAgIF9pbnN0YW5jZSA9IGdldFB1YmxpY0luc3RhbmNlKGZpbmlzaGVkV29yay5jaGlsZC5zdGF0ZU5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICAgICAgICAgIF9pbnN0YW5jZSA9IGZpbmlzaGVkV29yay5jaGlsZC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbW1pdFVwZGF0ZVF1ZXVlKGZpbmlzaGVkV29yaywgX3VwZGF0ZVF1ZXVlLCBfaW5zdGFuY2UsIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAge1xuICAgICAgICB2YXIgX2luc3RhbmNlMiA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG5cbiAgICAgICAgLy8gUmVuZGVyZXJzIG1heSBzY2hlZHVsZSB3b3JrIHRvIGJlIGRvbmUgYWZ0ZXIgaG9zdCBjb21wb25lbnRzIGFyZSBtb3VudGVkXG4gICAgICAgIC8vIChlZyBET00gcmVuZGVyZXIgbWF5IHNjaGVkdWxlIGF1dG8tZm9jdXMgZm9yIGlucHV0cyBhbmQgZm9ybSBjb250cm9scykuXG4gICAgICAgIC8vIFRoZXNlIGVmZmVjdHMgc2hvdWxkIG9ubHkgYmUgY29tbWl0dGVkIHdoZW4gY29tcG9uZW50cyBhcmUgZmlyc3QgbW91bnRlZCxcbiAgICAgICAgLy8gYWthIHdoZW4gdGhlcmUgaXMgbm8gY3VycmVudC9hbHRlcm5hdGUuXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsICYmIGZpbmlzaGVkV29yay5lZmZlY3RUYWcgJiBVcGRhdGUpIHtcbiAgICAgICAgICB2YXIgdHlwZSA9IGZpbmlzaGVkV29yay50eXBlO1xuICAgICAgICAgIHZhciBwcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIGNvbW1pdE1vdW50KF9pbnN0YW5jZTIsIHR5cGUsIHByb3BzLCBmaW5pc2hlZFdvcmspO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICB7XG4gICAgICAgIC8vIFdlIGhhdmUgbm8gbGlmZS1jeWNsZXMgYXNzb2NpYXRlZCB3aXRoIHRleHQuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICB7XG4gICAgICAgIC8vIFdlIGhhdmUgbm8gbGlmZS1jeWNsZXMgYXNzb2NpYXRlZCB3aXRoIHBvcnRhbHMuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBjYXNlIFByb2ZpbGVyOlxuICAgICAge1xuICAgICAgICAvLyBXZSBoYXZlIG5vIGxpZmUtY3ljbGVzIGFzc29jaWF0ZWQgd2l0aCBQcm9maWxlci5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIGNhc2UgVGltZW91dENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBubyBsaWZlLWN5Y2xlcyBhc3NvY2lhdGVkIHdpdGggVGltZW91dHMuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb21taXRBdHRhY2hSZWYoZmluaXNoZWRXb3JrKSB7XG4gIHZhciByZWYgPSBmaW5pc2hlZFdvcmsucmVmO1xuICBpZiAocmVmICE9PSBudWxsKSB7XG4gICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICB2YXIgaW5zdGFuY2VUb1VzZSA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgaW5zdGFuY2VUb1VzZSA9IGdldFB1YmxpY0luc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnN0YW5jZVRvVXNlID0gaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZWYoaW5zdGFuY2VUb1VzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKCFyZWYuaGFzT3duUHJvcGVydHkoJ2N1cnJlbnQnKSkge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdVbmV4cGVjdGVkIHJlZiBvYmplY3QgcHJvdmlkZWQgZm9yICVzLiAnICsgJ1VzZSBlaXRoZXIgYSByZWYtc2V0dGVyIGZ1bmN0aW9uIG9yIFJlYWN0LmNyZWF0ZVJlZigpLiVzJywgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmspLCBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKGZpbmlzaGVkV29yaykpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlZi5jdXJyZW50ID0gaW5zdGFuY2VUb1VzZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tbWl0RGV0YWNoUmVmKGN1cnJlbnQpIHtcbiAgdmFyIGN1cnJlbnRSZWYgPSBjdXJyZW50LnJlZjtcbiAgaWYgKGN1cnJlbnRSZWYgIT09IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIGN1cnJlbnRSZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGN1cnJlbnRSZWYobnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8vIFVzZXItb3JpZ2luYXRpbmcgZXJyb3JzIChsaWZlY3ljbGVzIGFuZCByZWZzKSBzaG91bGQgbm90IGludGVycnVwdFxuLy8gZGVsZXRpb24sIHNvIGRvbid0IGxldCB0aGVtIHRocm93LiBIb3N0LW9yaWdpbmF0aW5nIGVycm9ycyBzaG91bGRcbi8vIGludGVycnVwdCBkZWxldGlvbiwgc28gaXQncyBva2F5XG5mdW5jdGlvbiBjb21taXRVbm1vdW50KGN1cnJlbnQpIHtcbiAgaWYgKHR5cGVvZiBvbkNvbW1pdFVubW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvbkNvbW1pdFVubW91bnQoY3VycmVudCk7XG4gIH1cblxuICBzd2l0Y2ggKGN1cnJlbnQudGFnKSB7XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQpO1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBjdXJyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudChjdXJyZW50LCBpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIHJlY3Vyc2l2ZS5cbiAgICAgICAgLy8gV2UgYXJlIGFsc28gbm90IHVzaW5nIHRoaXMgcGFyZW50IGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIHBvcnRhbCB3aWxsIGdldCBwdXNoZWQgaW1tZWRpYXRlbHkuXG4gICAgICAgIGlmIChzdXBwb3J0c011dGF0aW9uKSB7XG4gICAgICAgICAgdW5tb3VudEhvc3RDb21wb25lbnRzKGN1cnJlbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnRzUGVyc2lzdGVuY2UpIHtcbiAgICAgICAgICBlbXB0eVBvcnRhbENvbnRhaW5lcihjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tbWl0TmVzdGVkVW5tb3VudHMocm9vdCkge1xuICAvLyBXaGlsZSB3ZSdyZSBpbnNpZGUgYSByZW1vdmVkIGhvc3Qgbm9kZSB3ZSBkb24ndCB3YW50IHRvIGNhbGxcbiAgLy8gcmVtb3ZlQ2hpbGQgb24gdGhlIGlubmVyIG5vZGVzIGJlY2F1c2UgdGhleSdyZSByZW1vdmVkIGJ5IHRoZSB0b3BcbiAgLy8gY2FsbCBhbnl3YXkuIFdlIGFsc28gd2FudCB0byBjYWxsIGNvbXBvbmVudFdpbGxVbm1vdW50IG9uIGFsbFxuICAvLyBjb21wb3NpdGVzIGJlZm9yZSB0aGlzIGhvc3Qgbm9kZSBpcyByZW1vdmVkIGZyb20gdGhlIHRyZWUuIFRoZXJlZm9yZVxuICB2YXIgbm9kZSA9IHJvb3Q7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29tbWl0VW5tb3VudChub2RlKTtcbiAgICAvLyBWaXNpdCBjaGlsZHJlbiBiZWNhdXNlIHRoZXkgbWF5IGNvbnRhaW4gbW9yZSBjb21wb3NpdGUgb3IgaG9zdCBub2Rlcy5cbiAgICAvLyBTa2lwIHBvcnRhbHMgYmVjYXVzZSBjb21taXRVbm1vdW50KCkgY3VycmVudGx5IHZpc2l0cyB0aGVtIHJlY3Vyc2l2ZWx5LlxuICAgIGlmIChub2RlLmNoaWxkICE9PSBudWxsICYmIChcbiAgICAvLyBJZiB3ZSB1c2UgbXV0YXRpb24gd2UgZHJpbGwgZG93biBpbnRvIHBvcnRhbHMgdXNpbmcgY29tbWl0VW5tb3VudCBhYm92ZS5cbiAgICAvLyBJZiB3ZSBkb24ndCB1c2UgbXV0YXRpb24gd2UgZHJpbGwgZG93biBpbnRvIHBvcnRhbHMgaGVyZSBpbnN0ZWFkLlxuICAgICFzdXBwb3J0c011dGF0aW9uIHx8IG5vZGUudGFnICE9PSBIb3N0UG9ydGFsKSkge1xuICAgICAgbm9kZS5jaGlsZC5yZXR1cm4gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IHJvb3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgaWYgKG5vZGUucmV0dXJuID09PSBudWxsIHx8IG5vZGUucmV0dXJuID09PSByb290KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICB9XG4gICAgbm9kZS5zaWJsaW5nLnJldHVybiA9IG5vZGUucmV0dXJuO1xuICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGV0YWNoRmliZXIoY3VycmVudCkge1xuICAvLyBDdXQgb2ZmIHRoZSByZXR1cm4gcG9pbnRlcnMgdG8gZGlzY29ubmVjdCBpdCBmcm9tIHRoZSB0cmVlLiBJZGVhbGx5LCB3ZVxuICAvLyBzaG91bGQgY2xlYXIgdGhlIGNoaWxkIHBvaW50ZXIgb2YgdGhlIHBhcmVudCBhbHRlcm5hdGUgdG8gbGV0IHRoaXNcbiAgLy8gZ2V0IEdDOmVkIGJ1dCB3ZSBkb24ndCBrbm93IHdoaWNoIGZvciBzdXJlIHdoaWNoIHBhcmVudCBpcyB0aGUgY3VycmVudFxuICAvLyBvbmUgc28gd2UnbGwgc2V0dGxlIGZvciBHQzppbmcgdGhlIHN1YnRyZWUgb2YgdGhpcyBjaGlsZC4gVGhpcyBjaGlsZFxuICAvLyBpdHNlbGYgd2lsbCBiZSBHQzplZCB3aGVuIHRoZSBwYXJlbnQgdXBkYXRlcyB0aGUgbmV4dCB0aW1lLlxuICBjdXJyZW50LnJldHVybiA9IG51bGw7XG4gIGN1cnJlbnQuY2hpbGQgPSBudWxsO1xuICBpZiAoY3VycmVudC5hbHRlcm5hdGUpIHtcbiAgICBjdXJyZW50LmFsdGVybmF0ZS5jaGlsZCA9IG51bGw7XG4gICAgY3VycmVudC5hbHRlcm5hdGUucmV0dXJuID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbXB0eVBvcnRhbENvbnRhaW5lcihjdXJyZW50KSB7XG4gIGlmICghc3VwcG9ydHNQZXJzaXN0ZW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwb3J0YWwgPSBjdXJyZW50LnN0YXRlTm9kZTtcbiAgdmFyIGNvbnRhaW5lckluZm8gPSBwb3J0YWwuY29udGFpbmVySW5mbztcblxuICB2YXIgZW1wdHlDaGlsZFNldCA9IGNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0KGNvbnRhaW5lckluZm8pO1xuICByZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4oY29udGFpbmVySW5mbywgZW1wdHlDaGlsZFNldCk7XG59XG5cbmZ1bmN0aW9uIGNvbW1pdENvbnRhaW5lcihmaW5pc2hlZFdvcmspIHtcbiAgaWYgKCFzdXBwb3J0c1BlcnNpc3RlbmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBjYXNlIEhvc3RSb290OlxuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgIHtcbiAgICAgICAgdmFyIHBvcnRhbE9yUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgIHZhciBjb250YWluZXJJbmZvID0gcG9ydGFsT3JSb290LmNvbnRhaW5lckluZm8sXG4gICAgICAgICAgICBfcGVuZGluZ0NoaWxkcmVuID0gcG9ydGFsT3JSb290LnBlbmRpbmdDaGlsZHJlbjtcblxuICAgICAgICByZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4oY29udGFpbmVySW5mbywgX3BlbmRpbmdDaGlsZHJlbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRIb3N0UGFyZW50RmliZXIoZmliZXIpIHtcbiAgdmFyIHBhcmVudCA9IGZpYmVyLnJldHVybjtcbiAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgIGlmIChpc0hvc3RQYXJlbnQocGFyZW50KSkge1xuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG4gICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgfVxuICBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCB0byBmaW5kIGEgaG9zdCBwYXJlbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG59XG5cbmZ1bmN0aW9uIGlzSG9zdFBhcmVudChmaWJlcikge1xuICByZXR1cm4gZmliZXIudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IGZpYmVyLnRhZyA9PT0gSG9zdFJvb3QgfHwgZmliZXIudGFnID09PSBIb3N0UG9ydGFsO1xufVxuXG5mdW5jdGlvbiBnZXRIb3N0U2libGluZyhmaWJlcikge1xuICAvLyBXZSdyZSBnb2luZyB0byBzZWFyY2ggZm9yd2FyZCBpbnRvIHRoZSB0cmVlIHVudGlsIHdlIGZpbmQgYSBzaWJsaW5nIGhvc3RcbiAgLy8gbm9kZS4gVW5mb3J0dW5hdGVseSwgaWYgbXVsdGlwbGUgaW5zZXJ0aW9ucyBhcmUgZG9uZSBpbiBhIHJvdyB3ZSBoYXZlIHRvXG4gIC8vIHNlYXJjaCBwYXN0IHRoZW0uIFRoaXMgbGVhZHMgdG8gZXhwb25lbnRpYWwgc2VhcmNoIGZvciB0aGUgbmV4dCBzaWJsaW5nLlxuICB2YXIgbm9kZSA9IGZpYmVyO1xuICBzaWJsaW5nczogd2hpbGUgKHRydWUpIHtcbiAgICAvLyBJZiB3ZSBkaWRuJ3QgZmluZCBhbnl0aGluZywgbGV0J3MgdHJ5IHRoZSBuZXh0IHNpYmxpbmcuXG4gICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgaWYgKG5vZGUucmV0dXJuID09PSBudWxsIHx8IGlzSG9zdFBhcmVudChub2RlLnJldHVybikpIHtcbiAgICAgICAgLy8gSWYgd2UgcG9wIG91dCBvZiB0aGUgcm9vdCBvciBoaXQgdGhlIHBhcmVudCB0aGUgZmliZXIgd2UgYXJlIHRoZVxuICAgICAgICAvLyBsYXN0IHNpYmxpbmcuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgIH1cbiAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB3aGlsZSAobm9kZS50YWcgIT09IEhvc3RDb21wb25lbnQgJiYgbm9kZS50YWcgIT09IEhvc3RUZXh0KSB7XG4gICAgICAvLyBJZiBpdCBpcyBub3QgaG9zdCBub2RlIGFuZCwgd2UgbWlnaHQgaGF2ZSBhIGhvc3Qgbm9kZSBpbnNpZGUgaXQuXG4gICAgICAvLyBUcnkgdG8gc2VhcmNoIGRvd24gdW50aWwgd2UgZmluZCBvbmUuXG4gICAgICBpZiAobm9kZS5lZmZlY3RUYWcgJiBQbGFjZW1lbnQpIHtcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGNoaWxkLCB0cnkgdGhlIHNpYmxpbmdzIGluc3RlYWQuXG4gICAgICAgIGNvbnRpbnVlIHNpYmxpbmdzO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGNoaWxkLCB0cnkgdGhlIHNpYmxpbmdzIGluc3RlYWQuXG4gICAgICAvLyBXZSBhbHNvIHNraXAgcG9ydGFscyBiZWNhdXNlIHRoZXkgYXJlIG5vdCBwYXJ0IG9mIHRoaXMgaG9zdCB0cmVlLlxuICAgICAgaWYgKG5vZGUuY2hpbGQgPT09IG51bGwgfHwgbm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgY29udGludWUgc2libGluZ3M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmNoaWxkLnJldHVybiA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBDaGVjayBpZiB0aGlzIGhvc3Qgbm9kZSBpcyBzdGFibGUgb3IgYWJvdXQgdG8gYmUgcGxhY2VkLlxuICAgIGlmICghKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSkge1xuICAgICAgLy8gRm91bmQgaXQhXG4gICAgICByZXR1cm4gbm9kZS5zdGF0ZU5vZGU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbW1pdFBsYWNlbWVudChmaW5pc2hlZFdvcmspIHtcbiAgaWYgKCFzdXBwb3J0c011dGF0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUmVjdXJzaXZlbHkgaW5zZXJ0IGFsbCBob3N0IG5vZGVzIGludG8gdGhlIHBhcmVudC5cbiAgdmFyIHBhcmVudEZpYmVyID0gZ2V0SG9zdFBhcmVudEZpYmVyKGZpbmlzaGVkV29yayk7XG4gIHZhciBwYXJlbnQgPSB2b2lkIDA7XG4gIHZhciBpc0NvbnRhaW5lciA9IHZvaWQgMDtcbiAgc3dpdGNoIChwYXJlbnRGaWJlci50YWcpIHtcbiAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGU7XG4gICAgICBpc0NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgaXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICBpc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaW52YXJpYW50KGZhbHNlLCAnSW52YWxpZCBob3N0IHBhcmVudCBmaWJlci4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgfVxuICBpZiAocGFyZW50RmliZXIuZWZmZWN0VGFnICYgQ29udGVudFJlc2V0KSB7XG4gICAgLy8gUmVzZXQgdGhlIHRleHQgY29udGVudCBvZiB0aGUgcGFyZW50IGJlZm9yZSBkb2luZyBhbnkgaW5zZXJ0aW9uc1xuICAgIHJlc2V0VGV4dENvbnRlbnQocGFyZW50KTtcbiAgICAvLyBDbGVhciBDb250ZW50UmVzZXQgZnJvbSB0aGUgZWZmZWN0IHRhZ1xuICAgIHBhcmVudEZpYmVyLmVmZmVjdFRhZyAmPSB+Q29udGVudFJlc2V0O1xuICB9XG5cbiAgdmFyIGJlZm9yZSA9IGdldEhvc3RTaWJsaW5nKGZpbmlzaGVkV29yayk7XG4gIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGluc2VydGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgLy8gY2hpbGRyZW4gdG8gZmluZCBhbGwgdGhlIHRlcm1pbmFsIG5vZGVzLlxuICB2YXIgbm9kZSA9IGZpbmlzaGVkV29yaztcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgIGlmIChpc0NvbnRhaW5lcikge1xuICAgICAgICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUsIGJlZm9yZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5zZXJ0QmVmb3JlKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUsIGJlZm9yZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc0NvbnRhaW5lcikge1xuICAgICAgICAgIGFwcGVuZENoaWxkVG9Db250YWluZXIocGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXBwZW5kQ2hpbGQocGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAvLyBJZiB0aGUgaW5zZXJ0aW9uIGl0c2VsZiBpcyBhIHBvcnRhbCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlXG4gICAgICAvLyBkb3duIGl0cyBjaGlsZHJlbi4gSW5zdGVhZCwgd2UnbGwgZ2V0IGluc2VydGlvbnMgZnJvbSBlYWNoIGNoaWxkIGluXG4gICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgbm9kZS5jaGlsZC5yZXR1cm4gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IGZpbmlzaGVkV29yaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS5yZXR1cm4gPT09IG51bGwgfHwgbm9kZS5yZXR1cm4gPT09IGZpbmlzaGVkV29yaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgfVxuICAgIG5vZGUuc2libGluZy5yZXR1cm4gPSBub2RlLnJldHVybjtcbiAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVubW91bnRIb3N0Q29tcG9uZW50cyhjdXJyZW50KSB7XG4gIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGluc2VydGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgdmFyIG5vZGUgPSBjdXJyZW50O1xuXG4gIC8vIEVhY2ggaXRlcmF0aW9uLCBjdXJyZW50UGFyZW50IGlzIHBvcHVsYXRlZCB3aXRoIG5vZGUncyBob3N0IHBhcmVudCBpZiBub3RcbiAgLy8gY3VycmVudFBhcmVudElzVmFsaWQuXG4gIHZhciBjdXJyZW50UGFyZW50SXNWYWxpZCA9IGZhbHNlO1xuICB2YXIgY3VycmVudFBhcmVudCA9IHZvaWQgMDtcbiAgdmFyIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IHZvaWQgMDtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmICghY3VycmVudFBhcmVudElzVmFsaWQpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBub2RlLnJldHVybjtcbiAgICAgIGZpbmRQYXJlbnQ6IHdoaWxlICh0cnVlKSB7XG4gICAgICAgICEocGFyZW50ICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgc3dpdGNoIChwYXJlbnQudGFnKSB7XG4gICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50SXNDb250YWluZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrIGZpbmRQYXJlbnQ7XG4gICAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50SXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWsgZmluZFBhcmVudDtcbiAgICAgICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gcGFyZW50LnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgY3VycmVudFBhcmVudElzQ29udGFpbmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrIGZpbmRQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRQYXJlbnRJc1ZhbGlkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICBjb21taXROZXN0ZWRVbm1vdW50cyhub2RlKTtcbiAgICAgIC8vIEFmdGVyIGFsbCB0aGUgY2hpbGRyZW4gaGF2ZSB1bm1vdW50ZWQsIGl0IGlzIG5vdyBzYWZlIHRvIHJlbW92ZSB0aGVcbiAgICAgIC8vIG5vZGUgZnJvbSB0aGUgdHJlZS5cbiAgICAgIGlmIChjdXJyZW50UGFyZW50SXNDb250YWluZXIpIHtcbiAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyKGN1cnJlbnRQYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUNoaWxkKGN1cnJlbnRQYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgIH1cbiAgICAgIC8vIERvbid0IHZpc2l0IGNoaWxkcmVuIGJlY2F1c2Ugd2UgYWxyZWFkeSB2aXNpdGVkIHRoZW0uXG4gICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgLy8gV2hlbiB3ZSBnbyBpbnRvIGEgcG9ydGFsLCBpdCBiZWNvbWVzIHRoZSBwYXJlbnQgdG8gcmVtb3ZlIGZyb20uXG4gICAgICAvLyBXZSB3aWxsIHJlYXNzaWduIGl0IGJhY2sgd2hlbiB3ZSBwb3AgdGhlIHBvcnRhbCBvbiB0aGUgd2F5IHVwLlxuICAgICAgY3VycmVudFBhcmVudCA9IG5vZGUuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAvLyBWaXNpdCBjaGlsZHJlbiBiZWNhdXNlIHBvcnRhbHMgbWlnaHQgY29udGFpbiBob3N0IGNvbXBvbmVudHMuXG4gICAgICBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICBub2RlLmNoaWxkLnJldHVybiA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29tbWl0VW5tb3VudChub2RlKTtcbiAgICAgIC8vIFZpc2l0IGNoaWxkcmVuIGJlY2F1c2Ugd2UgbWF5IGZpbmQgbW9yZSBob3N0IGNvbXBvbmVudHMgYmVsb3cuXG4gICAgICBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICBub2RlLmNoaWxkLnJldHVybiA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IGN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgaWYgKG5vZGUucmV0dXJuID09PSBudWxsIHx8IG5vZGUucmV0dXJuID09PSBjdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAvLyBXaGVuIHdlIGdvIG91dCBvZiB0aGUgcG9ydGFsLCB3ZSBuZWVkIHRvIHJlc3RvcmUgdGhlIHBhcmVudC5cbiAgICAgICAgLy8gU2luY2Ugd2UgZG9uJ3Qga2VlcCBhIHN0YWNrIG9mIHRoZW0sIHdlIHdpbGwgc2VhcmNoIGZvciBpdC5cbiAgICAgICAgY3VycmVudFBhcmVudElzVmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbm9kZS5zaWJsaW5nLnJldHVybiA9IG5vZGUucmV0dXJuO1xuICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tbWl0RGVsZXRpb24oY3VycmVudCkge1xuICBpZiAoc3VwcG9ydHNNdXRhdGlvbikge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGRlbGV0ZSBhbGwgaG9zdCBub2RlcyBmcm9tIHRoZSBwYXJlbnQuXG4gICAgLy8gRGV0YWNoIHJlZnMgYW5kIGNhbGwgY29tcG9uZW50V2lsbFVubW91bnQoKSBvbiB0aGUgd2hvbGUgc3VidHJlZS5cbiAgICB1bm1vdW50SG9zdENvbXBvbmVudHMoY3VycmVudCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gRGV0YWNoIHJlZnMgYW5kIGNhbGwgY29tcG9uZW50V2lsbFVubW91bnQoKSBvbiB0aGUgd2hvbGUgc3VidHJlZS5cbiAgICBjb21taXROZXN0ZWRVbm1vdW50cyhjdXJyZW50KTtcbiAgfVxuICBkZXRhY2hGaWJlcihjdXJyZW50KTtcbn1cblxuZnVuY3Rpb24gY29tbWl0V29yayhjdXJyZW50LCBmaW5pc2hlZFdvcmspIHtcbiAgaWYgKCFzdXBwb3J0c011dGF0aW9uKSB7XG4gICAgY29tbWl0Q29udGFpbmVyKGZpbmlzaGVkV29yayk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBDb21taXQgdGhlIHdvcmsgcHJlcGFyZWQgZWFybGllci5cbiAgICAgICAgICB2YXIgbmV3UHJvcHMgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAvLyBGb3IgaHlkcmF0aW9uIHdlIHJldXNlIHRoZSB1cGRhdGUgcGF0aCBidXQgd2UgdHJlYXQgdGhlIG9sZFByb3BzXG4gICAgICAgICAgLy8gYXMgdGhlIG5ld1Byb3BzLiBUaGUgdXBkYXRlUGF5bG9hZCB3aWxsIGNvbnRhaW4gdGhlIHJlYWwgY2hhbmdlIGluXG4gICAgICAgICAgLy8gdGhpcyBjYXNlLlxuICAgICAgICAgIHZhciBvbGRQcm9wcyA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBuZXdQcm9wcztcbiAgICAgICAgICB2YXIgdHlwZSA9IGZpbmlzaGVkV29yay50eXBlO1xuICAgICAgICAgIC8vIFRPRE86IFR5cGUgdGhlIHVwZGF0ZVF1ZXVlIHRvIGJlIHNwZWNpZmljIHRvIGhvc3QgY29tcG9uZW50cy5cbiAgICAgICAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUgPSBudWxsO1xuICAgICAgICAgIGlmICh1cGRhdGVQYXlsb2FkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb21taXRVcGRhdGUoaW5zdGFuY2UsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICB7XG4gICAgICAgICEoZmluaXNoZWRXb3JrLnN0YXRlTm9kZSAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdUaGlzIHNob3VsZCBoYXZlIGEgdGV4dCBub2RlIGluaXRpYWxpemVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICB2YXIgdGV4dEluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgdmFyIG5ld1RleHQgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgLy8gRm9yIGh5ZHJhdGlvbiB3ZSByZXVzZSB0aGUgdXBkYXRlIHBhdGggYnV0IHdlIHRyZWF0IHRoZSBvbGRQcm9wc1xuICAgICAgICAvLyBhcyB0aGUgbmV3UHJvcHMuIFRoZSB1cGRhdGVQYXlsb2FkIHdpbGwgY29udGFpbiB0aGUgcmVhbCBjaGFuZ2UgaW5cbiAgICAgICAgLy8gdGhpcyBjYXNlLlxuICAgICAgICB2YXIgb2xkVGV4dCA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBuZXdUZXh0O1xuICAgICAgICBjb21taXRUZXh0VXBkYXRlKHRleHRJbnN0YW5jZSwgb2xkVGV4dCwgbmV3VGV4dCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBjYXNlIEhvc3RSb290OlxuICAgICAge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgY2FzZSBQcm9maWxlcjpcbiAgICAgIHtcbiAgICAgICAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICAgICAgICB2YXIgb25SZW5kZXIgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcy5vblJlbmRlcjtcbiAgICAgICAgICBvblJlbmRlcihmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcy5pZCwgY3VycmVudCA9PT0gbnVsbCA/ICdtb3VudCcgOiAndXBkYXRlJywgZmluaXNoZWRXb3JrLmFjdHVhbER1cmF0aW9uLCBmaW5pc2hlZFdvcmsudHJlZUJhc2VUaW1lLCBmaW5pc2hlZFdvcmsuYWN0dWFsU3RhcnRUaW1lLCBnZXRDb21taXRUaW1lKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBjYXNlIFRpbWVvdXRDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb21taXRSZXNldFRleHRDb250ZW50KGN1cnJlbnQpIHtcbiAgaWYgKCFzdXBwb3J0c011dGF0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlc2V0VGV4dENvbnRlbnQoY3VycmVudC5zdGF0ZU5vZGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSb290RXJyb3JVcGRhdGUoZmliZXIsIGVycm9ySW5mbywgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIHVwZGF0ZSA9IGNyZWF0ZVVwZGF0ZShleHBpcmF0aW9uVGltZSk7XG4gIC8vIFVubW91bnQgdGhlIHJvb3QgYnkgcmVuZGVyaW5nIG51bGwuXG4gIHVwZGF0ZS50YWcgPSBDYXB0dXJlVXBkYXRlO1xuICAvLyBDYXV0aW9uOiBSZWFjdCBEZXZUb29scyBjdXJyZW50bHkgZGVwZW5kcyBvbiB0aGlzIHByb3BlcnR5XG4gIC8vIGJlaW5nIGNhbGxlZCBcImVsZW1lbnRcIi5cbiAgdXBkYXRlLnBheWxvYWQgPSB7IGVsZW1lbnQ6IG51bGwgfTtcbiAgdmFyIGVycm9yID0gZXJyb3JJbmZvLnZhbHVlO1xuICB1cGRhdGUuY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgb25VbmNhdWdodEVycm9yKGVycm9yKTtcbiAgICBsb2dFcnJvcihmaWJlciwgZXJyb3JJbmZvKTtcbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2xhc3NFcnJvclVwZGF0ZShmaWJlciwgZXJyb3JJbmZvLCBleHBpcmF0aW9uVGltZSkge1xuICB2YXIgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGV4cGlyYXRpb25UaW1lKTtcbiAgdXBkYXRlLnRhZyA9IENhcHR1cmVVcGRhdGU7XG4gIHZhciBnZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSBmaWJlci50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaDtcbiAgaWYgKGVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAmJiB0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGVycm9yID0gZXJyb3JJbmZvLnZhbHVlO1xuICAgIHVwZGF0ZS5wYXlsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldERlcml2ZWRTdGF0ZUZyb21DYXRjaChlcnJvcik7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBpbnN0ID0gZmliZXIuc3RhdGVOb2RlO1xuICBpZiAoaW5zdCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5zdC5jb21wb25lbnREaWRDYXRjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHVwZGF0ZS5jYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgaWYgKCFlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggfHwgZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFRvIHByZXNlcnZlIHRoZSBwcmVleGlzdGluZyByZXRyeSBiZWhhdmlvciBvZiBlcnJvciBib3VuZGFyaWVzLFxuICAgICAgICAvLyB3ZSBrZWVwIHRyYWNrIG9mIHdoaWNoIG9uZXMgYWxyZWFkeSBmYWlsZWQgZHVyaW5nIHRoaXMgYmF0Y2guXG4gICAgICAgIC8vIFRoaXMgZ2V0cyByZXNldCBiZWZvcmUgd2UgeWllbGQgYmFjayB0byB0aGUgYnJvd3Nlci5cbiAgICAgICAgLy8gVE9ETzogV2FybiBpbiBzdHJpY3QgbW9kZSBpZiBnZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggaXNcbiAgICAgICAgLy8gbm90IGRlZmluZWQuXG4gICAgICAgIG1hcmtMZWdhY3lFcnJvckJvdW5kYXJ5QXNGYWlsZWQodGhpcyk7XG4gICAgICB9XG4gICAgICB2YXIgZXJyb3IgPSBlcnJvckluZm8udmFsdWU7XG4gICAgICB2YXIgc3RhY2sgPSBlcnJvckluZm8uc3RhY2s7XG4gICAgICBsb2dFcnJvcihmaWJlciwgZXJyb3JJbmZvKTtcbiAgICAgIHRoaXMuY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIHtcbiAgICAgICAgY29tcG9uZW50U3RhY2s6IHN0YWNrICE9PSBudWxsID8gc3RhY2sgOiAnJ1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdXBkYXRlO1xufVxuXG5mdW5jdGlvbiBzY2hlZHVsZVBpbmcoZmluaXNoZWRXb3JrKSB7XG4gIC8vIE9uY2UgdGhlIHByb21pc2UgcmVzb2x2ZXMsIHdlIHNob3VsZCB0cnkgcmVuZGVyaW5nIHRoZSBub24tXG4gIC8vIHBsYWNlaG9sZGVyIHN0YXRlIGFnYWluLlxuICB2YXIgY3VycmVudFRpbWUgPSByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCk7XG4gIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoY3VycmVudFRpbWUsIGZpbmlzaGVkV29yayk7XG4gIHZhciByZWNvdmVyeVVwZGF0ZSA9IGNyZWF0ZVVwZGF0ZShleHBpcmF0aW9uVGltZSk7XG4gIGVucXVldWVVcGRhdGUoZmluaXNoZWRXb3JrLCByZWNvdmVyeVVwZGF0ZSwgZXhwaXJhdGlvblRpbWUpO1xuICBzY2hlZHVsZVdvcmskMShmaW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKTtcbn1cblxuZnVuY3Rpb24gdGhyb3dFeGNlcHRpb24ocm9vdCwgcmV0dXJuRmliZXIsIHNvdXJjZUZpYmVyLCB2YWx1ZSwgcmVuZGVySXNFeHBpcmVkLCByZW5kZXJFeHBpcmF0aW9uVGltZSwgY3VycmVudFRpbWVNcykge1xuICAvLyBUaGUgc291cmNlIGZpYmVyIGRpZCBub3QgY29tcGxldGUuXG4gIHNvdXJjZUZpYmVyLmVmZmVjdFRhZyB8PSBJbmNvbXBsZXRlO1xuICAvLyBJdHMgZWZmZWN0IGxpc3QgaXMgbm8gbG9uZ2VyIHZhbGlkLlxuICBzb3VyY2VGaWJlci5maXJzdEVmZmVjdCA9IHNvdXJjZUZpYmVyLmxhc3RFZmZlY3QgPSBudWxsO1xuXG4gIGlmIChlbmFibGVTdXNwZW5zZSAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gVGhpcyBpcyBhIHRoZW5hYmxlLlxuICAgIHZhciB0aGVuYWJsZSA9IHZhbHVlO1xuXG4gICAgdmFyIGV4cGlyYXRpb25UaW1lTXMgPSBleHBpcmF0aW9uVGltZVRvTXMocmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIHZhciBzdGFydFRpbWVNcyA9IGV4cGlyYXRpb25UaW1lTXMgLSA1MDAwO1xuICAgIHZhciBlbGFwc2VkTXMgPSBjdXJyZW50VGltZU1zIC0gc3RhcnRUaW1lTXM7XG4gICAgaWYgKGVsYXBzZWRNcyA8IDApIHtcbiAgICAgIGVsYXBzZWRNcyA9IDA7XG4gICAgfVxuICAgIHZhciByZW1haW5pbmdUaW1lTXMgPSBleHBpcmF0aW9uVGltZU1zIC0gY3VycmVudFRpbWVNcztcblxuICAgIC8vIEZpbmQgdGhlIGVhcmxpZXN0IHRpbWVvdXQgb2YgYWxsIHRoZSB0aW1lb3V0cyBpbiB0aGUgYW5jZXN0b3IgcGF0aC5cbiAgICAvLyBUT0RPOiBBbHRlcm5hdGl2ZWx5LCB3ZSBjb3VsZCBzdG9yZSB0aGUgZWFybGllc3QgdGltZW91dCBvbiB0aGUgY29udGV4dFxuICAgIC8vIHN0YWNrLCByYXRoZXIgdGhhbiBzZWFyY2hpbmcgb24gZXZlcnkgc3VzcGVuZC5cbiAgICB2YXIgX3dvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXI7XG4gICAgdmFyIGVhcmxpZXN0VGltZW91dE1zID0gLTE7XG4gICAgc2VhcmNoRm9yRWFybGllc3RUaW1lb3V0OiBkbyB7XG4gICAgICBpZiAoX3dvcmtJblByb2dyZXNzLnRhZyA9PT0gVGltZW91dENvbXBvbmVudCkge1xuICAgICAgICB2YXIgY3VycmVudCA9IF93b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGU7XG4gICAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIC8vIEEgcGFyZW50IFRpbWVvdXQgYWxyZWFkeSBjb21taXR0ZWQgaW4gYSBwbGFjZWhvbGRlciBzdGF0ZS4gV2VcbiAgICAgICAgICAvLyBuZWVkIHRvIGhhbmRsZSB0aGlzIHByb21pc2UgaW1tZWRpYXRlbHkuIEluIG90aGVyIHdvcmRzLCB3ZVxuICAgICAgICAgIC8vIHNob3VsZCBuZXZlciBzdXNwZW5kIGluc2lkZSBhIHRyZWUgdGhhdCBhbHJlYWR5IGV4cGlyZWQuXG4gICAgICAgICAgZWFybGllc3RUaW1lb3V0TXMgPSAwO1xuICAgICAgICAgIGJyZWFrIHNlYXJjaEZvckVhcmxpZXN0VGltZW91dDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGltZW91dFByb3BNcyA9IF93b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMubXM7XG4gICAgICAgIGlmICh0eXBlb2YgdGltZW91dFByb3BNcyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBpZiAodGltZW91dFByb3BNcyA8PSAwKSB7XG4gICAgICAgICAgICBlYXJsaWVzdFRpbWVvdXRNcyA9IDA7XG4gICAgICAgICAgICBicmVhayBzZWFyY2hGb3JFYXJsaWVzdFRpbWVvdXQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChlYXJsaWVzdFRpbWVvdXRNcyA9PT0gLTEgfHwgdGltZW91dFByb3BNcyA8IGVhcmxpZXN0VGltZW91dE1zKSB7XG4gICAgICAgICAgICBlYXJsaWVzdFRpbWVvdXRNcyA9IHRpbWVvdXRQcm9wTXM7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGVhcmxpZXN0VGltZW91dE1zID09PSAtMSkge1xuICAgICAgICAgIGVhcmxpZXN0VGltZW91dE1zID0gcmVtYWluaW5nVGltZU1zO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBfd29ya0luUHJvZ3Jlc3MgPSBfd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgIH0gd2hpbGUgKF93b3JrSW5Qcm9ncmVzcyAhPT0gbnVsbCk7XG5cbiAgICAvLyBDb21wdXRlIHRoZSByZW1haW5pbmcgdGltZSB1bnRpbCB0aGUgdGltZW91dC5cbiAgICB2YXIgbXNVbnRpbFRpbWVvdXQgPSBlYXJsaWVzdFRpbWVvdXRNcyAtIGVsYXBzZWRNcztcblxuICAgIGlmIChyZW5kZXJFeHBpcmF0aW9uVGltZSA9PT0gTmV2ZXIgfHwgbXNVbnRpbFRpbWVvdXQgPiAwKSB7XG4gICAgICAvLyBUaGVyZSdzIHN0aWxsIHRpbWUgcmVtYWluaW5nLlxuICAgICAgc3VzcGVuZFJvb3Qocm9vdCwgdGhlbmFibGUsIG1zVW50aWxUaW1lb3V0LCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB2YXIgb25SZXNvbHZlT3JSZWplY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHJ5U3VzcGVuZGVkUm9vdChyb290LCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9O1xuICAgICAgdGhlbmFibGUudGhlbihvblJlc29sdmVPclJlamVjdCwgb25SZXNvbHZlT3JSZWplY3QpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyB0aW1lIHJlbWFpbmluZy4gTmVlZCB0byBmYWxsYmFjayB0byBwbGFjZWhvbGRlci5cbiAgICAgIC8vIEZpbmQgdGhlIG5lYXJlc3QgdGltZW91dCB0aGF0IGNhbiBiZSByZXRyaWVkLlxuICAgICAgX3dvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXI7XG4gICAgICBkbyB7XG4gICAgICAgIHN3aXRjaCAoX3dvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vIFRoZSByb290IGV4cGlyZWQsIGJ1dCBubyBmYWxsYmFjayB3YXMgcHJvdmlkZWQuIFRocm93IGFcbiAgICAgICAgICAgICAgLy8gaGVscGZ1bCBlcnJvci5cbiAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSByZW5kZXJFeHBpcmF0aW9uVGltZSA9PT0gU3luYyA/ICdBIHN5bmNocm9ub3VzIHVwZGF0ZSB3YXMgc3VzcGVuZGVkLCBidXQgbm8gZmFsbGJhY2sgVUkgJyArICd3YXMgcHJvdmlkZWQuJyA6ICdBbiB1cGRhdGUgd2FzIHN1c3BlbmRlZCBmb3IgbG9uZ2VyIHRoYW4gdGhlIHRpbWVvdXQsICcgKyAnYnV0IG5vIGZhbGxiYWNrIFVJIHdhcyBwcm92aWRlZC4nO1xuICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBUaW1lb3V0Q29tcG9uZW50OlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZiAoKF93b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJiBEaWRDYXB0dXJlKSA9PT0gTm9FZmZlY3QpIHtcbiAgICAgICAgICAgICAgICBfd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNob3VsZENhcHR1cmU7XG4gICAgICAgICAgICAgICAgdmFyIF9vblJlc29sdmVPclJlamVjdCA9IHNjaGVkdWxlUGluZy5iaW5kKG51bGwsIF93b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgdGhlbmFibGUudGhlbihfb25SZXNvbHZlT3JSZWplY3QsIF9vblJlc29sdmVPclJlamVjdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIEFscmVhZHkgY2FwdHVyZWQgZHVyaW5nIHRoaXMgcmVuZGVyLiBDb250aW51ZSB0byB0aGUgbmV4dFxuICAgICAgICAgICAgICAvLyBUaW1lb3V0IGFuY2VzdG9yLlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfd29ya0luUHJvZ3Jlc3MgPSBfd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgICAgfSB3aGlsZSAoX3dvcmtJblByb2dyZXNzICE9PSBudWxsKTtcbiAgICB9XG4gIH1cblxuICAvLyBXZSBkaWRuJ3QgZmluZCBhIGJvdW5kYXJ5IHRoYXQgY291bGQgaGFuZGxlIHRoaXMgdHlwZSBvZiBleGNlcHRpb24uIFN0YXJ0XG4gIC8vIG92ZXIgYW5kIHRyYXZlcnNlIHBhcmVudCBwYXRoIGFnYWluLCB0aGlzIHRpbWUgdHJlYXRpbmcgdGhlIGV4Y2VwdGlvblxuICAvLyBhcyBhbiBlcnJvci5cbiAgdmFsdWUgPSBjcmVhdGVDYXB0dXJlZFZhbHVlKHZhbHVlLCBzb3VyY2VGaWJlcik7XG4gIHZhciB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICBkbyB7XG4gICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX2Vycm9ySW5mbyA9IHZhbHVlO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBTaG91bGRDYXB0dXJlO1xuICAgICAgICAgIHZhciB1cGRhdGUgPSBjcmVhdGVSb290RXJyb3JVcGRhdGUod29ya0luUHJvZ3Jlc3MsIF9lcnJvckluZm8sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICBlbnF1ZXVlQ2FwdHVyZWRVcGRhdGUod29ya0luUHJvZ3Jlc3MsIHVwZGF0ZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgLy8gQ2FwdHVyZSBhbmQgcmV0cnlcbiAgICAgICAgdmFyIGVycm9ySW5mbyA9IHZhbHVlO1xuICAgICAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgaWYgKCh3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJiBEaWRDYXB0dXJlKSA9PT0gTm9FZmZlY3QgJiYgKHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiBlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggfHwgaW5zdGFuY2UgIT09IG51bGwgJiYgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoID09PSAnZnVuY3Rpb24nICYmICFpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5KGluc3RhbmNlKSkpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU2hvdWxkQ2FwdHVyZTtcbiAgICAgICAgICAvLyBTY2hlZHVsZSB0aGUgZXJyb3IgYm91bmRhcnkgdG8gcmUtcmVuZGVyIHVzaW5nIHVwZGF0ZWQgc3RhdGVcbiAgICAgICAgICB2YXIgX3VwZGF0ZSA9IGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUod29ya0luUHJvZ3Jlc3MsIGVycm9ySW5mbywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIGVucXVldWVDYXB0dXJlZFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgX3VwZGF0ZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcbiAgfSB3aGlsZSAod29ya0luUHJvZ3Jlc3MgIT09IG51bGwpO1xufVxuXG5mdW5jdGlvbiB1bndpbmRXb3JrKHdvcmtJblByb2dyZXNzLCByZW5kZXJJc0V4cGlyZWQsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkge1xuICAgICAgcmVjb3JkRWxhcHNlZEFjdHVhbFJlbmRlclRpbWUod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgcG9wQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgdmFyIGVmZmVjdFRhZyA9IHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZztcbiAgICAgICAgaWYgKGVmZmVjdFRhZyAmIFNob3VsZENhcHR1cmUpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgPSBlZmZlY3RUYWcgJiB+U2hvdWxkQ2FwdHVyZSB8IERpZENhcHR1cmU7XG4gICAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICB7XG4gICAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBwb3BUb3BMZXZlbENvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB2YXIgX2VmZmVjdFRhZyA9IHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZztcbiAgICAgICAgaWYgKF9lZmZlY3RUYWcgJiBTaG91bGRDYXB0dXJlKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnID0gX2VmZmVjdFRhZyAmIH5TaG91bGRDYXB0dXJlIHwgRGlkQ2FwdHVyZTtcbiAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAge1xuICAgICAgICBwb3BIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIGNhc2UgVGltZW91dENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgdmFyIF9lZmZlY3RUYWcyID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuICAgICAgICBpZiAoX2VmZmVjdFRhZzIgJiBTaG91bGRDYXB0dXJlKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnID0gX2VmZmVjdFRhZzIgJiB+U2hvdWxkQ2FwdHVyZSB8IERpZENhcHR1cmU7XG4gICAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICBwb3BQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gdW53aW5kSW50ZXJydXB0ZWRXb3JrKGludGVycnVwdGVkV29yaykge1xuICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIGlmIChpbnRlcnJ1cHRlZFdvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSB7XG4gICAgICAvLyBSZXN1bWUgaW4gY2FzZSB3ZSdyZSBwaWNraW5nIHVwIG9uIHdvcmsgdGhhdCB3YXMgcGF1c2VkLlxuICAgICAgcmVzdW1lQWN0dWFsUmVuZGVyVGltZXJJZlBhdXNlZCgpO1xuICAgICAgcmVjb3JkRWxhcHNlZEFjdHVhbFJlbmRlclRpbWUoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICB9XG4gIH1cblxuICBzd2l0Y2ggKGludGVycnVwdGVkV29yay50YWcpIHtcbiAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAge1xuICAgICAgICBwb3BDb250ZXh0UHJvdmlkZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgIHtcbiAgICAgICAgcG9wSG9zdENvbnRhaW5lcihpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICBwb3BUb3BMZXZlbENvbnRleHRPYmplY3QoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAge1xuICAgICAgICBwb3BIb3N0Q29udGV4dChpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICBwb3BIb3N0Q29udGFpbmVyKGludGVycnVwdGVkV29yayk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgIHBvcFByb3ZpZGVyKGludGVycnVwdGVkV29yayk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cbn1cblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQyID0gUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjaztcbnZhciBoYXNDYXVnaHRFcnJvciA9IFJlYWN0RXJyb3JVdGlscy5oYXNDYXVnaHRFcnJvcjtcbnZhciBjbGVhckNhdWdodEVycm9yID0gUmVhY3RFcnJvclV0aWxzLmNsZWFyQ2F1Z2h0RXJyb3I7XG5cblxudmFyIGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiA9IHZvaWQgMDtcbnZhciBkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQgPSB2b2lkIDA7XG52YXIgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQgPSB2b2lkIDA7XG52YXIgd2FybkFib3V0SW52YWxpZFVwZGF0ZXMgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0U3RhdGVUcmFuc2l0aW9uID0gZmFsc2U7XG4gIGRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge307XG5cbiAgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAvLyBXZSBzaG93IHRoZSB3aG9sZSBzdGFjayBidXQgZGVkdXBlIG9uIHRoZSB0b3AgY29tcG9uZW50J3MgbmFtZSBiZWNhdXNlXG4gICAgLy8gdGhlIHByb2JsZW1hdGljIGNvZGUgYWxtb3N0IGFsd2F5cyBsaWVzIGluc2lkZSB0aGF0IGNvbXBvbmVudC5cbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdSZWFjdENsYXNzJztcbiAgICBpZiAoZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdhcm5pbmcoZmFsc2UsIFwiQ2FuJ3QgY2FsbCBzZXRTdGF0ZSAob3IgZm9yY2VVcGRhdGUpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuIFRoaXMgXCIgKyAnaXMgYSBuby1vcCwgYnV0IGl0IGluZGljYXRlcyBhIG1lbW9yeSBsZWFrIGluIHlvdXIgYXBwbGljYXRpb24uIFRvICcgKyAnZml4LCBjYW5jZWwgYWxsIHN1YnNjcmlwdGlvbnMgYW5kIGFzeW5jaHJvbm91cyB0YXNrcyBpbiB0aGUgJyArICdjb21wb25lbnRXaWxsVW5tb3VudCBtZXRob2QuJXMnLCBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKGZpYmVyKSk7XG4gICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgfTtcblxuICB3YXJuQWJvdXRJbnZhbGlkVXBkYXRlcyA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgIHN3aXRjaCAoUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5waGFzZSkge1xuICAgICAgY2FzZSAnZ2V0Q2hpbGRDb250ZXh0JzpcbiAgICAgICAgaWYgKGRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnc2V0U3RhdGUoLi4uKTogQ2Fubm90IGNhbGwgc2V0U3RhdGUoKSBpbnNpZGUgZ2V0Q2hpbGRDb250ZXh0KCknKTtcbiAgICAgICAgZGlkV2FyblNldFN0YXRlQ2hpbGRDb250ZXh0ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZW5kZXInOlxuICAgICAgICBpZiAoZGlkV2FybkFib3V0U3RhdGVUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdDYW5ub3QgdXBkYXRlIGR1cmluZyBhbiBleGlzdGluZyBzdGF0ZSB0cmFuc2l0aW9uIChzdWNoIGFzIHdpdGhpbiAnICsgXCJgcmVuZGVyYCBvciBhbm90aGVyIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yKS4gUmVuZGVyIG1ldGhvZHMgc2hvdWxkIFwiICsgJ2JlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7IGNvbnN0cnVjdG9yIHNpZGUtZWZmZWN0cyBhcmUgJyArICdhbiBhbnRpLXBhdHRlcm4sIGJ1dCBjYW4gYmUgbW92ZWQgdG8gYGNvbXBvbmVudFdpbGxNb3VudGAuJyk7XG4gICAgICAgIGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gUmVwcmVzZW50cyB0aGUgY3VycmVudCB0aW1lIGluIG1zLlxudmFyIG9yaWdpbmFsU3RhcnRUaW1lTXMgPSBub3coKTtcbnZhciBtb3N0UmVjZW50Q3VycmVudFRpbWUgPSBtc1RvRXhwaXJhdGlvblRpbWUoMCk7XG52YXIgbW9zdFJlY2VudEN1cnJlbnRUaW1lTXMgPSBvcmlnaW5hbFN0YXJ0VGltZU1zO1xuXG4vLyBVc2VkIHRvIGVuc3VyZSBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uIGlzIG1vbm90b25pY2FsbHkgaW5jcmVhc2VzLlxudmFyIGxhc3RVbmlxdWVBc3luY0V4cGlyYXRpb24gPSAwO1xuXG4vLyBSZXByZXNlbnRzIHRoZSBleHBpcmF0aW9uIHRpbWUgdGhhdCBpbmNvbWluZyB1cGRhdGVzIHNob3VsZCB1c2UuIChJZiB0aGlzXG4vLyBpcyBOb1dvcmssIHVzZSB0aGUgZGVmYXVsdCBzdHJhdGVneTogYXN5bmMgdXBkYXRlcyBpbiBhc3luYyBtb2RlLCBzeW5jXG4vLyB1cGRhdGVzIGluIHN5bmMgbW9kZS4pXG52YXIgZXhwaXJhdGlvbkNvbnRleHQgPSBOb1dvcms7XG5cbnZhciBpc1dvcmtpbmcgPSBmYWxzZTtcblxuLy8gVGhlIG5leHQgd29yayBpbiBwcm9ncmVzcyBmaWJlciB0aGF0IHdlJ3JlIGN1cnJlbnRseSB3b3JraW5nIG9uLlxudmFyIG5leHRVbml0T2ZXb3JrID0gbnVsbDtcbnZhciBuZXh0Um9vdCA9IG51bGw7XG4vLyBUaGUgdGltZSBhdCB3aGljaCB3ZSdyZSBjdXJyZW50bHkgcmVuZGVyaW5nIHdvcmsuXG52YXIgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xudmFyIG5leHRMYXRlc3RUaW1lb3V0TXMgPSAtMTtcbnZhciBuZXh0UmVuZGVySXNFeHBpcmVkID0gZmFsc2U7XG5cbi8vIFRoZSBuZXh0IGZpYmVyIHdpdGggYW4gZWZmZWN0IHRoYXQgd2UncmUgY3VycmVudGx5IGNvbW1pdHRpbmcuXG52YXIgbmV4dEVmZmVjdCA9IG51bGw7XG5cbnZhciBpc0NvbW1pdHRpbmckMSA9IGZhbHNlO1xuXG52YXIgaXNSb290UmVhZHlGb3JDb21taXQgPSBmYWxzZTtcblxudmFyIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbnVsbDtcblxuLy8gVXNlZCBmb3IgcGVyZm9ybWFuY2UgdHJhY2tpbmcuXG52YXIgaW50ZXJydXB0ZWRCeSA9IG51bGw7XG5cbnZhciBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzID0gdm9pZCAwO1xudmFyIHJlcGxheVVuaXRPZldvcmsgPSB2b2lkIDA7XG52YXIgaXNSZXBsYXlpbmdGYWlsZWRVbml0T2ZXb3JrID0gdm9pZCAwO1xudmFyIG9yaWdpbmFsUmVwbGF5RXJyb3IgPSB2b2lkIDA7XG52YXIgcmV0aHJvd09yaWdpbmFsRXJyb3IgPSB2b2lkIDA7XG5pZiAodHJ1ZSAmJiByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjaykge1xuICBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzID0gbnVsbDtcbiAgaXNSZXBsYXlpbmdGYWlsZWRVbml0T2ZXb3JrID0gZmFsc2U7XG4gIG9yaWdpbmFsUmVwbGF5RXJyb3IgPSBudWxsO1xuICByZXBsYXlVbml0T2ZXb3JrID0gZnVuY3Rpb24gKGZhaWxlZFVuaXRPZldvcmssIHRocm93blZhbHVlLCBpc0FzeW5jKSB7XG4gICAgaWYgKHRocm93blZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB0aHJvd25WYWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHRocm93blZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIERvbid0IHJlcGxheSBwcm9taXNlcy4gVHJlYXQgZXZlcnl0aGluZyBlbHNlIGxpa2UgYW4gZXJyb3IuXG4gICAgICAvLyBUT0RPOiBOZWVkIHRvIGZpZ3VyZSBvdXQgYSBkaWZmZXJlbnQgc3RyYXRlZ3kgaWYvd2hlbiB3ZSBhZGRcbiAgICAgIC8vIHN1cHBvcnQgZm9yIGNhdGNoaW5nIG90aGVyIHR5cGVzLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHN0YXRlIG9mIHRoZSB3b3JrLWluLXByb2dyZXNzXG4gICAgaWYgKHN0YXNoZWRXb3JrSW5Qcm9ncmVzc1Byb3BlcnRpZXMgPT09IG51bGwpIHtcbiAgICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbi4gRG9uJ3QgdGhyb3cgYmVjYXVzZSB0aGlzIGNvZGUgaXMgREVWLW9ubHkuXG4gICAgICB3YXJuaW5nKGZhbHNlLCAnQ291bGQgbm90IHJlcGxheSByZW5kZXJpbmcgYWZ0ZXIgYW4gZXJyb3IuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiAnICsgJ1BsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhc3NpZ25GaWJlclByb3BlcnRpZXNJbkRFVihmYWlsZWRVbml0T2ZXb3JrLCBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzKTtcblxuICAgIHN3aXRjaCAoZmFpbGVkVW5pdE9mV29yay50YWcpIHtcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHBvcEhvc3RDb250YWluZXIoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgIHBvcFRvcExldmVsQ29udGV4dE9iamVjdChmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHBvcEhvc3RDb250ZXh0KGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHBvcENvbnRleHRQcm92aWRlcihmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgIHBvcEhvc3RDb250YWluZXIoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIHBvcFByb3ZpZGVyKGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVwbGF5IHRoZSBiZWdpbiBwaGFzZS5cbiAgICBpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmsgPSB0cnVlO1xuICAgIG9yaWdpbmFsUmVwbGF5RXJyb3IgPSB0aHJvd25WYWx1ZTtcbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMihudWxsLCB3b3JrTG9vcCwgbnVsbCwgaXNBc3luYyk7XG4gICAgaXNSZXBsYXlpbmdGYWlsZWRVbml0T2ZXb3JrID0gZmFsc2U7XG4gICAgb3JpZ2luYWxSZXBsYXlFcnJvciA9IG51bGw7XG4gICAgaWYgKGhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgIGNsZWFyQ2F1Z2h0RXJyb3IoKTtcblxuICAgICAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICAgICAgaWYgKGZhaWxlZFVuaXRPZldvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSB7XG4gICAgICAgICAgcmVjb3JkRWxhcHNlZEFjdHVhbFJlbmRlclRpbWUoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9wIFwiYmFzZVwiIHJlbmRlciB0aW1lciBhZ2FpbiAoYWZ0ZXIgdGhlIHJlLXRocm93biBlcnJvcikuXG4gICAgICAgIHN0b3BCYXNlUmVuZGVyVGltZXJJZlJ1bm5pbmcoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIGJlZ2luIHBoYXNlIGRpZCBub3QgZmFpbCB0aGUgc2Vjb25kIHRpbWUsIHNldCB0aGlzIHBvaW50ZXJcbiAgICAgIC8vIGJhY2sgdG8gdGhlIG9yaWdpbmFsIHZhbHVlLlxuICAgICAgbmV4dFVuaXRPZldvcmsgPSBmYWlsZWRVbml0T2ZXb3JrO1xuICAgIH1cbiAgfTtcbiAgcmV0aHJvd09yaWdpbmFsRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhyb3cgb3JpZ2luYWxSZXBsYXlFcnJvcjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVzZXRTdGFjaygpIHtcbiAgaWYgKG5leHRVbml0T2ZXb3JrICE9PSBudWxsKSB7XG4gICAgdmFyIGludGVycnVwdGVkV29yayA9IG5leHRVbml0T2ZXb3JrLnJldHVybjtcbiAgICB3aGlsZSAoaW50ZXJydXB0ZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgIGludGVycnVwdGVkV29yayA9IGludGVycnVwdGVkV29yay5yZXR1cm47XG4gICAgfVxuICB9XG5cbiAge1xuICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmRpc2NhcmRQZW5kaW5nV2FybmluZ3MoKTtcbiAgICBjaGVja1RoYXRTdGFja0lzRW1wdHkoKTtcbiAgfVxuXG4gIG5leHRSb290ID0gbnVsbDtcbiAgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICBuZXh0TGF0ZXN0VGltZW91dE1zID0gLTE7XG4gIG5leHRSZW5kZXJJc0V4cGlyZWQgPSBmYWxzZTtcbiAgbmV4dFVuaXRPZldvcmsgPSBudWxsO1xuXG4gIGlzUm9vdFJlYWR5Rm9yQ29tbWl0ID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGNvbW1pdEFsbEhvc3RFZmZlY3RzKCkge1xuICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudEZpYmVyKG5leHRFZmZlY3QpO1xuICAgIH1cbiAgICByZWNvcmRFZmZlY3QoKTtcblxuICAgIHZhciBlZmZlY3RUYWcgPSBuZXh0RWZmZWN0LmVmZmVjdFRhZztcblxuICAgIGlmIChlZmZlY3RUYWcgJiBDb250ZW50UmVzZXQpIHtcbiAgICAgIGNvbW1pdFJlc2V0VGV4dENvbnRlbnQobmV4dEVmZmVjdCk7XG4gICAgfVxuXG4gICAgaWYgKGVmZmVjdFRhZyAmIFJlZikge1xuICAgICAgdmFyIGN1cnJlbnQgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGNvbW1pdERldGFjaFJlZihjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGUgZm9sbG93aW5nIHN3aXRjaCBzdGF0ZW1lbnQgaXMgb25seSBjb25jZXJuZWQgYWJvdXQgcGxhY2VtZW50LFxuICAgIC8vIHVwZGF0ZXMsIGFuZCBkZWxldGlvbnMuIFRvIGF2b2lkIG5lZWRpbmcgdG8gYWRkIGEgY2FzZSBmb3IgZXZlcnlcbiAgICAvLyBwb3NzaWJsZSBiaXRtYXAgdmFsdWUsIHdlIHJlbW92ZSB0aGUgc2Vjb25kYXJ5IGVmZmVjdHMgZnJvbSB0aGVcbiAgICAvLyBlZmZlY3QgdGFnIGFuZCBzd2l0Y2ggb24gdGhhdCB2YWx1ZS5cbiAgICB2YXIgcHJpbWFyeUVmZmVjdFRhZyA9IGVmZmVjdFRhZyAmIChQbGFjZW1lbnQgfCBVcGRhdGUgfCBEZWxldGlvbik7XG4gICAgc3dpdGNoIChwcmltYXJ5RWZmZWN0VGFnKSB7XG4gICAgICBjYXNlIFBsYWNlbWVudDpcbiAgICAgICAge1xuICAgICAgICAgIGNvbW1pdFBsYWNlbWVudChuZXh0RWZmZWN0KTtcbiAgICAgICAgICAvLyBDbGVhciB0aGUgXCJwbGFjZW1lbnRcIiBmcm9tIGVmZmVjdCB0YWcgc28gdGhhdCB3ZSBrbm93IHRoYXQgdGhpcyBpcyBpbnNlcnRlZCwgYmVmb3JlXG4gICAgICAgICAgLy8gYW55IGxpZmUtY3ljbGVzIGxpa2UgY29tcG9uZW50RGlkTW91bnQgZ2V0cyBjYWxsZWQuXG4gICAgICAgICAgLy8gVE9ETzogZmluZERPTU5vZGUgZG9lc24ndCByZWx5IG9uIHRoaXMgYW55IG1vcmUgYnV0IGlzTW91bnRlZFxuICAgICAgICAgIC8vIGRvZXMgYW5kIGlzTW91bnRlZCBpcyBkZXByZWNhdGVkIGFueXdheSBzbyB3ZSBzaG91bGQgYmUgYWJsZVxuICAgICAgICAgIC8vIHRvIGtpbGwgdGhpcy5cbiAgICAgICAgICBuZXh0RWZmZWN0LmVmZmVjdFRhZyAmPSB+UGxhY2VtZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIFBsYWNlbWVudEFuZFVwZGF0ZTpcbiAgICAgICAge1xuICAgICAgICAgIC8vIFBsYWNlbWVudFxuICAgICAgICAgIGNvbW1pdFBsYWNlbWVudChuZXh0RWZmZWN0KTtcbiAgICAgICAgICAvLyBDbGVhciB0aGUgXCJwbGFjZW1lbnRcIiBmcm9tIGVmZmVjdCB0YWcgc28gdGhhdCB3ZSBrbm93IHRoYXQgdGhpcyBpcyBpbnNlcnRlZCwgYmVmb3JlXG4gICAgICAgICAgLy8gYW55IGxpZmUtY3ljbGVzIGxpa2UgY29tcG9uZW50RGlkTW91bnQgZ2V0cyBjYWxsZWQuXG4gICAgICAgICAgbmV4dEVmZmVjdC5lZmZlY3RUYWcgJj0gflBsYWNlbWVudDtcblxuICAgICAgICAgIC8vIFVwZGF0ZVxuICAgICAgICAgIHZhciBfY3VycmVudCA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICAgIGNvbW1pdFdvcmsoX2N1cnJlbnQsIG5leHRFZmZlY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIFVwZGF0ZTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfY3VycmVudDIgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgICAgICBjb21taXRXb3JrKF9jdXJyZW50MiwgbmV4dEVmZmVjdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgRGVsZXRpb246XG4gICAgICAgIHtcbiAgICAgICAgICBjb21taXREZWxldGlvbihuZXh0RWZmZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICB9XG5cbiAge1xuICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIucmVzZXRDdXJyZW50RmliZXIoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVjeWNsZXMoKSB7XG4gIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgdmFyIGVmZmVjdFRhZyA9IG5leHRFZmZlY3QuZWZmZWN0VGFnO1xuXG4gICAgaWYgKGVmZmVjdFRhZyAmIFNuYXBzaG90KSB7XG4gICAgICByZWNvcmRFZmZlY3QoKTtcbiAgICAgIHZhciBjdXJyZW50ID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMoY3VycmVudCwgbmV4dEVmZmVjdCk7XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgY2xlYW51cCBlZmZlY3RzIHlldDtcbiAgICAvLyBUaGlzIHdpbGwgYmUgZG9uZSBieSBjb21taXRBbGxMaWZlQ3ljbGVzKClcbiAgICBuZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbW1pdEFsbExpZmVDeWNsZXMoZmluaXNoZWRSb290LCBjdXJyZW50VGltZSwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpIHtcbiAge1xuICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzKCk7XG5cbiAgICBpZiAod2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMpIHtcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ0RlcHJlY2F0aW9uV2FybmluZ3MoKTtcbiAgICB9XG5cbiAgICBpZiAod2FybkFib3V0TGVnYWN5Q29udGV4dEFQSSkge1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hMZWdhY3lDb250ZXh0V2FybmluZygpO1xuICAgIH1cbiAgfVxuICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgIHZhciBlZmZlY3RUYWcgPSBuZXh0RWZmZWN0LmVmZmVjdFRhZztcblxuICAgIGlmIChlZmZlY3RUYWcgJiAoVXBkYXRlIHwgQ2FsbGJhY2spKSB7XG4gICAgICByZWNvcmRFZmZlY3QoKTtcbiAgICAgIHZhciBjdXJyZW50ID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICBjb21taXRMaWZlQ3ljbGVzKGZpbmlzaGVkUm9vdCwgY3VycmVudCwgbmV4dEVmZmVjdCwgY3VycmVudFRpbWUsIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAoZWZmZWN0VGFnICYgUmVmKSB7XG4gICAgICByZWNvcmRFZmZlY3QoKTtcbiAgICAgIGNvbW1pdEF0dGFjaFJlZihuZXh0RWZmZWN0KTtcbiAgICB9XG5cbiAgICB2YXIgbmV4dCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICAvLyBFbnN1cmUgdGhhdCB3ZSBjbGVhbiB0aGVzZSB1cCBzbyB0aGF0IHdlIGRvbid0IGFjY2lkZW50YWxseSBrZWVwIHRoZW0uXG4gICAgLy8gSSdtIG5vdCBhY3R1YWxseSBzdXJlIHRoaXMgbWF0dGVycyBiZWNhdXNlIHdlIGNhbid0IHJlc2V0IGZpcnN0RWZmZWN0XG4gICAgLy8gYW5kIGxhc3RFZmZlY3Qgc2luY2UgdGhleSdyZSBvbiBldmVyeSBub2RlLCBub3QganVzdCB0aGUgZWZmZWN0ZnVsXG4gICAgLy8gb25lcy4gU28gd2UgaGF2ZSB0byBjbGVhbiBldmVyeXRoaW5nIGFzIHdlIHJldXNlIG5vZGVzIGFueXdheS5cbiAgICBuZXh0RWZmZWN0Lm5leHRFZmZlY3QgPSBudWxsO1xuICAgIC8vIEVuc3VyZSB0aGF0IHdlIHJlc2V0IHRoZSBlZmZlY3RUYWcgaGVyZSBzbyB0aGF0IHdlIGNhbiByZWx5IG9uIGVmZmVjdFxuICAgIC8vIHRhZ3MgdG8gcmVhc29uIGFib3V0IHRoZSBjdXJyZW50IGxpZmUtY3ljbGUuXG4gICAgbmV4dEVmZmVjdCA9IG5leHQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeShpbnN0YW5jZSkge1xuICByZXR1cm4gbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgIT09IG51bGwgJiYgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQuaGFzKGluc3RhbmNlKTtcbn1cblxuZnVuY3Rpb24gbWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZChpbnN0YW5jZSkge1xuICBpZiAobGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPT09IG51bGwpIHtcbiAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG5ldyBTZXQoW2luc3RhbmNlXSk7XG4gIH0gZWxzZSB7XG4gICAgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQuYWRkKGluc3RhbmNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21taXRSb290KGZpbmlzaGVkV29yaykge1xuICBpc1dvcmtpbmcgPSB0cnVlO1xuICBpc0NvbW1pdHRpbmckMSA9IHRydWU7XG4gIHN0YXJ0Q29tbWl0VGltZXIoKTtcblxuICB2YXIgcm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICEocm9vdC5jdXJyZW50ICE9PSBmaW5pc2hlZFdvcmspID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGNvbW1pdCB0aGUgc2FtZSB0cmVlIGFzIGJlZm9yZS4gVGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyByZWxhdGVkIHRvIHRoZSByZXR1cm4gZmllbGQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gIHZhciBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSA9IHJvb3QucGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lO1xuICAhKGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmspID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGNvbW1pdCBhbiBpbmNvbXBsZXRlIHJvb3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gIHJvb3QucGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcblxuICAvLyBSZXNldCB0aGlzIHRvIG51bGwgYmVmb3JlIGNhbGxpbmcgbGlmZWN5Y2xlc1xuICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcblxuICB2YXIgZmlyc3RFZmZlY3QgPSB2b2lkIDA7XG4gIGlmIChmaW5pc2hlZFdvcmsuZWZmZWN0VGFnID4gUGVyZm9ybWVkV29yaykge1xuICAgIC8vIEEgZmliZXIncyBlZmZlY3QgbGlzdCBjb25zaXN0cyBvbmx5IG9mIGl0cyBjaGlsZHJlbiwgbm90IGl0c2VsZi4gU28gaWZcbiAgICAvLyB0aGUgcm9vdCBoYXMgYW4gZWZmZWN0LCB3ZSBuZWVkIHRvIGFkZCBpdCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LiBUaGVcbiAgICAvLyByZXN1bHRpbmcgbGlzdCBpcyB0aGUgc2V0IHRoYXQgd291bGQgYmVsb25nIHRvIHRoZSByb290J3MgcGFyZW50LCBpZlxuICAgIC8vIGl0IGhhZCBvbmU7IHRoYXQgaXMsIGFsbCB0aGUgZWZmZWN0cyBpbiB0aGUgdHJlZSBpbmNsdWRpbmcgdGhlIHJvb3QuXG4gICAgaWYgKGZpbmlzaGVkV29yay5sYXN0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICBmaW5pc2hlZFdvcmsubGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gZmluaXNoZWRXb3JrO1xuICAgICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcmsuZmlyc3RFZmZlY3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpcnN0RWZmZWN0ID0gZmluaXNoZWRXb3JrO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBUaGVyZSBpcyBubyBlZmZlY3Qgb24gdGhlIHJvb3QuXG4gICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcmsuZmlyc3RFZmZlY3Q7XG4gIH1cblxuICBwcmVwYXJlRm9yQ29tbWl0KHJvb3QuY29udGFpbmVySW5mbyk7XG5cbiAgLy8gSW52b2tlIGluc3RhbmNlcyBvZiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSBiZWZvcmUgbXV0YXRpb24uXG4gIG5leHRFZmZlY3QgPSBmaXJzdEVmZmVjdDtcbiAgc3RhcnRDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lcigpO1xuICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgIHZhciBkaWRFcnJvciA9IGZhbHNlO1xuICAgIHZhciBlcnJvciA9IHZvaWQgMDtcbiAgICB7XG4gICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMihudWxsLCBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVjeWNsZXMsIG51bGwpO1xuICAgICAgaWYgKGhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgICAgZGlkRXJyb3IgPSB0cnVlO1xuICAgICAgICBlcnJvciA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAhKG5leHRFZmZlY3QgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnU2hvdWxkIGhhdmUgbmV4dCBlZmZlY3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihuZXh0RWZmZWN0LCBlcnJvcik7XG4gICAgICAvLyBDbGVhbi11cFxuICAgICAgaWYgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3RvcENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyKCk7XG5cbiAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICAvLyBNYXJrIHRoZSBjdXJyZW50IGNvbW1pdCB0aW1lIHRvIGJlIHNoYXJlZCBieSBhbGwgUHJvZmlsZXJzIGluIHRoaXMgYmF0Y2guXG4gICAgLy8gVGhpcyBlbmFibGVzIHRoZW0gdG8gYmUgZ3JvdXBlZCBsYXRlci5cbiAgICByZWNvcmRDb21taXRUaW1lKCk7XG4gIH1cblxuICAvLyBDb21taXQgYWxsIHRoZSBzaWRlLWVmZmVjdHMgd2l0aGluIGEgdHJlZS4gV2UnbGwgZG8gdGhpcyBpbiB0d28gcGFzc2VzLlxuICAvLyBUaGUgZmlyc3QgcGFzcyBwZXJmb3JtcyBhbGwgdGhlIGhvc3QgaW5zZXJ0aW9ucywgdXBkYXRlcywgZGVsZXRpb25zIGFuZFxuICAvLyByZWYgdW5tb3VudHMuXG4gIG5leHRFZmZlY3QgPSBmaXJzdEVmZmVjdDtcbiAgc3RhcnRDb21taXRIb3N0RWZmZWN0c1RpbWVyKCk7XG4gIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgdmFyIF9kaWRFcnJvciA9IGZhbHNlO1xuICAgIHZhciBfZXJyb3IgPSB2b2lkIDA7XG4gICAge1xuICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDIobnVsbCwgY29tbWl0QWxsSG9zdEVmZmVjdHMsIG51bGwpO1xuICAgICAgaWYgKGhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgICAgX2RpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgX2Vycm9yID0gY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoX2RpZEVycm9yKSB7XG4gICAgICAhKG5leHRFZmZlY3QgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnU2hvdWxkIGhhdmUgbmV4dCBlZmZlY3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihuZXh0RWZmZWN0LCBfZXJyb3IpO1xuICAgICAgLy8gQ2xlYW4tdXBcbiAgICAgIGlmIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN0b3BDb21taXRIb3N0RWZmZWN0c1RpbWVyKCk7XG5cbiAgcmVzZXRBZnRlckNvbW1pdChyb290LmNvbnRhaW5lckluZm8pO1xuXG4gIC8vIFRoZSB3b3JrLWluLXByb2dyZXNzIHRyZWUgaXMgbm93IHRoZSBjdXJyZW50IHRyZWUuIFRoaXMgbXVzdCBjb21lIGFmdGVyXG4gIC8vIHRoZSBmaXJzdCBwYXNzIG9mIHRoZSBjb21taXQgcGhhc2UsIHNvIHRoYXQgdGhlIHByZXZpb3VzIHRyZWUgaXMgc3RpbGxcbiAgLy8gY3VycmVudCBkdXJpbmcgY29tcG9uZW50V2lsbFVubW91bnQsIGJ1dCBiZWZvcmUgdGhlIHNlY29uZCBwYXNzLCBzbyB0aGF0XG4gIC8vIHRoZSBmaW5pc2hlZCB3b3JrIGlzIGN1cnJlbnQgZHVyaW5nIGNvbXBvbmVudERpZE1vdW50L1VwZGF0ZS5cbiAgcm9vdC5jdXJyZW50ID0gZmluaXNoZWRXb3JrO1xuXG4gIC8vIEluIHRoZSBzZWNvbmQgcGFzcyB3ZSdsbCBwZXJmb3JtIGFsbCBsaWZlLWN5Y2xlcyBhbmQgcmVmIGNhbGxiYWNrcy5cbiAgLy8gTGlmZS1jeWNsZXMgaGFwcGVuIGFzIGEgc2VwYXJhdGUgcGFzcyBzbyB0aGF0IGFsbCBwbGFjZW1lbnRzLCB1cGRhdGVzLFxuICAvLyBhbmQgZGVsZXRpb25zIGluIHRoZSBlbnRpcmUgdHJlZSBoYXZlIGFscmVhZHkgYmVlbiBpbnZva2VkLlxuICAvLyBUaGlzIHBhc3MgYWxzbyB0cmlnZ2VycyBhbnkgcmVuZGVyZXItc3BlY2lmaWMgaW5pdGlhbCBlZmZlY3RzLlxuICBuZXh0RWZmZWN0ID0gZmlyc3RFZmZlY3Q7XG4gIHN0YXJ0Q29tbWl0TGlmZUN5Y2xlc1RpbWVyKCk7XG4gIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgdmFyIF9kaWRFcnJvcjIgPSBmYWxzZTtcbiAgICB2YXIgX2Vycm9yMiA9IHZvaWQgMDtcbiAgICB7XG4gICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMihudWxsLCBjb21taXRBbGxMaWZlQ3ljbGVzLCBudWxsLCByb290LCBjdXJyZW50VGltZSwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpO1xuICAgICAgaWYgKGhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgICAgX2RpZEVycm9yMiA9IHRydWU7XG4gICAgICAgIF9lcnJvcjIgPSBjbGVhckNhdWdodEVycm9yKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChfZGlkRXJyb3IyKSB7XG4gICAgICAhKG5leHRFZmZlY3QgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnU2hvdWxkIGhhdmUgbmV4dCBlZmZlY3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihuZXh0RWZmZWN0LCBfZXJyb3IyKTtcbiAgICAgIGlmIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICB7XG4gICAgICBjaGVja0FjdHVhbFJlbmRlclRpbWVTdGFja0VtcHR5KCk7XG4gICAgfVxuICAgIHJlc2V0QWN0dWFsUmVuZGVyVGltZXIoKTtcbiAgfVxuXG4gIGlzQ29tbWl0dGluZyQxID0gZmFsc2U7XG4gIGlzV29ya2luZyA9IGZhbHNlO1xuICBzdG9wQ29tbWl0TGlmZUN5Y2xlc1RpbWVyKCk7XG4gIHN0b3BDb21taXRUaW1lcigpO1xuICBpZiAodHlwZW9mIG9uQ29tbWl0Um9vdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9uQ29tbWl0Um9vdChmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKTtcbiAgfVxuICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbkNvbW1pdFdvcmsoZmluaXNoZWRXb3JrKTtcbiAgfVxuXG4gIG1hcmtDb21taXR0ZWRQcmlvcml0eUxldmVscyhyb290LCBjdXJyZW50VGltZSwgcm9vdC5jdXJyZW50LmV4cGlyYXRpb25UaW1lKTtcbiAgdmFyIHJlbWFpbmluZ1RpbWUgPSBmaW5kTmV4dFBlbmRpbmdQcmlvcml0eUxldmVsKHJvb3QpO1xuICBpZiAocmVtYWluaW5nVGltZSA9PT0gTm9Xb3JrKSB7XG4gICAgLy8gSWYgdGhlcmUncyBubyByZW1haW5pbmcgd29yaywgd2UgY2FuIGNsZWFyIHRoZSBzZXQgb2YgYWxyZWFkeSBmYWlsZWRcbiAgICAvLyBlcnJvciBib3VuZGFyaWVzLlxuICAgIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbnVsbDtcbiAgfVxuICByZXR1cm4gcmVtYWluaW5nVGltZTtcbn1cblxuZnVuY3Rpb24gcmVzZXRFeHBpcmF0aW9uVGltZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyVGltZSkge1xuICBpZiAocmVuZGVyVGltZSAhPT0gTmV2ZXIgJiYgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPT09IE5ldmVyKSB7XG4gICAgLy8gVGhlIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9uZW50IGFyZSBoaWRkZW4uIERvbid0IGJ1YmJsZSB0aGVpclxuICAgIC8vIGV4cGlyYXRpb24gdGltZXMuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIHBlbmRpbmcgdXBkYXRlcy5cbiAgdmFyIG5ld0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIG5ld0V4cGlyYXRpb25UaW1lID0gdXBkYXRlUXVldWUuZXhwaXJhdGlvblRpbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IENhbGxzIG5lZWQgdG8gdmlzaXQgc3RhdGVOb2RlXG5cbiAgLy8gQnViYmxlIHVwIHRoZSBlYXJsaWVzdCBleHBpcmF0aW9uIHRpbWUuXG4gIC8vIChBbmQgXCJiYXNlXCIgcmVuZGVyIHRpbWVycyBpZiB0aGF0IGZlYXR1cmUgZmxhZyBpcyBlbmFibGVkKVxuICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lciAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpIHtcbiAgICB2YXIgdHJlZUJhc2VUaW1lID0gd29ya0luUHJvZ3Jlc3Muc2VsZkJhc2VUaW1lO1xuICAgIHZhciBjaGlsZCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgdHJlZUJhc2VUaW1lICs9IGNoaWxkLnRyZWVCYXNlVGltZTtcbiAgICAgIGlmIChjaGlsZC5leHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmIChuZXdFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IG5ld0V4cGlyYXRpb25UaW1lID4gY2hpbGQuZXhwaXJhdGlvblRpbWUpKSB7XG4gICAgICAgIG5ld0V4cGlyYXRpb25UaW1lID0gY2hpbGQuZXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gICAgfVxuICAgIHdvcmtJblByb2dyZXNzLnRyZWVCYXNlVGltZSA9IHRyZWVCYXNlVGltZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgX2NoaWxkID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgd2hpbGUgKF9jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgaWYgKF9jaGlsZC5leHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmIChuZXdFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IG5ld0V4cGlyYXRpb25UaW1lID4gX2NoaWxkLmV4cGlyYXRpb25UaW1lKSkge1xuICAgICAgICBuZXdFeHBpcmF0aW9uVGltZSA9IF9jaGlsZC5leHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICAgIF9jaGlsZCA9IF9jaGlsZC5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gbmV3RXhwaXJhdGlvblRpbWU7XG59XG5cbmZ1bmN0aW9uIGNvbXBsZXRlVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcykge1xuICAvLyBBdHRlbXB0IHRvIGNvbXBsZXRlIHRoZSBjdXJyZW50IHVuaXQgb2Ygd29yaywgdGhlbiBtb3ZlIHRvIHRoZVxuICAvLyBuZXh0IHNpYmxpbmcuIElmIHRoZXJlIGFyZSBubyBtb3JlIHNpYmxpbmdzLCByZXR1cm4gdG8gdGhlXG4gIC8vIHBhcmVudCBmaWJlci5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICAvLyBUaGUgY3VycmVudCwgZmx1c2hlZCwgc3RhdGUgb2YgdGhpcyBmaWJlciBpcyB0aGUgYWx0ZXJuYXRlLlxuICAgIC8vIElkZWFsbHkgbm90aGluZyBzaG91bGQgcmVseSBvbiB0aGlzLCBidXQgcmVseWluZyBvbiBpdCBoZXJlXG4gICAgLy8gbWVhbnMgdGhhdCB3ZSBkb24ndCBuZWVkIGFuIGFkZGl0aW9uYWwgZmllbGQgb24gdGhlIHdvcmsgaW5cbiAgICAvLyBwcm9ncmVzcy5cbiAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRGaWJlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgIHZhciBzaWJsaW5nRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nO1xuXG4gICAgaWYgKCh3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJiBJbmNvbXBsZXRlKSA9PT0gTm9FZmZlY3QpIHtcbiAgICAgIC8vIFRoaXMgZmliZXIgY29tcGxldGVkLlxuICAgICAgdmFyIG5leHQgPSBjb21wbGV0ZVdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHJlc2V0RXhwaXJhdGlvblRpbWUod29ya0luUHJvZ3Jlc3MsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB7XG4gICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIucmVzZXRDdXJyZW50RmliZXIoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5leHQgIT09IG51bGwpIHtcbiAgICAgICAgc3RvcFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGlmICh0cnVlICYmIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wpIHtcbiAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQ29tcGxldGVXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBjb21wbGV0aW5nIHRoaXMgd29yayBzcGF3bmVkIG5ldyB3b3JrLCBkbyB0aGF0IG5leHQuIFdlJ2xsIGNvbWVcbiAgICAgICAgLy8gYmFjayBoZXJlIGFnYWluLlxuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgIH1cblxuICAgICAgaWYgKHJldHVybkZpYmVyICE9PSBudWxsICYmXG4gICAgICAvLyBEbyBub3QgYXBwZW5kIGVmZmVjdHMgdG8gcGFyZW50cyBpZiBhIHNpYmxpbmcgZmFpbGVkIHRvIGNvbXBsZXRlXG4gICAgICAocmV0dXJuRmliZXIuZWZmZWN0VGFnICYgSW5jb21wbGV0ZSkgPT09IE5vRWZmZWN0KSB7XG4gICAgICAgIC8vIEFwcGVuZCBhbGwgdGhlIGVmZmVjdHMgb2YgdGhlIHN1YnRyZWUgYW5kIHRoaXMgZmliZXIgb250byB0aGUgZWZmZWN0XG4gICAgICAgIC8vIGxpc3Qgb2YgdGhlIHBhcmVudC4gVGhlIGNvbXBsZXRpb24gb3JkZXIgb2YgdGhlIGNoaWxkcmVuIGFmZmVjdHMgdGhlXG4gICAgICAgIC8vIHNpZGUtZWZmZWN0IG9yZGVyLlxuICAgICAgICBpZiAocmV0dXJuRmliZXIuZmlyc3RFZmZlY3QgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5sYXN0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoaXMgZmliZXIgaGFkIHNpZGUtZWZmZWN0cywgd2UgYXBwZW5kIGl0IEFGVEVSIHRoZSBjaGlsZHJlbidzXG4gICAgICAgIC8vIHNpZGUtZWZmZWN0cy4gV2UgY2FuIHBlcmZvcm0gY2VydGFpbiBzaWRlLWVmZmVjdHMgZWFybGllciBpZlxuICAgICAgICAvLyBuZWVkZWQsIGJ5IGRvaW5nIG11bHRpcGxlIHBhc3NlcyBvdmVyIHRoZSBlZmZlY3QgbGlzdC4gV2UgZG9uJ3Qgd2FudFxuICAgICAgICAvLyB0byBzY2hlZHVsZSBvdXIgb3duIHNpZGUtZWZmZWN0IG9uIG91ciBvd24gbGlzdCBiZWNhdXNlIGlmIGVuZCB1cFxuICAgICAgICAvLyByZXVzaW5nIGNoaWxkcmVuIHdlJ2xsIHNjaGVkdWxlIHRoaXMgZWZmZWN0IG9udG8gaXRzZWxmIHNpbmNlIHdlJ3JlXG4gICAgICAgIC8vIGF0IHRoZSBlbmQuXG4gICAgICAgIHZhciBlZmZlY3RUYWcgPSB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWc7XG4gICAgICAgIC8vIFNraXAgYm90aCBOb1dvcmsgYW5kIFBlcmZvcm1lZFdvcmsgdGFncyB3aGVuIGNyZWF0aW5nIHRoZSBlZmZlY3QgbGlzdC5cbiAgICAgICAgLy8gUGVyZm9ybWVkV29yayBlZmZlY3QgaXMgcmVhZCBieSBSZWFjdCBEZXZUb29scyBidXQgc2hvdWxkbid0IGJlIGNvbW1pdHRlZC5cbiAgICAgICAgaWYgKGVmZmVjdFRhZyA+IFBlcmZvcm1lZFdvcmspIHtcbiAgICAgICAgICBpZiAocmV0dXJuRmliZXIubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2libGluZ0ZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG1vcmUgd29yayB0byBkbyBpbiB0aGlzIHJldHVybkZpYmVyLCBkbyB0aGF0IG5leHQuXG4gICAgICAgIHJldHVybiBzaWJsaW5nRmliZXI7XG4gICAgICB9IGVsc2UgaWYgKHJldHVybkZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGluIHRoaXMgcmV0dXJuRmliZXIuIENvbXBsZXRlIHRoZSByZXR1cm5GaWJlci5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSByZXR1cm5GaWJlcjtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSd2ZSByZWFjaGVkIHRoZSByb290LlxuICAgICAgICBpc1Jvb3RSZWFkeUZvckNvbW1pdCA9IHRydWU7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIGZpYmVyIGRpZCBub3QgY29tcGxldGUgYmVjYXVzZSBzb21ldGhpbmcgdGhyZXcuIFBvcCB2YWx1ZXMgb2ZmXG4gICAgICAvLyB0aGUgc3RhY2sgd2l0aG91dCBlbnRlcmluZyB0aGUgY29tcGxldGUgcGhhc2UuIElmIHRoaXMgaXMgYSBib3VuZGFyeSxcbiAgICAgIC8vIGNhcHR1cmUgdmFsdWVzIGlmIHBvc3NpYmxlLlxuICAgICAgdmFyIF9uZXh0ID0gdW53aW5kV29yayh3b3JrSW5Qcm9ncmVzcywgbmV4dFJlbmRlcklzRXhwaXJlZCwgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIC8vIEJlY2F1c2UgdGhpcyBmaWJlciBkaWQgbm90IGNvbXBsZXRlLCBkb24ndCByZXNldCBpdHMgZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIERpZENhcHR1cmUpIHtcbiAgICAgICAgLy8gUmVzdGFydGluZyBhbiBlcnJvciBib3VuZGFyeVxuICAgICAgICBzdG9wRmFpbGVkV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3BXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuXG4gICAgICB7XG4gICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIucmVzZXRDdXJyZW50RmliZXIoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9uZXh0ICE9PSBudWxsKSB7XG4gICAgICAgIHN0b3BXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbkNvbXBsZXRlV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgY29tcGxldGluZyB0aGlzIHdvcmsgc3Bhd25lZCBuZXcgd29yaywgZG8gdGhhdCBuZXh0LiBXZSdsbCBjb21lXG4gICAgICAgIC8vIGJhY2sgaGVyZSBhZ2Fpbi5cbiAgICAgICAgLy8gU2luY2Ugd2UncmUgcmVzdGFydGluZywgcmVtb3ZlIGFueXRoaW5nIHRoYXQgaXMgbm90IGEgaG9zdCBlZmZlY3RcbiAgICAgICAgLy8gZnJvbSB0aGUgZWZmZWN0IHRhZy5cbiAgICAgICAgX25leHQuZWZmZWN0VGFnICY9IEhvc3RFZmZlY3RNYXNrO1xuICAgICAgICByZXR1cm4gX25leHQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAvLyBNYXJrIHRoZSBwYXJlbnQgZmliZXIgYXMgaW5jb21wbGV0ZSBhbmQgY2xlYXIgaXRzIGVmZmVjdCBsaXN0LlxuICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSBudWxsO1xuICAgICAgICByZXR1cm5GaWJlci5lZmZlY3RUYWcgfD0gSW5jb21wbGV0ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQ29tcGxldGVXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNpYmxpbmdGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBtb3JlIHdvcmsgdG8gZG8gaW4gdGhpcyByZXR1cm5GaWJlciwgZG8gdGhhdCBuZXh0LlxuICAgICAgICByZXR1cm4gc2libGluZ0ZpYmVyO1xuICAgICAgfSBlbHNlIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIG1vcmUgd29yayBpbiB0aGlzIHJldHVybkZpYmVyLiBDb21wbGV0ZSB0aGUgcmV0dXJuRmliZXIuXG4gICAgICAgIHdvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXI7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gV2l0aG91dCB0aGlzIGV4cGxpY2l0IG51bGwgcmV0dXJuIEZsb3cgY29tcGxhaW5zIG9mIGludmFsaWQgcmV0dXJuIHR5cGVcbiAgLy8gVE9ETyBSZW1vdmUgdGhlIGFib3ZlIHdoaWxlKHRydWUpIGxvb3BcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVucmVhY2hhYmxlXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwZXJmb3JtVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcykge1xuICAvLyBUaGUgY3VycmVudCwgZmx1c2hlZCwgc3RhdGUgb2YgdGhpcyBmaWJlciBpcyB0aGUgYWx0ZXJuYXRlLlxuICAvLyBJZGVhbGx5IG5vdGhpbmcgc2hvdWxkIHJlbHkgb24gdGhpcywgYnV0IHJlbHlpbmcgb24gaXQgaGVyZVxuICAvLyBtZWFucyB0aGF0IHdlIGRvbid0IG5lZWQgYW4gYWRkaXRpb25hbCBmaWVsZCBvbiB0aGUgd29yayBpblxuICAvLyBwcm9ncmVzcy5cbiAgdmFyIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGU7XG5cbiAgLy8gU2VlIGlmIGJlZ2lubmluZyB0aGlzIHdvcmsgc3Bhd25zIG1vcmUgd29yay5cbiAgc3RhcnRXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICB7XG4gICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50RmliZXIod29ya0luUHJvZ3Jlc3MpO1xuICB9XG5cbiAgaWYgKHRydWUgJiYgcmVwbGF5RmFpbGVkVW5pdE9mV29ya1dpdGhJbnZva2VHdWFyZGVkQ2FsbGJhY2spIHtcbiAgICBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzID0gYXNzaWduRmliZXJQcm9wZXJ0aWVzSW5ERVYoc3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcywgd29ya0luUHJvZ3Jlc3MpO1xuICB9XG5cbiAgdmFyIG5leHQgPSB2b2lkIDA7XG4gIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkge1xuICAgICAgc3RhcnRCYXNlUmVuZGVyVGltZXIoKTtcbiAgICB9XG5cbiAgICBuZXh0ID0gYmVnaW5Xb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkge1xuICAgICAgLy8gVXBkYXRlIFwiYmFzZVwiIHRpbWUgaWYgdGhlIHJlbmRlciB3YXNuJ3QgYmFpbGVkIG91dCBvbi5cbiAgICAgIHJlY29yZEVsYXBzZWRCYXNlUmVuZGVyVGltZUlmUnVubmluZyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBzdG9wQmFzZVJlbmRlclRpbWVySWZSdW5uaW5nKCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5leHQgPSBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH1cblxuICB7XG4gICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5yZXNldEN1cnJlbnRGaWJlcigpO1xuICAgIGlmIChpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmspIHtcbiAgICAgIC8vIEN1cnJlbnRseSByZXBsYXlpbmcgYSBmYWlsZWQgdW5pdCBvZiB3b3JrLiBUaGlzIHNob3VsZCBiZSB1bnJlYWNoYWJsZSxcbiAgICAgIC8vIGJlY2F1c2UgdGhlIHJlbmRlciBwaGFzZSBpcyBtZWFudCB0byBiZSBpZGVtcG90ZW50LCBhbmQgaXQgc2hvdWxkXG4gICAgICAvLyBoYXZlIHRocm93biBhZ2Fpbi4gU2luY2UgaXQgZGlkbid0LCByZXRocm93IHRoZSBvcmlnaW5hbCBlcnJvciwgc29cbiAgICAgIC8vIFJlYWN0J3MgaW50ZXJuYWwgc3RhY2sgaXMgbm90IG1pc2FsaWduZWQuXG4gICAgICByZXRocm93T3JpZ2luYWxFcnJvcigpO1xuICAgIH1cbiAgfVxuICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbkJlZ2luV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gIH1cblxuICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgIC8vIElmIHRoaXMgZG9lc24ndCBzcGF3biBuZXcgd29yaywgY29tcGxldGUgdGhlIGN1cnJlbnQgd29yay5cbiAgICBuZXh0ID0gY29tcGxldGVVbml0T2ZXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgfVxuXG4gIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuXG4gIHJldHVybiBuZXh0O1xufVxuXG5mdW5jdGlvbiB3b3JrTG9vcChpc0FzeW5jKSB7XG4gIGlmICghaXNBc3luYykge1xuICAgIC8vIEZsdXNoIGFsbCBleHBpcmVkIHdvcmsuXG4gICAgd2hpbGUgKG5leHRVbml0T2ZXb3JrICE9PSBudWxsKSB7XG4gICAgICBuZXh0VW5pdE9mV29yayA9IHBlcmZvcm1Vbml0T2ZXb3JrKG5leHRVbml0T2ZXb3JrKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRmx1c2ggYXN5bmNocm9ub3VzIHdvcmsgdW50aWwgdGhlIGRlYWRsaW5lIHJ1bnMgb3V0IG9mIHRpbWUuXG4gICAgd2hpbGUgKG5leHRVbml0T2ZXb3JrICE9PSBudWxsICYmICFzaG91bGRZaWVsZCgpKSB7XG4gICAgICBuZXh0VW5pdE9mV29yayA9IHBlcmZvcm1Vbml0T2ZXb3JrKG5leHRVbml0T2ZXb3JrKTtcbiAgICB9XG5cbiAgICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmlzaCwgcGF1c2UgdGhlIFwiYWN0dWFsXCIgcmVuZGVyIHRpbWVyLlxuICAgICAgLy8gV2UnbGwgcmVzdGFydCBpdCB3aGVuIHdlIHJlc3VtZSB3b3JrLlxuICAgICAgcGF1c2VBY3R1YWxSZW5kZXJUaW1lcklmUnVubmluZygpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJSb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBpc0FzeW5jKSB7XG4gICEhaXNXb3JraW5nID8gaW52YXJpYW50KGZhbHNlLCAncmVuZGVyUm9vdCB3YXMgY2FsbGVkIHJlY3Vyc2l2ZWx5LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICBpc1dvcmtpbmcgPSB0cnVlO1xuXG4gIC8vIENoZWNrIGlmIHdlJ3JlIHN0YXJ0aW5nIGZyb20gYSBmcmVzaCBzdGFjaywgb3IgaWYgd2UncmUgcmVzdW1pbmcgZnJvbVxuICAvLyBwcmV2aW91c2x5IHlpZWxkZWQgd29yay5cbiAgaWYgKGV4cGlyYXRpb25UaW1lICE9PSBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUgfHwgcm9vdCAhPT0gbmV4dFJvb3QgfHwgbmV4dFVuaXRPZldvcmsgPT09IG51bGwpIHtcbiAgICAvLyBSZXNldCB0aGUgc3RhY2sgYW5kIHN0YXJ0IHdvcmtpbmcgZnJvbSB0aGUgcm9vdC5cbiAgICByZXNldFN0YWNrKCk7XG4gICAgbmV4dFJvb3QgPSByb290O1xuICAgIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgIG5leHRMYXRlc3RUaW1lb3V0TXMgPSAtMTtcbiAgICBuZXh0VW5pdE9mV29yayA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKG5leHRSb290LmN1cnJlbnQsIG51bGwsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIH1cblxuICB2YXIgZGlkRmF0YWwgPSBmYWxzZTtcblxuICBuZXh0UmVuZGVySXNFeHBpcmVkID0gIWlzQXN5bmMgfHwgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lIDw9IG1vc3RSZWNlbnRDdXJyZW50VGltZTtcblxuICBzdGFydFdvcmtMb29wVGltZXIobmV4dFVuaXRPZldvcmspO1xuXG4gIGRvIHtcbiAgICB0cnkge1xuICAgICAgd29ya0xvb3AoaXNBc3luYyk7XG4gICAgfSBjYXRjaCAodGhyb3duVmFsdWUpIHtcbiAgICAgIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgICAgIC8vIFN0b3AgXCJiYXNlXCIgcmVuZGVyIHRpbWVyIGluIHRoZSBldmVudCBvZiBhbiBlcnJvci5cbiAgICAgICAgc3RvcEJhc2VSZW5kZXJUaW1lcklmUnVubmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmV4dFVuaXRPZldvcmsgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGZhdGFsIGVycm9yLlxuICAgICAgICBkaWRGYXRhbCA9IHRydWU7XG4gICAgICAgIG9uVW5jYXVnaHRFcnJvcih0aHJvd25WYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAgLy8gUmVzZXQgZ2xvYmFsIGRlYnVnIHN0YXRlXG4gICAgICAgICAgLy8gV2UgYXNzdW1lIHRoaXMgaXMgZGVmaW5lZCBpbiBERVZcbiAgICAgICAgICByZXNldEN1cnJlbnRseVByb2Nlc3NpbmdRdWV1ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZhaWxlZFVuaXRPZldvcmsgPSBuZXh0VW5pdE9mV29yaztcbiAgICAgICAgaWYgKHRydWUgJiYgcmVwbGF5RmFpbGVkVW5pdE9mV29ya1dpdGhJbnZva2VHdWFyZGVkQ2FsbGJhY2spIHtcbiAgICAgICAgICByZXBsYXlVbml0T2ZXb3JrKGZhaWxlZFVuaXRPZldvcmssIHRocm93blZhbHVlLCBpc0FzeW5jKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IHdlIGFscmVhZHkga25vdyB0aGlzIGlzbid0IHRydWUgaW4gc29tZSBjYXNlcy5cbiAgICAgICAgLy8gQXQgbGVhc3QgdGhpcyBzaG93cyBhIG5pY2VyIGVycm9yIG1lc3NhZ2UgdW50aWwgd2UgZmlndXJlIG91dCB0aGUgY2F1c2UuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTI0NDkjaXNzdWVjb21tZW50LTM4NjcyNzQzMVxuICAgICAgICAhKG5leHRVbml0T2ZXb3JrICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ0ZhaWxlZCB0byByZXBsYXkgcmVuZGVyaW5nIGFmdGVyIGFuIGVycm9yLiBUaGlzIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIHdpdGggYSByZXByb2R1Y2luZyBjYXNlIHRvIGhlbHAgdXMgZmluZCBpdC4nKSA6IHZvaWQgMDtcblxuICAgICAgICB2YXIgc291cmNlRmliZXIgPSBuZXh0VW5pdE9mV29yaztcbiAgICAgICAgdmFyIHJldHVybkZpYmVyID0gc291cmNlRmliZXIucmV0dXJuO1xuICAgICAgICBpZiAocmV0dXJuRmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIHRoZSByb290LiBUaGUgcm9vdCBjb3VsZCBjYXB0dXJlIGl0cyBvd24gZXJyb3JzLiBIb3dldmVyLFxuICAgICAgICAgIC8vIHdlIGRvbid0IGtub3cgaWYgaXQgZXJyb3JzIGJlZm9yZSBvciBhZnRlciB3ZSBwdXNoZWQgdGhlIGhvc3RcbiAgICAgICAgICAvLyBjb250ZXh0LiBUaGlzIGluZm9ybWF0aW9uIGlzIG5lZWRlZCB0byBhdm9pZCBhIHN0YWNrIG1pc21hdGNoLlxuICAgICAgICAgIC8vIEJlY2F1c2Ugd2UncmUgbm90IHN1cmUsIHRyZWF0IHRoaXMgYXMgYSBmYXRhbCBlcnJvci4gV2UgY291bGQgdHJhY2tcbiAgICAgICAgICAvLyB3aGljaCBwaGFzZSBpdCBmYWlscyBpbiwgYnV0IGRvZXNuJ3Qgc2VlbSB3b3J0aCBpdC4gQXQgbGVhc3RcbiAgICAgICAgICAvLyBmb3Igbm93LlxuICAgICAgICAgIGRpZEZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICBvblVuY2F1Z2h0RXJyb3IodGhyb3duVmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRocm93RXhjZXB0aW9uKHJvb3QsIHJldHVybkZpYmVyLCBzb3VyY2VGaWJlciwgdGhyb3duVmFsdWUsIG5leHRSZW5kZXJJc0V4cGlyZWQsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSwgbW9zdFJlY2VudEN1cnJlbnRUaW1lTXMpO1xuICAgICAgICBuZXh0VW5pdE9mV29yayA9IGNvbXBsZXRlVW5pdE9mV29yayhzb3VyY2VGaWJlcik7XG4gICAgICB9XG4gICAgfVxuICAgIGJyZWFrO1xuICB9IHdoaWxlICh0cnVlKTtcblxuICAvLyBXZSdyZSBkb25lIHBlcmZvcm1pbmcgd29yay4gVGltZSB0byBjbGVhbiB1cC5cbiAgdmFyIGRpZENvbXBsZXRlUm9vdCA9IGZhbHNlO1xuICBpc1dvcmtpbmcgPSBmYWxzZTtcblxuICAvLyBZaWVsZCBiYWNrIHRvIG1haW4gdGhyZWFkLlxuICBpZiAoZGlkRmF0YWwpIHtcbiAgICBzdG9wV29ya0xvb3BUaW1lcihpbnRlcnJ1cHRlZEJ5LCBkaWRDb21wbGV0ZVJvb3QpO1xuICAgIGludGVycnVwdGVkQnkgPSBudWxsO1xuICAgIC8vIFRoZXJlIHdhcyBhIGZhdGFsIGVycm9yLlxuICAgIHtcbiAgICAgIHJlc2V0U3RhY2tBZnRlckZhdGFsRXJyb3JJbkRldigpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIGlmIChuZXh0VW5pdE9mV29yayA9PT0gbnVsbCkge1xuICAgIC8vIFdlIHJlYWNoZWQgdGhlIHJvb3QuXG4gICAgaWYgKGlzUm9vdFJlYWR5Rm9yQ29tbWl0KSB7XG4gICAgICBkaWRDb21wbGV0ZVJvb3QgPSB0cnVlO1xuICAgICAgc3RvcFdvcmtMb29wVGltZXIoaW50ZXJydXB0ZWRCeSwgZGlkQ29tcGxldGVSb290KTtcbiAgICAgIGludGVycnVwdGVkQnkgPSBudWxsO1xuICAgICAgLy8gVGhlIHJvb3Qgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZC4gSXQncyByZWFkeSBmb3IgY29tbWl0LlxuICAgICAgcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgIHZhciBmaW5pc2hlZFdvcmsgPSByb290LmN1cnJlbnQuYWx0ZXJuYXRlO1xuICAgICAgcmV0dXJuIGZpbmlzaGVkV29yaztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIHJvb3QgZGlkIG5vdCBjb21wbGV0ZS5cbiAgICAgIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnksIGRpZENvbXBsZXRlUm9vdCk7XG4gICAgICBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcbiAgICAgICEhbmV4dFJlbmRlcklzRXhwaXJlZCA/IGludmFyaWFudChmYWxzZSwgJ0V4cGlyZWQgd29yayBzaG91bGQgaGF2ZSBjb21wbGV0ZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICBtYXJrU3VzcGVuZGVkUHJpb3JpdHlMZXZlbChyb290LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBpZiAobmV4dExhdGVzdFRpbWVvdXRNcyA+PSAwKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHJ5U3VzcGVuZGVkUm9vdChyb290LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIH0sIG5leHRMYXRlc3RUaW1lb3V0TXMpO1xuICAgICAgfVxuICAgICAgdmFyIGZpcnN0VW5ibG9ja2VkRXhwaXJhdGlvblRpbWUgPSBmaW5kTmV4dFBlbmRpbmdQcmlvcml0eUxldmVsKHJvb3QpO1xuICAgICAgb25CbG9jayhmaXJzdFVuYmxvY2tlZEV4cGlyYXRpb25UaW1lKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzdG9wV29ya0xvb3BUaW1lcihpbnRlcnJ1cHRlZEJ5LCBkaWRDb21wbGV0ZVJvb3QpO1xuICAgIGludGVycnVwdGVkQnkgPSBudWxsO1xuICAgIC8vIFRoZXJlJ3MgbW9yZSB3b3JrIHRvIGRvLCBidXQgd2UgcmFuIG91dCBvZiB0aW1lLiBZaWVsZCBiYWNrIHRvXG4gICAgLy8gdGhlIHJlbmRlcmVyLlxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKHNvdXJjZUZpYmVyLCB2YWx1ZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgISghaXNXb3JraW5nIHx8IGlzQ29tbWl0dGluZyQxKSA/IGludmFyaWFudChmYWxzZSwgJ2Rpc3BhdGNoOiBDYW5ub3QgZGlzcGF0Y2ggZHVyaW5nIHRoZSByZW5kZXIgcGhhc2UuJykgOiB2b2lkIDA7XG5cbiAgdmFyIGZpYmVyID0gc291cmNlRmliZXIucmV0dXJuO1xuICB3aGlsZSAoZmliZXIgIT09IG51bGwpIHtcbiAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgdmFyIGN0b3IgPSBmaWJlci50eXBlO1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgIGlmICh0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoID09PSAnZnVuY3Rpb24nICYmICFpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5KGluc3RhbmNlKSkge1xuICAgICAgICAgIHZhciBlcnJvckluZm8gPSBjcmVhdGVDYXB0dXJlZFZhbHVlKHZhbHVlLCBzb3VyY2VGaWJlcik7XG4gICAgICAgICAgdmFyIHVwZGF0ZSA9IGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUoZmliZXIsIGVycm9ySW5mbywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIGVucXVldWVVcGRhdGUoZmliZXIsIHVwZGF0ZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIHNjaGVkdWxlV29yayQxKGZpYmVyLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfZXJyb3JJbmZvID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZSh2YWx1ZSwgc291cmNlRmliZXIpO1xuICAgICAgICAgIHZhciBfdXBkYXRlID0gY3JlYXRlUm9vdEVycm9yVXBkYXRlKGZpYmVyLCBfZXJyb3JJbmZvLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgZW5xdWV1ZVVwZGF0ZShmaWJlciwgX3VwZGF0ZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIHNjaGVkdWxlV29yayQxKGZpYmVyLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpYmVyID0gZmliZXIucmV0dXJuO1xuICB9XG5cbiAgaWYgKHNvdXJjZUZpYmVyLnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAvLyBFcnJvciB3YXMgdGhyb3duIGF0IHRoZSByb290LiBUaGVyZSBpcyBubyBwYXJlbnQsIHNvIHRoZSByb290XG4gICAgLy8gaXRzZWxmIHNob3VsZCBjYXB0dXJlIGl0LlxuICAgIHZhciByb290RmliZXIgPSBzb3VyY2VGaWJlcjtcbiAgICB2YXIgX2Vycm9ySW5mbzIgPSBjcmVhdGVDYXB0dXJlZFZhbHVlKHZhbHVlLCByb290RmliZXIpO1xuICAgIHZhciBfdXBkYXRlMiA9IGNyZWF0ZVJvb3RFcnJvclVwZGF0ZShyb290RmliZXIsIF9lcnJvckluZm8yLCBleHBpcmF0aW9uVGltZSk7XG4gICAgZW5xdWV1ZVVwZGF0ZShyb290RmliZXIsIF91cGRhdGUyLCBleHBpcmF0aW9uVGltZSk7XG4gICAgc2NoZWR1bGVXb3JrJDEocm9vdEZpYmVyLCBleHBpcmF0aW9uVGltZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmliZXIsIGVycm9yKSB7XG4gIHJldHVybiBkaXNwYXRjaChmaWJlciwgZXJyb3IsIFN5bmMpO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKSB7XG4gIC8vIEdpdmVuIHRoZSBjdXJyZW50IGNsb2NrIHRpbWUsIHJldHVybnMgYW4gZXhwaXJhdGlvbiB0aW1lLiBXZSB1c2Ugcm91bmRpbmdcbiAgLy8gdG8gYmF0Y2ggbGlrZSB1cGRhdGVzIHRvZ2V0aGVyLlxuICAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIH41MDAwbXMuIDUyNTBtcyBtYXguXG4gIHZhciBleHBpcmF0aW9uTXMgPSA1MDAwO1xuICB2YXIgYnVja2V0U2l6ZU1zID0gMjUwO1xuICByZXR1cm4gY29tcHV0ZUV4cGlyYXRpb25CdWNrZXQoY3VycmVudFRpbWUsIGV4cGlyYXRpb25NcywgYnVja2V0U2l6ZU1zKTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZUludGVyYWN0aXZlRXhwaXJhdGlvbihjdXJyZW50VGltZSkge1xuICB2YXIgZXhwaXJhdGlvbk1zID0gdm9pZCAwO1xuICAvLyBXZSBpbnRlbnRpb25hbGx5IHNldCBhIGhpZ2hlciBleHBpcmF0aW9uIHRpbWUgZm9yIGludGVyYWN0aXZlIHVwZGF0ZXMgaW5cbiAgLy8gZGV2IHRoYW4gaW4gcHJvZHVjdGlvbi5cbiAgLy8gSWYgdGhlIG1haW4gdGhyZWFkIGlzIGJlaW5nIGJsb2NrZWQgc28gbG9uZyB0aGF0IHlvdSBoaXQgdGhlIGV4cGlyYXRpb24sXG4gIC8vIGl0J3MgYSBwcm9ibGVtIHRoYXQgY291bGQgYmUgc29sdmVkIHdpdGggYmV0dGVyIHNjaGVkdWxpbmcuXG4gIC8vIFBlb3BsZSB3aWxsIGJlIG1vcmUgbGlrZWx5IHRvIG5vdGljZSB0aGlzIGFuZCBmaXggaXQgd2l0aCB0aGUgbG9uZ1xuICAvLyBleHBpcmF0aW9uIHRpbWUgaW4gZGV2ZWxvcG1lbnQuXG4gIC8vIEluIHByb2R1Y3Rpb24gd2Ugb3B0IGZvciBiZXR0ZXIgVVggYXQgdGhlIHJpc2sgb2YgbWFza2luZyBzY2hlZHVsaW5nXG4gIC8vIHByb2JsZW1zLCBieSBleHBpcmluZyBmYXN0LlxuICB7XG4gICAgLy8gU2hvdWxkIGNvbXBsZXRlIHdpdGhpbiB+NTAwbXMuIDYwMG1zIG1heC5cbiAgICBleHBpcmF0aW9uTXMgPSA1MDA7XG4gIH1cbiAgdmFyIGJ1Y2tldFNpemVNcyA9IDEwMDtcbiAgcmV0dXJuIGNvbXB1dGVFeHBpcmF0aW9uQnVja2V0KGN1cnJlbnRUaW1lLCBleHBpcmF0aW9uTXMsIGJ1Y2tldFNpemVNcyk7XG59XG5cbi8vIENyZWF0ZXMgYSB1bmlxdWUgYXN5bmMgZXhwaXJhdGlvbiB0aW1lLlxuZnVuY3Rpb24gY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbigpIHtcbiAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICB2YXIgcmVzdWx0ID0gY29tcHV0ZUFzeW5jRXhwaXJhdGlvbihjdXJyZW50VGltZSk7XG4gIGlmIChyZXN1bHQgPD0gbGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbikge1xuICAgIC8vIFNpbmNlIHdlIGFzc3VtZSB0aGUgY3VycmVudCB0aW1lIG1vbm90b25pY2FsbHkgaW5jcmVhc2VzLCB3ZSBvbmx5IGhpdFxuICAgIC8vIHRoaXMgYnJhbmNoIHdoZW4gY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbiBpcyBmaXJlZCBtdWx0aXBsZSB0aW1lc1xuICAgIC8vIHdpdGhpbiBhIDIwMG1zIHdpbmRvdyAob3Igd2hhdGV2ZXIgdGhlIGFzeW5jIGJ1Y2tldCBzaXplIGlzKS5cbiAgICByZXN1bHQgPSBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uICsgMTtcbiAgfVxuICBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uID0gcmVzdWx0O1xuICByZXR1cm4gbGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbjtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihjdXJyZW50VGltZSwgZmliZXIpIHtcbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gdm9pZCAwO1xuICBpZiAoZXhwaXJhdGlvbkNvbnRleHQgIT09IE5vV29yaykge1xuICAgIC8vIEFuIGV4cGxpY2l0IGV4cGlyYXRpb24gY29udGV4dCB3YXMgc2V0O1xuICAgIGV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvbkNvbnRleHQ7XG4gIH0gZWxzZSBpZiAoaXNXb3JraW5nKSB7XG4gICAgaWYgKGlzQ29tbWl0dGluZyQxKSB7XG4gICAgICAvLyBVcGRhdGVzIHRoYXQgb2NjdXIgZHVyaW5nIHRoZSBjb21taXQgcGhhc2Ugc2hvdWxkIGhhdmUgc3luYyBwcmlvcml0eVxuICAgICAgLy8gYnkgZGVmYXVsdC5cbiAgICAgIGV4cGlyYXRpb25UaW1lID0gU3luYztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlcyBkdXJpbmcgdGhlIHJlbmRlciBwaGFzZSBzaG91bGQgZXhwaXJlIGF0IHRoZSBzYW1lIHRpbWUgYXNcbiAgICAgIC8vIHRoZSB3b3JrIHRoYXQgaXMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICBleHBpcmF0aW9uVGltZSA9IG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gTm8gZXhwbGljaXQgZXhwaXJhdGlvbiBjb250ZXh0IHdhcyBzZXQsIGFuZCB3ZSdyZSBub3QgY3VycmVudGx5XG4gICAgLy8gcGVyZm9ybWluZyB3b3JrLiBDYWxjdWxhdGUgYSBuZXcgZXhwaXJhdGlvbiB0aW1lLlxuICAgIGlmIChmaWJlci5tb2RlICYgQXN5bmNNb2RlKSB7XG4gICAgICBpZiAoaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcykge1xuICAgICAgICAvLyBUaGlzIGlzIGFuIGludGVyYWN0aXZlIHVwZGF0ZVxuICAgICAgICBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVJbnRlcmFjdGl2ZUV4cGlyYXRpb24oY3VycmVudFRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhbiBhc3luYyB1cGRhdGVcbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBpcyBhIHN5bmMgdXBkYXRlXG4gICAgICBleHBpcmF0aW9uVGltZSA9IFN5bmM7XG4gICAgfVxuICB9XG4gIGlmIChpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzKSB7XG4gICAgLy8gVGhpcyBpcyBhbiBpbnRlcmFjdGl2ZSB1cGRhdGUuIEtlZXAgdHJhY2sgb2YgdGhlIGxvd2VzdCBwZW5kaW5nXG4gICAgLy8gaW50ZXJhY3RpdmUgZXhwaXJhdGlvbiB0aW1lLiBUaGlzIGFsbG93cyB1cyB0byBzeW5jaHJvbm91c2x5IGZsdXNoXG4gICAgLy8gYWxsIGludGVyYWN0aXZlIHVwZGF0ZXMgd2hlbiBuZWVkZWQuXG4gICAgaWYgKGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgZXhwaXJhdGlvblRpbWUgPiBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSkge1xuICAgICAgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV4cGlyYXRpb25UaW1lO1xufVxuXG4vLyBUT0RPOiBSZW5hbWUgdGhpcyB0byBzY2hlZHVsZVRpbWVvdXQgb3Igc29tZXRoaW5nXG5mdW5jdGlvbiBzdXNwZW5kUm9vdChyb290LCB0aGVuYWJsZSwgdGltZW91dE1zLCBzdXNwZW5kZWRUaW1lKSB7XG4gIC8vIFNjaGVkdWxlIHRoZSB0aW1lb3V0LlxuICBpZiAodGltZW91dE1zID49IDAgJiYgbmV4dExhdGVzdFRpbWVvdXRNcyA8IHRpbWVvdXRNcykge1xuICAgIG5leHRMYXRlc3RUaW1lb3V0TXMgPSB0aW1lb3V0TXM7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmV0cnlTdXNwZW5kZWRSb290KHJvb3QsIHN1c3BlbmRlZFRpbWUpIHtcbiAgbWFya1BpbmdlZFByaW9yaXR5TGV2ZWwocm9vdCwgc3VzcGVuZGVkVGltZSk7XG4gIHZhciByZXRyeVRpbWUgPSBmaW5kTmV4dFBlbmRpbmdQcmlvcml0eUxldmVsKHJvb3QpO1xuICBpZiAocmV0cnlUaW1lICE9PSBOb1dvcmspIHtcbiAgICByZXF1ZXN0UmV0cnkocm9vdCwgcmV0cnlUaW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzY2hlZHVsZVdvcmskMShmaWJlciwgZXhwaXJhdGlvblRpbWUpIHtcbiAgcmVjb3JkU2NoZWR1bGVVcGRhdGUoKTtcblxuICB7XG4gICAgaWYgKGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgIHdhcm5BYm91dEludmFsaWRVcGRhdGVzKGluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgbm9kZSA9IGZpYmVyO1xuICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgIC8vIFdhbGsgdGhlIHBhcmVudCBwYXRoIHRvIHRoZSByb290IGFuZCB1cGRhdGUgZWFjaCBub2RlJ3NcbiAgICAvLyBleHBpcmF0aW9uIHRpbWUuXG4gICAgaWYgKG5vZGUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBub2RlLmV4cGlyYXRpb25UaW1lID4gZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIG5vZGUuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICB9XG4gICAgaWYgKG5vZGUuYWx0ZXJuYXRlICE9PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS5hbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBub2RlLmFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA+IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIG5vZGUuYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLnJldHVybiA9PT0gbnVsbCkge1xuICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0Um9vdCkge1xuICAgICAgICB2YXIgcm9vdCA9IG5vZGUuc3RhdGVOb2RlO1xuICAgICAgICBpZiAoIWlzV29ya2luZyAmJiBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUgIT09IE5vV29yayAmJiBleHBpcmF0aW9uVGltZSA8IG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYW4gaW50ZXJydXB0aW9uLiAoVXNlZCBmb3IgcGVyZm9ybWFuY2UgdHJhY2tpbmcuKVxuICAgICAgICAgIGludGVycnVwdGVkQnkgPSBmaWJlcjtcbiAgICAgICAgICByZXNldFN0YWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgbWFya1BlbmRpbmdQcmlvcml0eUxldmVsKHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgdmFyIG5leHRFeHBpcmF0aW9uVGltZVRvV29ya09uID0gZmluZE5leHRQZW5kaW5nUHJpb3JpdHlMZXZlbChyb290KTtcbiAgICAgICAgaWYgKFxuICAgICAgICAvLyBJZiB3ZSdyZSBpbiB0aGUgcmVuZGVyIHBoYXNlLCB3ZSBkb24ndCBuZWVkIHRvIHNjaGVkdWxlIHRoaXMgcm9vdFxuICAgICAgICAvLyBmb3IgYW4gdXBkYXRlLCBiZWNhdXNlIHdlJ2xsIGRvIGl0IGJlZm9yZSB3ZSBleGl0Li4uXG4gICAgICAgICFpc1dvcmtpbmcgfHwgaXNDb21taXR0aW5nJDEgfHxcbiAgICAgICAgLy8gLi4udW5sZXNzIHRoaXMgaXMgYSBkaWZmZXJlbnQgcm9vdCB0aGFuIHRoZSBvbmUgd2UncmUgcmVuZGVyaW5nLlxuICAgICAgICBuZXh0Um9vdCAhPT0gcm9vdCkge1xuICAgICAgICAgIHJlcXVlc3RXb3JrKHJvb3QsIG5leHRFeHBpcmF0aW9uVGltZVRvV29ya09uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVzdGVkVXBkYXRlQ291bnQgPiBORVNURURfVVBEQVRFX0xJTUlUKSB7XG4gICAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWQuIFRoaXMgY2FuIGhhcHBlbiB3aGVuIGEgY29tcG9uZW50IHJlcGVhdGVkbHkgY2FsbHMgc2V0U3RhdGUgaW5zaWRlIGNvbXBvbmVudFdpbGxVcGRhdGUgb3IgY29tcG9uZW50RGlkVXBkYXRlLiBSZWFjdCBsaW1pdHMgdGhlIG51bWJlciBvZiBuZXN0ZWQgdXBkYXRlcyB0byBwcmV2ZW50IGluZmluaXRlIGxvb3BzLicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAgaWYgKGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHdhcm5BYm91dFVwZGF0ZU9uVW5tb3VudGVkKGZpYmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpIHtcbiAgLy8gU3VidHJhY3QgaW5pdGlhbCB0aW1lIHNvIGl0IGZpdHMgaW5zaWRlIDMyYml0c1xuICBtb3N0UmVjZW50Q3VycmVudFRpbWVNcyA9IG5vdygpIC0gb3JpZ2luYWxTdGFydFRpbWVNcztcbiAgbW9zdFJlY2VudEN1cnJlbnRUaW1lID0gbXNUb0V4cGlyYXRpb25UaW1lKG1vc3RSZWNlbnRDdXJyZW50VGltZU1zKTtcbiAgcmV0dXJuIG1vc3RSZWNlbnRDdXJyZW50VGltZTtcbn1cblxuZnVuY3Rpb24gZGVmZXJyZWRVcGRhdGVzKGZuKSB7XG4gIHZhciBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0ID0gZXhwaXJhdGlvbkNvbnRleHQ7XG4gIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgZXhwaXJhdGlvbkNvbnRleHQgPSBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4oKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBleHBpcmF0aW9uQ29udGV4dCA9IHByZXZpb3VzRXhwaXJhdGlvbkNvbnRleHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHN5bmNVcGRhdGVzKGZuLCBhLCBiLCBjLCBkKSB7XG4gIHZhciBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0ID0gZXhwaXJhdGlvbkNvbnRleHQ7XG4gIGV4cGlyYXRpb25Db250ZXh0ID0gU3luYztcbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4oYSwgYiwgYywgZCk7XG4gIH0gZmluYWxseSB7XG4gICAgZXhwaXJhdGlvbkNvbnRleHQgPSBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0O1xuICB9XG59XG5cbi8vIFRPRE86IEV2ZXJ5dGhpbmcgYmVsb3cgdGhpcyBpcyB3cml0dGVuIGFzIGlmIGl0IGhhcyBiZWVuIGxpZnRlZCB0byB0aGVcbi8vIHJlbmRlcmVycy4gSSdsbCBkbyB0aGlzIGluIGEgZm9sbG93LXVwLlxuXG4vLyBMaW5rZWQtbGlzdCBvZiByb290c1xudmFyIGZpcnN0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG52YXIgbGFzdFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuXG52YXIgY2FsbGJhY2tFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbnZhciBjYWxsYmFja0lEID0gdm9pZCAwO1xudmFyIGlzUmVuZGVyaW5nID0gZmFsc2U7XG52YXIgbmV4dEZsdXNoZWRSb290ID0gbnVsbDtcbnZhciBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xudmFyIGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xudmFyIGRlYWRsaW5lRGlkRXhwaXJlID0gZmFsc2U7XG52YXIgaGFzVW5oYW5kbGVkRXJyb3IgPSBmYWxzZTtcbnZhciB1bmhhbmRsZWRFcnJvciA9IG51bGw7XG52YXIgZGVhZGxpbmUgPSBudWxsO1xuXG52YXIgaXNCYXRjaGluZ1VwZGF0ZXMgPSBmYWxzZTtcbnZhciBpc1VuYmF0Y2hpbmdVcGRhdGVzID0gZmFsc2U7XG52YXIgaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyA9IGZhbHNlO1xuXG52YXIgY29tcGxldGVkQmF0Y2hlcyA9IG51bGw7XG5cbi8vIFVzZSB0aGVzZSB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3Agb2YgbmVzdGVkIHVwZGF0ZXNcbnZhciBORVNURURfVVBEQVRFX0xJTUlUID0gMTAwMDtcbnZhciBuZXN0ZWRVcGRhdGVDb3VudCA9IDA7XG5cbnZhciB0aW1lSGV1cmlzdGljRm9yVW5pdE9mV29yayA9IDE7XG5cbmZ1bmN0aW9uIHNjaGVkdWxlQ2FsbGJhY2tXaXRoRXhwaXJhdGlvbihleHBpcmF0aW9uVGltZSkge1xuICBpZiAoY2FsbGJhY2tFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrKSB7XG4gICAgLy8gQSBjYWxsYmFjayBpcyBhbHJlYWR5IHNjaGVkdWxlZC4gQ2hlY2sgaXRzIGV4cGlyYXRpb24gdGltZSAodGltZW91dCkuXG4gICAgaWYgKGV4cGlyYXRpb25UaW1lID4gY2FsbGJhY2tFeHBpcmF0aW9uVGltZSkge1xuICAgICAgLy8gRXhpc3RpbmcgY2FsbGJhY2sgaGFzIHN1ZmZpY2llbnQgdGltZW91dC4gRXhpdC5cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNhbGxiYWNrSUQgIT09IG51bGwpIHtcbiAgICAgICAgLy8gRXhpc3RpbmcgY2FsbGJhY2sgaGFzIGluc3VmZmljaWVudCB0aW1lb3V0LiBDYW5jZWwgYW5kIHNjaGVkdWxlIGFcbiAgICAgICAgLy8gbmV3IG9uZS5cbiAgICAgICAgY2FuY2VsRGVmZXJyZWRDYWxsYmFjayhjYWxsYmFja0lEKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVGhlIHJlcXVlc3QgY2FsbGJhY2sgdGltZXIgaXMgYWxyZWFkeSBydW5uaW5nLiBEb24ndCBzdGFydCBhIG5ldyBvbmUuXG4gIH0gZWxzZSB7XG4gICAgc3RhcnRSZXF1ZXN0Q2FsbGJhY2tUaW1lcigpO1xuICB9XG5cbiAgLy8gQ29tcHV0ZSBhIHRpbWVvdXQgZm9yIHRoZSBnaXZlbiBleHBpcmF0aW9uIHRpbWUuXG4gIHZhciBjdXJyZW50TXMgPSBub3coKSAtIG9yaWdpbmFsU3RhcnRUaW1lTXM7XG4gIHZhciBleHBpcmF0aW9uTXMgPSBleHBpcmF0aW9uVGltZVRvTXMoZXhwaXJhdGlvblRpbWUpO1xuICB2YXIgdGltZW91dCA9IGV4cGlyYXRpb25NcyAtIGN1cnJlbnRNcztcblxuICBjYWxsYmFja0V4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIGNhbGxiYWNrSUQgPSBzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2socGVyZm9ybUFzeW5jV29yaywgeyB0aW1lb3V0OiB0aW1lb3V0IH0pO1xufVxuXG5mdW5jdGlvbiByZXF1ZXN0UmV0cnkocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgaWYgKHJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lIDwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBGb3IgYSByZXRyeSwgb25seSB1cGRhdGUgdGhlIHJlbWFpbmluZyBleHBpcmF0aW9uIHRpbWUgaWYgaXQgaGFzIGFcbiAgICAvLyAqbG93ZXIgcHJpb3JpdHkqIHRoYW4gdGhlIGV4aXN0aW5nIHZhbHVlLiBUaGlzIGlzIGJlY2F1c2UsIG9uIGEgcmV0cnksXG4gICAgLy8gd2Ugc2hvdWxkIGF0dGVtcHQgdG8gY29hbGVzY2UgYXMgbXVjaCBhcyBwb3NzaWJsZS5cbiAgICByZXF1ZXN0V29yayhyb290LCBleHBpcmF0aW9uVGltZSk7XG4gIH1cbn1cblxuLy8gcmVxdWVzdFdvcmsgaXMgY2FsbGVkIGJ5IHRoZSBzY2hlZHVsZXIgd2hlbmV2ZXIgYSByb290IHJlY2VpdmVzIGFuIHVwZGF0ZS5cbi8vIEl0J3MgdXAgdG8gdGhlIHJlbmRlcmVyIHRvIGNhbGwgcmVuZGVyUm9vdCBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuXG5mdW5jdGlvbiByZXF1ZXN0V29yayhyb290LCBleHBpcmF0aW9uVGltZSkge1xuICBhZGRSb290VG9TY2hlZHVsZShyb290LCBleHBpcmF0aW9uVGltZSk7XG5cbiAgaWYgKGlzUmVuZGVyaW5nKSB7XG4gICAgLy8gUHJldmVudCByZWVudHJhbmN5LiBSZW1haW5pbmcgd29yayB3aWxsIGJlIHNjaGVkdWxlZCBhdCB0aGUgZW5kIG9mXG4gICAgLy8gdGhlIGN1cnJlbnRseSByZW5kZXJpbmcgYmF0Y2guXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGlzQmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgLy8gRmx1c2ggd29yayBhdCB0aGUgZW5kIG9mIHRoZSBiYXRjaC5cbiAgICBpZiAoaXNVbmJhdGNoaW5nVXBkYXRlcykge1xuICAgICAgLy8gLi4udW5sZXNzIHdlJ3JlIGluc2lkZSB1bmJhdGNoZWRVcGRhdGVzLCBpbiB3aGljaCBjYXNlIHdlIHNob3VsZFxuICAgICAgLy8gZmx1c2ggaXQgbm93LlxuICAgICAgbmV4dEZsdXNoZWRSb290ID0gcm9vdDtcbiAgICAgIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPSBTeW5jO1xuICAgICAgcGVyZm9ybVdvcmtPblJvb3Qocm9vdCwgU3luYywgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUT0RPOiBHZXQgcmlkIG9mIFN5bmMgYW5kIHVzZSBjdXJyZW50IHRpbWU/XG4gIGlmIChleHBpcmF0aW9uVGltZSA9PT0gU3luYykge1xuICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICB9IGVsc2Uge1xuICAgIHNjaGVkdWxlQ2FsbGJhY2tXaXRoRXhwaXJhdGlvbihleHBpcmF0aW9uVGltZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkUm9vdFRvU2NoZWR1bGUocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gQWRkIHRoZSByb290IHRvIHRoZSBzY2hlZHVsZS5cbiAgLy8gQ2hlY2sgaWYgdGhpcyByb290IGlzIGFscmVhZHkgcGFydCBvZiB0aGUgc2NoZWR1bGUuXG4gIGlmIChyb290Lm5leHRTY2hlZHVsZWRSb290ID09PSBudWxsKSB7XG4gICAgLy8gVGhpcyByb290IGlzIG5vdCBhbHJlYWR5IHNjaGVkdWxlZC4gQWRkIGl0LlxuICAgIHJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICBpZiAobGFzdFNjaGVkdWxlZFJvb3QgPT09IG51bGwpIHtcbiAgICAgIGZpcnN0U2NoZWR1bGVkUm9vdCA9IGxhc3RTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSByb290O1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IHJvb3Q7XG4gICAgICBsYXN0U2NoZWR1bGVkUm9vdCA9IHJvb3Q7XG4gICAgICBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhpcyByb290IGlzIGFscmVhZHkgc2NoZWR1bGVkLCBidXQgaXRzIHByaW9yaXR5IG1heSBoYXZlIGluY3JlYXNlZC5cbiAgICB2YXIgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lO1xuICAgIGlmIChyZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IGV4cGlyYXRpb25UaW1lIDwgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIC8vIFVwZGF0ZSB0aGUgcHJpb3JpdHkuXG4gICAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRIaWdoZXN0UHJpb3JpdHlSb290KCkge1xuICB2YXIgaGlnaGVzdFByaW9yaXR5V29yayA9IE5vV29yaztcbiAgdmFyIGhpZ2hlc3RQcmlvcml0eVJvb3QgPSBudWxsO1xuICBpZiAobGFzdFNjaGVkdWxlZFJvb3QgIT09IG51bGwpIHtcbiAgICB2YXIgcHJldmlvdXNTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3Q7XG4gICAgdmFyIHJvb3QgPSBmaXJzdFNjaGVkdWxlZFJvb3Q7XG4gICAgd2hpbGUgKHJvb3QgIT09IG51bGwpIHtcbiAgICAgIHZhciByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IHJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWU7XG4gICAgICBpZiAocmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPT09IE5vV29yaykge1xuICAgICAgICAvLyBUaGlzIHJvb3Qgbm8gbG9uZ2VyIGhhcyB3b3JrLiBSZW1vdmUgaXQgZnJvbSB0aGUgc2NoZWR1bGVyLlxuXG4gICAgICAgIC8vIFRPRE86IFRoaXMgY2hlY2sgaXMgcmVkdWRhbnQsIGJ1dCBGbG93IGlzIGNvbmZ1c2VkIGJ5IHRoZSBicmFuY2hcbiAgICAgICAgLy8gYmVsb3cgd2hlcmUgd2Ugc2V0IGxhc3RTY2hlZHVsZWRSb290IHRvIG51bGwsIGV2ZW4gdGhvdWdoIHdlIGJyZWFrXG4gICAgICAgIC8vIGZyb20gdGhlIGxvb3AgcmlnaHQgYWZ0ZXIuXG4gICAgICAgICEocHJldmlvdXNTY2hlZHVsZWRSb290ICE9PSBudWxsICYmIGxhc3RTY2hlZHVsZWRSb290ICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBoYXZlIGEgcHJldmlvdXMgYW5kIGxhc3Qgcm9vdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKHJvb3QgPT09IHJvb3QubmV4dFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBvbmx5IHJvb3QgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgcm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG4gICAgICAgICAgZmlyc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKHJvb3QgPT09IGZpcnN0U2NoZWR1bGVkUm9vdCkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IHJvb3QgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgdmFyIG5leHQgPSByb290Lm5leHRTY2hlZHVsZWRSb290O1xuICAgICAgICAgIGZpcnN0U2NoZWR1bGVkUm9vdCA9IG5leHQ7XG4gICAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBuZXh0O1xuICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHJvb3QgPT09IGxhc3RTY2hlZHVsZWRSb290KSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyB0aGUgbGFzdCByb290IGluIHRoZSBsaXN0LlxuICAgICAgICAgIGxhc3RTY2hlZHVsZWRSb290ID0gcHJldmlvdXNTY2hlZHVsZWRSb290O1xuICAgICAgICAgIGxhc3RTY2hlZHVsZWRSb290Lm5leHRTY2hlZHVsZWRSb290ID0gZmlyc3RTY2hlZHVsZWRSb290O1xuICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzU2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IHJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgcm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcm9vdCA9IHByZXZpb3VzU2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlXb3JrID09PSBOb1dvcmsgfHwgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPCBoaWdoZXN0UHJpb3JpdHlXb3JrKSB7XG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBwcmlvcml0eSwgaWYgaXQncyBoaWdoZXJcbiAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlXb3JrID0gcmVtYWluaW5nRXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgaGlnaGVzdFByaW9yaXR5Um9vdCA9IHJvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvb3QgPT09IGxhc3RTY2hlZHVsZWRSb290KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgICAgcm9vdCA9IHJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlIG5leHQgcm9vdCBpcyB0aGUgc2FtZSBhcyB0aGUgcHJldmlvdXMgcm9vdCwgdGhpcyBpcyBhIG5lc3RlZFxuICAvLyB1cGRhdGUuIFRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCwgaW5jcmVtZW50IHRoZSBuZXN0ZWQgdXBkYXRlIGNvdW50LlxuICB2YXIgcHJldmlvdXNGbHVzaGVkUm9vdCA9IG5leHRGbHVzaGVkUm9vdDtcbiAgaWYgKHByZXZpb3VzRmx1c2hlZFJvb3QgIT09IG51bGwgJiYgcHJldmlvdXNGbHVzaGVkUm9vdCA9PT0gaGlnaGVzdFByaW9yaXR5Um9vdCAmJiBoaWdoZXN0UHJpb3JpdHlXb3JrID09PSBTeW5jKSB7XG4gICAgbmVzdGVkVXBkYXRlQ291bnQrKztcbiAgfSBlbHNlIHtcbiAgICAvLyBSZXNldCB3aGVuZXZlciB3ZSBzd2l0Y2ggcm9vdHMuXG4gICAgbmVzdGVkVXBkYXRlQ291bnQgPSAwO1xuICB9XG4gIG5leHRGbHVzaGVkUm9vdCA9IGhpZ2hlc3RQcmlvcml0eVJvb3Q7XG4gIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPSBoaWdoZXN0UHJpb3JpdHlXb3JrO1xufVxuXG5mdW5jdGlvbiBwZXJmb3JtQXN5bmNXb3JrKGRsKSB7XG4gIHBlcmZvcm1Xb3JrKE5vV29yaywgdHJ1ZSwgZGwpO1xufVxuXG5mdW5jdGlvbiBwZXJmb3JtU3luY1dvcmsoKSB7XG4gIHBlcmZvcm1Xb3JrKFN5bmMsIGZhbHNlLCBudWxsKTtcbn1cblxuZnVuY3Rpb24gcGVyZm9ybVdvcmsobWluRXhwaXJhdGlvblRpbWUsIGlzQXN5bmMsIGRsKSB7XG4gIGRlYWRsaW5lID0gZGw7XG5cbiAgLy8gS2VlcCB3b3JraW5nIG9uIHJvb3RzIHVudGlsIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrLCBvciB1bnRpbCB0aGUgd2UgcmVhY2hcbiAgLy8gdGhlIGRlYWRsaW5lLlxuICBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpO1xuXG4gIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgcmVzdW1lQWN0dWFsUmVuZGVyVGltZXJJZlBhdXNlZCgpO1xuICB9XG5cbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkgJiYgZGVhZGxpbmUgIT09IG51bGwpIHtcbiAgICB2YXIgZGlkRXhwaXJlID0gbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSA8IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICB2YXIgdGltZW91dCA9IGV4cGlyYXRpb25UaW1lVG9NcyhuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKTtcbiAgICBzdG9wUmVxdWVzdENhbGxiYWNrVGltZXIoZGlkRXhwaXJlLCB0aW1lb3V0KTtcbiAgfVxuXG4gIGlmIChpc0FzeW5jKSB7XG4gICAgd2hpbGUgKG5leHRGbHVzaGVkUm9vdCAhPT0gbnVsbCAmJiBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmsgJiYgKG1pbkV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgbWluRXhwaXJhdGlvblRpbWUgPj0gbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSkgJiYgKCFkZWFkbGluZURpZEV4cGlyZSB8fCByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCkgPj0gbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSkpIHtcbiAgICAgIHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICAgIHBlcmZvcm1Xb3JrT25Sb290KG5leHRGbHVzaGVkUm9vdCwgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSwgIWRlYWRsaW5lRGlkRXhwaXJlKTtcbiAgICAgIGZpbmRIaWdoZXN0UHJpb3JpdHlSb290KCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdoaWxlIChuZXh0Rmx1c2hlZFJvb3QgIT09IG51bGwgJiYgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmIChtaW5FeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IG1pbkV4cGlyYXRpb25UaW1lID49IG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUpKSB7XG4gICAgICBwZXJmb3JtV29ya09uUm9vdChuZXh0Rmx1c2hlZFJvb3QsIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUsIGZhbHNlKTtcbiAgICAgIGZpbmRIaWdoZXN0UHJpb3JpdHlSb290KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gV2UncmUgZG9uZSBmbHVzaGluZyB3b3JrLiBFaXRoZXIgd2UgcmFuIG91dCBvZiB0aW1lIGluIHRoaXMgY2FsbGJhY2ssXG4gIC8vIG9yIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGxlZnQgd2l0aCBzdWZmaWNpZW50IHByaW9yaXR5LlxuXG4gIC8vIElmIHdlJ3JlIGluc2lkZSBhIGNhbGxiYWNrLCBzZXQgdGhpcyB0byBmYWxzZSBzaW5jZSB3ZSBqdXN0IGNvbXBsZXRlZCBpdC5cbiAgaWYgKGRlYWRsaW5lICE9PSBudWxsKSB7XG4gICAgY2FsbGJhY2tFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICBjYWxsYmFja0lEID0gbnVsbDtcbiAgfVxuICAvLyBJZiB0aGVyZSdzIHdvcmsgbGVmdCBvdmVyLCBzY2hlZHVsZSBhIG5ldyBjYWxsYmFjay5cbiAgaWYgKG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgIHNjaGVkdWxlQ2FsbGJhY2tXaXRoRXhwaXJhdGlvbihuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKTtcbiAgfVxuXG4gIC8vIENsZWFuLXVwLlxuICBkZWFkbGluZSA9IG51bGw7XG4gIGRlYWRsaW5lRGlkRXhwaXJlID0gZmFsc2U7XG5cbiAgZmluaXNoUmVuZGVyaW5nKCk7XG59XG5cbmZ1bmN0aW9uIGZsdXNoUm9vdChyb290LCBleHBpcmF0aW9uVGltZSkge1xuICAhIWlzUmVuZGVyaW5nID8gaW52YXJpYW50KGZhbHNlLCAnd29yay5jb21taXQoKTogQ2Fubm90IGNvbW1pdCB3aGlsZSBhbHJlYWR5IHJlbmRlcmluZy4gVGhpcyBsaWtlbHkgbWVhbnMgeW91IGF0dGVtcHRlZCB0byBjb21taXQgZnJvbSBpbnNpZGUgYSBsaWZlY3ljbGUgbWV0aG9kLicpIDogdm9pZCAwO1xuICAvLyBQZXJmb3JtIHdvcmsgb24gcm9vdCBhcyBpZiB0aGUgZ2l2ZW4gZXhwaXJhdGlvbiB0aW1lIGlzIHRoZSBjdXJyZW50IHRpbWUuXG4gIC8vIFRoaXMgaGFzIHRoZSBlZmZlY3Qgb2Ygc3luY2hyb25vdXNseSBmbHVzaGluZyBhbGwgd29yayB1cCB0byBhbmRcbiAgLy8gaW5jbHVkaW5nIHRoZSBnaXZlbiB0aW1lLlxuICBuZXh0Rmx1c2hlZFJvb3QgPSByb290O1xuICBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBmYWxzZSk7XG4gIC8vIEZsdXNoIGFueSBzeW5jIHdvcmsgdGhhdCB3YXMgc2NoZWR1bGVkIGJ5IGxpZmVjeWNsZXNcbiAgcGVyZm9ybVN5bmNXb3JrKCk7XG4gIGZpbmlzaFJlbmRlcmluZygpO1xufVxuXG5mdW5jdGlvbiBmaW5pc2hSZW5kZXJpbmcoKSB7XG4gIG5lc3RlZFVwZGF0ZUNvdW50ID0gMDtcblxuICBpZiAoY29tcGxldGVkQmF0Y2hlcyAhPT0gbnVsbCkge1xuICAgIHZhciBiYXRjaGVzID0gY29tcGxldGVkQmF0Y2hlcztcbiAgICBjb21wbGV0ZWRCYXRjaGVzID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBiYXRjaCA9IGJhdGNoZXNbaV07XG4gICAgICB0cnkge1xuICAgICAgICBiYXRjaC5fb25Db21wbGV0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKCFoYXNVbmhhbmRsZWRFcnJvcikge1xuICAgICAgICAgIGhhc1VuaGFuZGxlZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICB1bmhhbmRsZWRFcnJvciA9IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGhhc1VuaGFuZGxlZEVycm9yKSB7XG4gICAgdmFyIGVycm9yID0gdW5oYW5kbGVkRXJyb3I7XG4gICAgdW5oYW5kbGVkRXJyb3IgPSBudWxsO1xuICAgIGhhc1VuaGFuZGxlZEVycm9yID0gZmFsc2U7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGVyZm9ybVdvcmtPblJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUsIGlzQXN5bmMpIHtcbiAgISFpc1JlbmRlcmluZyA/IGludmFyaWFudChmYWxzZSwgJ3BlcmZvcm1Xb3JrT25Sb290IHdhcyBjYWxsZWQgcmVjdXJzaXZlbHkuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG5cbiAgaXNSZW5kZXJpbmcgPSB0cnVlO1xuXG4gIC8vIENoZWNrIGlmIHRoaXMgaXMgYXN5bmMgd29yayBvciBzeW5jL2V4cGlyZWQgd29yay5cbiAgaWYgKCFpc0FzeW5jKSB7XG4gICAgLy8gRmx1c2ggc3luYyB3b3JrLlxuICAgIHZhciBmaW5pc2hlZFdvcmsgPSByb290LmZpbmlzaGVkV29yaztcbiAgICBpZiAoZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAvLyBUaGlzIHJvb3QgaXMgYWxyZWFkeSBjb21wbGV0ZS4gV2UgY2FuIGNvbW1pdCBpdC5cbiAgICAgIGNvbXBsZXRlUm9vdChyb290LCBmaW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmluaXNoZWRXb3JrID0gcmVuZGVyUm9vdChyb290LCBleHBpcmF0aW9uVGltZSwgZmFsc2UpO1xuICAgICAgaWYgKGZpbmlzaGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICAvLyBXZSd2ZSBjb21wbGV0ZWQgdGhlIHJvb3QuIENvbW1pdCBpdC5cbiAgICAgICAgY29tcGxldGVSb290KHJvb3QsIGZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBGbHVzaCBhc3luYyB3b3JrLlxuICAgIHZhciBfZmluaXNoZWRXb3JrID0gcm9vdC5maW5pc2hlZFdvcms7XG4gICAgaWYgKF9maW5pc2hlZFdvcmsgIT09IG51bGwpIHtcbiAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IGNvbXBsZXRlLiBXZSBjYW4gY29tbWl0IGl0LlxuICAgICAgY29tcGxldGVSb290KHJvb3QsIF9maW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2ZpbmlzaGVkV29yayA9IHJlbmRlclJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUsIHRydWUpO1xuICAgICAgaWYgKF9maW5pc2hlZFdvcmsgIT09IG51bGwpIHtcbiAgICAgICAgLy8gV2UndmUgY29tcGxldGVkIHRoZSByb290LiBDaGVjayB0aGUgZGVhZGxpbmUgb25lIG1vcmUgdGltZVxuICAgICAgICAvLyBiZWZvcmUgY29tbWl0dGluZy5cbiAgICAgICAgaWYgKCFzaG91bGRZaWVsZCgpKSB7XG4gICAgICAgICAgLy8gU3RpbGwgdGltZSBsZWZ0LiBDb21taXQgdGhlIHJvb3QuXG4gICAgICAgICAgY29tcGxldGVSb290KHJvb3QsIF9maW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUaGVyZSdzIG5vIHRpbWUgbGVmdC4gTWFyayB0aGlzIHJvb3QgYXMgY29tcGxldGUuIFdlJ2xsIGNvbWVcbiAgICAgICAgICAvLyBiYWNrIGFuZCBjb21taXQgaXQgbGF0ZXIuXG4gICAgICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBfZmluaXNoZWRXb3JrO1xuXG4gICAgICAgICAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5pc2gsIHBhdXNlIHRoZSBcImFjdHVhbFwiIHJlbmRlciB0aW1lci5cbiAgICAgICAgICAgIC8vIFdlJ2xsIHJlc3RhcnQgaXQgd2hlbiB3ZSByZXN1bWUgd29yay5cbiAgICAgICAgICAgIHBhdXNlQWN0dWFsUmVuZGVyVGltZXJJZlJ1bm5pbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpc1JlbmRlcmluZyA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjb21wbGV0ZVJvb3Qocm9vdCwgZmluaXNoZWRXb3JrLCBleHBpcmF0aW9uVGltZSkge1xuICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgYmF0Y2ggdGhhdCBtYXRjaGVzIHRoaXMgZXhwaXJhdGlvbiB0aW1lLlxuICB2YXIgZmlyc3RCYXRjaCA9IHJvb3QuZmlyc3RCYXRjaDtcbiAgaWYgKGZpcnN0QmF0Y2ggIT09IG51bGwgJiYgZmlyc3RCYXRjaC5fZXhwaXJhdGlvblRpbWUgPD0gZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY29tcGxldGVkQmF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgY29tcGxldGVkQmF0Y2hlcyA9IFtmaXJzdEJhdGNoXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tcGxldGVkQmF0Y2hlcy5wdXNoKGZpcnN0QmF0Y2gpO1xuICAgIH1cbiAgICBpZiAoZmlyc3RCYXRjaC5fZGVmZXIpIHtcbiAgICAgIC8vIFRoaXMgcm9vdCBpcyBibG9ja2VkIGZyb20gY29tbWl0dGluZyBieSBhIGJhdGNoLiBVbnNjaGVkdWxlIGl0IHVudGlsXG4gICAgICAvLyB3ZSByZWNlaXZlIGFub3RoZXIgdXBkYXRlLlxuICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBmaW5pc2hlZFdvcms7XG4gICAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIC8vIENvbW1pdCB0aGUgcm9vdC5cbiAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gY29tbWl0Um9vdChmaW5pc2hlZFdvcmspO1xufVxuXG4vLyBXaGVuIHdvcmtpbmcgb24gYXN5bmMgd29yaywgdGhlIHJlY29uY2lsZXIgYXNrcyB0aGUgcmVuZGVyZXIgaWYgaXQgc2hvdWxkXG4vLyB5aWVsZCBleGVjdXRpb24uIEZvciBET00sIHdlIGltcGxlbWVudCB0aGlzIHdpdGggcmVxdWVzdElkbGVDYWxsYmFjay5cbmZ1bmN0aW9uIHNob3VsZFlpZWxkKCkge1xuICBpZiAoZGVhZGxpbmUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGRlYWRsaW5lLnRpbWVSZW1haW5pbmcoKSA+IHRpbWVIZXVyaXN0aWNGb3JVbml0T2ZXb3JrKSB7XG4gICAgLy8gRGlzcmVnYXJkIGRlYWRsaW5lLmRpZFRpbWVvdXQuIE9ubHkgZXhwaXJlZCB3b3JrIHNob3VsZCBiZSBmbHVzaGVkXG4gICAgLy8gZHVyaW5nIGEgdGltZW91dC4gVGhpcyBwYXRoIGlzIG9ubHkgaGl0IGZvciBub24tZXhwaXJlZCB3b3JrLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBkZWFkbGluZURpZEV4cGlyZSA9IHRydWU7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBvblVuY2F1Z2h0RXJyb3IoZXJyb3IpIHtcbiAgIShuZXh0Rmx1c2hlZFJvb3QgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnU2hvdWxkIGJlIHdvcmtpbmcgb24gYSByb290LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAvLyBVbnNjaGVkdWxlIHRoaXMgcm9vdCBzbyB3ZSBkb24ndCB3b3JrIG9uIGl0IGFnYWluIHVudGlsIHRoZXJlJ3NcbiAgLy8gYW5vdGhlciB1cGRhdGUuXG4gIG5leHRGbHVzaGVkUm9vdC5yZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgaWYgKCFoYXNVbmhhbmRsZWRFcnJvcikge1xuICAgIGhhc1VuaGFuZGxlZEVycm9yID0gdHJ1ZTtcbiAgICB1bmhhbmRsZWRFcnJvciA9IGVycm9yO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uQmxvY2socmVtYWluaW5nRXhwaXJhdGlvblRpbWUpIHtcbiAgIShuZXh0Rmx1c2hlZFJvb3QgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnU2hvdWxkIGJlIHdvcmtpbmcgb24gYSByb290LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAvLyBUaGlzIHJvb3Qgd2FzIGJsb2NrZWQuIFVuc2NoZWR1bGUgaXQgdW50aWwgdGhlcmUncyBhbm90aGVyIHVwZGF0ZS5cbiAgbmV4dEZsdXNoZWRSb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gcmVtYWluaW5nRXhwaXJhdGlvblRpbWU7XG59XG5cbi8vIFRPRE86IEJhdGNoaW5nIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBhdCB0aGUgcmVuZGVyZXIgbGV2ZWwsIG5vdCBpbnNpZGVcbi8vIHRoZSByZWNvbmNpbGVyLlxuZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMkMShmbiwgYSkge1xuICB2YXIgcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcyA9IGlzQmF0Y2hpbmdVcGRhdGVzO1xuICBpc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZuKGEpO1xuICB9IGZpbmFsbHkge1xuICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcztcbiAgICBpZiAoIWlzQmF0Y2hpbmdVcGRhdGVzICYmICFpc1JlbmRlcmluZykge1xuICAgICAgcGVyZm9ybVN5bmNXb3JrKCk7XG4gICAgfVxuICB9XG59XG5cbi8vIFRPRE86IEJhdGNoaW5nIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBhdCB0aGUgcmVuZGVyZXIgbGV2ZWwsIG5vdCBpbnNpZGVcbi8vIHRoZSByZWNvbmNpbGVyLlxuZnVuY3Rpb24gdW5iYXRjaGVkVXBkYXRlcyhmbiwgYSkge1xuICBpZiAoaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzVW5iYXRjaGluZ1VwZGF0ZXMpIHtcbiAgICBpc1VuYmF0Y2hpbmdVcGRhdGVzID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuKGEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc1VuYmF0Y2hpbmdVcGRhdGVzID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBmbihhKTtcbn1cblxuLy8gVE9ETzogQmF0Y2hpbmcgc2hvdWxkIGJlIGltcGxlbWVudGVkIGF0IHRoZSByZW5kZXJlciBsZXZlbCwgbm90IHdpdGhpblxuLy8gdGhlIHJlY29uY2lsZXIuXG5mdW5jdGlvbiBmbHVzaFN5bmMoZm4sIGEpIHtcbiAgISFpc1JlbmRlcmluZyA/IGludmFyaWFudChmYWxzZSwgJ2ZsdXNoU3luYyB3YXMgY2FsbGVkIGZyb20gaW5zaWRlIGEgbGlmZWN5Y2xlIG1ldGhvZC4gSXQgY2Fubm90IGJlIGNhbGxlZCB3aGVuIFJlYWN0IGlzIGFscmVhZHkgcmVuZGVyaW5nLicpIDogdm9pZCAwO1xuICB2YXIgcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcyA9IGlzQmF0Y2hpbmdVcGRhdGVzO1xuICBpc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHN5bmNVcGRhdGVzKGZuLCBhKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgcGVyZm9ybVN5bmNXb3JrKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW50ZXJhY3RpdmVVcGRhdGVzJDEoZm4sIGEsIGIpIHtcbiAgaWYgKGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMpIHtcbiAgICByZXR1cm4gZm4oYSwgYik7XG4gIH1cbiAgLy8gSWYgdGhlcmUgYXJlIGFueSBwZW5kaW5nIGludGVyYWN0aXZlIHVwZGF0ZXMsIHN5bmNocm9ub3VzbHkgZmx1c2ggdGhlbS5cbiAgLy8gVGhpcyBuZWVkcyB0byBoYXBwZW4gYmVmb3JlIHdlIHJlYWQgYW55IGhhbmRsZXJzLCBiZWNhdXNlIHRoZSBlZmZlY3Qgb2ZcbiAgLy8gdGhlIHByZXZpb3VzIGV2ZW50IG1heSBpbmZsdWVuY2Ugd2hpY2ggaGFuZGxlcnMgYXJlIGNhbGxlZCBkdXJpbmdcbiAgLy8gdGhpcyBldmVudC5cbiAgaWYgKCFpc0JhdGNoaW5nVXBkYXRlcyAmJiAhaXNSZW5kZXJpbmcgJiYgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgIC8vIFN5bmNocm9ub3VzbHkgZmx1c2ggcGVuZGluZyBpbnRlcmFjdGl2ZSB1cGRhdGVzLlxuICAgIHBlcmZvcm1Xb3JrKGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lLCBmYWxzZSwgbnVsbCk7XG4gICAgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIH1cbiAgdmFyIHByZXZpb3VzSXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyA9IGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXM7XG4gIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzID0gaXNCYXRjaGluZ1VwZGF0ZXM7XG4gIGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMgPSB0cnVlO1xuICBpc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZuKGEsIGIpO1xuICB9IGZpbmFsbHkge1xuICAgIGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMgPSBwcmV2aW91c0lzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXM7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzO1xuICAgIGlmICghaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzUmVuZGVyaW5nKSB7XG4gICAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMkMSgpIHtcbiAgaWYgKCFpc1JlbmRlcmluZyAmJiBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrKSB7XG4gICAgLy8gU3luY2hyb25vdXNseSBmbHVzaCBwZW5kaW5nIGludGVyYWN0aXZlIHVwZGF0ZXMuXG4gICAgcGVyZm9ybVdvcmsobG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUsIGZhbHNlLCBudWxsKTtcbiAgICBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgfVxufVxuXG5mdW5jdGlvbiBmbHVzaENvbnRyb2xsZWQoZm4pIHtcbiAgdmFyIHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXMgPSBpc0JhdGNoaW5nVXBkYXRlcztcbiAgaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICB0cnkge1xuICAgIHN5bmNVcGRhdGVzKGZuKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgaWYgKCFpc0JhdGNoaW5nVXBkYXRlcyAmJiAhaXNSZW5kZXJpbmcpIHtcbiAgICAgIHBlcmZvcm1Xb3JrKFN5bmMsIGZhbHNlLCBudWxsKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gMCBpcyBQUk9ELCAxIGlzIERFVi5cbi8vIE1pZ2h0IGFkZCBQUk9GSUxFIGxhdGVyLlxuXG5cbnZhciBkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzID0gdm9pZCAwO1xuXG57XG4gIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0Q29udGV4dEZvclN1YnRyZWUocGFyZW50Q29tcG9uZW50KSB7XG4gIGlmICghcGFyZW50Q29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICB9XG5cbiAgdmFyIGZpYmVyID0gZ2V0KHBhcmVudENvbXBvbmVudCk7XG4gIHZhciBwYXJlbnRDb250ZXh0ID0gZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHQoZmliZXIpO1xuICByZXR1cm4gaXNDb250ZXh0UHJvdmlkZXIoZmliZXIpID8gcHJvY2Vzc0NoaWxkQ29udGV4dChmaWJlciwgcGFyZW50Q29udGV4dCkgOiBwYXJlbnRDb250ZXh0O1xufVxuXG5mdW5jdGlvbiBzY2hlZHVsZVJvb3RVcGRhdGUoY3VycmVudCwgZWxlbWVudCwgZXhwaXJhdGlvblRpbWUsIGNhbGxiYWNrKSB7XG4gIHtcbiAgICBpZiAoUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5waGFzZSA9PT0gJ3JlbmRlcicgJiYgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50ICE9PSBudWxsICYmICFkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzKSB7XG4gICAgICBkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzID0gdHJ1ZTtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdSZW5kZXIgbWV0aG9kcyBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZTsgJyArICd0cmlnZ2VyaW5nIG5lc3RlZCBjb21wb25lbnQgdXBkYXRlcyBmcm9tIHJlbmRlciBpcyBub3QgYWxsb3dlZC4gJyArICdJZiBuZWNlc3NhcnksIHRyaWdnZXIgbmVzdGVkIHVwZGF0ZXMgaW4gY29tcG9uZW50RGlkVXBkYXRlLlxcblxcbicgKyAnQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJXMuJywgZ2V0Q29tcG9uZW50TmFtZShSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQpIHx8ICdVbmtub3duJyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHVwZGF0ZSA9IGNyZWF0ZVVwZGF0ZShleHBpcmF0aW9uVGltZSk7XG4gIC8vIENhdXRpb246IFJlYWN0IERldlRvb2xzIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJvcGVydHlcbiAgLy8gYmVpbmcgY2FsbGVkIFwiZWxlbWVudFwiLlxuICB1cGRhdGUucGF5bG9hZCA9IHsgZWxlbWVudDogZWxlbWVudCB9O1xuXG4gIGNhbGxiYWNrID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaztcbiAgaWYgKGNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgISh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpID8gd2FybmluZyhmYWxzZSwgJ3JlbmRlciguLi4pOiBFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgJyArICdmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuJywgY2FsbGJhY2spIDogdm9pZCAwO1xuICAgIHVwZGF0ZS5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICB9XG4gIGVucXVldWVVcGRhdGUoY3VycmVudCwgdXBkYXRlLCBleHBpcmF0aW9uVGltZSk7XG5cbiAgc2NoZWR1bGVXb3JrJDEoY3VycmVudCwgZXhwaXJhdGlvblRpbWUpO1xuICByZXR1cm4gZXhwaXJhdGlvblRpbWU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWUoZWxlbWVudCwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIGV4cGlyYXRpb25UaW1lLCBjYWxsYmFjaykge1xuICAvLyBUT0RPOiBJZiB0aGlzIGlzIGEgbmVzdGVkIGNvbnRhaW5lciwgdGhpcyB3b24ndCBiZSB0aGUgcm9vdC5cbiAgdmFyIGN1cnJlbnQgPSBjb250YWluZXIuY3VycmVudDtcblxuICB7XG4gICAgaWYgKFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wpIHtcbiAgICAgIGlmIChjdXJyZW50LmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uTW91bnRDb250YWluZXIoY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uVW5tb3VudENvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vblVwZGF0ZUNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBjb250ZXh0ID0gZ2V0Q29udGV4dEZvclN1YnRyZWUocGFyZW50Q29tcG9uZW50KTtcbiAgaWYgKGNvbnRhaW5lci5jb250ZXh0ID09PSBudWxsKSB7XG4gICAgY29udGFpbmVyLmNvbnRleHQgPSBjb250ZXh0O1xuICB9IGVsc2Uge1xuICAgIGNvbnRhaW5lci5wZW5kaW5nQ29udGV4dCA9IGNvbnRleHQ7XG4gIH1cblxuICByZXR1cm4gc2NoZWR1bGVSb290VXBkYXRlKGN1cnJlbnQsIGVsZW1lbnQsIGV4cGlyYXRpb25UaW1lLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIGZpbmRIb3N0SW5zdGFuY2UoY29tcG9uZW50KSB7XG4gIHZhciBmaWJlciA9IGdldChjb21wb25lbnQpO1xuICBpZiAoZmliZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgY29tcG9uZW50LnJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdBcmd1bWVudCBhcHBlYXJzIHRvIG5vdCBiZSBhIFJlYWN0Q29tcG9uZW50LiBLZXlzOiAlcycsIE9iamVjdC5rZXlzKGNvbXBvbmVudCkpO1xuICAgIH1cbiAgfVxuICB2YXIgaG9zdEZpYmVyID0gZmluZEN1cnJlbnRIb3N0RmliZXIoZmliZXIpO1xuICBpZiAoaG9zdEZpYmVyID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGhvc3RGaWJlci5zdGF0ZU5vZGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lcihjb250YWluZXJJbmZvLCBpc0FzeW5jLCBoeWRyYXRlKSB7XG4gIHJldHVybiBjcmVhdGVGaWJlclJvb3QoY29udGFpbmVySW5mbywgaXNBc3luYywgaHlkcmF0ZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvbnRhaW5lcihlbGVtZW50LCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgY2FsbGJhY2spIHtcbiAgdmFyIGN1cnJlbnQgPSBjb250YWluZXIuY3VycmVudDtcbiAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICB2YXIgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGN1cnJlbnRUaW1lLCBjdXJyZW50KTtcbiAgcmV0dXJuIHVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWUoZWxlbWVudCwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIGV4cGlyYXRpb25UaW1lLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIGdldFB1YmxpY1Jvb3RJbnN0YW5jZShjb250YWluZXIpIHtcbiAgdmFyIGNvbnRhaW5lckZpYmVyID0gY29udGFpbmVyLmN1cnJlbnQ7XG4gIGlmICghY29udGFpbmVyRmliZXIuY2hpbGQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBzd2l0Y2ggKGNvbnRhaW5lckZpYmVyLmNoaWxkLnRhZykge1xuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHJldHVybiBnZXRQdWJsaWNJbnN0YW5jZShjb250YWluZXJGaWJlci5jaGlsZC5zdGF0ZU5vZGUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gY29udGFpbmVyRmliZXIuY2hpbGQuc3RhdGVOb2RlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRIb3N0SW5zdGFuY2VXaXRoTm9Qb3J0YWxzKGZpYmVyKSB7XG4gIHZhciBob3N0RmliZXIgPSBmaW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHMoZmliZXIpO1xuICBpZiAoaG9zdEZpYmVyID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGhvc3RGaWJlci5zdGF0ZU5vZGU7XG59XG5cbmZ1bmN0aW9uIGluamVjdEludG9EZXZUb29scyhkZXZUb29sc0NvbmZpZykge1xuICB2YXIgZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UgPSBkZXZUb29sc0NvbmZpZy5maW5kRmliZXJCeUhvc3RJbnN0YW5jZTtcblxuICByZXR1cm4gaW5qZWN0SW50ZXJuYWxzKF9hc3NpZ24oe30sIGRldlRvb2xzQ29uZmlnLCB7XG4gICAgZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6IGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgdmFyIGhvc3RGaWJlciA9IGZpbmRDdXJyZW50SG9zdEZpYmVyKGZpYmVyKTtcbiAgICAgIGlmIChob3N0RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gaG9zdEZpYmVyLnN0YXRlTm9kZTtcbiAgICB9LFxuICAgIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgIGlmICghZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UpIHtcbiAgICAgICAgLy8gTWlnaHQgbm90IGJlIGltcGxlbWVudGVkIGJ5IHRoZSByZW5kZXJlci5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIH1cbiAgfSkpO1xufVxuXG4vLyBUaGlzIGZpbGUgaW50ZW50aW9uYWxseSBkb2VzICpub3QqIGhhdmUgdGhlIEZsb3cgYW5ub3RhdGlvbi5cbi8vIERvbid0IGFkZCBpdC4gU2VlIGAuL2lubGluZS10eXBlZC5qc2AgZm9yIGFuIGV4cGxhbmF0aW9uLlxuXG5cblxudmFyIERPTVJlbmRlcmVyID0gT2JqZWN0LmZyZWV6ZSh7XG5cdHVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWU6IHVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWUsXG5cdGNyZWF0ZUNvbnRhaW5lcjogY3JlYXRlQ29udGFpbmVyLFxuXHR1cGRhdGVDb250YWluZXI6IHVwZGF0ZUNvbnRhaW5lcixcblx0Zmx1c2hSb290OiBmbHVzaFJvb3QsXG5cdHJlcXVlc3RXb3JrOiByZXF1ZXN0V29yayxcblx0Y29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbjogY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbixcblx0YmF0Y2hlZFVwZGF0ZXM6IGJhdGNoZWRVcGRhdGVzJDEsXG5cdHVuYmF0Y2hlZFVwZGF0ZXM6IHVuYmF0Y2hlZFVwZGF0ZXMsXG5cdGRlZmVycmVkVXBkYXRlczogZGVmZXJyZWRVcGRhdGVzLFxuXHRzeW5jVXBkYXRlczogc3luY1VwZGF0ZXMsXG5cdGludGVyYWN0aXZlVXBkYXRlczogaW50ZXJhY3RpdmVVcGRhdGVzJDEsXG5cdGZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzOiBmbHVzaEludGVyYWN0aXZlVXBkYXRlcyQxLFxuXHRmbHVzaENvbnRyb2xsZWQ6IGZsdXNoQ29udHJvbGxlZCxcblx0Zmx1c2hTeW5jOiBmbHVzaFN5bmMsXG5cdGdldFB1YmxpY1Jvb3RJbnN0YW5jZTogZ2V0UHVibGljUm9vdEluc3RhbmNlLFxuXHRmaW5kSG9zdEluc3RhbmNlOiBmaW5kSG9zdEluc3RhbmNlLFxuXHRmaW5kSG9zdEluc3RhbmNlV2l0aE5vUG9ydGFsczogZmluZEhvc3RJbnN0YW5jZVdpdGhOb1BvcnRhbHMsXG5cdGluamVjdEludG9EZXZUb29sczogaW5qZWN0SW50b0RldlRvb2xzXG59KTtcblxuZnVuY3Rpb24gY3JlYXRlUG9ydGFsJDEoY2hpbGRyZW4sIGNvbnRhaW5lckluZm8sXG4vLyBUT0RPOiBmaWd1cmUgb3V0IHRoZSBBUEkgZm9yIGNyb3NzLXJlbmRlcmVyIGltcGxlbWVudGF0aW9uLlxuaW1wbGVtZW50YXRpb24pIHtcbiAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblxuICByZXR1cm4ge1xuICAgIC8vIFRoaXMgdGFnIGFsbG93IHVzIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgYXMgYSBSZWFjdCBQb3J0YWxcbiAgICAkJHR5cGVvZjogUkVBQ1RfUE9SVEFMX1RZUEUsXG4gICAga2V5OiBrZXkgPT0gbnVsbCA/IG51bGwgOiAnJyArIGtleSxcbiAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgY29udGFpbmVySW5mbzogY29udGFpbmVySW5mbyxcbiAgICBpbXBsZW1lbnRhdGlvbjogaW1wbGVtZW50YXRpb25cbiAgfTtcbn1cblxuLy8gVE9ETzogdGhpcyBpcyBzcGVjaWFsIGJlY2F1c2UgaXQgZ2V0cyBpbXBvcnRlZCBkdXJpbmcgYnVpbGQuXG5cbnZhciBSZWFjdFZlcnNpb24gPSAnMTYuNC4xJztcblxuLy8gVE9ETzogVGhpcyB0eXBlIGlzIHNoYXJlZCBiZXR3ZWVuIHRoZSByZWNvbmNpbGVyIGFuZCBSZWFjdERPTSwgYnV0IHdpbGxcbi8vIGV2ZW50dWFsbHkgYmUgbGlmdGVkIG91dCB0byB0aGUgcmVuZGVyZXIuXG52YXIgdG9wTGV2ZWxVcGRhdGVXYXJuaW5ncyA9IHZvaWQgMDtcbnZhciB3YXJuT25JbnZhbGlkQ2FsbGJhY2sgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0VW5zdGFibGVDcmVhdGVQb3J0YWwgPSBmYWxzZTtcblxue1xuICBpZiAodHlwZW9mIE1hcCAhPT0gJ2Z1bmN0aW9uJyB8fFxuICAvLyAkRmxvd0lzc3VlIEZsb3cgaW5jb3JyZWN0bHkgdGhpbmtzIE1hcCBoYXMgbm8gcHJvdG90eXBlXG4gIE1hcC5wcm90b3R5cGUgPT0gbnVsbCB8fCB0eXBlb2YgTWFwLnByb3RvdHlwZS5mb3JFYWNoICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBTZXQgIT09ICdmdW5jdGlvbicgfHxcbiAgLy8gJEZsb3dJc3N1ZSBGbG93IGluY29ycmVjdGx5IHRoaW5rcyBTZXQgaGFzIG5vIHByb3RvdHlwZVxuICBTZXQucHJvdG90eXBlID09IG51bGwgfHwgdHlwZW9mIFNldC5wcm90b3R5cGUuY2xlYXIgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIFNldC5wcm90b3R5cGUuZm9yRWFjaCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdCBkZXBlbmRzIG9uIE1hcCBhbmQgU2V0IGJ1aWx0LWluIHR5cGVzLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhICcgKyAncG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzJyk7XG4gIH1cblxuICB0b3BMZXZlbFVwZGF0ZVdhcm5pbmdzID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgIGlmIChjb250YWluZXIuX3JlYWN0Um9vdENvbnRhaW5lciAmJiBjb250YWluZXIubm9kZVR5cGUgIT09IENPTU1FTlRfTk9ERSkge1xuICAgICAgdmFyIGhvc3RJbnN0YW5jZSA9IGZpbmRIb3N0SW5zdGFuY2VXaXRoTm9Qb3J0YWxzKGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyLl9pbnRlcm5hbFJvb3QuY3VycmVudCk7XG4gICAgICBpZiAoaG9zdEluc3RhbmNlKSB7XG4gICAgICAgICEoaG9zdEluc3RhbmNlLnBhcmVudE5vZGUgPT09IGNvbnRhaW5lcikgPyB3YXJuaW5nKGZhbHNlLCAncmVuZGVyKC4uLik6IEl0IGxvb2tzIGxpa2UgdGhlIFJlYWN0LXJlbmRlcmVkIGNvbnRlbnQgb2YgdGhpcyAnICsgJ2NvbnRhaW5lciB3YXMgcmVtb3ZlZCB3aXRob3V0IHVzaW5nIFJlYWN0LiBUaGlzIGlzIG5vdCAnICsgJ3N1cHBvcnRlZCBhbmQgd2lsbCBjYXVzZSBlcnJvcnMuIEluc3RlYWQsIGNhbGwgJyArICdSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlIHRvIGVtcHR5IGEgY29udGFpbmVyLicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpc1Jvb3RSZW5kZXJlZEJ5U29tZVJlYWN0ID0gISFjb250YWluZXIuX3JlYWN0Um9vdENvbnRhaW5lcjtcbiAgICB2YXIgcm9vdEVsID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgdmFyIGhhc05vblJvb3RSZWFjdENoaWxkID0gISEocm9vdEVsICYmIGdldEluc3RhbmNlRnJvbU5vZGUkMShyb290RWwpKTtcblxuICAgICEoIWhhc05vblJvb3RSZWFjdENoaWxkIHx8IGlzUm9vdFJlbmRlcmVkQnlTb21lUmVhY3QpID8gd2FybmluZyhmYWxzZSwgJ3JlbmRlciguLi4pOiBSZXBsYWNpbmcgUmVhY3QtcmVuZGVyZWQgY2hpbGRyZW4gd2l0aCBhIG5ldyByb290ICcgKyAnY29tcG9uZW50LiBJZiB5b3UgaW50ZW5kZWQgdG8gdXBkYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGlzIG5vZGUsICcgKyAneW91IHNob3VsZCBpbnN0ZWFkIGhhdmUgdGhlIGV4aXN0aW5nIGNoaWxkcmVuIHVwZGF0ZSB0aGVpciBzdGF0ZSAnICsgJ2FuZCByZW5kZXIgdGhlIG5ldyBjb21wb25lbnRzIGluc3RlYWQgb2YgY2FsbGluZyBSZWFjdERPTS5yZW5kZXIuJykgOiB2b2lkIDA7XG5cbiAgICAhKGNvbnRhaW5lci5ub2RlVHlwZSAhPT0gRUxFTUVOVF9OT0RFIHx8ICFjb250YWluZXIudGFnTmFtZSB8fCBjb250YWluZXIudGFnTmFtZS50b1VwcGVyQ2FzZSgpICE9PSAnQk9EWScpID8gd2FybmluZyhmYWxzZSwgJ3JlbmRlcigpOiBSZW5kZXJpbmcgY29tcG9uZW50cyBkaXJlY3RseSBpbnRvIGRvY3VtZW50LmJvZHkgaXMgJyArICdkaXNjb3VyYWdlZCwgc2luY2UgaXRzIGNoaWxkcmVuIGFyZSBvZnRlbiBtYW5pcHVsYXRlZCBieSB0aGlyZC1wYXJ0eSAnICsgJ3NjcmlwdHMgYW5kIGJyb3dzZXIgZXh0ZW5zaW9ucy4gVGhpcyBtYXkgbGVhZCB0byBzdWJ0bGUgJyArICdyZWNvbmNpbGlhdGlvbiBpc3N1ZXMuIFRyeSByZW5kZXJpbmcgaW50byBhIGNvbnRhaW5lciBlbGVtZW50IGNyZWF0ZWQgJyArICdmb3IgeW91ciBhcHAuJykgOiB2b2lkIDA7XG4gIH07XG5cbiAgd2Fybk9uSW52YWxpZENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgIShjYWxsYmFjayA9PT0gbnVsbCB8fCB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpID8gd2FybmluZyhmYWxzZSwgJyVzKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy4nLCBjYWxsZXJOYW1lLCBjYWxsYmFjaykgOiB2b2lkIDA7XG4gIH07XG59XG5cbmluamVjdGlvbiQyLmluamVjdEZpYmVyQ29udHJvbGxlZEhvc3RDb21wb25lbnQoUmVhY3RET01GaWJlckNvbXBvbmVudCk7XG5cbmZ1bmN0aW9uIFJlYWN0QmF0Y2gocm9vdCkge1xuICB2YXIgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uKCk7XG4gIHRoaXMuX2V4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIHRoaXMuX3Jvb3QgPSByb290O1xuICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgdGhpcy5fY2FsbGJhY2tzID0gbnVsbDtcbiAgdGhpcy5fZGlkQ29tcGxldGUgPSBmYWxzZTtcbiAgdGhpcy5faGFzQ2hpbGRyZW4gPSBmYWxzZTtcbiAgdGhpcy5fY2hpbGRyZW4gPSBudWxsO1xuICB0aGlzLl9kZWZlciA9IHRydWU7XG59XG5SZWFjdEJhdGNoLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgIXRoaXMuX2RlZmVyID8gaW52YXJpYW50KGZhbHNlLCAnYmF0Y2gucmVuZGVyOiBDYW5ub3QgcmVuZGVyIGEgYmF0Y2ggdGhhdCBhbHJlYWR5IGNvbW1pdHRlZC4nKSA6IHZvaWQgMDtcbiAgdGhpcy5faGFzQ2hpbGRyZW4gPSB0cnVlO1xuICB0aGlzLl9jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB2YXIgaW50ZXJuYWxSb290ID0gdGhpcy5fcm9vdC5faW50ZXJuYWxSb290O1xuICB2YXIgZXhwaXJhdGlvblRpbWUgPSB0aGlzLl9leHBpcmF0aW9uVGltZTtcbiAgdmFyIHdvcmsgPSBuZXcgUmVhY3RXb3JrKCk7XG4gIHVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWUoY2hpbGRyZW4sIGludGVybmFsUm9vdCwgbnVsbCwgZXhwaXJhdGlvblRpbWUsIHdvcmsuX29uQ29tbWl0KTtcbiAgcmV0dXJuIHdvcms7XG59O1xuUmVhY3RCYXRjaC5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChvbkNvbXBsZXRlKSB7XG4gIGlmICh0aGlzLl9kaWRDb21wbGV0ZSkge1xuICAgIG9uQ29tcGxldGUoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcztcbiAgaWYgKGNhbGxiYWNrcyA9PT0gbnVsbCkge1xuICAgIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyA9IFtdO1xuICB9XG4gIGNhbGxiYWNrcy5wdXNoKG9uQ29tcGxldGUpO1xufTtcblJlYWN0QmF0Y2gucHJvdG90eXBlLmNvbW1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGludGVybmFsUm9vdCA9IHRoaXMuX3Jvb3QuX2ludGVybmFsUm9vdDtcbiAgdmFyIGZpcnN0QmF0Y2ggPSBpbnRlcm5hbFJvb3QuZmlyc3RCYXRjaDtcbiAgISh0aGlzLl9kZWZlciAmJiBmaXJzdEJhdGNoICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ2JhdGNoLmNvbW1pdDogQ2Fubm90IGNvbW1pdCBhIGJhdGNoIG11bHRpcGxlIHRpbWVzLicpIDogdm9pZCAwO1xuXG4gIGlmICghdGhpcy5faGFzQ2hpbGRyZW4pIHtcbiAgICAvLyBUaGlzIGJhdGNoIGlzIGVtcHR5LiBSZXR1cm4uXG4gICAgdGhpcy5fbmV4dCA9IG51bGw7XG4gICAgdGhpcy5fZGVmZXIgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZXhwaXJhdGlvblRpbWUgPSB0aGlzLl9leHBpcmF0aW9uVGltZTtcblxuICAvLyBFbnN1cmUgdGhpcyBpcyB0aGUgZmlyc3QgYmF0Y2ggaW4gdGhlIGxpc3QuXG4gIGlmIChmaXJzdEJhdGNoICE9PSB0aGlzKSB7XG4gICAgLy8gVGhpcyBiYXRjaCBpcyBub3QgdGhlIGVhcmxpZXN0IGJhdGNoLiBXZSBuZWVkIHRvIG1vdmUgaXQgdG8gdGhlIGZyb250LlxuICAgIC8vIFVwZGF0ZSBpdHMgZXhwaXJhdGlvbiB0aW1lIHRvIGJlIHRoZSBleHBpcmF0aW9uIHRpbWUgb2YgdGhlIGVhcmxpZXN0XG4gICAgLy8gYmF0Y2gsIHNvIHRoYXQgd2UgY2FuIGZsdXNoIGl0IHdpdGhvdXQgZmx1c2hpbmcgdGhlIG90aGVyIGJhdGNoZXMuXG4gICAgaWYgKHRoaXMuX2hhc0NoaWxkcmVuKSB7XG4gICAgICBleHBpcmF0aW9uVGltZSA9IHRoaXMuX2V4cGlyYXRpb25UaW1lID0gZmlyc3RCYXRjaC5fZXhwaXJhdGlvblRpbWU7XG4gICAgICAvLyBSZW5kZXJpbmcgdGhpcyBiYXRjaCBhZ2FpbiBlbnN1cmVzIGl0cyBjaGlsZHJlbiB3aWxsIGJlIHRoZSBmaW5hbCBzdGF0ZVxuICAgICAgLy8gd2hlbiB3ZSBmbHVzaCAodXBkYXRlcyBhcmUgcHJvY2Vzc2VkIGluIGluc2VydGlvbiBvcmRlcjogbGFzdFxuICAgICAgLy8gdXBkYXRlIHdpbnMpLlxuICAgICAgLy8gVE9ETzogVGhpcyBmb3JjZXMgYSByZXN0YXJ0LiBTaG91bGQgd2UgcHJpbnQgYSB3YXJuaW5nP1xuICAgICAgdGhpcy5yZW5kZXIodGhpcy5fY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSB0aGUgYmF0Y2ggZnJvbSB0aGUgbGlzdC5cbiAgICB2YXIgcHJldmlvdXMgPSBudWxsO1xuICAgIHZhciBiYXRjaCA9IGZpcnN0QmF0Y2g7XG4gICAgd2hpbGUgKGJhdGNoICE9PSB0aGlzKSB7XG4gICAgICBwcmV2aW91cyA9IGJhdGNoO1xuICAgICAgYmF0Y2ggPSBiYXRjaC5fbmV4dDtcbiAgICB9XG4gICAgIShwcmV2aW91cyAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdiYXRjaC5jb21taXQ6IENhbm5vdCBjb21taXQgYSBiYXRjaCBtdWx0aXBsZSB0aW1lcy4nKSA6IHZvaWQgMDtcbiAgICBwcmV2aW91cy5fbmV4dCA9IGJhdGNoLl9uZXh0O1xuXG4gICAgLy8gQWRkIGl0IHRvIHRoZSBmcm9udC5cbiAgICB0aGlzLl9uZXh0ID0gZmlyc3RCYXRjaDtcbiAgICBmaXJzdEJhdGNoID0gaW50ZXJuYWxSb290LmZpcnN0QmF0Y2ggPSB0aGlzO1xuICB9XG5cbiAgLy8gU3luY2hyb25vdXNseSBmbHVzaCBhbGwgdGhlIHdvcmsgdXAgdG8gdGhpcyBiYXRjaCdzIGV4cGlyYXRpb24gdGltZS5cbiAgdGhpcy5fZGVmZXIgPSBmYWxzZTtcbiAgZmx1c2hSb290KGludGVybmFsUm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuXG4gIC8vIFBvcCB0aGUgYmF0Y2ggZnJvbSB0aGUgbGlzdC5cbiAgdmFyIG5leHQgPSB0aGlzLl9uZXh0O1xuICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgZmlyc3RCYXRjaCA9IGludGVybmFsUm9vdC5maXJzdEJhdGNoID0gbmV4dDtcblxuICAvLyBBcHBlbmQgdGhlIG5leHQgZWFybGllc3QgYmF0Y2gncyBjaGlsZHJlbiB0byB0aGUgdXBkYXRlIHF1ZXVlLlxuICBpZiAoZmlyc3RCYXRjaCAhPT0gbnVsbCAmJiBmaXJzdEJhdGNoLl9oYXNDaGlsZHJlbikge1xuICAgIGZpcnN0QmF0Y2gucmVuZGVyKGZpcnN0QmF0Y2guX2NoaWxkcmVuKTtcbiAgfVxufTtcblJlYWN0QmF0Y2gucHJvdG90eXBlLl9vbkNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fZGlkQ29tcGxldGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fZGlkQ29tcGxldGUgPSB0cnVlO1xuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzO1xuICBpZiAoY2FsbGJhY2tzID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFRPRE86IEVycm9yIGhhbmRsaW5nLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBfY2FsbGJhY2sgPSBjYWxsYmFja3NbaV07XG4gICAgX2NhbGxiYWNrKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFJlYWN0V29yaygpIHtcbiAgdGhpcy5fY2FsbGJhY2tzID0gbnVsbDtcbiAgdGhpcy5fZGlkQ29tbWl0ID0gZmFsc2U7XG4gIC8vIFRPRE86IEF2b2lkIG5lZWQgdG8gYmluZCBieSByZXBsYWNpbmcgY2FsbGJhY2tzIGluIHRoZSB1cGRhdGUgcXVldWUgd2l0aFxuICAvLyBsaXN0IG9mIFdvcmsgb2JqZWN0cy5cbiAgdGhpcy5fb25Db21taXQgPSB0aGlzLl9vbkNvbW1pdC5iaW5kKHRoaXMpO1xufVxuUmVhY3RXb3JrLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uQ29tbWl0KSB7XG4gIGlmICh0aGlzLl9kaWRDb21taXQpIHtcbiAgICBvbkNvbW1pdCgpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzO1xuICBpZiAoY2FsbGJhY2tzID09PSBudWxsKSB7XG4gICAgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzID0gW107XG4gIH1cbiAgY2FsbGJhY2tzLnB1c2gob25Db21taXQpO1xufTtcblJlYWN0V29yay5wcm90b3R5cGUuX29uQ29tbWl0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fZGlkQ29tbWl0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuX2RpZENvbW1pdCA9IHRydWU7XG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3M7XG4gIGlmIChjYWxsYmFja3MgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gVE9ETzogRXJyb3IgaGFuZGxpbmcuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIF9jYWxsYmFjazIgPSBjYWxsYmFja3NbaV07XG4gICAgISh0eXBlb2YgX2NhbGxiYWNrMiA9PT0gJ2Z1bmN0aW9uJykgPyBpbnZhcmlhbnQoZmFsc2UsICdJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCBhcyBjYWxsYmFjay4gRXhwZWN0ZWQgYSBmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMnLCBfY2FsbGJhY2syKSA6IHZvaWQgMDtcbiAgICBfY2FsbGJhY2syKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFJlYWN0Um9vdChjb250YWluZXIsIGlzQXN5bmMsIGh5ZHJhdGUpIHtcbiAgdmFyIHJvb3QgPSBjcmVhdGVDb250YWluZXIoY29udGFpbmVyLCBpc0FzeW5jLCBoeWRyYXRlKTtcbiAgdGhpcy5faW50ZXJuYWxSb290ID0gcm9vdDtcbn1cblJlYWN0Um9vdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBjYWxsYmFjaykge1xuICB2YXIgcm9vdCA9IHRoaXMuX2ludGVybmFsUm9vdDtcbiAgdmFyIHdvcmsgPSBuZXcgUmVhY3RXb3JrKCk7XG4gIGNhbGxiYWNrID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaztcbiAge1xuICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjaywgJ3JlbmRlcicpO1xuICB9XG4gIGlmIChjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgIHdvcmsudGhlbihjYWxsYmFjayk7XG4gIH1cbiAgdXBkYXRlQ29udGFpbmVyKGNoaWxkcmVuLCByb290LCBudWxsLCB3b3JrLl9vbkNvbW1pdCk7XG4gIHJldHVybiB3b3JrO1xufTtcblJlYWN0Um9vdC5wcm90b3R5cGUudW5tb3VudCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB2YXIgcm9vdCA9IHRoaXMuX2ludGVybmFsUm9vdDtcbiAgdmFyIHdvcmsgPSBuZXcgUmVhY3RXb3JrKCk7XG4gIGNhbGxiYWNrID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaztcbiAge1xuICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjaywgJ3JlbmRlcicpO1xuICB9XG4gIGlmIChjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgIHdvcmsudGhlbihjYWxsYmFjayk7XG4gIH1cbiAgdXBkYXRlQ29udGFpbmVyKG51bGwsIHJvb3QsIG51bGwsIHdvcmsuX29uQ29tbWl0KTtcbiAgcmV0dXJuIHdvcms7XG59O1xuUmVhY3RSb290LnByb3RvdHlwZS5sZWdhY3lfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIgPSBmdW5jdGlvbiAocGFyZW50Q29tcG9uZW50LCBjaGlsZHJlbiwgY2FsbGJhY2spIHtcbiAgdmFyIHJvb3QgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gIHZhciB3b3JrID0gbmV3IFJlYWN0V29yaygpO1xuICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gIHtcbiAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2ssICdyZW5kZXInKTtcbiAgfVxuICBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICB3b3JrLnRoZW4oY2FsbGJhY2spO1xuICB9XG4gIHVwZGF0ZUNvbnRhaW5lcihjaGlsZHJlbiwgcm9vdCwgcGFyZW50Q29tcG9uZW50LCB3b3JrLl9vbkNvbW1pdCk7XG4gIHJldHVybiB3b3JrO1xufTtcblJlYWN0Um9vdC5wcm90b3R5cGUuY3JlYXRlQmF0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBiYXRjaCA9IG5ldyBSZWFjdEJhdGNoKHRoaXMpO1xuICB2YXIgZXhwaXJhdGlvblRpbWUgPSBiYXRjaC5fZXhwaXJhdGlvblRpbWU7XG5cbiAgdmFyIGludGVybmFsUm9vdCA9IHRoaXMuX2ludGVybmFsUm9vdDtcbiAgdmFyIGZpcnN0QmF0Y2ggPSBpbnRlcm5hbFJvb3QuZmlyc3RCYXRjaDtcbiAgaWYgKGZpcnN0QmF0Y2ggPT09IG51bGwpIHtcbiAgICBpbnRlcm5hbFJvb3QuZmlyc3RCYXRjaCA9IGJhdGNoO1xuICAgIGJhdGNoLl9uZXh0ID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICAvLyBJbnNlcnQgc29ydGVkIGJ5IGV4cGlyYXRpb24gdGltZSB0aGVuIGluc2VydGlvbiBvcmRlclxuICAgIHZhciBpbnNlcnRBZnRlciA9IG51bGw7XG4gICAgdmFyIGluc2VydEJlZm9yZSA9IGZpcnN0QmF0Y2g7XG4gICAgd2hpbGUgKGluc2VydEJlZm9yZSAhPT0gbnVsbCAmJiBpbnNlcnRCZWZvcmUuX2V4cGlyYXRpb25UaW1lIDw9IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICBpbnNlcnRBZnRlciA9IGluc2VydEJlZm9yZTtcbiAgICAgIGluc2VydEJlZm9yZSA9IGluc2VydEJlZm9yZS5fbmV4dDtcbiAgICB9XG4gICAgYmF0Y2guX25leHQgPSBpbnNlcnRCZWZvcmU7XG4gICAgaWYgKGluc2VydEFmdGVyICE9PSBudWxsKSB7XG4gICAgICBpbnNlcnRBZnRlci5fbmV4dCA9IGJhdGNoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBiYXRjaDtcbn07XG5cbi8qKlxuICogVHJ1ZSBpZiB0aGUgc3VwcGxpZWQgRE9NIG5vZGUgaXMgYSB2YWxpZCBub2RlIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHs/RE9NRWxlbWVudH0gbm9kZSBUaGUgY2FuZGlkYXRlIERPTSBub2RlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgRE9NIGlzIGEgdmFsaWQgRE9NIG5vZGUuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gaXNWYWxpZENvbnRhaW5lcihub2RlKSB7XG4gIHJldHVybiAhIShub2RlICYmIChub2RlLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUgfHwgbm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfTk9ERSB8fCBub2RlLm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFIHx8IG5vZGUubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSAmJiBub2RlLm5vZGVWYWx1ZSA9PT0gJyByZWFjdC1tb3VudC1wb2ludC11bnN0YWJsZSAnKSk7XG59XG5cbmZ1bmN0aW9uIGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgaWYgKCFjb250YWluZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUpIHtcbiAgICByZXR1cm4gY29udGFpbmVyLmRvY3VtZW50RWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkSHlkcmF0ZUR1ZVRvTGVnYWN5SGV1cmlzdGljKGNvbnRhaW5lcikge1xuICB2YXIgcm9vdEVsZW1lbnQgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgcmV0dXJuICEhKHJvb3RFbGVtZW50ICYmIHJvb3RFbGVtZW50Lm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUgJiYgcm9vdEVsZW1lbnQuaGFzQXR0cmlidXRlKFJPT1RfQVRUUklCVVRFX05BTUUpKTtcbn1cblxuaW5qZWN0aW9uJDMuaW5qZWN0UmVuZGVyZXIoRE9NUmVuZGVyZXIpO1xuXG52YXIgd2FybmVkQWJvdXRIeWRyYXRlQVBJID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGxlZ2FjeUNyZWF0ZVJvb3RGcm9tRE9NQ29udGFpbmVyKGNvbnRhaW5lciwgZm9yY2VIeWRyYXRlKSB7XG4gIHZhciBzaG91bGRIeWRyYXRlID0gZm9yY2VIeWRyYXRlIHx8IHNob3VsZEh5ZHJhdGVEdWVUb0xlZ2FjeUhldXJpc3RpYyhjb250YWluZXIpO1xuICAvLyBGaXJzdCBjbGVhciBhbnkgZXhpc3RpbmcgY29udGVudC5cbiAgaWYgKCFzaG91bGRIeWRyYXRlKSB7XG4gICAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICAgIHZhciByb290U2libGluZyA9IHZvaWQgMDtcbiAgICB3aGlsZSAocm9vdFNpYmxpbmcgPSBjb250YWluZXIubGFzdENoaWxkKSB7XG4gICAgICB7XG4gICAgICAgIGlmICghd2FybmVkICYmIHJvb3RTaWJsaW5nLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUgJiYgcm9vdFNpYmxpbmcuaGFzQXR0cmlidXRlKFJPT1RfQVRUUklCVVRFX05BTUUpKSB7XG4gICAgICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAncmVuZGVyKCk6IFRhcmdldCBub2RlIGhhcyBtYXJrdXAgcmVuZGVyZWQgYnkgUmVhY3QsIGJ1dCB0aGVyZSAnICsgJ2FyZSB1bnJlbGF0ZWQgbm9kZXMgYXMgd2VsbC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGNhdXNlZCBieSAnICsgJ3doaXRlLXNwYWNlIGluc2VydGVkIGFyb3VuZCBzZXJ2ZXItcmVuZGVyZWQgbWFya3VwLicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQocm9vdFNpYmxpbmcpO1xuICAgIH1cbiAgfVxuICB7XG4gICAgaWYgKHNob3VsZEh5ZHJhdGUgJiYgIWZvcmNlSHlkcmF0ZSAmJiAhd2FybmVkQWJvdXRIeWRyYXRlQVBJKSB7XG4gICAgICB3YXJuZWRBYm91dEh5ZHJhdGVBUEkgPSB0cnVlO1xuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICdyZW5kZXIoKTogQ2FsbGluZyBSZWFjdERPTS5yZW5kZXIoKSB0byBoeWRyYXRlIHNlcnZlci1yZW5kZXJlZCBtYXJrdXAgJyArICd3aWxsIHN0b3Agd29ya2luZyBpbiBSZWFjdCB2MTcuIFJlcGxhY2UgdGhlIFJlYWN0RE9NLnJlbmRlcigpIGNhbGwgJyArICd3aXRoIFJlYWN0RE9NLmh5ZHJhdGUoKSBpZiB5b3Ugd2FudCBSZWFjdCB0byBhdHRhY2ggdG8gdGhlIHNlcnZlciBIVE1MLicpO1xuICAgIH1cbiAgfVxuICAvLyBMZWdhY3kgcm9vdHMgYXJlIG5vdCBhc3luYyBieSBkZWZhdWx0LlxuICB2YXIgaXNBc3luYyA9IGZhbHNlO1xuICByZXR1cm4gbmV3IFJlYWN0Um9vdChjb250YWluZXIsIGlzQXN5bmMsIHNob3VsZEh5ZHJhdGUpO1xufVxuXG5mdW5jdGlvbiBsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIGNoaWxkcmVuLCBjb250YWluZXIsIGZvcmNlSHlkcmF0ZSwgY2FsbGJhY2spIHtcbiAgLy8gVE9ETzogRW5zdXJlIGFsbCBlbnRyeSBwb2ludHMgY29udGFpbiB0aGlzIGNoZWNrXG4gICFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikgPyBpbnZhcmlhbnQoZmFsc2UsICdUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LicpIDogdm9pZCAwO1xuXG4gIHtcbiAgICB0b3BMZXZlbFVwZGF0ZVdhcm5pbmdzKGNvbnRhaW5lcik7XG4gIH1cblxuICAvLyBUT0RPOiBXaXRob3V0IGBhbnlgIHR5cGUsIEZsb3cgc2F5cyBcIlByb3BlcnR5IGNhbm5vdCBiZSBhY2Nlc3NlZCBvbiBhbnlcbiAgLy8gbWVtYmVyIG9mIGludGVyc2VjdGlvbiB0eXBlLlwiIFdoeXl5eXl5LlxuICB2YXIgcm9vdCA9IGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyO1xuICBpZiAoIXJvb3QpIHtcbiAgICAvLyBJbml0aWFsIG1vdW50XG4gICAgcm9vdCA9IGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyID0gbGVnYWN5Q3JlYXRlUm9vdEZyb21ET01Db250YWluZXIoY29udGFpbmVyLCBmb3JjZUh5ZHJhdGUpO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBvcmlnaW5hbENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZ2V0UHVibGljUm9vdEluc3RhbmNlKHJvb3QuX2ludGVybmFsUm9vdCk7XG4gICAgICAgIG9yaWdpbmFsQ2FsbGJhY2suY2FsbChpbnN0YW5jZSk7XG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBJbml0aWFsIG1vdW50IHNob3VsZCBub3QgYmUgYmF0Y2hlZC5cbiAgICB1bmJhdGNoZWRVcGRhdGVzKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwYXJlbnRDb21wb25lbnQgIT0gbnVsbCkge1xuICAgICAgICByb290LmxlZ2FjeV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIGNoaWxkcmVuLCBjYWxsYmFjayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290LnJlbmRlcihjaGlsZHJlbiwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBfb3JpZ2luYWxDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGdldFB1YmxpY1Jvb3RJbnN0YW5jZShyb290Ll9pbnRlcm5hbFJvb3QpO1xuICAgICAgICBfb3JpZ2luYWxDYWxsYmFjay5jYWxsKGluc3RhbmNlKTtcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIFVwZGF0ZVxuICAgIGlmIChwYXJlbnRDb21wb25lbnQgIT0gbnVsbCkge1xuICAgICAgcm9vdC5sZWdhY3lfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIocGFyZW50Q29tcG9uZW50LCBjaGlsZHJlbiwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290LnJlbmRlcihjaGlsZHJlbiwgY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ2V0UHVibGljUm9vdEluc3RhbmNlKHJvb3QuX2ludGVybmFsUm9vdCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgY29udGFpbmVyKSB7XG4gIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgIWlzVmFsaWRDb250YWluZXIoY29udGFpbmVyKSA/IGludmFyaWFudChmYWxzZSwgJ1RhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuJykgOiB2b2lkIDA7XG4gIC8vIFRPRE86IHBhc3MgUmVhY3RET00gcG9ydGFsIGltcGxlbWVudGF0aW9uIGFzIHRoaXJkIGFyZ3VtZW50XG4gIHJldHVybiBjcmVhdGVQb3J0YWwkMShjaGlsZHJlbiwgY29udGFpbmVyLCBudWxsLCBrZXkpO1xufVxuXG52YXIgUmVhY3RET00gPSB7XG4gIGNyZWF0ZVBvcnRhbDogY3JlYXRlUG9ydGFsLFxuXG4gIGZpbmRET01Ob2RlOiBmdW5jdGlvbiAoY29tcG9uZW50T3JFbGVtZW50KSB7XG4gICAge1xuICAgICAgdmFyIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICAgIGlmIChvd25lciAhPT0gbnVsbCAmJiBvd25lci5zdGF0ZU5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHdhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gb3duZXIuc3RhdGVOb2RlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlcjtcbiAgICAgICAgIXdhcm5lZEFib3V0UmVmc0luUmVuZGVyID8gd2FybmluZyhmYWxzZSwgJyVzIGlzIGFjY2Vzc2luZyBmaW5kRE9NTm9kZSBpbnNpZGUgaXRzIHJlbmRlcigpLiAnICsgJ3JlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgJyArICduZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyAnICsgJ3JlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kICcgKyAnY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuJywgZ2V0Q29tcG9uZW50TmFtZShvd25lcikgfHwgJ0EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICAgIG93bmVyLnN0YXRlTm9kZS5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29tcG9uZW50T3JFbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50T3JFbGVtZW50Lm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgIHJldHVybiBjb21wb25lbnRPckVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbmRIb3N0SW5zdGFuY2UoY29tcG9uZW50T3JFbGVtZW50KTtcbiAgfSxcbiAgaHlkcmF0ZTogZnVuY3Rpb24gKGVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPOiB0aHJvdyBvciB3YXJuIGlmIHdlIGNvdWxkbid0IGh5ZHJhdGU/XG4gICAgcmV0dXJuIGxlZ2FjeVJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKG51bGwsIGVsZW1lbnQsIGNvbnRhaW5lciwgdHJ1ZSwgY2FsbGJhY2spO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGxlZ2FjeVJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKG51bGwsIGVsZW1lbnQsIGNvbnRhaW5lciwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgfSxcbiAgdW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXI6IGZ1bmN0aW9uIChwYXJlbnRDb21wb25lbnQsIGVsZW1lbnQsIGNvbnRhaW5lck5vZGUsIGNhbGxiYWNrKSB7XG4gICAgIShwYXJlbnRDb21wb25lbnQgIT0gbnVsbCAmJiBoYXMocGFyZW50Q29tcG9uZW50KSkgPyBpbnZhcmlhbnQoZmFsc2UsICdwYXJlbnRDb21wb25lbnQgbXVzdCBiZSBhIHZhbGlkIFJlYWN0IENvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgIHJldHVybiBsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIGVsZW1lbnQsIGNvbnRhaW5lck5vZGUsIGZhbHNlLCBjYWxsYmFjayk7XG4gIH0sXG4gIHVubW91bnRDb21wb25lbnRBdE5vZGU6IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAhaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIpID8gaW52YXJpYW50KGZhbHNlLCAndW5tb3VudENvbXBvbmVudEF0Tm9kZSguLi4pOiBUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LicpIDogdm9pZCAwO1xuXG4gICAgaWYgKGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyKSB7XG4gICAgICB7XG4gICAgICAgIHZhciByb290RWwgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgdmFyIHJlbmRlcmVkQnlEaWZmZXJlbnRSZWFjdCA9IHJvb3RFbCAmJiAhZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKHJvb3RFbCk7XG4gICAgICAgICEhcmVuZGVyZWRCeURpZmZlcmVudFJlYWN0ID8gd2FybmluZyhmYWxzZSwgXCJ1bm1vdW50Q29tcG9uZW50QXROb2RlKCk6IFRoZSBub2RlIHlvdSdyZSBhdHRlbXB0aW5nIHRvIHVubW91bnQgXCIgKyAnd2FzIHJlbmRlcmVkIGJ5IGFub3RoZXIgY29weSBvZiBSZWFjdC4nKSA6IHZvaWQgMDtcbiAgICAgIH1cblxuICAgICAgLy8gVW5tb3VudCBzaG91bGQgbm90IGJlIGJhdGNoZWQuXG4gICAgICB1bmJhdGNoZWRVcGRhdGVzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGVnYWN5UmVuZGVyU3VidHJlZUludG9Db250YWluZXIobnVsbCwgbnVsbCwgY29udGFpbmVyLCBmYWxzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIC8vIElmIHlvdSBjYWxsIHVubW91bnRDb21wb25lbnRBdE5vZGUgdHdpY2UgaW4gcXVpY2sgc3VjY2Vzc2lvbiwgeW91J2xsXG4gICAgICAvLyBnZXQgYHRydWVgIHR3aWNlLiBUaGF0J3MgcHJvYmFibHkgZmluZT9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB7XG4gICAgICAgIHZhciBfcm9vdEVsID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICAgIHZhciBoYXNOb25Sb290UmVhY3RDaGlsZCA9ICEhKF9yb290RWwgJiYgZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKF9yb290RWwpKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY29udGFpbmVyIGl0c2VsZiBpcyBhIFJlYWN0IHJvb3Qgbm9kZS5cbiAgICAgICAgdmFyIGlzQ29udGFpbmVyUmVhY3RSb290ID0gY29udGFpbmVyLm5vZGVUeXBlID09PSAxICYmIGlzVmFsaWRDb250YWluZXIoY29udGFpbmVyLnBhcmVudE5vZGUpICYmICEhY29udGFpbmVyLnBhcmVudE5vZGUuX3JlYWN0Um9vdENvbnRhaW5lcjtcblxuICAgICAgICAhIWhhc05vblJvb3RSZWFjdENoaWxkID8gd2FybmluZyhmYWxzZSwgXCJ1bm1vdW50Q29tcG9uZW50QXROb2RlKCk6IFRoZSBub2RlIHlvdSdyZSBhdHRlbXB0aW5nIHRvIHVubW91bnQgXCIgKyAnd2FzIHJlbmRlcmVkIGJ5IFJlYWN0IGFuZCBpcyBub3QgYSB0b3AtbGV2ZWwgY29udGFpbmVyLiAlcycsIGlzQ29udGFpbmVyUmVhY3RSb290ID8gJ1lvdSBtYXkgaGF2ZSBhY2NpZGVudGFsbHkgcGFzc2VkIGluIGEgUmVhY3Qgcm9vdCBub2RlIGluc3RlYWQgJyArICdvZiBpdHMgY29udGFpbmVyLicgOiAnSW5zdGVhZCwgaGF2ZSB0aGUgcGFyZW50IGNvbXBvbmVudCB1cGRhdGUgaXRzIHN0YXRlIGFuZCAnICsgJ3JlcmVuZGVyIGluIG9yZGVyIHRvIHJlbW92ZSB0aGlzIGNvbXBvbmVudC4nKSA6IHZvaWQgMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuXG4gIC8vIFRlbXBvcmFyeSBhbGlhcyBzaW5jZSB3ZSBhbHJlYWR5IHNoaXBwZWQgUmVhY3QgMTYgUkMgd2l0aCBpdC5cbiAgLy8gVE9ETzogcmVtb3ZlIGluIFJlYWN0IDE3LlxuICB1bnN0YWJsZV9jcmVhdGVQb3J0YWw6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWRpZFdhcm5BYm91dFVuc3RhYmxlQ3JlYXRlUG9ydGFsKSB7XG4gICAgICBkaWRXYXJuQWJvdXRVbnN0YWJsZUNyZWF0ZVBvcnRhbCA9IHRydWU7XG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ1RoZSBSZWFjdERPTS51bnN0YWJsZV9jcmVhdGVQb3J0YWwoKSBhbGlhcyBoYXMgYmVlbiBkZXByZWNhdGVkLCAnICsgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gUmVhY3QgMTcrLiBVcGRhdGUgeW91ciBjb2RlIHRvIHVzZSAnICsgJ1JlYWN0RE9NLmNyZWF0ZVBvcnRhbCgpIGluc3RlYWQuIEl0IGhhcyB0aGUgZXhhY3Qgc2FtZSBBUEksICcgKyAnYnV0IHdpdGhvdXQgdGhlIFwidW5zdGFibGVfXCIgcHJlZml4LicpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlUG9ydGFsLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfSxcblxuXG4gIHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzOiBiYXRjaGVkVXBkYXRlcyQxLFxuXG4gIHVuc3RhYmxlX2RlZmVycmVkVXBkYXRlczogZGVmZXJyZWRVcGRhdGVzLFxuXG4gIHVuc3RhYmxlX2ludGVyYWN0aXZlVXBkYXRlczogaW50ZXJhY3RpdmVVcGRhdGVzJDEsXG5cbiAgZmx1c2hTeW5jOiBmbHVzaFN5bmMsXG5cbiAgdW5zdGFibGVfZmx1c2hDb250cm9sbGVkOiBmbHVzaENvbnRyb2xsZWQsXG5cbiAgX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ6IHtcbiAgICAvLyBGb3IgVGFwRXZlbnRQbHVnaW4gd2hpY2ggaXMgcG9wdWxhciBpbiBvcGVuIHNvdXJjZVxuICAgIEV2ZW50UGx1Z2luSHViOiBFdmVudFBsdWdpbkh1YixcbiAgICAvLyBVc2VkIGJ5IHRlc3QtdXRpbHNcbiAgICBFdmVudFBsdWdpblJlZ2lzdHJ5OiBFdmVudFBsdWdpblJlZ2lzdHJ5LFxuICAgIEV2ZW50UHJvcGFnYXRvcnM6IEV2ZW50UHJvcGFnYXRvcnMsXG4gICAgUmVhY3RDb250cm9sbGVkQ29tcG9uZW50OiBSZWFjdENvbnRyb2xsZWRDb21wb25lbnQsXG4gICAgUmVhY3RET01Db21wb25lbnRUcmVlOiBSZWFjdERPTUNvbXBvbmVudFRyZWUsXG4gICAgUmVhY3RET01FdmVudExpc3RlbmVyOiBSZWFjdERPTUV2ZW50TGlzdGVuZXJcbiAgfVxufTtcblxuUmVhY3RET00udW5zdGFibGVfY3JlYXRlUm9vdCA9IGZ1bmN0aW9uIGNyZWF0ZVJvb3QoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gIHZhciBoeWRyYXRlID0gb3B0aW9ucyAhPSBudWxsICYmIG9wdGlvbnMuaHlkcmF0ZSA9PT0gdHJ1ZTtcbiAgcmV0dXJuIG5ldyBSZWFjdFJvb3QoY29udGFpbmVyLCB0cnVlLCBoeWRyYXRlKTtcbn07XG5cbnZhciBmb3VuZERldlRvb2xzID0gaW5qZWN0SW50b0RldlRvb2xzKHtcbiAgZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlLFxuICBidW5kbGVUeXBlOiAxLFxuICB2ZXJzaW9uOiBSZWFjdFZlcnNpb24sXG4gIHJlbmRlcmVyUGFja2FnZU5hbWU6ICdyZWFjdC1kb20nXG59KTtcblxue1xuICBpZiAoIWZvdW5kRGV2VG9vbHMgJiYgRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIHdpbmRvdy50b3AgPT09IHdpbmRvdy5zZWxmKSB7XG4gICAgLy8gSWYgd2UncmUgaW4gQ2hyb21lIG9yIEZpcmVmb3gsIHByb3ZpZGUgYSBkb3dubG9hZCBsaW5rIGlmIG5vdCBpbnN0YWxsZWQuXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgPiAtMSAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0VkZ2UnKSA9PT0gLTEgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPiAtMSkge1xuICAgICAgdmFyIHByb3RvY29sID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgLy8gRG9uJ3Qgd2FybiBpbiBleG90aWMgY2FzZXMgbGlrZSBjaHJvbWUtZXh0ZW5zaW9uOi8vLlxuICAgICAgaWYgKC9eKGh0dHBzP3xmaWxlKTokLy50ZXN0KHByb3RvY29sKSkge1xuICAgICAgICBjb25zb2xlLmluZm8oJyVjRG93bmxvYWQgdGhlIFJlYWN0IERldlRvb2xzICcgKyAnZm9yIGEgYmV0dGVyIGRldmVsb3BtZW50IGV4cGVyaWVuY2U6ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1kZXZ0b29scycgKyAocHJvdG9jb2wgPT09ICdmaWxlOicgPyAnXFxuWW91IG1pZ2h0IG5lZWQgdG8gdXNlIGEgbG9jYWwgSFRUUCBzZXJ2ZXIgKGluc3RlYWQgb2YgZmlsZTovLyk6ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1kZXZ0b29scy1mYXEnIDogJycpLCAnZm9udC13ZWlnaHQ6Ym9sZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5cblxudmFyIFJlYWN0RE9NJDIgPSBPYmplY3QuZnJlZXplKHtcblx0ZGVmYXVsdDogUmVhY3RET01cbn0pO1xuXG52YXIgUmVhY3RET00kMyA9ICggUmVhY3RET00kMiAmJiBSZWFjdERPTSApIHx8IFJlYWN0RE9NJDI7XG5cbi8vIFRPRE86IGRlY2lkZSBvbiB0aGUgdG9wLWxldmVsIGV4cG9ydCBmb3JtLlxuLy8gVGhpcyBpcyBoYWNreSBidXQgbWFrZXMgaXQgd29yayB3aXRoIGJvdGggUm9sbHVwIGFuZCBKZXN0LlxudmFyIHJlYWN0RG9tID0gUmVhY3RET00kMy5kZWZhdWx0ID8gUmVhY3RET00kMy5kZWZhdWx0IDogUmVhY3RET00kMztcblxubW9kdWxlLmV4cG9ydHMgPSByZWFjdERvbTtcbiAgfSkoKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gY2hlY2tEQ0UoKSB7XG4gIC8qIGdsb2JhbCBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gKi9cbiAgaWYgKFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRSAhPT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBUaGlzIGJyYW5jaCBpcyB1bnJlYWNoYWJsZSBiZWNhdXNlIHRoaXMgZnVuY3Rpb24gaXMgb25seSBjYWxsZWRcbiAgICAvLyBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGNvbmRpdGlvbiBpcyB0cnVlIG9ubHkgaW4gZGV2ZWxvcG1lbnQuXG4gICAgLy8gVGhlcmVmb3JlIGlmIHRoZSBicmFuY2ggaXMgc3RpbGwgaGVyZSwgZGVhZCBjb2RlIGVsaW1pbmF0aW9uIHdhc24ndFxuICAgIC8vIHByb3Blcmx5IGFwcGxpZWQuXG4gICAgLy8gRG9uJ3QgY2hhbmdlIHRoZSBtZXNzYWdlLiBSZWFjdCBEZXZUb29scyByZWxpZXMgb24gaXQuIEFsc28gbWFrZSBzdXJlXG4gICAgLy8gdGhpcyBtZXNzYWdlIGRvZXNuJ3Qgb2NjdXIgZWxzZXdoZXJlIGluIHRoaXMgZnVuY3Rpb24sIG9yIGl0IHdpbGwgY2F1c2VcbiAgICAvLyBhIGZhbHNlIHBvc2l0aXZlLlxuICAgIHRocm93IG5ldyBFcnJvcignXl9eJyk7XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBWZXJpZnkgdGhhdCB0aGUgY29kZSBhYm92ZSBoYXMgYmVlbiBkZWFkIGNvZGUgZWxpbWluYXRlZCAoRENFJ2QpLlxuICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRShjaGVja0RDRSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIERldlRvb2xzIHNob3VsZG4ndCBjcmFzaCBSZWFjdCwgbm8gbWF0dGVyIHdoYXQuXG4gICAgLy8gV2Ugc2hvdWxkIHN0aWxsIHJlcG9ydCBpbiBjYXNlIHdlIGJyZWFrIHRoaXMgY29kZS5cbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gRENFIGNoZWNrIHNob3VsZCBoYXBwZW4gYmVmb3JlIFJlYWN0RE9NIGJ1bmRsZSBleGVjdXRlcyBzbyB0aGF0XG4gIC8vIERldlRvb2xzIGNhbiByZXBvcnQgYmFkIG1pbmlmaWNhdGlvbiBkdXJpbmcgaW5qZWN0aW9uLlxuICBjaGVja0RDRSgpO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20uZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge31cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIHRocm93IGVycjtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJvb2w6IHNoaW0sXG4gICAgZnVuYzogc2hpbSxcbiAgICBudW1iZXI6IHNoaW0sXG4gICAgb2JqZWN0OiBzaGltLFxuICAgIHN0cmluZzogc2hpbSxcbiAgICBzeW1ib2w6IHNoaW0sXG5cbiAgICBhbnk6IHNoaW0sXG4gICAgYXJyYXlPZjogZ2V0U2hpbSxcbiAgICBlbGVtZW50OiBzaGltLFxuICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG4gICAgbm9kZTogc2hpbSxcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICBvbmVPZjogZ2V0U2hpbSxcbiAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG4gICAgc2hhcGU6IGdldFNoaW0sXG4gICAgZXhhY3Q6IGdldFNoaW1cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIFN5bWJvbC5mb3IgJiZcbiAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgMHhlYWM3O1xuXG4gIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG4gICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iLCIvLyBAZmxvd1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5ID0gJ19fZ2xvYmFsX3VuaXF1ZV9pZF9fJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdsb2JhbFtrZXldID0gKGdsb2JhbFtrZXldIHx8IDApICsgMTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfZ3VkID0gcmVxdWlyZSgnZ3VkJyk7XG5cbnZhciBfZ3VkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2d1ZCk7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBNQVhfU0lHTkVEXzMxX0JJVF9JTlQgPSAxMDczNzQxODIzO1xuXG4vLyBJbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbC5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuZnVuY3Rpb24gb2JqZWN0SXMoeCwgeSkge1xuICBpZiAoeCA9PT0geSkge1xuICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50RW1pdHRlcih2YWx1ZSkge1xuICB2YXIgaGFuZGxlcnMgPSBbXTtcbiAgcmV0dXJuIHtcbiAgICBvbjogZnVuY3Rpb24gb24oaGFuZGxlcikge1xuICAgICAgaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICB9LFxuICAgIG9mZjogZnVuY3Rpb24gb2ZmKGhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXJzID0gaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7XG4gICAgICAgIHJldHVybiBoICE9PSBoYW5kbGVyO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbHVlLCBjaGFuZ2VkQml0cykge1xuICAgICAgdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgIGhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIodmFsdWUsIGNoYW5nZWRCaXRzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gb25seUNoaWxkKGNoaWxkcmVuKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuWzBdIDogY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0Q29udGV4dChkZWZhdWx0VmFsdWUsIGNhbGN1bGF0ZUNoYW5nZWRCaXRzKSB7XG4gIHZhciBfUHJvdmlkZXIkY2hpbGRDb250ZXgsIF9Db25zdW1lciRjb250ZXh0VHlwZTtcblxuICB2YXIgY29udGV4dFByb3AgPSAnX19jcmVhdGUtcmVhY3QtY29udGV4dC0nICsgKDAsIF9ndWQyLmRlZmF1bHQpKCkgKyAnX18nO1xuXG4gIHZhciBQcm92aWRlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFByb3ZpZGVyLCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFByb3ZpZGVyKCkge1xuICAgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmVtaXR0ZXIgPSBjcmVhdGVFdmVudEVtaXR0ZXIoX3RoaXMucHJvcHMudmFsdWUpLCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgICB9XG5cbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgICAgdmFyIF9yZWY7XG5cbiAgICAgIHJldHVybiBfcmVmID0ge30sIF9yZWZbY29udGV4dFByb3BdID0gdGhpcy5lbWl0dGVyLCBfcmVmO1xuICAgIH07XG5cbiAgICBQcm92aWRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy52YWx1ZSAhPT0gbmV4dFByb3BzLnZhbHVlKSB7XG4gICAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMucHJvcHMudmFsdWU7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IG5leHRQcm9wcy52YWx1ZTtcbiAgICAgICAgdmFyIGNoYW5nZWRCaXRzID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChvYmplY3RJcyhvbGRWYWx1ZSwgbmV3VmFsdWUpKSB7XG4gICAgICAgICAgY2hhbmdlZEJpdHMgPSAwOyAvLyBObyBjaGFuZ2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkQml0cyA9IHR5cGVvZiBjYWxjdWxhdGVDaGFuZ2VkQml0cyA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGN1bGF0ZUNoYW5nZWRCaXRzKG9sZFZhbHVlLCBuZXdWYWx1ZSkgOiBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoKGNoYW5nZWRCaXRzICYgTUFYX1NJR05FRF8zMV9CSVRfSU5UKSA9PT0gY2hhbmdlZEJpdHMsICdjYWxjdWxhdGVDaGFuZ2VkQml0czogRXhwZWN0ZWQgdGhlIHJldHVybiB2YWx1ZSB0byBiZSBhICcgKyAnMzEtYml0IGludGVnZXIuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzJywgY2hhbmdlZEJpdHMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNoYW5nZWRCaXRzIHw9IDA7XG5cbiAgICAgICAgICBpZiAoY2hhbmdlZEJpdHMgIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdHRlci5zZXQobmV4dFByb3BzLnZhbHVlLCBjaGFuZ2VkQml0cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFByb3ZpZGVyO1xuICB9KF9yZWFjdC5Db21wb25lbnQpO1xuXG4gIFByb3ZpZGVyLmNoaWxkQ29udGV4dFR5cGVzID0gKF9Qcm92aWRlciRjaGlsZENvbnRleCA9IHt9LCBfUHJvdmlkZXIkY2hpbGRDb250ZXhbY29udGV4dFByb3BdID0gX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCwgX1Byb3ZpZGVyJGNoaWxkQ29udGV4KTtcblxuICB2YXIgQ29uc3VtZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudDIpIHtcbiAgICBfaW5oZXJpdHMoQ29uc3VtZXIsIF9Db21wb25lbnQyKTtcblxuICAgIGZ1bmN0aW9uIENvbnN1bWVyKCkge1xuICAgICAgdmFyIF90ZW1wMiwgX3RoaXMyLCBfcmV0MjtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnN1bWVyKTtcblxuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JldDIgPSAoX3RlbXAyID0gKF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQyLmNhbGwuYXBwbHkoX0NvbXBvbmVudDIsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMyKSwgX3RoaXMyLnN0YXRlID0ge1xuICAgICAgICB2YWx1ZTogX3RoaXMyLmdldFZhbHVlKClcbiAgICAgIH0sIF90aGlzMi5vblVwZGF0ZSA9IGZ1bmN0aW9uIChuZXdWYWx1ZSwgY2hhbmdlZEJpdHMpIHtcbiAgICAgICAgdmFyIG9ic2VydmVkQml0cyA9IF90aGlzMi5vYnNlcnZlZEJpdHMgfCAwO1xuICAgICAgICBpZiAoKG9ic2VydmVkQml0cyAmIGNoYW5nZWRCaXRzKSAhPT0gMCkge1xuICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IHZhbHVlOiBfdGhpczIuZ2V0VmFsdWUoKSB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgX3RlbXAyKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMyLCBfcmV0Mik7XG4gICAgfVxuXG4gICAgQ29uc3VtZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgdmFyIG9ic2VydmVkQml0cyA9IG5leHRQcm9wcy5vYnNlcnZlZEJpdHM7XG5cbiAgICAgIHRoaXMub2JzZXJ2ZWRCaXRzID0gb2JzZXJ2ZWRCaXRzID09PSB1bmRlZmluZWQgfHwgb2JzZXJ2ZWRCaXRzID09PSBudWxsID8gTUFYX1NJR05FRF8zMV9CSVRfSU5UIC8vIFN1YnNjcmliZSB0byBhbGwgY2hhbmdlcyBieSBkZWZhdWx0XG4gICAgICA6IG9ic2VydmVkQml0cztcbiAgICB9O1xuXG4gICAgQ29uc3VtZXIucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5jb250ZXh0W2NvbnRleHRQcm9wXSkge1xuICAgICAgICB0aGlzLmNvbnRleHRbY29udGV4dFByb3BdLm9uKHRoaXMub25VcGRhdGUpO1xuICAgICAgfVxuICAgICAgdmFyIG9ic2VydmVkQml0cyA9IHRoaXMucHJvcHMub2JzZXJ2ZWRCaXRzO1xuXG4gICAgICB0aGlzLm9ic2VydmVkQml0cyA9IG9ic2VydmVkQml0cyA9PT0gdW5kZWZpbmVkIHx8IG9ic2VydmVkQml0cyA9PT0gbnVsbCA/IE1BWF9TSUdORURfMzFfQklUX0lOVCAvLyBTdWJzY3JpYmUgdG8gYWxsIGNoYW5nZXMgYnkgZGVmYXVsdFxuICAgICAgOiBvYnNlcnZlZEJpdHM7XG4gICAgfTtcblxuICAgIENvbnN1bWVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0W2NvbnRleHRQcm9wXS5vZmYodGhpcy5vblVwZGF0ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENvbnN1bWVyLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgaWYgKHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0uZ2V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDb25zdW1lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIG9ubHlDaGlsZCh0aGlzLnByb3BzLmNoaWxkcmVuKSh0aGlzLnN0YXRlLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENvbnN1bWVyO1xuICB9KF9yZWFjdC5Db21wb25lbnQpO1xuXG4gIENvbnN1bWVyLmNvbnRleHRUeXBlcyA9IChfQ29uc3VtZXIkY29udGV4dFR5cGUgPSB7fSwgX0NvbnN1bWVyJGNvbnRleHRUeXBlW2NvbnRleHRQcm9wXSA9IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LCBfQ29uc3VtZXIkY29udGV4dFR5cGUpO1xuXG5cbiAgcmV0dXJuIHtcbiAgICBQcm92aWRlcjogUHJvdmlkZXIsXG4gICAgQ29uc3VtZXI6IENvbnN1bWVyXG4gIH07XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVJlYWN0Q29udGV4dDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2ltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG52YXIgX2ltcGxlbWVudGF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ltcGxlbWVudGF0aW9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNvbnRleHQgfHwgX2ltcGxlbWVudGF0aW9uMi5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVSZWFjdENvbnRleHQgZnJvbSAnY3JlYXRlLXJlYWN0LWNvbnRleHQnO1xuXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyogZ2xvYmFsIG1vZHVsZSAqL1xuZnVuY3Rpb24gYWRkRGVidWdNZXRhZGF0YShpbnN0YW5jZSwgc3RhY2tJbmRleCkge1xuICB2YXIgX3JlZiA9IG5ldyBFcnJvcihcInN0YWNrdHJhY2Ugc291cmNlXCIpLFxuICAgICAgc3RhY2sgPSBfcmVmLnN0YWNrLFxuICAgICAgc3RhY2t0cmFjZSA9IF9yZWYuc3RhY2t0cmFjZSxcbiAgICAgIG1lc3NhZ2UgPSBfcmVmLm1lc3NhZ2U7XG5cbiAgaW5zdGFuY2UuZGVidWdTdGFja0luZm8gPSB7XG4gICAgc3RhY2s6IHN0YWNrLFxuICAgIHN0YWNrdHJhY2U6IHN0YWNrdHJhY2UsXG4gICAgbWVzc2FnZTogbWVzc2FnZVxuICB9O1xuICBpbnN0YW5jZS5kZWJ1Z1N0YWNrSW5kZXggPSBzdGFja0luZGV4O1xufVxudmFyIERlYnVnRW5naW5lID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGVidWdFbmdpbmUod29ya2VyKSB7XG4gICAgaWYgKCF3b3JrZXIpIHtcbiAgICAgIHZhciB3b3JrZXJCbG9iID0gbmV3IEJsb2IoW1wiaW1wb3J0U2NyaXB0cyhcXFwiaHR0cHM6Ly91bnBrZy5jb20vY3NzLXRvLWpzLXNvdXJjZW1hcC13b3JrZXJAMi4wLjEvd29ya2VyLmpzXFxcIilcIl0sIHtcbiAgICAgICAgdHlwZTogXCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCJcbiAgICAgIH0pO1xuICAgICAgd29ya2VyID0gbmV3IFdvcmtlcihVUkwuY3JlYXRlT2JqZWN0VVJMKHdvcmtlckJsb2IpKTtcbiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGlkOiBcImluaXRfd2FzbVwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly91bnBrZy5jb20vY3NzLXRvLWpzLXNvdXJjZW1hcC13b3JrZXJAMi4wLjEvbWFwcGluZ3Mud2FzbVwiXG4gICAgICB9KTtcbiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGlkOiBcInNldF9yZW5kZXJfaW50ZXJ2YWxcIixcbiAgICAgICAgaW50ZXJ2YWw6IDEyMFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChtb2R1bGUuaG90KSB7XG4gICAgICAgIG1vZHVsZS5ob3QuYWRkU3RhdHVzSGFuZGxlcihmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgICAgaWYgKHN0YXR1cyA9PT0gXCJkaXNwb3NlXCIpIHtcbiAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgIGlkOiBcImludmFsaWRhdGVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLndvcmtlciA9IHdvcmtlcjtcbiAgICB0aGlzLmNvdW50ZXIgPSAwO1xuXG4gICAgdGhpcy53b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKG1zZykge1xuICAgICAgdmFyIF9tc2ckZGF0YSA9IG1zZy5kYXRhLFxuICAgICAgICAgIGlkID0gX21zZyRkYXRhLmlkLFxuICAgICAgICAgIGNzcyA9IF9tc2ckZGF0YS5jc3M7XG5cbiAgICAgIGlmIChpZCA9PT0gXCJyZW5kZXJfY3NzXCIgJiYgY3NzKSB7XG4gICAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgX3Byb3RvID0gRGVidWdFbmdpbmUucHJvdG90eXBlO1xuXG4gIF9wcm90by5kZWJ1ZyA9IGZ1bmN0aW9uIGRlYnVnKF9yZWYyKSB7XG4gICAgdmFyIHN0YWNrSW5kZXggPSBfcmVmMi5zdGFja0luZGV4LFxuICAgICAgICBzdGFja0luZm8gPSBfcmVmMi5zdGFja0luZm87XG4gICAgdmFyIGNsYXNzTmFtZSA9IFwiX19kZWJ1Zy1cIiArIHRoaXMuY291bnRlcisrO1xuICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgIGlkOiBcImFkZF9tYXBwZWRfY2xhc3NcIixcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3RhY2tJbmZvOiBzdGFja0luZm8sXG4gICAgICBzdGFja0luZGV4OiBzdGFja0luZGV4XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsYXNzTmFtZTtcbiAgfTtcblxuICByZXR1cm4gRGVidWdFbmdpbmU7XG59KCk7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgU3R5bGV0cm9uQ29udGV4dCA9IGNyZWF0ZVJlYWN0Q29udGV4dCgpO1xudmFyIEh5ZHJhdGlvbkNvbnRleHQgPSBjcmVhdGVSZWFjdENvbnRleHQoZmFsc2UpO1xudmFyIERlYnVnRW5naW5lQ29udGV4dCA9IGNyZWF0ZVJlYWN0Q29udGV4dCgpO1xuXG52YXIgRGV2UHJvdmlkZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoRGV2UHJvdmlkZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERldlByb3ZpZGVyKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwodGhpcykgfHwgdGhpcztcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGh5ZHJhdGluZzogQm9vbGVhbihwcm9wcy5kZWJ1Z0FmdGVySHlkcmF0aW9uKVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IERldlByb3ZpZGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5oeWRyYXRpbmcgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaHlkcmF0aW5nOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZXRyb25Db250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZVxuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVidWdFbmdpbmVDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICB2YWx1ZTogdGhpcy5wcm9wcy5kZWJ1Z1xuICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSHlkcmF0aW9uQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaHlkcmF0aW5nXG4gICAgfSwgdGhpcy5wcm9wcy5jaGlsZHJlbikpKTtcbiAgfTtcblxuICByZXR1cm4gRGV2UHJvdmlkZXI7XG59KENvbXBvbmVudCk7XG5cbnZhciBQcm92aWRlciA9IHRydWUgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGV2UHJvdmlkZXIgOiBTdHlsZXRyb25Db250ZXh0LlByb3ZpZGVyO1xuZnVuY3Rpb24gRGV2Q29uc3VtZXIocHJvcHMpIHtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGV0cm9uQ29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKHN0eWxldHJvbkVuZ2luZSkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KERlYnVnRW5naW5lQ29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKGRlYnVnRW5naW5lKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChIeWRyYXRpb25Db250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoaHlkcmF0aW5nKSB7XG4gICAgICAgIHJldHVybiBwcm9wcy5jaGlsZHJlbihzdHlsZXRyb25FbmdpbmUsIGRlYnVnRW5naW5lLCBoeWRyYXRpbmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxudmFyIENvbnN1bWVyID0gdHJ1ZSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEZXZDb25zdW1lciA6IFN0eWxldHJvbkNvbnRleHQuQ29uc3VtZXI7XG5mdW5jdGlvbiBjcmVhdGVTdHlsZWQoX3JlZikge1xuICB2YXIgZ2V0SW5pdGlhbFN0eWxlID0gX3JlZi5nZXRJbml0aWFsU3R5bGUsXG4gICAgICBkcml2ZXIgPSBfcmVmLmRyaXZlcixcbiAgICAgIHdyYXBwZXIgPSBfcmVmLndyYXBwZXI7XG4gIHJldHVybiBmdW5jdGlvbiBzdHlsZWQoYmFzZSwgc3R5bGVBcmcpIHtcbiAgICB2YXIgYmFzZVN0eWxldHJvbiA9IHtcbiAgICAgIHJlZHVjZXJzOiBbXSxcbiAgICAgIC8vIFRPRE86IHVzZSB0eXBlZCBnZW5lcmljIGluc3RlYWQgb2YgY29lcmNpb24gb25jZVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzYxNTcgaXMgcmVzb2x2ZWRcbiAgICAgIGJhc2U6IGJhc2UsXG4gICAgICBkcml2ZXI6IGRyaXZlcixcbiAgICAgIGdldEluaXRpYWxTdHlsZTogZ2V0SW5pdGlhbFN0eWxlLFxuICAgICAgd3JhcHBlcjogd3JhcHBlclxuICAgIH07XG5cbiAgICBpZiAodHJ1ZSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIGFkZERlYnVnTWV0YWRhdGEoYmFzZVN0eWxldHJvbiwgMik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZVN0eWxlZEVsZW1lbnRDb21wb25lbnQoYXV0b0NvbXBvc2VTaGFsbG93KGJhc2VTdHlsZXRyb24sIHN0eWxlQXJnKSk7XG4gIH07XG59XG5mdW5jdGlvbiB3aXRoVHJhbnNmb3JtKGNvbXBvbmVudCwgdHJhbnNmb3JtZXIpIHtcbiAgdmFyIHN0eWxldHJvbiA9IGNvbXBvbmVudC5fX1NUWUxFVFJPTl9fO1xuXG4gIGlmICh0cnVlICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGFkZERlYnVnTWV0YWRhdGEoc3R5bGV0cm9uLCAyKTtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVTdHlsZWRFbGVtZW50Q29tcG9uZW50KGNvbXBvc2VEeW5hbWljKHN0eWxldHJvbiwge1xuICAgIGFzc2lnbkNvbW11dGF0aXZlOiBmYWxzZSxcbiAgICByZWR1Y2VyOiB0cmFuc2Zvcm1lclxuICB9KSk7XG59XG5mdW5jdGlvbiB3aXRoU3R5bGUoY29tcG9uZW50LCBzdHlsZUFyZykge1xuICB2YXIgc3R5bGV0cm9uID0gY29tcG9uZW50Ll9fU1RZTEVUUk9OX187XG5cbiAgaWYgKHRydWUgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgYWRkRGVidWdNZXRhZGF0YShzdHlsZXRyb24sIDIpO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVN0eWxlZEVsZW1lbnRDb21wb25lbnQoYXV0b0NvbXBvc2VTaGFsbG93KHN0eWxldHJvbiwgc3R5bGVBcmcpKTtcbn1cbmZ1bmN0aW9uIHdpdGhTdHlsZURlZXAoY29tcG9uZW50LCBzdHlsZUFyZykge1xuICB2YXIgc3R5bGV0cm9uID0gY29tcG9uZW50Ll9fU1RZTEVUUk9OX187XG5cbiAgaWYgKHRydWUgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgYWRkRGVidWdNZXRhZGF0YShzdHlsZXRyb24sIDIpO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVN0eWxlZEVsZW1lbnRDb21wb25lbnQoYXV0b0NvbXBvc2VEZWVwKHN0eWxldHJvbiwgc3R5bGVBcmcpKTtcbn1cbmZ1bmN0aW9uIHdpdGhXcmFwcGVyKGNvbXBvbmVudCwgd3JhcHBlcikge1xuICB2YXIgc3R5bGV0cm9uID0gY29tcG9uZW50Ll9fU1RZTEVUUk9OX187XG4gIHZhciBjb21wb3NlZCA9IHtcbiAgICBnZXRJbml0aWFsU3R5bGU6IHN0eWxldHJvbi5nZXRJbml0aWFsU3R5bGUsXG4gICAgYmFzZTogc3R5bGV0cm9uLmJhc2UsXG4gICAgZHJpdmVyOiBzdHlsZXRyb24uZHJpdmVyLFxuICAgIHdyYXBwZXI6IHdyYXBwZXIsXG4gICAgcmVkdWNlcnM6IHN0eWxldHJvbi5yZWR1Y2Vyc1xuICB9O1xuXG4gIGlmICh0cnVlICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGFkZERlYnVnTWV0YWRhdGEoY29tcG9zZWQsIDIpO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVN0eWxlZEVsZW1lbnRDb21wb25lbnQoY29tcG9zZWQpO1xufVxuZnVuY3Rpb24gYXV0b0NvbXBvc2VTaGFsbG93KHN0eWxldHJvbiwgc3R5bGVBcmcpIHtcbiAgaWYgKHR5cGVvZiBzdHlsZUFyZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIGR5bmFtaWNDb21wb3NlU2hhbGxvdyhzdHlsZXRyb24sIHN0eWxlQXJnKTtcbiAgfSAvLyBUT0RPOiBpbnZlc3RpZ2F0ZSBob3cgdG8gZWxpbWluYXRlIHRoaXMgY2FzdGluZ1xuXG5cbiAgcmV0dXJuIHN0YXRpY0NvbXBvc2VTaGFsbG93KHN0eWxldHJvbiwgc3R5bGVBcmcpO1xufVxuZnVuY3Rpb24gYXV0b0NvbXBvc2VEZWVwKHN0eWxldHJvbiwgc3R5bGVBcmcpIHtcbiAgaWYgKHR5cGVvZiBzdHlsZUFyZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIGR5bmFtaWNDb21wb3NlRGVlcChzdHlsZXRyb24sIHN0eWxlQXJnKTtcbiAgfSAvLyBUT0RPOiBpbnZlc3RpZ2F0ZSBob3cgdG8gZWxpbWluYXRlIHRoaXMgY2FzdGluZ1xuXG5cbiAgcmV0dXJuIHN0YXRpY0NvbXBvc2VEZWVwKHN0eWxldHJvbiwgc3R5bGVBcmcpO1xufVxuZnVuY3Rpb24gc3RhdGljQ29tcG9zZVNoYWxsb3coc3R5bGV0cm9uLCBzdHlsZSkge1xuICByZXR1cm4gY29tcG9zZVN0YXRpYyhzdHlsZXRyb24sIHtcbiAgICByZWR1Y2VyOiBjcmVhdGVTaGFsbG93TWVyZ2VSZWR1Y2VyKHN0eWxlKSxcbiAgICBhc3NpZ25Db21tdXRhdGl2ZTogdHJ1ZVxuICB9KTtcbn1cbmZ1bmN0aW9uIHN0YXRpY0NvbXBvc2VEZWVwKHN0eWxldHJvbiwgc3R5bGUpIHtcbiAgcmV0dXJuIGNvbXBvc2VTdGF0aWMoc3R5bGV0cm9uLCB7XG4gICAgcmVkdWNlcjogY3JlYXRlRGVlcE1lcmdlUmVkdWNlcihzdHlsZSksXG4gICAgYXNzaWduQ29tbXV0YXRpdmU6IHRydWVcbiAgfSk7XG59XG5mdW5jdGlvbiBkeW5hbWljQ29tcG9zZVNoYWxsb3coc3R5bGV0cm9uLCBzdHlsZUZuKSB7XG4gIHJldHVybiBjb21wb3NlRHluYW1pYyhzdHlsZXRyb24sIHtcbiAgICBhc3NpZ25Db21tdXRhdGl2ZTogZmFsc2UsXG4gICAgcmVkdWNlcjogdG9NZXJnZVJlZHVjZXIoc3R5bGVGbiwgc2hhbGxvd01lcmdlKVxuICB9KTtcbn1cbmZ1bmN0aW9uIGR5bmFtaWNDb21wb3NlRGVlcChzdHlsZXRyb24sIHN0eWxlRm4pIHtcbiAgcmV0dXJuIGNvbXBvc2VEeW5hbWljKHN0eWxldHJvbiwge1xuICAgIGFzc2lnbkNvbW11dGF0aXZlOiBmYWxzZSxcbiAgICByZWR1Y2VyOiB0b01lcmdlUmVkdWNlcihzdHlsZUZuLCBkZWVwTWVyZ2UpXG4gIH0pO1xufVxuZnVuY3Rpb24gdG9NZXJnZVJlZHVjZXIoZm4sIG1lcmdlRm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzdHlsZSwgcHJvcHMpIHtcbiAgICByZXR1cm4gbWVyZ2VGbihzdHlsZSwgZm4ocHJvcHMpKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNoYWxsb3dNZXJnZVJlZHVjZXIoc3R5bGUpIHtcbiAgLy8gVE9ETzogbWFrZSB0aGlzIGNhc3RpbmcgdW5uZWNlc3NhcnlcbiAgZnVuY3Rpb24gc2hhbGxvd01lcmdlUmVkdWNlcihpbnB1dFN0eWxlKSB7XG4gICAgcmV0dXJuIHNoYWxsb3dNZXJnZShpbnB1dFN0eWxlLCBzdHlsZSk7XG4gIH1cblxuICBzaGFsbG93TWVyZ2VSZWR1Y2VyLmZhY3RvcnkgPSBjcmVhdGVTaGFsbG93TWVyZ2VSZWR1Y2VyO1xuICBzaGFsbG93TWVyZ2VSZWR1Y2VyLnN0eWxlID0gc3R5bGU7XG4gIHJldHVybiBzaGFsbG93TWVyZ2VSZWR1Y2VyO1xufVxuZnVuY3Rpb24gY3JlYXRlRGVlcE1lcmdlUmVkdWNlcihzdHlsZSkge1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY2FzdGluZyB1bm5lY2Vzc2FyeVxuICBmdW5jdGlvbiBkZWVwTWVyZ2VSZWR1Y2VyKGlucHV0U3R5bGUpIHtcbiAgICByZXR1cm4gZGVlcE1lcmdlKGlucHV0U3R5bGUsIHN0eWxlKTtcbiAgfVxuXG4gIGRlZXBNZXJnZVJlZHVjZXIuZmFjdG9yeSA9IGNyZWF0ZURlZXBNZXJnZVJlZHVjZXI7XG4gIGRlZXBNZXJnZVJlZHVjZXIuc3R5bGUgPSBzdHlsZTtcbiAgcmV0dXJuIGRlZXBNZXJnZVJlZHVjZXI7XG59XG5mdW5jdGlvbiBjb21wb3NlU3RhdGljKHN0eWxldHJvbiwgcmVkdWNlcikge1xuICBpZiAoc3R5bGV0cm9uLnJlZHVjZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIGNhc3RpbmdcbiAgICB2YXIgX3N0eWxlID0gcmVkdWNlci5yZWR1Y2VyKHN0eWxldHJvbi5nZXRJbml0aWFsU3R5bGUoKSwge30pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZHVjZXJzOiBzdHlsZXRyb24ucmVkdWNlcnMsXG4gICAgICBiYXNlOiBzdHlsZXRyb24uYmFzZSxcbiAgICAgIGRyaXZlcjogc3R5bGV0cm9uLmRyaXZlcixcbiAgICAgIGRlYnVnU3RhY2tJbmRleDogc3R5bGV0cm9uLmRlYnVnU3RhY2tJbmRleCxcbiAgICAgIGRlYnVnU3RhY2tJbmZvOiBzdHlsZXRyb24uZGVidWdTdGFja0luZm8sXG4gICAgICB3cmFwcGVyOiBzdHlsZXRyb24ud3JhcHBlcixcbiAgICAgIGdldEluaXRpYWxTdHlsZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0eWxlKCkge1xuICAgICAgICByZXR1cm4gX3N0eWxlO1xuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxhc3QgPSBzdHlsZXRyb24ucmVkdWNlcnNbMF07XG5cbiAgICBpZiAobGFzdC5hc3NpZ25Db21tdXRhdGl2ZSA9PT0gdHJ1ZSAmJiByZWR1Y2VyLmFzc2lnbkNvbW11dGF0aXZlID09PSB0cnVlKSB7XG4gICAgICAvLyBUT0RPOiByZW1vdmUgcHJvcCBhcmd1bWVudCBmb3Igc3RhdGljIHJlZHVjZXJzXG4gICAgICB2YXIgY29tcG9zZWQgPSByZWR1Y2VyLnJlZHVjZXIobGFzdC5yZWR1Y2VyLnN0eWxlLCB7fSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXRJbml0aWFsU3R5bGU6IHN0eWxldHJvbi5nZXRJbml0aWFsU3R5bGUsXG4gICAgICAgIGJhc2U6IHN0eWxldHJvbi5iYXNlLFxuICAgICAgICBkZWJ1Z1N0YWNrSW5kZXg6IHN0eWxldHJvbi5kZWJ1Z1N0YWNrSW5kZXgsXG4gICAgICAgIGRlYnVnU3RhY2tJbmZvOiBzdHlsZXRyb24uZGVidWdTdGFja0luZm8sXG4gICAgICAgIGRyaXZlcjogc3R5bGV0cm9uLmRyaXZlcixcbiAgICAgICAgd3JhcHBlcjogc3R5bGV0cm9uLndyYXBwZXIsXG4gICAgICAgIHJlZHVjZXJzOiBbe1xuICAgICAgICAgIGFzc2lnbkNvbW11dGF0aXZlOiB0cnVlLFxuICAgICAgICAgIHJlZHVjZXI6IGxhc3QucmVkdWNlci5mYWN0b3J5KGNvbXBvc2VkKVxuICAgICAgICB9XS5jb25jYXQoc3R5bGV0cm9uLnJlZHVjZXJzLnNsaWNlKDEpKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcG9zZUR5bmFtaWMoc3R5bGV0cm9uLCByZWR1Y2VyKTtcbiAgfVxufVxuZnVuY3Rpb24gY29tcG9zZUR5bmFtaWMoc3R5bGV0cm9uLCByZWR1Y2VyKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0SW5pdGlhbFN0eWxlOiBzdHlsZXRyb24uZ2V0SW5pdGlhbFN0eWxlLFxuICAgIGJhc2U6IHN0eWxldHJvbi5iYXNlLFxuICAgIGRlYnVnU3RhY2tJbmRleDogc3R5bGV0cm9uLmRlYnVnU3RhY2tJbmRleCxcbiAgICBkZWJ1Z1N0YWNrSW5mbzogc3R5bGV0cm9uLmRlYnVnU3RhY2tJbmZvLFxuICAgIGRyaXZlcjogc3R5bGV0cm9uLmRyaXZlcixcbiAgICB3cmFwcGVyOiBzdHlsZXRyb24ud3JhcHBlcixcbiAgICByZWR1Y2VyczogW3JlZHVjZXJdLmNvbmNhdChzdHlsZXRyb24ucmVkdWNlcnMpXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVTdHlsZWRFbGVtZW50Q29tcG9uZW50KF9yZWYyKSB7XG4gIHZhciByZWR1Y2VycyA9IF9yZWYyLnJlZHVjZXJzLFxuICAgICAgYmFzZSA9IF9yZWYyLmJhc2UsXG4gICAgICBkcml2ZXIgPSBfcmVmMi5kcml2ZXIsXG4gICAgICBkZWJ1Z1N0YWNrSW5mbyA9IF9yZWYyLmRlYnVnU3RhY2tJbmZvLFxuICAgICAgZGVidWdTdGFja0luZGV4ID0gX3JlZjIuZGVidWdTdGFja0luZGV4LFxuICAgICAgd3JhcHBlciA9IF9yZWYyLndyYXBwZXIsXG4gICAgICBnZXRJbml0aWFsU3R5bGUgPSBfcmVmMi5nZXRJbml0aWFsU3R5bGU7XG5cbiAgLy8gVE9ETzogbWFrZSBjYXN0aW5nIG5vdCBuZWNlc3NhcnlcbiAgZnVuY3Rpb24gb21pdFByZWZpeGVkS2V5cyhzb3VyY2UpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoa2V5WzBdICE9PSBcIiRcIikge1xuICAgICAgICByZXN1bHRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIHRydWUpIHtcbiAgICB2YXIgZGVidWdDbGFzc05hbWU7XG4gIH1cblxuICBmdW5jdGlvbiBTdHlsZWRFbGVtZW50KHByb3BzKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29uc3VtZXIsIG51bGwsIGZ1bmN0aW9uIChzdHlsZXRyb24sIGRlYnVnRW5naW5lLCBoeWRyYXRpbmcpIHtcbiAgICAgIHZhciBlbGVtZW50UHJvcHMgPSBvbWl0UHJlZml4ZWRLZXlzKHByb3BzKTtcbiAgICAgIHZhciBzdHlsZSA9IHJlc29sdmVTdHlsZShnZXRJbml0aWFsU3R5bGUsIHJlZHVjZXJzLCBwcm9wcyk7XG4gICAgICB2YXIgc3R5bGVDbGFzc1N0cmluZyA9IGRyaXZlcihzdHlsZSwgc3R5bGV0cm9uKTtcbiAgICAgIHZhciBlbGVtZW50ID0gcHJvcHMuJGFzID8gcHJvcHMuJGFzIDogYmFzZTtcbiAgICAgIGVsZW1lbnRQcm9wcy5jbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUgPyBwcm9wcy5jbGFzc05hbWUgKyBcIiBcIiArIHN0eWxlQ2xhc3NTdHJpbmcgOiBzdHlsZUNsYXNzU3RyaW5nO1xuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIHRydWUgJiYgZGVidWdFbmdpbmUgJiYgIWh5ZHJhdGluZykge1xuICAgICAgICBpZiAoIWRlYnVnQ2xhc3NOYW1lKSB7XG4gICAgICAgICAgZGVidWdDbGFzc05hbWUgPSBkZWJ1Z0VuZ2luZS5kZWJ1Zyh7XG4gICAgICAgICAgICBzdGFja0luZm86IGRlYnVnU3RhY2tJbmZvLFxuICAgICAgICAgICAgc3RhY2tJbmRleDogZGVidWdTdGFja0luZGV4XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgam9pbmVkID0gZGVidWdDbGFzc05hbWUgKyBcIiBcIiArIGVsZW1lbnRQcm9wcy5jbGFzc05hbWU7XG4gICAgICAgIGVsZW1lbnRQcm9wcy5jbGFzc05hbWUgPSBqb2luZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy4kcmVmKSB7XG4gICAgICAgIGVsZW1lbnRQcm9wcy5yZWYgPSBwcm9wcy4kcmVmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChlbGVtZW50LCBlbGVtZW50UHJvcHMpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIFdyYXBwZWQgPSB3cmFwcGVyKFN0eWxlZEVsZW1lbnQpO1xuICBXcmFwcGVkLl9fU1RZTEVUUk9OX18gPSB7XG4gICAgYmFzZTogYmFzZSxcbiAgICByZWR1Y2VyczogcmVkdWNlcnMsXG4gICAgZHJpdmVyOiBkcml2ZXIsXG4gICAgd3JhcHBlcjogd3JhcHBlcixcbiAgICBnZXRJbml0aWFsU3R5bGU6IGdldEluaXRpYWxTdHlsZVxuICB9O1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICB2YXIgZGlzcGxheU5hbWU7XG5cbiAgICBpZiAodHlwZW9mIGJhc2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGRpc3BsYXlOYW1lID0gYmFzZTtcbiAgICB9IGVsc2UgaWYgKGJhc2UuZGlzcGxheU5hbWUpIHtcbiAgICAgIGRpc3BsYXlOYW1lID0gYmFzZS5kaXNwbGF5TmFtZTtcbiAgICB9IGVsc2UgaWYgKGJhc2UubmFtZSkge1xuICAgICAgZGlzcGxheU5hbWUgPSBiYXNlLm5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BsYXlOYW1lID0gXCJVbmtub3duXCI7XG4gICAgfVxuXG4gICAgV3JhcHBlZC5kaXNwbGF5TmFtZSA9IFwiU3R5bGVkKFwiICsgZGlzcGxheU5hbWUgKyBcIilcIjtcbiAgfVxuXG4gIHJldHVybiBXcmFwcGVkO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVN0eWxlKGdldEluaXRpYWxTdHlsZSwgcmVkdWNlcnMsIHByb3BzKSB7XG4gIHZhciByZXN1bHQgPSBnZXRJbml0aWFsU3R5bGUoKTtcbiAgdmFyIGkgPSByZWR1Y2Vycy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHJlc3VsdCA9IHJlZHVjZXJzW2ldLnJlZHVjZXIocmVzdWx0LCBwcm9wcyk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICByZXR1cm4gX3R5cGVvZih4KSA9PT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsO1xufVxuZnVuY3Rpb24gZGVlcE1lcmdlKGEsIGIpIHtcbiAgdmFyIHJlc3VsdCA9IGFzc2lnbih7fSwgYSk7XG5cbiAgZm9yICh2YXIga2V5IGluIGIpIHtcbiAgICB2YXIgdmFsID0gYltrZXldO1xuXG4gICAgaWYgKGlzT2JqZWN0KHZhbCkgJiYgaXNPYmplY3QoYVtrZXldKSkge1xuICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2UoYVtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0gLy8gVE9ETzogbWFrZSB0aGlzIGNhc3RpbmcgdW5lY2Vzc2FyeVxuXG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dNZXJnZShhLCBiKSB7XG4gIC8vIFRPRE86IG1ha2UgdGhpcyBjYXN0aW5nIHVuZWNlc3NhcnlcbiAgcmV0dXJuIGFzc2lnbihhc3NpZ24oe30sIGEpLCBiKTtcbn1cbmZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSkge1xuICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmV4cG9ydCB7IERlYnVnRW5naW5lLCBQcm92aWRlciwgRGV2Q29uc3VtZXIsIGNyZWF0ZVN0eWxlZCwgd2l0aFRyYW5zZm9ybSwgd2l0aFN0eWxlLCB3aXRoU3R5bGVEZWVwLCB3aXRoV3JhcHBlciwgYXV0b0NvbXBvc2VTaGFsbG93LCBhdXRvQ29tcG9zZURlZXAsIHN0YXRpY0NvbXBvc2VTaGFsbG93LCBzdGF0aWNDb21wb3NlRGVlcCwgZHluYW1pY0NvbXBvc2VTaGFsbG93LCBkeW5hbWljQ29tcG9zZURlZXAsIHRvTWVyZ2VSZWR1Y2VyLCBjcmVhdGVTaGFsbG93TWVyZ2VSZWR1Y2VyLCBjcmVhdGVEZWVwTWVyZ2VSZWR1Y2VyLCBjb21wb3NlU3RhdGljLCBjb21wb3NlRHluYW1pYywgY3JlYXRlU3R5bGVkRWxlbWVudENvbXBvbmVudCwgcmVzb2x2ZVN0eWxlLCBpc09iamVjdCwgZGVlcE1lcmdlLCBzaGFsbG93TWVyZ2UsIGFzc2lnbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlci5lczUuZXMuanMubWFwXG4iLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG4vLyBUT0RPOiBpbnZlc3RpZ2F0ZSB3aHkgJFNoYXBlIGlzIG5lZWRlZFxuZnVuY3Rpb24gZHJpdmVyKHN0eWxlLCBzdHlsZXRyb24pIHtcbiAgdmFyIHR4ID0gcmVuZGVyRGVjbGFyYXRpdmVSdWxlcyhzdHlsZSwgc3R5bGV0cm9uKTtcbiAgcmV0dXJuIHN0eWxldHJvbi5yZW5kZXJTdHlsZSh0eCk7XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsU3R5bGUoKSB7XG4gIHJldHVybiB7fTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyRGVjbGFyYXRpdmVSdWxlcyhzdHlsZSwgc3R5bGV0cm9uKSB7XG4gIGZvciAodmFyIGtleSBpbiBzdHlsZSkge1xuICAgIHZhciB2YWwgPSBzdHlsZVtrZXldO1xuXG4gICAgaWYgKGtleSA9PT0gXCJhbmltYXRpb25OYW1lXCIgJiYgdHlwZW9mIHZhbCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgc3R5bGUuYW5pbWF0aW9uTmFtZSA9IHN0eWxldHJvbi5yZW5kZXJLZXlmcmFtZXModmFsKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09IFwiZm9udEZhbWlseVwiICYmIHR5cGVvZiB2YWwgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHN0eWxlLmZvbnRGYW1pbHkgPSBzdHlsZXRyb24ucmVuZGVyRm9udEZhY2UodmFsKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChfdHlwZW9mKHZhbCkgPT09IFwib2JqZWN0XCIgJiYgdmFsICE9PSBudWxsKSB7XG4gICAgICByZW5kZXJEZWNsYXJhdGl2ZVJ1bGVzKHZhbCwgc3R5bGV0cm9uKTtcbiAgICB9XG4gIH0gLy8gVE9ETyBhdm9pZCB0eXBlIGNhc3RpbmdcblxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZXhwb3J0IHsgZHJpdmVyLCBnZXRJbml0aWFsU3R5bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb3dzZXIuZXM1LmVzLmpzLm1hcFxuIiwiLy8gQGZsb3dcbi8vIGNvbG9yIGNvbnN0YW50c1xuY29uc3QgcHJpbWFyeTUwID0gJyNFREYzRkUnO1xuY29uc3QgcHJpbWFyeTEwMCA9ICcjRDJFMEZDJztcbmNvbnN0IHByaW1hcnkyMDAgPSAnIzlDQkNGOCc7XG5jb25zdCBwcmltYXJ5MzAwID0gJyM1NDhCRjQnO1xuY29uc3QgcHJpbWFyeTQwMCA9ICcjMUU2NkYwJztcbmNvbnN0IHByaW1hcnk1MDAgPSAnIzE3NEVCNic7XG5jb25zdCBwcmltYXJ5NjAwID0gJyMxMjNEOTAnO1xuY29uc3QgcHJpbWFyeTcwMCA9ICcjMEMyOTYwJztcblxuY29uc3QgbmVnYXRpdmU1MCA9ICcjRkRGMEVGJztcbmNvbnN0IG5lZ2F0aXZlMTAwID0gJyNGQURCRDcnO1xuY29uc3QgbmVnYXRpdmUyMDAgPSAnI0Y0QUZBNyc7XG5jb25zdCBuZWdhdGl2ZTMwMCA9ICcjRUI3NTY3JztcbmNvbnN0IG5lZ2F0aXZlNDAwID0gJyNFNTQ5MzcnO1xuY29uc3QgbmVnYXRpdmU1MDAgPSAnI0FFMzcyQSc7XG5jb25zdCBuZWdhdGl2ZTYwMCA9ICcjODkyQzIxJztcbmNvbnN0IG5lZ2F0aXZlNzAwID0gJyM1QzFEMTYnO1xuXG5jb25zdCB3YXJuaW5nNTAgPSAnI0ZFRjNFQyc7XG5jb25zdCB3YXJuaW5nMTAwID0gJyNGQkUyQ0YnO1xuY29uc3Qgd2FybmluZzIwMCA9ICcjRjZCQThCJztcbmNvbnN0IHdhcm5pbmczMDAgPSAnI0YxOTI0OCc7XG5jb25zdCB3YXJuaW5nNDAwID0gJyNFRDZGMEUnO1xuY29uc3Qgd2FybmluZzUwMCA9ICcjQjQ1NDBCJztcbmNvbnN0IHdhcm5pbmc2MDAgPSAnIzhFNDMwOCc7XG5jb25zdCB3YXJuaW5nNzAwID0gJyM1RjJDMDYnO1xuXG5jb25zdCBwb3NpdGl2ZTUwID0gJyNFQkY4RjInO1xuY29uc3QgcG9zaXRpdmUxMDAgPSAnI0NERURERSc7XG5jb25zdCBwb3NpdGl2ZTIwMCA9ICcjODhEM0IwJztcbmNvbnN0IHBvc2l0aXZlMzAwID0gJyM0M0I5ODInO1xuY29uc3QgcG9zaXRpdmU0MDAgPSAnIzA3QTM1QSc7XG5jb25zdCBwb3NpdGl2ZTUwMCA9ICcjMDU3QzQ0JztcbmNvbnN0IHBvc2l0aXZlNjAwID0gJyMwNDYyMzYnO1xuY29uc3QgcG9zaXRpdmU3MDAgPSAnIzAzNDEyNCc7XG5cbmNvbnN0IG1vbm8xMDAgPSAnI0ZGRkZGRic7XG5jb25zdCBtb25vMjAwID0gJyNGN0Y3RjcnO1xuY29uc3QgbW9ubzMwMCA9ICcjRjBGMEYwJztcbmNvbnN0IG1vbm80MDAgPSAnI0U1RTVFNSc7XG5jb25zdCBtb25vNTAwID0gJyNDQ0NDQ0MnO1xuY29uc3QgbW9ubzYwMCA9ICcjQjNCM0IzJztcbmNvbnN0IG1vbm83MDAgPSAnIzk5OTk5OSc7XG5jb25zdCBtb25vODAwID0gJyM2NjY2NjYnO1xuY29uc3QgbW9ubzkwMCA9ICcjMzMzMzMzJztcbmNvbnN0IG1vbm8xMDAwID0gJyMwMDAwMDAnO1xuXG4vLyBmb250IGNvbnN0YW50c1xuY29uc3QgcHJpbWFyeUZvbnRGYW1pbHkgPSAnXCJIZWx2ZXRpY2EgTmV1ZVwiLCBhcmlhbCwgc2Fucy1zZXJpZic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29sb3JzOiB7XG4gICAgLy8gUHJpbWFyeSBQYWxldHRlXG4gICAgcHJpbWFyeTUwLFxuICAgIHByaW1hcnkxMDAsXG4gICAgcHJpbWFyeTIwMCxcbiAgICBwcmltYXJ5MzAwLFxuICAgIHByaW1hcnk0MDAsXG4gICAgcHJpbWFyeTogcHJpbWFyeTQwMCxcbiAgICBwcmltYXJ5NTAwLFxuICAgIHByaW1hcnk2MDAsXG4gICAgcHJpbWFyeTcwMCxcblxuICAgIC8vIE5lZ2F0aXZlIFBhbGV0dGVcbiAgICBuZWdhdGl2ZTUwLFxuICAgIG5lZ2F0aXZlMTAwLFxuICAgIG5lZ2F0aXZlMjAwLFxuICAgIG5lZ2F0aXZlMzAwLFxuICAgIG5lZ2F0aXZlNDAwLFxuICAgIG5lZ2F0aXZlOiBuZWdhdGl2ZTQwMCxcbiAgICBuZWdhdGl2ZTUwMCxcbiAgICBuZWdhdGl2ZTYwMCxcbiAgICBuZWdhdGl2ZTcwMCxcblxuICAgIC8vIFdhcm5pbmcgUGFsZXR0ZVxuICAgIHdhcm5pbmc1MCxcbiAgICB3YXJuaW5nMTAwLFxuICAgIHdhcm5pbmcyMDAsXG4gICAgd2FybmluZzMwMCxcbiAgICB3YXJuaW5nNDAwLFxuICAgIHdhcm5pbmc6IHdhcm5pbmc0MDAsXG4gICAgd2FybmluZzUwMCxcbiAgICB3YXJuaW5nNjAwLFxuICAgIHdhcm5pbmc3MDAsXG5cbiAgICAvLyBQb3NpdGl2ZSBQYWxldHRlXG4gICAgcG9zaXRpdmU1MCxcbiAgICBwb3NpdGl2ZTEwMCxcbiAgICBwb3NpdGl2ZTIwMCxcbiAgICBwb3NpdGl2ZTMwMCxcbiAgICBwb3NpdGl2ZTQwMCxcbiAgICBwb3NpdGl2ZTogcG9zaXRpdmU0MDAsXG4gICAgcG9zaXRpdmU1MDAsXG4gICAgcG9zaXRpdmU2MDAsXG4gICAgcG9zaXRpdmU3MDAsXG5cbiAgICAvLyBNb25vY2hyb21lIFBhbGV0dGVcbiAgICB3aGl0ZTogbW9ubzEwMCxcbiAgICBtb25vMTAwLFxuICAgIG1vbm8yMDAsXG4gICAgbW9ubzMwMCxcbiAgICBtb25vNDAwLFxuICAgIG1vbm81MDAsXG4gICAgbW9ubzYwMCxcbiAgICBtb25vNzAwLFxuICAgIG1vbm84MDAsXG4gICAgbW9ubzkwMCxcbiAgICBtb25vMTAwMCxcbiAgICBibGFjazogbW9ubzEwMDAsXG5cbiAgICAvLyBTZW1hbnRpYyBDb2xvcnNcblxuICAgIC8vIEJhY2tncm91bmRcbiAgICBiYWNrZ3JvdW5kOiBtb25vMTAwLFxuICAgIGJhY2tncm91bmRBbHQ6IG1vbm84MDAsXG4gICAgYmFja2dyb3VuZEludjogbW9ubzEwMCxcblxuICAgIC8vIEZvcmVncm91bmRcbiAgICBmb3JlZ3JvdW5kOiBtb25vMTAwMCxcbiAgICBmb3JlZ3JvdW5kQWx0OiBtb25vODAwLFxuICAgIGZvcmVncm91bmRJbnY6IG1vbm8xMDAsXG5cbiAgICAvLyBCb3JkZXJzXG4gICAgYm9yZGVyOiBtb25vNTAwLFxuICAgIGJvcmRlckFsdDogbW9ubzYwMCxcbiAgICBib3JkZXJGb2N1czogcHJpbWFyeTQwMCxcbiAgICBib3JkZXJFcnJvcjogbmVnYXRpdmU0MDAsXG5cbiAgICAvLyBCdXR0b25zXG4gICAgYnV0dG9uUHJpbWFyeUZpbGw6IHByaW1hcnk0MDAsXG4gICAgYnV0dG9uUHJpbWFyeVRleHQ6IG1vbm8xMDAsXG4gICAgYnV0dG9uUHJpbWFyeUhvdmVyOiBwcmltYXJ5NjAwLFxuICAgIGJ1dHRvblByaW1hcnlBY3RpdmU6IHByaW1hcnk3MDAsXG4gICAgYnV0dG9uU2Vjb25kYXJ5RmlsbDogcHJpbWFyeTUwLFxuICAgIGJ1dHRvblNlY29uZGFyeVRleHQ6IHByaW1hcnk1MDAsXG4gICAgYnV0dG9uVGVydGlhcnlGaWxsOiBtb25vMjAwLFxuICAgIGJ1dHRvblRlcnRpYXJ5VGV4dDogcHJpbWFyeTQwMCxcbiAgICBidXR0b25NaW5pbWFsRmlsbDogbW9ubzEwMCxcbiAgICBidXR0b25NaW5pbWFsVGV4dDogcHJpbWFyeTQwMCxcbiAgICBidXR0b25EaXNhYmxlZEZpbGw6IG1vbm8zMDAsXG4gICAgYnV0dG9uRGlzYWJsZWRUZXh0OiBtb25vNjAwLFxuXG4gICAgLy8gTGlua3NcbiAgICBsaW5rVGV4dDogcHJpbWFyeTQwMCxcbiAgICBsaW5rVmlzaXRlZDogcHJpbWFyeTUwMCxcbiAgICBsaW5rSG92ZXI6IHByaW1hcnk2MDAsXG5cbiAgICAvLyBTaGFkb3dcbiAgICBzaGFkb3dGb2N1czogJ3JnYmEoMzksIDExMCwgMjQxLCAwLjMyKScsXG4gICAgc2hhZG93RXJyb3I6ICdyZ2JhKDIyOSwgNzMsIDU1LCAwLjMyKScsXG4gIH0sXG4gIHR5cG9ncmFwaHk6IHtcbiAgICBmb250MTAwOiB7XG4gICAgICBmb250RmFtaWx5OiBwcmltYXJ5Rm9udEZhbWlseSxcbiAgICAgIGZvbnRTaXplOiAnMTFweCcsXG4gICAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICcxNnB4JyxcbiAgICB9LFxuICAgIGZvbnQyMDA6IHtcbiAgICAgIGZvbnRGYW1pbHk6IHByaW1hcnlGb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgICAgbGluZUhlaWdodDogJzIwcHgnLFxuICAgIH0sXG4gICAgZm9udDI1MDoge1xuICAgICAgZm9udEZhbWlseTogcHJpbWFyeUZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogJzEycHgnLFxuICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgbGluZUhlaWdodDogJzIwcHgnLFxuICAgIH0sXG4gICAgZm9udDMwMDoge1xuICAgICAgZm9udEZhbWlseTogcHJpbWFyeUZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnMjRweCcsXG4gICAgfSxcbiAgICBmb250MzUwOiB7XG4gICAgICBmb250RmFtaWx5OiBwcmltYXJ5Rm9udEZhbWlseSxcbiAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnMjRweCcsXG4gICAgfSxcbiAgICBmb250NDAwOiB7XG4gICAgICBmb250RmFtaWx5OiBwcmltYXJ5Rm9udEZhbWlseSxcbiAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICcyOHB4JyxcbiAgICB9LFxuICAgIGZvbnQ0NTA6IHtcbiAgICAgIGZvbnRGYW1pbHk6IHByaW1hcnlGb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICcyOHB4JyxcbiAgICB9LFxuICAgIGZvbnQ1MDA6IHtcbiAgICAgIGZvbnRGYW1pbHk6IHByaW1hcnlGb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICcyOHB4JyxcbiAgICAgIGxldHRlclNwYWNpbmc6ICctMiUnLFxuICAgIH0sXG4gICAgZm9udDYwMDoge1xuICAgICAgZm9udEZhbWlseTogcHJpbWFyeUZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxuICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgbGluZUhlaWdodDogJzM2cHgnLFxuICAgICAgbGV0dGVyU3BhY2luZzogJy0yJScsXG4gICAgfSxcbiAgICBmb250NzAwOiB7XG4gICAgICBmb250RmFtaWx5OiBwcmltYXJ5Rm9udEZhbWlseSxcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXG4gICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnNDBweCcsXG4gICAgICBsZXR0ZXJTcGFjaW5nOiAnLTIlJyxcbiAgICB9LFxuICAgIGZvbnQ4MDA6IHtcbiAgICAgIGZvbnRGYW1pbHk6IHByaW1hcnlGb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6ICczMnB4JyxcbiAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICc0OHB4JyxcbiAgICAgIC8vIFRPRE86IG1vdmUgdGhlIGxldHRlciBzcGFjaW5nIGluIGFuIFViZXIgc3BlY2lmaWMgdGhlbWVcbiAgICAgIGxldHRlclNwYWNpbmc6ICctMiUnLFxuICAgIH0sXG4gICAgZm9udDkwMDoge1xuICAgICAgZm9udEZhbWlseTogcHJpbWFyeUZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogJzQwcHgnLFxuICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgbGluZUhlaWdodDogJzU2cHgnLFxuICAgICAgLy8gVE9ETzogbW92ZSB0aGUgbGV0dGVyIHNwYWNpbmcgaW4gYW4gVWJlciBzcGVjaWZpYyB0aGVtZVxuICAgICAgbGV0dGVyU3BhY2luZzogJy0yJScsXG4gICAgfSxcbiAgICBmb250MTAwMDoge1xuICAgICAgZm9udEZhbWlseTogcHJpbWFyeUZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogJzU2cHgnLFxuICAgICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnODBweCcsXG4gICAgICAvLyBUT0RPOiBtb3ZlIHRoZSBsZXR0ZXIgc3BhY2luZyBpbiBhbiBVYmVyIHNwZWNpZmljIHRoZW1lXG4gICAgICBsZXR0ZXJTcGFjaW5nOiAnLTIlJyxcbiAgICB9LFxuICB9LFxuICBzaXppbmc6IHtcbiAgICBzY2FsZTA6ICcycHgnLFxuICAgIHNjYWxlMTAwOiAnNHB4JyxcbiAgICBzY2FsZTIwMDogJzZweCcsXG4gICAgc2NhbGUzMDA6ICc4cHgnLFxuICAgIHNjYWxlNDAwOiAnMTBweCcsXG4gICAgc2NhbGU1MDA6ICcxMnB4JyxcbiAgICBzY2FsZTYwMDogJzE2cHgnLFxuICAgIHNjYWxlNzAwOiAnMjBweCcsXG4gICAgc2NhbGU4MDA6ICcyNHB4JyxcbiAgICBzY2FsZTkwMDogJzMycHgnLFxuICAgIHNjYWxlMTAwMDogJzQwcHgnLFxuICAgIHNjYWxlMTIwMDogJzQ4cHgnLFxuICAgIHNjYWxlMTQwMDogJzU2cHgnLFxuICAgIHNjYWxlMTYwMDogJzY0cHgnLFxuICAgIHNjYWxlMjQwMDogJzk2cHgnLFxuICAgIHNjYWxlMzIwMDogJzEyOHB4JyxcbiAgICBzY2FsZTQ4MDA6ICcxOTJweCcsXG4gIH0sXG4gIGxpZ2h0aW5nOiB7XG4gICAgc2hhZG93NDAwOiAnMCAxcHggNHB4IGhzbGEoMCwgMCUsIDAlLCAwLjE2KScsXG4gICAgc2hhZG93NTAwOiAnMCAycHggOHB4IGhzbGEoMCwgMCUsIDAlLCAwLjE2KScsXG4gICAgc2hhZG93NjAwOiAnMCA0cHggMTZweCBoc2xhKDAsIDAlLCAwJSwgMC4xNiknLFxuICAgIHNoYWRvdzcwMDogJzAgOHB4IDI0cHggaHNsYSgwLCAwJSwgMCUsIDAuMTYpJyxcbiAgICBvdmVybGF5MDogJ2luc2V0IDAgMCAwIDEwMDBweCBoc2xhKDAsIDAlLCAwJSwgMCknLFxuICAgIG92ZXJsYXkxMDA6ICdpbnNldCAwIDAgMCAxMDAwcHggaHNsYSgwLCAwJSwgMCUsIDAuMDQpJyxcbiAgICBvdmVybGF5MjAwOiAnaW5zZXQgMCAwIDAgMTAwMHB4IGhzbGEoMCwgMCUsIDAlLCAwLjA4KScsXG4gICAgb3ZlcmxheTMwMDogJ2luc2V0IDAgMCAwIDEwMDBweCBoc2xhKDAsIDAlLCAwJSwgMC4xMiknLFxuICAgIG92ZXJsYXk0MDA6ICdpbnNldCAwIDAgMCAxMDAwcHggaHNsYSgwLCAwJSwgMCUsIDAuMTYpJyxcbiAgICBvdmVybGF5NTAwOiAnaW5zZXQgMCAwIDAgMTAwMHB4IGhzbGEoMCwgMCUsIDAlLCAwLjIpJyxcbiAgICBvdmVybGF5NjAwOiAnaW5zZXQgMCAwIDAgMTAwMHB4IGhzbGEoMCwgMCUsIDAlLCAwLjI0KScsXG4gIH0sXG4gIGJvcmRlcnM6IHtcbiAgICB1c2VSb3VuZGVkQ29ybmVyczogdHJ1ZSxcbiAgICByYWRpdXMxMDA6ICcycHgnLFxuICAgIHJhZGl1czIwMDogJzRweCcsXG4gICAgcmFkaXVzMzAwOiAnOHB4JyxcbiAgfSxcbiAgYW5pbWF0aW9uOiB7XG4gICAgdGltaW5nMTAwOiAnMC4yNXMnLFxuICAgIHRpbWluZzQwMDogJzAuNHMnLFxuICAgIHRpbWluZzcwMDogJzAuNnMnLFxuICAgIGVhc2VPdXRDdXJ2ZTogJ2N1YmljLWJlemllciguMiwgLjgsIC40LCAxKScsXG4gICAgZWFzZUluQ3VydmU6ICdjdWJpYy1iZXppZXIoLjgsIC4yLCAuNiwgMSknLFxuICAgIGVhc2VJbk91dEN1cnZlOiAnY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKScsXG4gIH0sXG59O1xuIiwiLy8gQGZsb3dcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMSUdIVF9USEVNRSBmcm9tICcuLi90aGVtZXMvbGlnaHQtdGhlbWUnO1xuXG5pbXBvcnQgdHlwZSB7VGhlbWVUfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IFRoZW1lQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoTElHSFRfVEhFTUUpO1xuXG5jb25zdCBUaGVtZVByb3ZpZGVyID0gKHByb3BzOiB7dGhlbWU6IFRoZW1lVCwgY2hpbGRyZW46ID9SZWFjdC5Ob2RlfSkgPT4ge1xuICBjb25zdCB7dGhlbWUsIGNoaWxkcmVufSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxUaGVtZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3RoZW1lfT57Y2hpbGRyZW59PC9UaGVtZUNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUaGVtZVByb3ZpZGVyO1xuIiwiLy8gQGZsb3dcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7Y3JlYXRlU3R5bGVkfSBmcm9tICdzdHlsZXRyb24tcmVhY3QtY29yZSc7XG5pbXBvcnQge2RyaXZlcn0gZnJvbSAnc3R5bGV0cm9uLXN0YW5kYXJkJztcblxuaW1wb3J0IHtUaGVtZUNvbnRleHR9IGZyb20gJy4vdGhlbWUtcHJvdmlkZXInO1xuXG5jb25zdCBnZXRJbml0aWFsU3R5bGUgPSAoKSA9PiAoe30pO1xuXG5jb25zdCB3cmFwcGVyID0gU3R5bGVkQ29tcG9uZW50ID0+XG4gIGZ1bmN0aW9uIHdpdGhUaGVtZUhPQyhwcm9wcykge1xuICAgIHJldHVybiAoXG4gICAgICA8VGhlbWVDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICB7dGhlbWUgPT4gPFN0eWxlZENvbXBvbmVudCB7Li4ucHJvcHN9ICR0aGVtZT17dGhlbWV9IC8+fVxuICAgICAgPC9UaGVtZUNvbnRleHQuQ29uc3VtZXI+XG4gICAgKTtcbiAgfTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3R5bGVkKHt3cmFwcGVyLCBnZXRJbml0aWFsU3R5bGUsIGRyaXZlcn0pO1xuIiwiLy8gQGZsb3dcblxuZXhwb3J0IGNvbnN0IEFSUk9XX1NJWkUgPSA2O1xuXG5leHBvcnQgY29uc3QgUE9QT1ZFUl9NQVJHSU4gPSA2O1xuXG5leHBvcnQgY29uc3QgUExBQ0VNRU5UID0ge1xuICBhdXRvOiAnYXV0bycsXG4gIHRvcExlZnQ6ICd0b3BMZWZ0JyxcbiAgdG9wOiAndG9wJyxcbiAgdG9wUmlnaHQ6ICd0b3BSaWdodCcsXG4gIHJpZ2h0VG9wOiAncmlnaHRUb3AnLFxuICByaWdodDogJ3JpZ2h0JyxcbiAgcmlnaHRCb3R0b206ICdyaWdodEJvdHRvbScsXG4gIGJvdHRvbVJpZ2h0OiAnYm90dG9tUmlnaHQnLFxuICBib3R0b206ICdib3R0b20nLFxuICBib3R0b21MZWZ0OiAnYm90dG9tTGVmdCcsXG4gIGxlZnRCb3R0b206ICdsZWZ0Qm90dG9tJyxcbiAgbGVmdDogJ2xlZnQnLFxuICBsZWZ0VG9wOiAnbGVmdFRvcCcsXG59O1xuXG5leHBvcnQgY29uc3QgVFJJR0dFUl9UWVBFID0ge1xuICBjbGljazogJ2NsaWNrJyxcbiAgaG92ZXI6ICdob3ZlcicsXG59O1xuXG5leHBvcnQgY29uc3QgU1RBVEVfQ0hBTkdFX1RZUEUgPSB7XG4gIG9wZW46ICdvcGVuJyxcbiAgY2xvc2U6ICdjbG9zZScsXG59O1xuXG5leHBvcnQgY29uc3QgQUNDRVNTSUJJTElUWV9UWVBFID0ge1xuICBub25lOiAnbm9uZScsXG4gIG1lbnU6ICdtZW51JyxcbiAgdG9vbHRpcDogJ3Rvb2x0aXAnLFxufTtcbiIsIi8vIEBmbG93XG5pbXBvcnQge0FDQ0VTU0lCSUxJVFlfVFlQRSwgUExBQ0VNRU5ULCBUUklHR0VSX1RZUEV9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB0eXBlIHtCYXNlUG9wb3ZlclByb3BzVH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IGJhc2VEZWZhdWx0UHJvcHM6ICRTaGFwZTxCYXNlUG9wb3ZlclByb3BzVD4gPSB7XG4gIGFjY2Vzc2liaWxpdHlUeXBlOiBBQ0NFU1NJQklMSVRZX1RZUEUubWVudSxcbiAgY29tcG9uZW50czoge30sXG4gIG9uTW91c2VFbnRlckRlbGF5OiAyMDAsXG4gIG9uTW91c2VMZWF2ZURlbGF5OiAyMDAsXG4gIHBsYWNlbWVudDogUExBQ0VNRU5ULmF1dG8sXG4gIHNob3dBcnJvdzogZmFsc2UsXG4gIHRyaWdnZXJUeXBlOiBUUklHR0VSX1RZUEUuY2xpY2ssXG59O1xuXG5leHBvcnQgZGVmYXVsdCBiYXNlRGVmYXVsdFByb3BzO1xuIiwiLy8gQGZsb3dcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7VFJJR0dFUl9UWVBFLCBTVEFURV9DSEFOR0VfVFlQRX0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGJhc2VEZWZhdWx0UHJvcHMgZnJvbSAnLi9kZWZhdWx0LXByb3BzJztcbmltcG9ydCB0eXBlIHtcbiAgUG9wb3ZlclByb3BzV2l0aG91dENoaWxkcmVuVCxcbiAgU3RhdGVULFxuICBTdGF0ZWZ1bFBvcG92ZXJDb250YWluZXJQcm9wc1QsXG4gIFN0YXRlQ2hhbmdlVHlwZVQsXG4gIFN0YXRlUmVkdWNlclQsXG59IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBkZWZhdWx0U3RhdGVSZWR1Y2VyOiBTdGF0ZVJlZHVjZXJUID0gKHR5cGUsIG5leHRTdGF0ZSkgPT4gbmV4dFN0YXRlO1xuXG5jbGFzcyBTdGF0ZWZ1bENvbnRhaW5lciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcbiAgU3RhdGVmdWxQb3BvdmVyQ29udGFpbmVyUHJvcHNULFxuICBTdGF0ZVQsXG4+IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wczogJFNoYXBlPFN0YXRlZnVsUG9wb3ZlckNvbnRhaW5lclByb3BzVD4gPSB7XG4gICAgLi4uYmFzZURlZmF1bHRQcm9wcyxcbiAgICBkaXNtaXNzT25DbGlja091dHNpZGU6IHRydWUsXG4gICAgZGlzbWlzc09uRXNjOiB0cnVlLFxuICAgIHN0YXRlUmVkdWNlcjogZGVmYXVsdFN0YXRlUmVkdWNlcixcbiAgfTtcblxuICBzdGF0ZSA9IHtcbiAgICBpc09wZW46IGZhbHNlLFxuICAgIC4uLnRoaXMucHJvcHMuaW5pdGlhbFN0YXRlLFxuICB9O1xuXG4gIG9uQmx1ciA9ICgpID0+IHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH07XG5cbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc09wZW4pIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICB9O1xuXG4gIG9uQ2xpY2tPdXRzaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfTtcblxuICBvbkVzYyA9ICgpID0+IHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH07XG5cbiAgb25Gb2N1cyA9ICgpID0+IHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfTtcblxuICBvbk1vdXNlRW50ZXIgPSAoKSA9PiB7XG4gICAgdGhpcy5vcGVuKCk7XG4gIH07XG5cbiAgb25Nb3VzZUxlYXZlID0gKCkgPT4ge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfTtcblxuICBvbkNvbnRlbnRDbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH07XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLmludGVybmFsU2V0U3RhdGUoU1RBVEVfQ0hBTkdFX1RZUEUub3Blbiwge1xuICAgICAgaXNPcGVuOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5pbnRlcm5hbFNldFN0YXRlKFNUQVRFX0NIQU5HRV9UWVBFLmNsb3NlLCB7XG4gICAgICBpc09wZW46IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgaW50ZXJuYWxTZXRTdGF0ZSh0eXBlOiBTdGF0ZUNoYW5nZVR5cGVULCBjaGFuZ2VzOiBTdGF0ZVQpIHtcbiAgICBjb25zdCB7c3RhdGVSZWR1Y2VyfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZVJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoY2hhbmdlcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+IHN0YXRlUmVkdWNlcih0eXBlLCBjaGFuZ2VzLCBwcmV2U3RhdGUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB1c2VyIHBhc3NlZCBhIGNvbnRlbnQgcmVuZGVyIHByb3AsIHdlIHdhbnQgdG8gZ2l2ZSB0aGVtIGFcbiAgICogY2FsbGJhY2sgdG8gY2xvc2UgdGhlIFBvcG92ZXIuIFRoaXMgaXMgdXNlZnVsIGluIGFueSBjYXNlIHdoZXJlXG4gICAqIGEgZGV2IHdhbnRzIHRvIG1hbnVhbGx5IGNsb3NlIHRoZSBwb3BvdmVyIGJhc2VkIG9uIHNvbWUgYWN0aW9uLlxuICAgKlxuICAgKiBPbmUgc2ltcGxlIGV4YW1wbGUgaXMgYSBQb3BvdmVyIHdpdGggYSBcIkRpc21pc3NcIiBidXR0b24gaW4gaXQ6XG4gICAqIDxTdGF0ZWZ1bFBvcG92ZXIgY29udGVudD17KHtjbG9zZX0pID0+IDxidXR0b24gb25DbGljaz17Y2xvc2V9PkRpc21pc3M8L2J1dHRvbj59PlxuICAgKiAgQ2xpY2sgbWVcbiAgICogPC9TdGF0ZWZ1bFBvcG92ZXI+XG4gICAqL1xuICByZW5kZXJDb250ZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHtjb250ZW50fSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY29udGVudCh7Y2xvc2U6IHRoaXMub25Db250ZW50Q2xvc2V9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGFjY2Vzc2liaWxpdHlUeXBlLFxuICAgICAgZGlzbWlzc09uQ2xpY2tPdXRzaWRlLFxuICAgICAgZGlzbWlzc09uRXNjLFxuICAgICAgY29tcG9uZW50cyxcbiAgICAgIG9uTW91c2VFbnRlckRlbGF5LFxuICAgICAgb25Nb3VzZUxlYXZlRGVsYXksXG4gICAgICBwbGFjZW1lbnQsXG4gICAgICBzaG93QXJyb3csXG4gICAgICB0cmlnZ2VyVHlwZSxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHBvcG92ZXJQcm9wczogUG9wb3ZlclByb3BzV2l0aG91dENoaWxkcmVuVCA9IHtcbiAgICAgIGFjY2Vzc2liaWxpdHlUeXBlLFxuICAgICAgaXNPcGVuOiB0aGlzLnN0YXRlLmlzT3BlbixcbiAgICAgIGNvbXBvbmVudHMsXG4gICAgICBjb250ZW50OiB0aGlzLnJlbmRlckNvbnRlbnQsXG4gICAgICBvbk1vdXNlRW50ZXJEZWxheSxcbiAgICAgIG9uTW91c2VMZWF2ZURlbGF5LFxuICAgICAgcGxhY2VtZW50LFxuICAgICAgc2hvd0Fycm93LFxuICAgICAgdHJpZ2dlclR5cGUsXG4gICAgfTtcblxuICAgIGlmIChkaXNtaXNzT25DbGlja091dHNpZGUpIHtcbiAgICAgIHBvcG92ZXJQcm9wcy5vbkNsaWNrT3V0c2lkZSA9IHRoaXMub25DbGlja091dHNpZGU7XG4gICAgfVxuICAgIGlmIChkaXNtaXNzT25Fc2MpIHtcbiAgICAgIHBvcG92ZXJQcm9wcy5vbkVzYyA9IHRoaXMub25Fc2M7XG4gICAgfVxuICAgIGlmICh0cmlnZ2VyVHlwZSA9PT0gVFJJR0dFUl9UWVBFLmhvdmVyKSB7XG4gICAgICBwb3BvdmVyUHJvcHMub25CbHVyID0gdGhpcy5vbkJsdXI7XG4gICAgICBwb3BvdmVyUHJvcHMub25Gb2N1cyA9IHRoaXMub25Gb2N1cztcbiAgICAgIHBvcG92ZXJQcm9wcy5vbk1vdXNlRW50ZXIgPSB0aGlzLm9uTW91c2VFbnRlcjtcbiAgICAgIHBvcG92ZXJQcm9wcy5vbk1vdXNlTGVhdmUgPSB0aGlzLm9uTW91c2VMZWF2ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9wb3ZlclByb3BzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2s7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4ocG9wb3ZlclByb3BzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdGF0ZWZ1bENvbnRhaW5lcjtcbiIsImV4cG9ydCBkZWZhdWx0IHt9O1xuIiwidmFyIHRvcExldmVsID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOlxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge31cbnZhciBtaW5Eb2MgPSByZXF1aXJlKCdtaW4tZG9jdW1lbnQnKTtcblxudmFyIGRvY2N5O1xuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGRvY2N5ID0gZG9jdW1lbnQ7XG59IGVsc2Uge1xuICAgIGRvY2N5ID0gdG9wTGV2ZWxbJ19fR0xPQkFMX0RPQ1VNRU5UX0NBQ0hFQDQnXTtcblxuICAgIGlmICghZG9jY3kpIHtcbiAgICAgICAgZG9jY3kgPSB0b3BMZXZlbFsnX19HTE9CQUxfRE9DVU1FTlRfQ0FDSEVANCddID0gbWluRG9jO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb2NjeTtcbiIsIi8qKiFcbiAqIEBmaWxlT3ZlcnZpZXcgS2lja2FzcyBsaWJyYXJ5IHRvIGNyZWF0ZSBhbmQgcGxhY2UgcG9wcGVycyBuZWFyIHRoZWlyIHJlZmVyZW5jZSBlbGVtZW50cy5cbiAqIEB2ZXJzaW9uIDEuMTQuM1xuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNiBGZWRlcmljbyBaaXZvbG8gYW5kIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcbiAqIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICogU09GVFdBUkUuXG4gKi9cbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG52YXIgbG9uZ2VyVGltZW91dEJyb3dzZXJzID0gWydFZGdlJywgJ1RyaWRlbnQnLCAnRmlyZWZveCddO1xudmFyIHRpbWVvdXREdXJhdGlvbiA9IDA7XG5mb3IgKHZhciBpID0gMDsgaSA8IGxvbmdlclRpbWVvdXRCcm93c2Vycy5sZW5ndGg7IGkgKz0gMSkge1xuICBpZiAoaXNCcm93c2VyICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihsb25nZXJUaW1lb3V0QnJvd3NlcnNbaV0pID49IDApIHtcbiAgICB0aW1lb3V0RHVyYXRpb24gPSAxO1xuICAgIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1pY3JvdGFza0RlYm91bmNlKGZuKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxlZCA9IHRydWU7XG4gICAgd2luZG93LlByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGVkID0gZmFsc2U7XG4gICAgICBmbigpO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0YXNrRGVib3VuY2UoZm4pIHtcbiAgdmFyIHNjaGVkdWxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghc2NoZWR1bGVkKSB7XG4gICAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICBmbigpO1xuICAgICAgfSwgdGltZW91dER1cmF0aW9uKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBzdXBwb3J0c01pY3JvVGFza3MgPSBpc0Jyb3dzZXIgJiYgd2luZG93LlByb21pc2U7XG5cbi8qKlxuKiBDcmVhdGUgYSBkZWJvdW5jZWQgdmVyc2lvbiBvZiBhIG1ldGhvZCwgdGhhdCdzIGFzeW5jaHJvbm91c2x5IGRlZmVycmVkXG4qIGJ1dCBjYWxsZWQgaW4gdGhlIG1pbmltdW0gdGltZSBwb3NzaWJsZS5cbipcbiogQG1ldGhvZFxuKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4qIEBhcmd1bWVudCB7RnVuY3Rpb259IGZuXG4qIEByZXR1cm5zIHtGdW5jdGlvbn1cbiovXG52YXIgZGVib3VuY2UgPSBzdXBwb3J0c01pY3JvVGFza3MgPyBtaWNyb3Rhc2tEZWJvdW5jZSA6IHRhc2tEZWJvdW5jZTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBmdW5jdGlvblxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtBbnl9IGZ1bmN0aW9uVG9DaGVjayAtIHZhcmlhYmxlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYW5zd2VyIHRvOiBpcyBhIGZ1bmN0aW9uP1xuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGZ1bmN0aW9uVG9DaGVjaykge1xuICB2YXIgZ2V0VHlwZSA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb25Ub0NoZWNrICYmIGdldFR5cGUudG9TdHJpbmcuY2FsbChmdW5jdGlvblRvQ2hlY2spID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIEdldCBDU1MgY29tcHV0ZWQgcHJvcGVydHkgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge1N0cmluZ30gcHJvcGVydHlcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG4gIHZhciBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpO1xuICByZXR1cm4gcHJvcGVydHkgPyBjc3NbcHJvcGVydHldIDogY3NzO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHBhcmVudE5vZGUgb3IgdGhlIGhvc3Qgb2YgdGhlIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnR9IHBhcmVudFxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnROb2RlKGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG4gIHJldHVybiBlbGVtZW50LnBhcmVudE5vZGUgfHwgZWxlbWVudC5ob3N0O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNjcm9sbGluZyBwYXJlbnQgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnR9IHNjcm9sbCBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50KGVsZW1lbnQpIHtcbiAgLy8gUmV0dXJuIGJvZHksIGBnZXRTY3JvbGxgIHdpbGwgdGFrZSBjYXJlIHRvIGdldCB0aGUgY29ycmVjdCBgc2Nyb2xsVG9wYCBmcm9tIGl0XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiBkb2N1bWVudC5ib2R5O1xuICB9XG5cbiAgc3dpdGNoIChlbGVtZW50Lm5vZGVOYW1lKSB7XG4gICAgY2FzZSAnSFRNTCc6XG4gICAgY2FzZSAnQk9EWSc6XG4gICAgICByZXR1cm4gZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHk7XG4gICAgY2FzZSAnI2RvY3VtZW50JzpcbiAgICAgIHJldHVybiBlbGVtZW50LmJvZHk7XG4gIH1cblxuICAvLyBGaXJlZm94IHdhbnQgdXMgdG8gY2hlY2sgYC14YCBhbmQgYC15YCB2YXJpYXRpb25zIGFzIHdlbGxcblxuICB2YXIgX2dldFN0eWxlQ29tcHV0ZWRQcm9wID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQpLFxuICAgICAgb3ZlcmZsb3cgPSBfZ2V0U3R5bGVDb21wdXRlZFByb3Aub3ZlcmZsb3csXG4gICAgICBvdmVyZmxvd1ggPSBfZ2V0U3R5bGVDb21wdXRlZFByb3Aub3ZlcmZsb3dYLFxuICAgICAgb3ZlcmZsb3dZID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93WTtcblxuICBpZiAoLyhhdXRvfHNjcm9sbHxvdmVybGF5KS8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCkpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiBnZXRTY3JvbGxQYXJlbnQoZ2V0UGFyZW50Tm9kZShlbGVtZW50KSk7XG59XG5cbnZhciBpc0lFMTEgPSBpc0Jyb3dzZXIgJiYgISEod2luZG93Lk1TSW5wdXRNZXRob2RDb250ZXh0ICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSk7XG52YXIgaXNJRTEwID0gaXNCcm93c2VyICYmIC9NU0lFIDEwLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGJyb3dzZXIgaXMgSW50ZXJuZXQgRXhwbG9yZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJzaW9uIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gaXNJRVxuICovXG5mdW5jdGlvbiBpc0lFKHZlcnNpb24pIHtcbiAgaWYgKHZlcnNpb24gPT09IDExKSB7XG4gICAgcmV0dXJuIGlzSUUxMTtcbiAgfVxuICBpZiAodmVyc2lvbiA9PT0gMTApIHtcbiAgICByZXR1cm4gaXNJRTEwO1xuICB9XG4gIHJldHVybiBpc0lFMTEgfHwgaXNJRTEwO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG9mZnNldCBwYXJlbnQgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnR9IG9mZnNldCBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIHZhciBub09mZnNldFBhcmVudCA9IGlzSUUoMTApID8gZG9jdW1lbnQuYm9keSA6IG51bGw7XG5cbiAgLy8gTk9URTogMSBET00gYWNjZXNzIGhlcmVcbiAgdmFyIG9mZnNldFBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICAvLyBTa2lwIGhpZGRlbiBlbGVtZW50cyB3aGljaCBkb24ndCBoYXZlIGFuIG9mZnNldFBhcmVudFxuICB3aGlsZSAob2Zmc2V0UGFyZW50ID09PSBub09mZnNldFBhcmVudCAmJiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZykge1xuICAgIG9mZnNldFBhcmVudCA9IChlbGVtZW50ID0gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpLm9mZnNldFBhcmVudDtcbiAgfVxuXG4gIHZhciBub2RlTmFtZSA9IG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQubm9kZU5hbWU7XG5cbiAgaWYgKCFub2RlTmFtZSB8fCBub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICAvLyAub2Zmc2V0UGFyZW50IHdpbGwgcmV0dXJuIHRoZSBjbG9zZXN0IFREIG9yIFRBQkxFIGluIGNhc2VcbiAgLy8gbm8gb2Zmc2V0UGFyZW50IGlzIHByZXNlbnQsIEkgaGF0ZSB0aGlzIGpvYi4uLlxuICBpZiAoWydURCcsICdUQUJMRSddLmluZGV4T2Yob2Zmc2V0UGFyZW50Lm5vZGVOYW1lKSAhPT0gLTEgJiYgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KG9mZnNldFBhcmVudCwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSB7XG4gICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldFBhcmVudDtcbn1cblxuZnVuY3Rpb24gaXNPZmZzZXRDb250YWluZXIoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBub2RlTmFtZSA9PT0gJ0hUTUwnIHx8IGdldE9mZnNldFBhcmVudChlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKSA9PT0gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgcm9vdCBub2RlIChkb2N1bWVudCwgc2hhZG93RE9NIHJvb3QpIG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtFbGVtZW50fSByb290IG5vZGVcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdChub2RlKSB7XG4gIGlmIChub2RlLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICByZXR1cm4gZ2V0Um9vdChub2RlLnBhcmVudE5vZGUpO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIG9mZnNldCBwYXJlbnQgY29tbW9uIHRvIHRoZSB0d28gcHJvdmlkZWQgbm9kZXNcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDFcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDJcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBjb21tb24gb2Zmc2V0IHBhcmVudFxuICovXG5mdW5jdGlvbiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBlbGVtZW50Mikge1xuICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCB0byBhdm9pZCBlcnJvcnMgaW4gY2FzZSBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzbid0IGRlZmluZWQgZm9yIGFueSByZWFzb25cbiAgaWYgKCFlbGVtZW50MSB8fCAhZWxlbWVudDEubm9kZVR5cGUgfHwgIWVsZW1lbnQyIHx8ICFlbGVtZW50Mi5ub2RlVHlwZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICAvLyBIZXJlIHdlIG1ha2Ugc3VyZSB0byBnaXZlIGFzIFwic3RhcnRcIiB0aGUgZWxlbWVudCB0aGF0IGNvbWVzIGZpcnN0IGluIHRoZSBET01cbiAgdmFyIG9yZGVyID0gZWxlbWVudDEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZWxlbWVudDIpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkc7XG4gIHZhciBzdGFydCA9IG9yZGVyID8gZWxlbWVudDEgOiBlbGVtZW50MjtcbiAgdmFyIGVuZCA9IG9yZGVyID8gZWxlbWVudDIgOiBlbGVtZW50MTtcblxuICAvLyBHZXQgY29tbW9uIGFuY2VzdG9yIGNvbnRhaW5lclxuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICByYW5nZS5zZXRTdGFydChzdGFydCwgMCk7XG4gIHJhbmdlLnNldEVuZChlbmQsIDApO1xuICB2YXIgY29tbW9uQW5jZXN0b3JDb250YWluZXIgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAvLyBCb3RoIG5vZGVzIGFyZSBpbnNpZGUgI2RvY3VtZW50XG5cbiAgaWYgKGVsZW1lbnQxICE9PSBjb21tb25BbmNlc3RvckNvbnRhaW5lciAmJiBlbGVtZW50MiAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgfHwgc3RhcnQuY29udGFpbnMoZW5kKSkge1xuICAgIGlmIChpc09mZnNldENvbnRhaW5lcihjb21tb25BbmNlc3RvckNvbnRhaW5lcikpIHtcbiAgICAgIHJldHVybiBjb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIG9uZSBvZiB0aGUgbm9kZXMgaXMgaW5zaWRlIHNoYWRvd0RPTSwgZmluZCB3aGljaCBvbmVcbiAgdmFyIGVsZW1lbnQxcm9vdCA9IGdldFJvb3QoZWxlbWVudDEpO1xuICBpZiAoZWxlbWVudDFyb290Lmhvc3QpIHtcbiAgICByZXR1cm4gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MXJvb3QuaG9zdCwgZWxlbWVudDIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBnZXRSb290KGVsZW1lbnQyKS5ob3N0KTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIHNjcm9sbCB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCBpbiB0aGUgZ2l2ZW4gc2lkZSAodG9wIGFuZCBsZWZ0KVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge1N0cmluZ30gc2lkZSBgdG9wYCBvciBgbGVmdGBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFtb3VudCBvZiBzY3JvbGxlZCBwaXhlbHNcbiAqL1xuZnVuY3Rpb24gZ2V0U2Nyb2xsKGVsZW1lbnQpIHtcbiAgdmFyIHNpZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICd0b3AnO1xuXG4gIHZhciB1cHBlclNpZGUgPSBzaWRlID09PSAndG9wJyA/ICdzY3JvbGxUb3AnIDogJ3Njcm9sbExlZnQnO1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIHNjcm9sbGluZ0VsZW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBodG1sO1xuICAgIHJldHVybiBzY3JvbGxpbmdFbGVtZW50W3VwcGVyU2lkZV07XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFt1cHBlclNpZGVdO1xufVxuXG4vKlxuICogU3VtIG9yIHN1YnRyYWN0IHRoZSBlbGVtZW50IHNjcm9sbCB2YWx1ZXMgKGxlZnQgYW5kIHRvcCkgZnJvbSBhIGdpdmVuIHJlY3Qgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdCAtIFJlY3Qgb2JqZWN0IHlvdSB3YW50IHRvIGNoYW5nZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBlbGVtZW50IGZyb20gdGhlIGZ1bmN0aW9uIHJlYWRzIHRoZSBzY3JvbGwgdmFsdWVzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHN1YnRyYWN0IC0gc2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gc3VidHJhY3QgdGhlIHNjcm9sbCB2YWx1ZXNcbiAqIEByZXR1cm4ge09iamVjdH0gcmVjdCAtIFRoZSBtb2RpZmllciByZWN0IG9iamVjdFxuICovXG5mdW5jdGlvbiBpbmNsdWRlU2Nyb2xsKHJlY3QsIGVsZW1lbnQpIHtcbiAgdmFyIHN1YnRyYWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICd0b3AnKTtcbiAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ2xlZnQnKTtcbiAgdmFyIG1vZGlmaWVyID0gc3VidHJhY3QgPyAtMSA6IDE7XG4gIHJlY3QudG9wICs9IHNjcm9sbFRvcCAqIG1vZGlmaWVyO1xuICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3AgKiBtb2RpZmllcjtcbiAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQgKiBtb2RpZmllcjtcbiAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7XG4gIHJldHVybiByZWN0O1xufVxuXG4vKlxuICogSGVscGVyIHRvIGRldGVjdCBib3JkZXJzIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcbiAqIFJlc3VsdCBvZiBgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5YCBvbiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IGF4aXMgLSBgeGAgb3IgYHlgXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGJvcmRlcnMgLSBUaGUgYm9yZGVycyBzaXplIG9mIHRoZSBnaXZlbiBheGlzXG4gKi9cblxuZnVuY3Rpb24gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCBheGlzKSB7XG4gIHZhciBzaWRlQSA9IGF4aXMgPT09ICd4JyA/ICdMZWZ0JyA6ICdUb3AnO1xuICB2YXIgc2lkZUIgPSBzaWRlQSA9PT0gJ0xlZnQnID8gJ1JpZ2h0JyA6ICdCb3R0b20nO1xuXG4gIHJldHVybiBwYXJzZUZsb2F0KHN0eWxlc1snYm9yZGVyJyArIHNpZGVBICsgJ1dpZHRoJ10sIDEwKSArIHBhcnNlRmxvYXQoc3R5bGVzWydib3JkZXInICsgc2lkZUIgKyAnV2lkdGgnXSwgMTApO1xufVxuXG5mdW5jdGlvbiBnZXRTaXplKGF4aXMsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KGJvZHlbJ29mZnNldCcgKyBheGlzXSwgYm9keVsnc2Nyb2xsJyArIGF4aXNdLCBodG1sWydjbGllbnQnICsgYXhpc10sIGh0bWxbJ29mZnNldCcgKyBheGlzXSwgaHRtbFsnc2Nyb2xsJyArIGF4aXNdLCBpc0lFKDEwKSA/IGh0bWxbJ29mZnNldCcgKyBheGlzXSArIGNvbXB1dGVkU3R5bGVbJ21hcmdpbicgKyAoYXhpcyA9PT0gJ0hlaWdodCcgPyAnVG9wJyA6ICdMZWZ0JyldICsgY29tcHV0ZWRTdHlsZVsnbWFyZ2luJyArIChheGlzID09PSAnSGVpZ2h0JyA/ICdCb3R0b20nIDogJ1JpZ2h0JyldIDogMCk7XG59XG5cbmZ1bmN0aW9uIGdldFdpbmRvd1NpemVzKCkge1xuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIHZhciBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB2YXIgY29tcHV0ZWRTdHlsZSA9IGlzSUUoMTApICYmIGdldENvbXB1dGVkU3R5bGUoaHRtbCk7XG5cbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQ6IGdldFNpemUoJ0hlaWdodCcsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpLFxuICAgIHdpZHRoOiBnZXRTaXplKCdXaWR0aCcsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpXG4gIH07XG59XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cblxuXG5cblxudmFyIGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gKG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuLyoqXG4gKiBHaXZlbiBlbGVtZW50IG9mZnNldHMsIGdlbmVyYXRlIGFuIG91dHB1dCBzaW1pbGFyIHRvIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IG9mZnNldHNcbiAqIEByZXR1cm5zIHtPYmplY3R9IENsaWVudFJlY3QgbGlrZSBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdChvZmZzZXRzKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgb2Zmc2V0cywge1xuICAgIHJpZ2h0OiBvZmZzZXRzLmxlZnQgKyBvZmZzZXRzLndpZHRoLFxuICAgIGJvdHRvbTogb2Zmc2V0cy50b3AgKyBvZmZzZXRzLmhlaWdodFxuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgY2xpZW50IHJlY3Qgb2YgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7T2JqZWN0fSBjbGllbnQgcmVjdFxuICovXG5mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCkge1xuICB2YXIgcmVjdCA9IHt9O1xuXG4gIC8vIElFMTAgMTAgRklYOiBQbGVhc2UsIGRvbid0IGFzaywgdGhlIGVsZW1lbnQgaXNuJ3RcbiAgLy8gY29uc2lkZXJlZCBpbiBET00gaW4gc29tZSBjaXJjdW1zdGFuY2VzLi4uXG4gIC8vIFRoaXMgaXNuJ3QgcmVwcm9kdWNpYmxlIGluIElFMTAgY29tcGF0aWJpbGl0eSBtb2RlIG9mIElFMTFcbiAgdHJ5IHtcbiAgICBpZiAoaXNJRSgxMCkpIHtcbiAgICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbChlbGVtZW50LCAndG9wJyk7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IGdldFNjcm9sbChlbGVtZW50LCAnbGVmdCcpO1xuICAgICAgcmVjdC50b3AgKz0gc2Nyb2xsVG9wO1xuICAgICAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQ7XG4gICAgICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3A7XG4gICAgICByZWN0LnJpZ2h0ICs9IHNjcm9sbExlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0ge1xuICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICB0b3A6IHJlY3QudG9wLFxuICAgIHdpZHRoOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgIGhlaWdodDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICB9O1xuXG4gIC8vIHN1YnRyYWN0IHNjcm9sbGJhciBzaXplIGZyb20gc2l6ZXNcbiAgdmFyIHNpemVzID0gZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnID8gZ2V0V2luZG93U2l6ZXMoKSA6IHt9O1xuICB2YXIgd2lkdGggPSBzaXplcy53aWR0aCB8fCBlbGVtZW50LmNsaWVudFdpZHRoIHx8IHJlc3VsdC5yaWdodCAtIHJlc3VsdC5sZWZ0O1xuICB2YXIgaGVpZ2h0ID0gc2l6ZXMuaGVpZ2h0IHx8IGVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IHJlc3VsdC5ib3R0b20gLSByZXN1bHQudG9wO1xuXG4gIHZhciBob3JpelNjcm9sbGJhciA9IGVsZW1lbnQub2Zmc2V0V2lkdGggLSB3aWR0aDtcbiAgdmFyIHZlcnRTY3JvbGxiYXIgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAtIGhlaWdodDtcblxuICAvLyBpZiBhbiBoeXBvdGhldGljYWwgc2Nyb2xsYmFyIGlzIGRldGVjdGVkLCB3ZSBtdXN0IGJlIHN1cmUgaXQncyBub3QgYSBgYm9yZGVyYFxuICAvLyB3ZSBtYWtlIHRoaXMgY2hlY2sgY29uZGl0aW9uYWwgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgaWYgKGhvcml6U2Nyb2xsYmFyIHx8IHZlcnRTY3JvbGxiYXIpIHtcbiAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQpO1xuICAgIGhvcml6U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3gnKTtcbiAgICB2ZXJ0U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3knKTtcblxuICAgIHJlc3VsdC53aWR0aCAtPSBob3JpelNjcm9sbGJhcjtcbiAgICByZXN1bHQuaGVpZ2h0IC09IHZlcnRTY3JvbGxiYXI7XG4gIH1cblxuICByZXR1cm4gZ2V0Q2xpZW50UmVjdChyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoY2hpbGRyZW4sIHBhcmVudCkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgdmFyIGlzSUUxMCA9IGlzSUUoMTApO1xuICB2YXIgaXNIVE1MID0gcGFyZW50Lm5vZGVOYW1lID09PSAnSFRNTCc7XG4gIHZhciBjaGlsZHJlblJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoY2hpbGRyZW4pO1xuICB2YXIgcGFyZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChwYXJlbnQpO1xuICB2YXIgc2Nyb2xsUGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KGNoaWxkcmVuKTtcblxuICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KHBhcmVudCk7XG4gIHZhciBib3JkZXJUb3BXaWR0aCA9IHBhcnNlRmxvYXQoc3R5bGVzLmJvcmRlclRvcFdpZHRoLCAxMCk7XG4gIHZhciBib3JkZXJMZWZ0V2lkdGggPSBwYXJzZUZsb2F0KHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgsIDEwKTtcblxuICAvLyBJbiBjYXNlcyB3aGVyZSB0aGUgcGFyZW50IGlzIGZpeGVkLCB3ZSBtdXN0IGlnbm9yZSBuZWdhdGl2ZSBzY3JvbGwgaW4gb2Zmc2V0IGNhbGNcbiAgaWYgKGZpeGVkUG9zaXRpb24gJiYgcGFyZW50Lm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICBwYXJlbnRSZWN0LnRvcCA9IE1hdGgubWF4KHBhcmVudFJlY3QudG9wLCAwKTtcbiAgICBwYXJlbnRSZWN0LmxlZnQgPSBNYXRoLm1heChwYXJlbnRSZWN0LmxlZnQsIDApO1xuICB9XG4gIHZhciBvZmZzZXRzID0gZ2V0Q2xpZW50UmVjdCh7XG4gICAgdG9wOiBjaGlsZHJlblJlY3QudG9wIC0gcGFyZW50UmVjdC50b3AgLSBib3JkZXJUb3BXaWR0aCxcbiAgICBsZWZ0OiBjaGlsZHJlblJlY3QubGVmdCAtIHBhcmVudFJlY3QubGVmdCAtIGJvcmRlckxlZnRXaWR0aCxcbiAgICB3aWR0aDogY2hpbGRyZW5SZWN0LndpZHRoLFxuICAgIGhlaWdodDogY2hpbGRyZW5SZWN0LmhlaWdodFxuICB9KTtcbiAgb2Zmc2V0cy5tYXJnaW5Ub3AgPSAwO1xuICBvZmZzZXRzLm1hcmdpbkxlZnQgPSAwO1xuXG4gIC8vIFN1YnRyYWN0IG1hcmdpbnMgb2YgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgaXQncyBiZWluZyB1c2VkIGFzIHBhcmVudFxuICAvLyB3ZSBkbyB0aGlzIG9ubHkgb24gSFRNTCBiZWNhdXNlIGl0J3MgdGhlIG9ubHkgZWxlbWVudCB0aGF0IGJlaGF2ZXNcbiAgLy8gZGlmZmVyZW50bHkgd2hlbiBtYXJnaW5zIGFyZSBhcHBsaWVkIHRvIGl0LiBUaGUgbWFyZ2lucyBhcmUgaW5jbHVkZWQgaW5cbiAgLy8gdGhlIGJveCBvZiB0aGUgZG9jdW1lbnRFbGVtZW50LCBpbiB0aGUgb3RoZXIgY2FzZXMgbm90LlxuICBpZiAoIWlzSUUxMCAmJiBpc0hUTUwpIHtcbiAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luVG9wLCAxMCk7XG4gICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5MZWZ0LCAxMCk7XG5cbiAgICBvZmZzZXRzLnRvcCAtPSBib3JkZXJUb3BXaWR0aCAtIG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLmJvdHRvbSAtPSBib3JkZXJUb3BXaWR0aCAtIG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLmxlZnQgLT0gYm9yZGVyTGVmdFdpZHRoIC0gbWFyZ2luTGVmdDtcbiAgICBvZmZzZXRzLnJpZ2h0IC09IGJvcmRlckxlZnRXaWR0aCAtIG1hcmdpbkxlZnQ7XG5cbiAgICAvLyBBdHRhY2ggbWFyZ2luVG9wIGFuZCBtYXJnaW5MZWZ0IGJlY2F1c2UgaW4gc29tZSBjaXJjdW1zdGFuY2VzIHdlIG1heSBuZWVkIHRoZW1cbiAgICBvZmZzZXRzLm1hcmdpblRvcCA9IG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLm1hcmdpbkxlZnQgPSBtYXJnaW5MZWZ0O1xuICB9XG5cbiAgaWYgKGlzSUUxMCAmJiAhZml4ZWRQb3NpdGlvbiA/IHBhcmVudC5jb250YWlucyhzY3JvbGxQYXJlbnQpIDogcGFyZW50ID09PSBzY3JvbGxQYXJlbnQgJiYgc2Nyb2xsUGFyZW50Lm5vZGVOYW1lICE9PSAnQk9EWScpIHtcbiAgICBvZmZzZXRzID0gaW5jbHVkZVNjcm9sbChvZmZzZXRzLCBwYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldHM7XG59XG5cbmZ1bmN0aW9uIGdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZShlbGVtZW50KSB7XG4gIHZhciBleGNsdWRlU2Nyb2xsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciByZWxhdGl2ZU9mZnNldCA9IGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShlbGVtZW50LCBodG1sKTtcbiAgdmFyIHdpZHRoID0gTWF0aC5tYXgoaHRtbC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7XG4gIHZhciBoZWlnaHQgPSBNYXRoLm1heChodG1sLmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApO1xuXG4gIHZhciBzY3JvbGxUb3AgPSAhZXhjbHVkZVNjcm9sbCA/IGdldFNjcm9sbChodG1sKSA6IDA7XG4gIHZhciBzY3JvbGxMZWZ0ID0gIWV4Y2x1ZGVTY3JvbGwgPyBnZXRTY3JvbGwoaHRtbCwgJ2xlZnQnKSA6IDA7XG5cbiAgdmFyIG9mZnNldCA9IHtcbiAgICB0b3A6IHNjcm9sbFRvcCAtIHJlbGF0aXZlT2Zmc2V0LnRvcCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpblRvcCxcbiAgICBsZWZ0OiBzY3JvbGxMZWZ0IC0gcmVsYXRpdmVPZmZzZXQubGVmdCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpbkxlZnQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG5cbiAgcmV0dXJuIGdldENsaWVudFJlY3Qob2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZWxlbWVudCBpcyBmaXhlZCBvciBpcyBpbnNpZGUgYSBmaXhlZCBwYXJlbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBjdXN0b21Db250YWluZXJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBhbnN3ZXIgdG8gXCJpc0ZpeGVkP1wiXG4gKi9cbmZ1bmN0aW9uIGlzRml4ZWQoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gaXNGaXhlZChnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgcGFyZW50IG9mIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSB0cmFuc2Zvcm1lZCBwcm9wZXJ0eSBkZWZpbmVkXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBmaXJzdCB0cmFuc2Zvcm1lZCBwYXJlbnQgb3IgZG9jdW1lbnRFbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gZ2V0Rml4ZWRQb3NpdGlvbk9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIC8vIFRoaXMgY2hlY2sgaXMgbmVlZGVkIHRvIGF2b2lkIGVycm9ycyBpbiBjYXNlIG9uZSBvZiB0aGUgZWxlbWVudHMgaXNuJ3QgZGVmaW5lZCBmb3IgYW55IHJlYXNvblxuICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQucGFyZW50RWxlbWVudCB8fCBpc0lFKCkpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG4gIHZhciBlbCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgd2hpbGUgKGVsICYmIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbCwgJ3RyYW5zZm9ybScpID09PSAnbm9uZScpIHtcbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIGVsIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbn1cblxuLyoqXG4gKiBDb21wdXRlZCB0aGUgYm91bmRhcmllcyBsaW1pdHMgYW5kIHJldHVybiB0aGVtXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50IC0gRWxlbWVudCB1c2VkIHRvIGRlZmluZSB0aGUgYm91bmRhcmllc1xuICogQHBhcmFtIHtCb29sZWFufSBmaXhlZFBvc2l0aW9uIC0gSXMgaW4gZml4ZWQgcG9zaXRpb24gbW9kZVxuICogQHJldHVybnMge09iamVjdH0gQ29vcmRpbmF0ZXMgb2YgdGhlIGJvdW5kYXJpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRhcmllcyhwb3BwZXIsIHJlZmVyZW5jZSwgcGFkZGluZywgYm91bmRhcmllc0VsZW1lbnQpIHtcbiAgdmFyIGZpeGVkUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IGZhbHNlO1xuXG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG5cbiAgdmFyIGJvdW5kYXJpZXMgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuICB2YXIgb2Zmc2V0UGFyZW50ID0gZml4ZWRQb3NpdGlvbiA/IGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQocG9wcGVyKSA6IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCByZWZlcmVuY2UpO1xuXG4gIC8vIEhhbmRsZSB2aWV3cG9ydCBjYXNlXG4gIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgIGJvdW5kYXJpZXMgPSBnZXRWaWV3cG9ydE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJ0Yml0cmFyeU5vZGUob2Zmc2V0UGFyZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBIYW5kbGUgb3RoZXIgY2FzZXMgYmFzZWQgb24gRE9NIGVsZW1lbnQgdXNlZCBhcyBib3VuZGFyaWVzXG4gICAgdmFyIGJvdW5kYXJpZXNOb2RlID0gdm9pZCAwO1xuICAgIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3Njcm9sbFBhcmVudCcpIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUocmVmZXJlbmNlKSk7XG4gICAgICBpZiAoYm91bmRhcmllc05vZGUubm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgICAgICBib3VuZGFyaWVzTm9kZSA9IHBvcHBlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAnd2luZG93Jykge1xuICAgICAgYm91bmRhcmllc05vZGUgPSBwb3BwZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gYm91bmRhcmllc0VsZW1lbnQ7XG4gICAgfVxuXG4gICAgdmFyIG9mZnNldHMgPSBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoYm91bmRhcmllc05vZGUsIG9mZnNldFBhcmVudCwgZml4ZWRQb3NpdGlvbik7XG5cbiAgICAvLyBJbiBjYXNlIG9mIEhUTUwsIHdlIG5lZWQgYSBkaWZmZXJlbnQgY29tcHV0YXRpb25cbiAgICBpZiAoYm91bmRhcmllc05vZGUubm9kZU5hbWUgPT09ICdIVE1MJyAmJiAhaXNGaXhlZChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICB2YXIgX2dldFdpbmRvd1NpemVzID0gZ2V0V2luZG93U2l6ZXMoKSxcbiAgICAgICAgICBoZWlnaHQgPSBfZ2V0V2luZG93U2l6ZXMuaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoID0gX2dldFdpbmRvd1NpemVzLndpZHRoO1xuXG4gICAgICBib3VuZGFyaWVzLnRvcCArPSBvZmZzZXRzLnRvcCAtIG9mZnNldHMubWFyZ2luVG9wO1xuICAgICAgYm91bmRhcmllcy5ib3R0b20gPSBoZWlnaHQgKyBvZmZzZXRzLnRvcDtcbiAgICAgIGJvdW5kYXJpZXMubGVmdCArPSBvZmZzZXRzLmxlZnQgLSBvZmZzZXRzLm1hcmdpbkxlZnQ7XG4gICAgICBib3VuZGFyaWVzLnJpZ2h0ID0gd2lkdGggKyBvZmZzZXRzLmxlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZvciBhbGwgdGhlIG90aGVyIERPTSBlbGVtZW50cywgdGhpcyBvbmUgaXMgZ29vZFxuICAgICAgYm91bmRhcmllcyA9IG9mZnNldHM7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIHBhZGRpbmdzXG4gIGJvdW5kYXJpZXMubGVmdCArPSBwYWRkaW5nO1xuICBib3VuZGFyaWVzLnRvcCArPSBwYWRkaW5nO1xuICBib3VuZGFyaWVzLnJpZ2h0IC09IHBhZGRpbmc7XG4gIGJvdW5kYXJpZXMuYm90dG9tIC09IHBhZGRpbmc7XG5cbiAgcmV0dXJuIGJvdW5kYXJpZXM7XG59XG5cbmZ1bmN0aW9uIGdldEFyZWEoX3JlZikge1xuICB2YXIgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQ7XG5cbiAgcmV0dXJuIHdpZHRoICogaGVpZ2h0O1xufVxuXG4vKipcbiAqIFV0aWxpdHkgdXNlZCB0byB0cmFuc2Zvcm0gdGhlIGBhdXRvYCBwbGFjZW1lbnQgdG8gdGhlIHBsYWNlbWVudCB3aXRoIG1vcmVcbiAqIGF2YWlsYWJsZSBzcGFjZS5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVBdXRvUGxhY2VtZW50KHBsYWNlbWVudCwgcmVmUmVjdCwgcG9wcGVyLCByZWZlcmVuY2UsIGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gIHZhciBwYWRkaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwO1xuXG4gIGlmIChwbGFjZW1lbnQuaW5kZXhPZignYXV0bycpID09PSAtMSkge1xuICAgIHJldHVybiBwbGFjZW1lbnQ7XG4gIH1cblxuICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMocG9wcGVyLCByZWZlcmVuY2UsIHBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50KTtcblxuICB2YXIgcmVjdHMgPSB7XG4gICAgdG9wOiB7XG4gICAgICB3aWR0aDogYm91bmRhcmllcy53aWR0aCxcbiAgICAgIGhlaWdodDogcmVmUmVjdC50b3AgLSBib3VuZGFyaWVzLnRvcFxuICAgIH0sXG4gICAgcmlnaHQ6IHtcbiAgICAgIHdpZHRoOiBib3VuZGFyaWVzLnJpZ2h0IC0gcmVmUmVjdC5yaWdodCxcbiAgICAgIGhlaWdodDogYm91bmRhcmllcy5oZWlnaHRcbiAgICB9LFxuICAgIGJvdHRvbToge1xuICAgICAgd2lkdGg6IGJvdW5kYXJpZXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuYm90dG9tIC0gcmVmUmVjdC5ib3R0b21cbiAgICB9LFxuICAgIGxlZnQ6IHtcbiAgICAgIHdpZHRoOiByZWZSZWN0LmxlZnQgLSBib3VuZGFyaWVzLmxlZnQsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuaGVpZ2h0XG4gICAgfVxuICB9O1xuXG4gIHZhciBzb3J0ZWRBcmVhcyA9IE9iamVjdC5rZXlzKHJlY3RzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICBrZXk6IGtleVxuICAgIH0sIHJlY3RzW2tleV0sIHtcbiAgICAgIGFyZWE6IGdldEFyZWEocmVjdHNba2V5XSlcbiAgICB9KTtcbiAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLmFyZWEgLSBhLmFyZWE7XG4gIH0pO1xuXG4gIHZhciBmaWx0ZXJlZEFyZWFzID0gc29ydGVkQXJlYXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfcmVmMi5oZWlnaHQ7XG4gICAgcmV0dXJuIHdpZHRoID49IHBvcHBlci5jbGllbnRXaWR0aCAmJiBoZWlnaHQgPj0gcG9wcGVyLmNsaWVudEhlaWdodDtcbiAgfSk7XG5cbiAgdmFyIGNvbXB1dGVkUGxhY2VtZW50ID0gZmlsdGVyZWRBcmVhcy5sZW5ndGggPiAwID8gZmlsdGVyZWRBcmVhc1swXS5rZXkgOiBzb3J0ZWRBcmVhc1swXS5rZXk7XG5cbiAgdmFyIHZhcmlhdGlvbiA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xuXG4gIHJldHVybiBjb21wdXRlZFBsYWNlbWVudCArICh2YXJpYXRpb24gPyAnLScgKyB2YXJpYXRpb24gOiAnJyk7XG59XG5cbi8qKlxuICogR2V0IG9mZnNldHMgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyIC0gdGhlIHBvcHBlciBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZSAtIHRoZSByZWZlcmVuY2UgZWxlbWVudCAodGhlIHBvcHBlciB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoaXMpXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGZpeGVkUG9zaXRpb24gLSBpcyBpbiBmaXhlZCBwb3NpdGlvbiBtb2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRSZWZlcmVuY2VPZmZzZXRzKHN0YXRlLCBwb3BwZXIsIHJlZmVyZW5jZSkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblxuICB2YXIgY29tbW9uT2Zmc2V0UGFyZW50ID0gZml4ZWRQb3NpdGlvbiA/IGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQocG9wcGVyKSA6IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCByZWZlcmVuY2UpO1xuICByZXR1cm4gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKHJlZmVyZW5jZSwgY29tbW9uT2Zmc2V0UGFyZW50LCBmaXhlZFBvc2l0aW9uKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG91dGVyIHNpemVzIG9mIHRoZSBnaXZlbiBlbGVtZW50IChvZmZzZXQgc2l6ZSArIG1hcmdpbnMpXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBoZWlnaHQgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRPdXRlclNpemVzKGVsZW1lbnQpIHtcbiAgdmFyIHN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luVG9wKSArIHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkJvdHRvbSk7XG4gIHZhciB5ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luTGVmdCkgKyBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5SaWdodCk7XG4gIHZhciByZXN1bHQgPSB7XG4gICAgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGggKyB5LFxuICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgKyB4XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgb2YgdGhlIGdpdmVuIG9uZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudFxuICogQHJldHVybnMge1N0cmluZ30gZmxpcHBlZCBwbGFjZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHZhciBoYXNoID0geyBsZWZ0OiAncmlnaHQnLCByaWdodDogJ2xlZnQnLCBib3R0b206ICd0b3AnLCB0b3A6ICdib3R0b20nIH07XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7XG4gICAgcmV0dXJuIGhhc2hbbWF0Y2hlZF07XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXRzIHRvIHRoZSBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvbiAtIENTUyBwb3NpdGlvbiB0aGUgUG9wcGVyIHdpbGwgZ2V0IGFwcGxpZWRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHMgLSB0aGUgcmVmZXJlbmNlIG9mZnNldHMgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHBhcmFtIHtTdHJpbmd9IHBsYWNlbWVudCAtIG9uZSBvZiB0aGUgdmFsaWQgcGxhY2VtZW50IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IHBvcHBlck9mZnNldHMgLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRQb3BwZXJPZmZzZXRzKHBvcHBlciwgcmVmZXJlbmNlT2Zmc2V0cywgcGxhY2VtZW50KSB7XG4gIHBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuXG4gIC8vIEdldCBwb3BwZXIgbm9kZSBzaXplc1xuICB2YXIgcG9wcGVyUmVjdCA9IGdldE91dGVyU2l6ZXMocG9wcGVyKTtcblxuICAvLyBBZGQgcG9zaXRpb24sIHdpZHRoIGFuZCBoZWlnaHQgdG8gb3VyIG9mZnNldHMgb2JqZWN0XG4gIHZhciBwb3BwZXJPZmZzZXRzID0ge1xuICAgIHdpZHRoOiBwb3BwZXJSZWN0LndpZHRoLFxuICAgIGhlaWdodDogcG9wcGVyUmVjdC5oZWlnaHRcbiAgfTtcblxuICAvLyBkZXBlbmRpbmcgYnkgdGhlIHBvcHBlciBwbGFjZW1lbnQgd2UgaGF2ZSB0byBjb21wdXRlIGl0cyBvZmZzZXRzIHNsaWdodGx5IGRpZmZlcmVudGx5XG4gIHZhciBpc0hvcml6ID0gWydyaWdodCcsICdsZWZ0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgdmFyIG1haW5TaWRlID0gaXNIb3JpeiA/ICd0b3AnIDogJ2xlZnQnO1xuICB2YXIgc2Vjb25kYXJ5U2lkZSA9IGlzSG9yaXogPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG1lYXN1cmVtZW50ID0gaXNIb3JpeiA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgdmFyIHNlY29uZGFyeU1lYXN1cmVtZW50ID0gIWlzSG9yaXogPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgcG9wcGVyT2Zmc2V0c1ttYWluU2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW21haW5TaWRlXSArIHJlZmVyZW5jZU9mZnNldHNbbWVhc3VyZW1lbnRdIC8gMiAtIHBvcHBlclJlY3RbbWVhc3VyZW1lbnRdIC8gMjtcbiAgaWYgKHBsYWNlbWVudCA9PT0gc2Vjb25kYXJ5U2lkZSkge1xuICAgIHBvcHBlck9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW3NlY29uZGFyeVNpZGVdIC0gcG9wcGVyUmVjdFtzZWNvbmRhcnlNZWFzdXJlbWVudF07XG4gIH0gZWxzZSB7XG4gICAgcG9wcGVyT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSA9IHJlZmVyZW5jZU9mZnNldHNbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQoc2Vjb25kYXJ5U2lkZSldO1xuICB9XG5cbiAgcmV0dXJuIHBvcHBlck9mZnNldHM7XG59XG5cbi8qKlxuICogTWltaWNzIHRoZSBgZmluZGAgbWV0aG9kIG9mIEFycmF5XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmQoYXJyLCBjaGVjaykge1xuICAvLyB1c2UgbmF0aXZlIGZpbmQgaWYgc3VwcG9ydGVkXG4gIGlmIChBcnJheS5wcm90b3R5cGUuZmluZCkge1xuICAgIHJldHVybiBhcnIuZmluZChjaGVjayk7XG4gIH1cblxuICAvLyB1c2UgYGZpbHRlcmAgdG8gb2J0YWluIHRoZSBzYW1lIGJlaGF2aW9yIG9mIGBmaW5kYFxuICByZXR1cm4gYXJyLmZpbHRlcihjaGVjaylbMF07XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hpbmcgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmRJbmRleChhcnIsIHByb3AsIHZhbHVlKSB7XG4gIC8vIHVzZSBuYXRpdmUgZmluZEluZGV4IGlmIHN1cHBvcnRlZFxuICBpZiAoQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCkge1xuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGZ1bmN0aW9uIChjdXIpIHtcbiAgICAgIHJldHVybiBjdXJbcHJvcF0gPT09IHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gdXNlIGBmaW5kYCArIGBpbmRleE9mYCBpZiBgZmluZEluZGV4YCBpc24ndCBzdXBwb3J0ZWRcbiAgdmFyIG1hdGNoID0gZmluZChhcnIsIGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqW3Byb3BdID09PSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBhcnIuaW5kZXhPZihtYXRjaCk7XG59XG5cbi8qKlxuICogTG9vcCB0cm91Z2ggdGhlIGxpc3Qgb2YgbW9kaWZpZXJzIGFuZCBydW4gdGhlbSBpbiBvcmRlcixcbiAqIGVhY2ggb2YgdGhlbSB3aWxsIHRoZW4gZWRpdCB0aGUgZGF0YSBvYmplY3QuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IGVuZHMgLSBPcHRpb25hbCBtb2RpZmllciBuYW1lIHVzZWQgYXMgc3RvcHBlclxuICogQHJldHVybnMge2RhdGFPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJ1bk1vZGlmaWVycyhtb2RpZmllcnMsIGRhdGEsIGVuZHMpIHtcbiAgdmFyIG1vZGlmaWVyc1RvUnVuID0gZW5kcyA9PT0gdW5kZWZpbmVkID8gbW9kaWZpZXJzIDogbW9kaWZpZXJzLnNsaWNlKDAsIGZpbmRJbmRleChtb2RpZmllcnMsICduYW1lJywgZW5kcykpO1xuXG4gIG1vZGlmaWVyc1RvUnVuLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgaWYgKG1vZGlmaWVyWydmdW5jdGlvbiddKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgY29uc29sZS53YXJuKCdgbW9kaWZpZXIuZnVuY3Rpb25gIGlzIGRlcHJlY2F0ZWQsIHVzZSBgbW9kaWZpZXIuZm5gIScpO1xuICAgIH1cbiAgICB2YXIgZm4gPSBtb2RpZmllclsnZnVuY3Rpb24nXSB8fCBtb2RpZmllci5mbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICBpZiAobW9kaWZpZXIuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgdG8gb2Zmc2V0cyB0byBtYWtlIHRoZW0gYSBjb21wbGV0ZSBjbGllbnRSZWN0IG9iamVjdFxuICAgICAgLy8gd2UgZG8gdGhpcyBiZWZvcmUgZWFjaCBtb2RpZmllciB0byBtYWtlIHN1cmUgdGhlIHByZXZpb3VzIG9uZSBkb2Vzbid0XG4gICAgICAvLyBtZXNzIHdpdGggdGhlc2UgdmFsdWVzXG4gICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKTtcbiAgICAgIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UpO1xuXG4gICAgICBkYXRhID0gZm4oZGF0YSwgbW9kaWZpZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvcHBlciwgY29tcHV0aW5nIHRoZSBuZXcgb2Zmc2V0cyBhbmQgYXBwbHlpbmdcbiAqIHRoZSBuZXcgc3R5bGUuPGJyIC8+XG4gKiBQcmVmZXIgYHNjaGVkdWxlVXBkYXRlYCBvdmVyIGB1cGRhdGVgIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gdXBkYXRlKCkge1xuICAvLyBpZiBwb3BwZXIgaXMgZGVzdHJveWVkLCBkb24ndCBwZXJmb3JtIGFueSBmdXJ0aGVyIHVwZGF0ZVxuICBpZiAodGhpcy5zdGF0ZS5pc0Rlc3Ryb3llZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkYXRhID0ge1xuICAgIGluc3RhbmNlOiB0aGlzLFxuICAgIHN0eWxlczoge30sXG4gICAgYXJyb3dTdHlsZXM6IHt9LFxuICAgIGF0dHJpYnV0ZXM6IHt9LFxuICAgIGZsaXBwZWQ6IGZhbHNlLFxuICAgIG9mZnNldHM6IHt9XG4gIH07XG5cbiAgLy8gY29tcHV0ZSByZWZlcmVuY2UgZWxlbWVudCBvZmZzZXRzXG4gIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRSZWZlcmVuY2VPZmZzZXRzKHRoaXMuc3RhdGUsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICBkYXRhLnBsYWNlbWVudCA9IGNvbXB1dGVBdXRvUGxhY2VtZW50KHRoaXMub3B0aW9ucy5wbGFjZW1lbnQsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCB0aGlzLm9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7XG5cbiAgLy8gc3RvcmUgdGhlIGNvbXB1dGVkIHBsYWNlbWVudCBpbnNpZGUgYG9yaWdpbmFsUGxhY2VtZW50YFxuICBkYXRhLm9yaWdpbmFsUGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG5cbiAgZGF0YS5wb3NpdGlvbkZpeGVkID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQ7XG5cbiAgLy8gY29tcHV0ZSB0aGUgcG9wcGVyIG9mZnNldHNcbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldFBvcHBlck9mZnNldHModGhpcy5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KTtcblxuICBkYXRhLm9mZnNldHMucG9wcGVyLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJztcblxuICAvLyBydW4gdGhlIG1vZGlmaWVyc1xuICBkYXRhID0gcnVuTW9kaWZpZXJzKHRoaXMubW9kaWZpZXJzLCBkYXRhKTtcblxuICAvLyB0aGUgZmlyc3QgYHVwZGF0ZWAgd2lsbCBjYWxsIGBvbkNyZWF0ZWAgY2FsbGJhY2tcbiAgLy8gdGhlIG90aGVyIG9uZXMgd2lsbCBjYWxsIGBvblVwZGF0ZWAgY2FsbGJhY2tcbiAgaWYgKCF0aGlzLnN0YXRlLmlzQ3JlYXRlZCkge1xuICAgIHRoaXMuc3RhdGUuaXNDcmVhdGVkID0gdHJ1ZTtcbiAgICB0aGlzLm9wdGlvbnMub25DcmVhdGUoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5vcHRpb25zLm9uVXBkYXRlKGRhdGEpO1xuICB9XG59XG5cbi8qKlxuICogSGVscGVyIHVzZWQgdG8ga25vdyBpZiB0aGUgZ2l2ZW4gbW9kaWZpZXIgaXMgZW5hYmxlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc01vZGlmaWVyRW5hYmxlZChtb2RpZmllcnMsIG1vZGlmaWVyTmFtZSkge1xuICByZXR1cm4gbW9kaWZpZXJzLnNvbWUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgICAgZW5hYmxlZCA9IF9yZWYuZW5hYmxlZDtcbiAgICByZXR1cm4gZW5hYmxlZCAmJiBuYW1lID09PSBtb2RpZmllck5hbWU7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCB0aGUgcHJlZml4ZWQgc3VwcG9ydGVkIHByb3BlcnR5IG5hbWVcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwcm9wZXJ0eSAoY2FtZWxDYXNlKVxuICogQHJldHVybnMge1N0cmluZ30gcHJlZml4ZWQgcHJvcGVydHkgKGNhbWVsQ2FzZSBvciBQYXNjYWxDYXNlLCBkZXBlbmRpbmcgb24gdGhlIHZlbmRvciBwcmVmaXgpXG4gKi9cbmZ1bmN0aW9uIGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSkge1xuICB2YXIgcHJlZml4ZXMgPSBbZmFsc2UsICdtcycsICdXZWJraXQnLCAnTW96JywgJ08nXTtcbiAgdmFyIHVwcGVyUHJvcCA9IHByb3BlcnR5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwcmVmaXggPSBwcmVmaXhlc1tpXTtcbiAgICB2YXIgdG9DaGVjayA9IHByZWZpeCA/ICcnICsgcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW3RvQ2hlY2tdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRvQ2hlY2s7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIERlc3Ryb3kgdGhlIHBvcHBlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG5mdW5jdGlvbiBkZXN0cm95KCkge1xuICB0aGlzLnN0YXRlLmlzRGVzdHJveWVkID0gdHJ1ZTtcblxuICAvLyB0b3VjaCBET00gb25seSBpZiBgYXBwbHlTdHlsZWAgbW9kaWZpZXIgaXMgZW5hYmxlZFxuICBpZiAoaXNNb2RpZmllckVuYWJsZWQodGhpcy5tb2RpZmllcnMsICdhcHBseVN0eWxlJykpIHtcbiAgICB0aGlzLnBvcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50Jyk7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS50b3AgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUucmlnaHQgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5ib3R0b20gPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS53aWxsQ2hhbmdlID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGVbZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKCd0cmFuc2Zvcm0nKV0gPSAnJztcbiAgfVxuXG4gIHRoaXMuZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgLy8gcmVtb3ZlIHRoZSBwb3BwZXIgaWYgdXNlciBleHBsaWNpdHkgYXNrZWQgZm9yIHRoZSBkZWxldGlvbiBvbiBkZXN0cm95XG4gIC8vIGRvIG5vdCB1c2UgYHJlbW92ZWAgYmVjYXVzZSBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBpdFxuICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uRGVzdHJveSkge1xuICAgIHRoaXMucG9wcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wb3BwZXIpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEdldCB0aGUgd2luZG93IGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7V2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3coZWxlbWVudCkge1xuICB2YXIgb3duZXJEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgcmV0dXJuIG93bmVyRG9jdW1lbnQgPyBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IDogd2luZG93O1xufVxuXG5mdW5jdGlvbiBhdHRhY2hUb1Njcm9sbFBhcmVudHMoc2Nyb2xsUGFyZW50LCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpIHtcbiAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudC5ub2RlTmFtZSA9PT0gJ0JPRFknO1xuICB2YXIgdGFyZ2V0ID0gaXNCb2R5ID8gc2Nyb2xsUGFyZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiBzY3JvbGxQYXJlbnQ7XG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgeyBwYXNzaXZlOiB0cnVlIH0pO1xuXG4gIGlmICghaXNCb2R5KSB7XG4gICAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKGdldFNjcm9sbFBhcmVudCh0YXJnZXQucGFyZW50Tm9kZSksIGV2ZW50LCBjYWxsYmFjaywgc2Nyb2xsUGFyZW50cyk7XG4gIH1cbiAgc2Nyb2xsUGFyZW50cy5wdXNoKHRhcmdldCk7XG59XG5cbi8qKlxuICogU2V0dXAgbmVlZGVkIGV2ZW50IGxpc3RlbmVycyB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9wcGVyIHBvc2l0aW9uXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgb3B0aW9ucywgc3RhdGUsIHVwZGF0ZUJvdW5kKSB7XG4gIC8vIFJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgc3RhdGUudXBkYXRlQm91bmQgPSB1cGRhdGVCb3VuZDtcbiAgZ2V0V2luZG93KHJlZmVyZW5jZSkuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICAvLyBTY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgdmFyIHNjcm9sbEVsZW1lbnQgPSBnZXRTY3JvbGxQYXJlbnQocmVmZXJlbmNlKTtcbiAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbEVsZW1lbnQsICdzY3JvbGwnLCBzdGF0ZS51cGRhdGVCb3VuZCwgc3RhdGUuc2Nyb2xsUGFyZW50cyk7XG4gIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBzY3JvbGxFbGVtZW50O1xuICBzdGF0ZS5ldmVudHNFbmFibGVkID0gdHJ1ZTtcblxuICByZXR1cm4gc3RhdGU7XG59XG5cbi8qKlxuICogSXQgd2lsbCBhZGQgcmVzaXplL3Njcm9sbCBldmVudHMgYW5kIHN0YXJ0IHJlY2FsY3VsYXRpbmdcbiAqIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIgZWxlbWVudCB3aGVuIHRoZXkgYXJlIHRyaWdnZXJlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmICghdGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHNldHVwRXZlbnRMaXN0ZW5lcnModGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucywgdGhpcy5zdGF0ZSwgdGhpcy5zY2hlZHVsZVVwZGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIHVzZWQgdG8gdXBkYXRlIHRoZSBwb3BwZXIgcG9zaXRpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgc3RhdGUpIHtcbiAgLy8gUmVtb3ZlIHJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgZ2V0V2luZG93KHJlZmVyZW5jZSkucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQpO1xuXG4gIC8vIFJlbW92ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgc3RhdGUuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3RhdGUudXBkYXRlQm91bmQpO1xuICB9KTtcblxuICAvLyBSZXNldCBzdGF0ZVxuICBzdGF0ZS51cGRhdGVCb3VuZCA9IG51bGw7XG4gIHN0YXRlLnNjcm9sbFBhcmVudHMgPSBbXTtcbiAgc3RhdGUuc2Nyb2xsRWxlbWVudCA9IG51bGw7XG4gIHN0YXRlLmV2ZW50c0VuYWJsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKipcbiAqIEl0IHdpbGwgcmVtb3ZlIHJlc2l6ZS9zY3JvbGwgZXZlbnRzIGFuZCB3b24ndCByZWNhbGN1bGF0ZSBwb3BwZXIgcG9zaXRpb25cbiAqIHdoZW4gdGhleSBhcmUgdHJpZ2dlcmVkLiBJdCBhbHNvIHdvbid0IHRyaWdnZXIgb25VcGRhdGUgY2FsbGJhY2sgYW55bW9yZSxcbiAqIHVubGVzcyB5b3UgY2FsbCBgdXBkYXRlYCBtZXRob2QgbWFudWFsbHkuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycygpIHtcbiAgaWYgKHRoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCkge1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuc2NoZWR1bGVVcGRhdGUpO1xuICAgIHRoaXMuc3RhdGUgPSByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnJlZmVyZW5jZSwgdGhpcy5zdGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUZWxscyBpZiBhIGdpdmVuIGlucHV0IGlzIGEgbnVtYmVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0geyp9IGlucHV0IHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc051bWVyaWMobikge1xuICByZXR1cm4gbiAhPT0gJycgJiYgIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xufVxuXG4vKipcbiAqIFNldCB0aGUgc3R5bGUgdG8gdGhlIGdpdmVuIHBvcHBlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSB0aGUgc3R5bGUgdG9cbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBzdHlsZXNcbiAqIE9iamVjdCB3aXRoIGEgbGlzdCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHNldFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHtcbiAgT2JqZWN0LmtleXMoc3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgdmFyIHVuaXQgPSAnJztcbiAgICAvLyBhZGQgdW5pdCBpZiB0aGUgdmFsdWUgaXMgbnVtZXJpYyBhbmQgaXMgb25lIG9mIHRoZSBmb2xsb3dpbmdcbiAgICBpZiAoWyd3aWR0aCcsICdoZWlnaHQnLCAndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J10uaW5kZXhPZihwcm9wKSAhPT0gLTEgJiYgaXNOdW1lcmljKHN0eWxlc1twcm9wXSkpIHtcbiAgICAgIHVuaXQgPSAncHgnO1xuICAgIH1cbiAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gc3R5bGVzW3Byb3BdICsgdW5pdDtcbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IHRoZSBhdHRyaWJ1dGVzIHRvIHRoZSBnaXZlbiBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgdGhlIGF0dHJpYnV0ZXMgdG9cbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBzdHlsZXNcbiAqIE9iamVjdCB3aXRoIGEgbGlzdCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcykge1xuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgdmFyIHZhbHVlID0gYXR0cmlidXRlc1twcm9wXTtcbiAgICBpZiAodmFsdWUgIT09IGZhbHNlKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShwcm9wLCBhdHRyaWJ1dGVzW3Byb3BdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhLnN0eWxlcyAtIExpc3Qgb2Ygc3R5bGUgcHJvcGVydGllcyAtIHZhbHVlcyB0byBhcHBseSB0byBwb3BwZXIgZWxlbWVudFxuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEuYXR0cmlidXRlcyAtIExpc3Qgb2YgYXR0cmlidXRlIHByb3BlcnRpZXMgLSB2YWx1ZXMgdG8gYXBwbHkgdG8gcG9wcGVyIGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBzYW1lIGRhdGEgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGFwcGx5U3R5bGUoZGF0YSkge1xuICAvLyBhbnkgcHJvcGVydHkgcHJlc2VudCBpbiBgZGF0YS5zdHlsZXNgIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLFxuICAvLyBpbiB0aGlzIHdheSB3ZSBjYW4gbWFrZSB0aGUgM3JkIHBhcnR5IG1vZGlmaWVycyBhZGQgY3VzdG9tIHN0eWxlcyB0byBpdFxuICAvLyBCZSBhd2FyZSwgbW9kaWZpZXJzIGNvdWxkIG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzIGRlZmluZWQgaW4gdGhlIHByZXZpb3VzXG4gIC8vIGxpbmVzIG9mIHRoaXMgbW9kaWZpZXIhXG4gIHNldFN0eWxlcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5zdHlsZXMpO1xuXG4gIC8vIGFueSBwcm9wZXJ0eSBwcmVzZW50IGluIGBkYXRhLmF0dHJpYnV0ZXNgIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLFxuICAvLyB0aGV5IHdpbGwgYmUgc2V0IGFzIEhUTUwgYXR0cmlidXRlcyBvZiB0aGUgZWxlbWVudFxuICBzZXRBdHRyaWJ1dGVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLmF0dHJpYnV0ZXMpO1xuXG4gIC8vIGlmIGFycm93RWxlbWVudCBpcyBkZWZpbmVkIGFuZCBhcnJvd1N0eWxlcyBoYXMgc29tZSBwcm9wZXJ0aWVzXG4gIGlmIChkYXRhLmFycm93RWxlbWVudCAmJiBPYmplY3Qua2V5cyhkYXRhLmFycm93U3R5bGVzKS5sZW5ndGgpIHtcbiAgICBzZXRTdHlsZXMoZGF0YS5hcnJvd0VsZW1lbnQsIGRhdGEuYXJyb3dTdHlsZXMpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogU2V0IHRoZSB4LXBsYWNlbWVudCBhdHRyaWJ1dGUgYmVmb3JlIGV2ZXJ5dGhpbmcgZWxzZSBiZWNhdXNlIGl0IGNvdWxkIGJlIHVzZWRcbiAqIHRvIGFkZCBtYXJnaW5zIHRvIHRoZSBwb3BwZXIgbWFyZ2lucyBuZWVkcyB0byBiZSBjYWxjdWxhdGVkIHRvIGdldCB0aGVcbiAqIGNvcnJlY3QgcG9wcGVyIG9mZnNldHMuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLm1vZGlmaWVyc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcmVmZXJlbmNlIC0gVGhlIHJlZmVyZW5jZSBlbGVtZW50IHVzZWQgdG8gcG9zaXRpb24gdGhlIHBvcHBlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyIC0gVGhlIEhUTUwgZWxlbWVudCB1c2VkIGFzIHBvcHBlclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBQb3BwZXIuanMgb3B0aW9uc1xuICovXG5mdW5jdGlvbiBhcHBseVN0eWxlT25Mb2FkKHJlZmVyZW5jZSwgcG9wcGVyLCBvcHRpb25zLCBtb2RpZmllck9wdGlvbnMsIHN0YXRlKSB7XG4gIC8vIGNvbXB1dGUgcmVmZXJlbmNlIGVsZW1lbnQgb2Zmc2V0c1xuICB2YXIgcmVmZXJlbmNlT2Zmc2V0cyA9IGdldFJlZmVyZW5jZU9mZnNldHMoc3RhdGUsIHBvcHBlciwgcmVmZXJlbmNlLCBvcHRpb25zLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICB2YXIgcGxhY2VtZW50ID0gY29tcHV0ZUF1dG9QbGFjZW1lbnQob3B0aW9ucy5wbGFjZW1lbnQsIHJlZmVyZW5jZU9mZnNldHMsIHBvcHBlciwgcmVmZXJlbmNlLCBvcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCBvcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO1xuXG4gIHBvcHBlci5zZXRBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50JywgcGxhY2VtZW50KTtcblxuICAvLyBBcHBseSBgcG9zaXRpb25gIHRvIHBvcHBlciBiZWZvcmUgYW55dGhpbmcgZWxzZSBiZWNhdXNlXG4gIC8vIHdpdGhvdXQgdGhlIHBvc2l0aW9uIGFwcGxpZWQgd2UgY2FuJ3QgZ3VhcmFudGVlIGNvcnJlY3QgY29tcHV0YXRpb25zXG4gIHNldFN0eWxlcyhwb3BwZXIsIHsgcG9zaXRpb246IG9wdGlvbnMucG9zaXRpb25GaXhlZCA/ICdmaXhlZCcgOiAnYWJzb2x1dGUnIH0pO1xuXG4gIHJldHVybiBvcHRpb25zO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBjb21wdXRlU3R5bGUoZGF0YSwgb3B0aW9ucykge1xuICB2YXIgeCA9IG9wdGlvbnMueCxcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gIHZhciBwb3BwZXIgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuXG4gIC8vIFJlbW92ZSB0aGlzIGxlZ2FjeSBzdXBwb3J0IGluIFBvcHBlci5qcyB2MlxuXG4gIHZhciBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gPSBmaW5kKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gJ2FwcGx5U3R5bGUnO1xuICB9KS5ncHVBY2NlbGVyYXRpb247XG4gIGlmIChsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnNvbGUud2FybignV0FSTklORzogYGdwdUFjY2VsZXJhdGlvbmAgb3B0aW9uIG1vdmVkIHRvIGBjb21wdXRlU3R5bGVgIG1vZGlmaWVyIGFuZCB3aWxsIG5vdCBiZSBzdXBwb3J0ZWQgaW4gZnV0dXJlIHZlcnNpb25zIG9mIFBvcHBlci5qcyEnKTtcbiAgfVxuICB2YXIgZ3B1QWNjZWxlcmF0aW9uID0gbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uICE9PSB1bmRlZmluZWQgPyBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gOiBvcHRpb25zLmdwdUFjY2VsZXJhdGlvbjtcblxuICB2YXIgb2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcbiAgdmFyIG9mZnNldFBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTtcblxuICAvLyBTdHlsZXNcbiAgdmFyIHN0eWxlcyA9IHtcbiAgICBwb3NpdGlvbjogcG9wcGVyLnBvc2l0aW9uXG4gIH07XG5cbiAgLy8gQXZvaWQgYmx1cnJ5IHRleHQgYnkgdXNpbmcgZnVsbCBwaXhlbCBpbnRlZ2Vycy5cbiAgLy8gRm9yIHBpeGVsLXBlcmZlY3QgcG9zaXRpb25pbmcsIHRvcC9ib3R0b20gcHJlZmVycyByb3VuZGVkXG4gIC8vIHZhbHVlcywgd2hpbGUgbGVmdC9yaWdodCBwcmVmZXJzIGZsb29yZWQgdmFsdWVzLlxuICB2YXIgb2Zmc2V0cyA9IHtcbiAgICBsZWZ0OiBNYXRoLmZsb29yKHBvcHBlci5sZWZ0KSxcbiAgICB0b3A6IE1hdGgucm91bmQocG9wcGVyLnRvcCksXG4gICAgYm90dG9tOiBNYXRoLnJvdW5kKHBvcHBlci5ib3R0b20pLFxuICAgIHJpZ2h0OiBNYXRoLmZsb29yKHBvcHBlci5yaWdodClcbiAgfTtcblxuICB2YXIgc2lkZUEgPSB4ID09PSAnYm90dG9tJyA/ICd0b3AnIDogJ2JvdHRvbSc7XG4gIHZhciBzaWRlQiA9IHkgPT09ICdyaWdodCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuXG4gIC8vIGlmIGdwdUFjY2VsZXJhdGlvbiBpcyBzZXQgdG8gYHRydWVgIGFuZCB0cmFuc2Zvcm0gaXMgc3VwcG9ydGVkLFxuICAvLyAgd2UgdXNlIGB0cmFuc2xhdGUzZGAgdG8gYXBwbHkgdGhlIHBvc2l0aW9uIHRvIHRoZSBwb3BwZXIgd2VcbiAgLy8gYXV0b21hdGljYWxseSB1c2UgdGhlIHN1cHBvcnRlZCBwcmVmaXhlZCB2ZXJzaW9uIGlmIG5lZWRlZFxuICB2YXIgcHJlZml4ZWRQcm9wZXJ0eSA9IGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyk7XG5cbiAgLy8gbm93LCBsZXQncyBtYWtlIGEgc3RlcCBiYWNrIGFuZCBsb29rIGF0IHRoaXMgY29kZSBjbG9zZWx5ICh3dGY/KVxuICAvLyBJZiB0aGUgY29udGVudCBvZiB0aGUgcG9wcGVyIGdyb3dzIG9uY2UgaXQncyBiZWVuIHBvc2l0aW9uZWQsIGl0XG4gIC8vIG1heSBoYXBwZW4gdGhhdCB0aGUgcG9wcGVyIGdldHMgbWlzcGxhY2VkIGJlY2F1c2Ugb2YgdGhlIG5ldyBjb250ZW50XG4gIC8vIG92ZXJmbG93aW5nIGl0cyByZWZlcmVuY2UgZWxlbWVudFxuICAvLyBUbyBhdm9pZCB0aGlzIHByb2JsZW0sIHdlIHByb3ZpZGUgdHdvIG9wdGlvbnMgKHggYW5kIHkpLCB3aGljaCBhbGxvd1xuICAvLyB0aGUgY29uc3VtZXIgdG8gZGVmaW5lIHRoZSBvZmZzZXQgb3JpZ2luLlxuICAvLyBJZiB3ZSBwb3NpdGlvbiBhIHBvcHBlciBvbiB0b3Agb2YgYSByZWZlcmVuY2UgZWxlbWVudCwgd2UgY2FuIHNldFxuICAvLyBgeGAgdG8gYHRvcGAgdG8gbWFrZSB0aGUgcG9wcGVyIGdyb3cgdG93YXJkcyBpdHMgdG9wIGluc3RlYWQgb2ZcbiAgLy8gaXRzIGJvdHRvbS5cbiAgdmFyIGxlZnQgPSB2b2lkIDAsXG4gICAgICB0b3AgPSB2b2lkIDA7XG4gIGlmIChzaWRlQSA9PT0gJ2JvdHRvbScpIHtcbiAgICB0b3AgPSAtb2Zmc2V0UGFyZW50UmVjdC5oZWlnaHQgKyBvZmZzZXRzLmJvdHRvbTtcbiAgfSBlbHNlIHtcbiAgICB0b3AgPSBvZmZzZXRzLnRvcDtcbiAgfVxuICBpZiAoc2lkZUIgPT09ICdyaWdodCcpIHtcbiAgICBsZWZ0ID0gLW9mZnNldFBhcmVudFJlY3Qud2lkdGggKyBvZmZzZXRzLnJpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGxlZnQgPSBvZmZzZXRzLmxlZnQ7XG4gIH1cbiAgaWYgKGdwdUFjY2VsZXJhdGlvbiAmJiBwcmVmaXhlZFByb3BlcnR5KSB7XG4gICAgc3R5bGVzW3ByZWZpeGVkUHJvcGVydHldID0gJ3RyYW5zbGF0ZTNkKCcgKyBsZWZ0ICsgJ3B4LCAnICsgdG9wICsgJ3B4LCAwKSc7XG4gICAgc3R5bGVzW3NpZGVBXSA9IDA7XG4gICAgc3R5bGVzW3NpZGVCXSA9IDA7XG4gICAgc3R5bGVzLndpbGxDaGFuZ2UgPSAndHJhbnNmb3JtJztcbiAgfSBlbHNlIHtcbiAgICAvLyBvdGh3ZXJpc2UsIHdlIHVzZSB0aGUgc3RhbmRhcmQgYHRvcGAsIGBsZWZ0YCwgYGJvdHRvbWAgYW5kIGByaWdodGAgcHJvcGVydGllc1xuICAgIHZhciBpbnZlcnRUb3AgPSBzaWRlQSA9PT0gJ2JvdHRvbScgPyAtMSA6IDE7XG4gICAgdmFyIGludmVydExlZnQgPSBzaWRlQiA9PT0gJ3JpZ2h0JyA/IC0xIDogMTtcbiAgICBzdHlsZXNbc2lkZUFdID0gdG9wICogaW52ZXJ0VG9wO1xuICAgIHN0eWxlc1tzaWRlQl0gPSBsZWZ0ICogaW52ZXJ0TGVmdDtcbiAgICBzdHlsZXMud2lsbENoYW5nZSA9IHNpZGVBICsgJywgJyArIHNpZGVCO1xuICB9XG5cbiAgLy8gQXR0cmlidXRlc1xuICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICAneC1wbGFjZW1lbnQnOiBkYXRhLnBsYWNlbWVudFxuICB9O1xuXG4gIC8vIFVwZGF0ZSBgZGF0YWAgYXR0cmlidXRlcywgc3R5bGVzIGFuZCBhcnJvd1N0eWxlc1xuICBkYXRhLmF0dHJpYnV0ZXMgPSBfZXh0ZW5kcyh7fSwgYXR0cmlidXRlcywgZGF0YS5hdHRyaWJ1dGVzKTtcbiAgZGF0YS5zdHlsZXMgPSBfZXh0ZW5kcyh7fSwgc3R5bGVzLCBkYXRhLnN0eWxlcyk7XG4gIGRhdGEuYXJyb3dTdHlsZXMgPSBfZXh0ZW5kcyh7fSwgZGF0YS5vZmZzZXRzLmFycm93LCBkYXRhLmFycm93U3R5bGVzKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdXNlZCB0byBrbm93IGlmIHRoZSBnaXZlbiBtb2RpZmllciBkZXBlbmRzIGZyb20gYW5vdGhlciBvbmUuPGJyIC8+XG4gKiBJdCBjaGVja3MgaWYgdGhlIG5lZWRlZCBtb2RpZmllciBpcyBsaXN0ZWQgYW5kIGVuYWJsZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnMgLSBsaXN0IG9mIG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RpbmdOYW1lIC0gbmFtZSBvZiByZXF1ZXN0aW5nIG1vZGlmaWVyXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdGVkTmFtZSAtIG5hbWUgb2YgcmVxdWVzdGVkIG1vZGlmaWVyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNNb2RpZmllclJlcXVpcmVkKG1vZGlmaWVycywgcmVxdWVzdGluZ05hbWUsIHJlcXVlc3RlZE5hbWUpIHtcbiAgdmFyIHJlcXVlc3RpbmcgPSBmaW5kKG1vZGlmaWVycywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZTtcbiAgICByZXR1cm4gbmFtZSA9PT0gcmVxdWVzdGluZ05hbWU7XG4gIH0pO1xuXG4gIHZhciBpc1JlcXVpcmVkID0gISFyZXF1ZXN0aW5nICYmIG1vZGlmaWVycy5zb21lKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSByZXF1ZXN0ZWROYW1lICYmIG1vZGlmaWVyLmVuYWJsZWQgJiYgbW9kaWZpZXIub3JkZXIgPCByZXF1ZXN0aW5nLm9yZGVyO1xuICB9KTtcblxuICBpZiAoIWlzUmVxdWlyZWQpIHtcbiAgICB2YXIgX3JlcXVlc3RpbmcgPSAnYCcgKyByZXF1ZXN0aW5nTmFtZSArICdgJztcbiAgICB2YXIgcmVxdWVzdGVkID0gJ2AnICsgcmVxdWVzdGVkTmFtZSArICdgJztcbiAgICBjb25zb2xlLndhcm4ocmVxdWVzdGVkICsgJyBtb2RpZmllciBpcyByZXF1aXJlZCBieSAnICsgX3JlcXVlc3RpbmcgKyAnIG1vZGlmaWVyIGluIG9yZGVyIHRvIHdvcmssIGJlIHN1cmUgdG8gaW5jbHVkZSBpdCBiZWZvcmUgJyArIF9yZXF1ZXN0aW5nICsgJyEnKTtcbiAgfVxuICByZXR1cm4gaXNSZXF1aXJlZDtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGFycm93KGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIF9kYXRhJG9mZnNldHMkYXJyb3c7XG5cbiAgLy8gYXJyb3cgZGVwZW5kcyBvbiBrZWVwVG9nZXRoZXIgaW4gb3JkZXIgdG8gd29ya1xuICBpZiAoIWlzTW9kaWZpZXJSZXF1aXJlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2Fycm93JywgJ2tlZXBUb2dldGhlcicpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgYXJyb3dFbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuXG4gIC8vIGlmIGFycm93RWxlbWVudCBpcyBhIHN0cmluZywgc3VwcG9zZSBpdCdzIGEgQ1NTIHNlbGVjdG9yXG4gIGlmICh0eXBlb2YgYXJyb3dFbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgIGFycm93RWxlbWVudCA9IGRhdGEuaW5zdGFuY2UucG9wcGVyLnF1ZXJ5U2VsZWN0b3IoYXJyb3dFbGVtZW50KTtcblxuICAgIC8vIGlmIGFycm93RWxlbWVudCBpcyBub3QgZm91bmQsIGRvbid0IHJ1biB0aGUgbW9kaWZpZXJcbiAgICBpZiAoIWFycm93RWxlbWVudCkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGlmIHRoZSBhcnJvd0VsZW1lbnQgaXNuJ3QgYSBxdWVyeSBzZWxlY3RvciB3ZSBtdXN0IGNoZWNrIHRoYXQgdGhlXG4gICAgLy8gcHJvdmlkZWQgRE9NIG5vZGUgaXMgY2hpbGQgb2YgaXRzIHBvcHBlciBub2RlXG4gICAgaWYgKCFkYXRhLmluc3RhbmNlLnBvcHBlci5jb250YWlucyhhcnJvd0VsZW1lbnQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBhcnJvdy5lbGVtZW50YCBtdXN0IGJlIGNoaWxkIG9mIGl0cyBwb3BwZXIgZWxlbWVudCEnKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGlzVmVydGljYWwgPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xO1xuXG4gIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICB2YXIgc2lkZUNhcGl0YWxpemVkID0gaXNWZXJ0aWNhbCA/ICdUb3AnIDogJ0xlZnQnO1xuICB2YXIgc2lkZSA9IHNpZGVDYXBpdGFsaXplZC50b0xvd2VyQ2FzZSgpO1xuICB2YXIgYWx0U2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG9wU2lkZSA9IGlzVmVydGljYWwgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gIHZhciBhcnJvd0VsZW1lbnRTaXplID0gZ2V0T3V0ZXJTaXplcyhhcnJvd0VsZW1lbnQpW2xlbl07XG5cbiAgLy9cbiAgLy8gZXh0ZW5kcyBrZWVwVG9nZXRoZXIgYmVoYXZpb3IgbWFraW5nIHN1cmUgdGhlIHBvcHBlciBhbmQgaXRzXG4gIC8vIHJlZmVyZW5jZSBoYXZlIGVub3VnaCBwaXhlbHMgaW4gY29uanVjdGlvblxuICAvL1xuXG4gIC8vIHRvcC9sZWZ0IHNpZGVcbiAgaWYgKHJlZmVyZW5jZVtvcFNpZGVdIC0gYXJyb3dFbGVtZW50U2l6ZSA8IHBvcHBlcltzaWRlXSkge1xuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbc2lkZV0gLT0gcG9wcGVyW3NpZGVdIC0gKHJlZmVyZW5jZVtvcFNpZGVdIC0gYXJyb3dFbGVtZW50U2l6ZSk7XG4gIH1cbiAgLy8gYm90dG9tL3JpZ2h0IHNpZGVcbiAgaWYgKHJlZmVyZW5jZVtzaWRlXSArIGFycm93RWxlbWVudFNpemUgPiBwb3BwZXJbb3BTaWRlXSkge1xuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbc2lkZV0gKz0gcmVmZXJlbmNlW3NpZGVdICsgYXJyb3dFbGVtZW50U2l6ZSAtIHBvcHBlcltvcFNpZGVdO1xuICB9XG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5wb3BwZXIpO1xuXG4gIC8vIGNvbXB1dGUgY2VudGVyIG9mIHRoZSBwb3BwZXJcbiAgdmFyIGNlbnRlciA9IHJlZmVyZW5jZVtzaWRlXSArIHJlZmVyZW5jZVtsZW5dIC8gMiAtIGFycm93RWxlbWVudFNpemUgLyAyO1xuXG4gIC8vIENvbXB1dGUgdGhlIHNpZGVWYWx1ZSB1c2luZyB0aGUgdXBkYXRlZCBwb3BwZXIgb2Zmc2V0c1xuICAvLyB0YWtlIHBvcHBlciBtYXJnaW4gaW4gYWNjb3VudCBiZWNhdXNlIHdlIGRvbid0IGhhdmUgdGhpcyBpbmZvIGF2YWlsYWJsZVxuICB2YXIgY3NzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcbiAgdmFyIHBvcHBlck1hcmdpblNpZGUgPSBwYXJzZUZsb2F0KGNzc1snbWFyZ2luJyArIHNpZGVDYXBpdGFsaXplZF0sIDEwKTtcbiAgdmFyIHBvcHBlckJvcmRlclNpZGUgPSBwYXJzZUZsb2F0KGNzc1snYm9yZGVyJyArIHNpZGVDYXBpdGFsaXplZCArICdXaWR0aCddLCAxMCk7XG4gIHZhciBzaWRlVmFsdWUgPSBjZW50ZXIgLSBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdIC0gcG9wcGVyTWFyZ2luU2lkZSAtIHBvcHBlckJvcmRlclNpZGU7XG5cbiAgLy8gcHJldmVudCBhcnJvd0VsZW1lbnQgZnJvbSBiZWluZyBwbGFjZWQgbm90IGNvbnRpZ3VvdXNseSB0byBpdHMgcG9wcGVyXG4gIHNpZGVWYWx1ZSA9IE1hdGgubWF4KE1hdGgubWluKHBvcHBlcltsZW5dIC0gYXJyb3dFbGVtZW50U2l6ZSwgc2lkZVZhbHVlKSwgMCk7XG5cbiAgZGF0YS5hcnJvd0VsZW1lbnQgPSBhcnJvd0VsZW1lbnQ7XG4gIGRhdGEub2Zmc2V0cy5hcnJvdyA9IChfZGF0YSRvZmZzZXRzJGFycm93ID0ge30sIGRlZmluZVByb3BlcnR5KF9kYXRhJG9mZnNldHMkYXJyb3csIHNpZGUsIE1hdGgucm91bmQoc2lkZVZhbHVlKSksIGRlZmluZVByb3BlcnR5KF9kYXRhJG9mZnNldHMkYXJyb3csIGFsdFNpZGUsICcnKSwgX2RhdGEkb2Zmc2V0cyRhcnJvdyk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgdmFyaWF0aW9uIG9mIHRoZSBnaXZlbiBvbmVcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwbGFjZW1lbnQgdmFyaWF0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBmbGlwcGVkIHBsYWNlbWVudCB2YXJpYXRpb25cbiAqL1xuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVWYXJpYXRpb24odmFyaWF0aW9uKSB7XG4gIGlmICh2YXJpYXRpb24gPT09ICdlbmQnKSB7XG4gICAgcmV0dXJuICdzdGFydCc7XG4gIH0gZWxzZSBpZiAodmFyaWF0aW9uID09PSAnc3RhcnQnKSB7XG4gICAgcmV0dXJuICdlbmQnO1xuICB9XG4gIHJldHVybiB2YXJpYXRpb247XG59XG5cbi8qKlxuICogTGlzdCBvZiBhY2NlcHRlZCBwbGFjZW1lbnRzIHRvIHVzZSBhcyB2YWx1ZXMgb2YgdGhlIGBwbGFjZW1lbnRgIG9wdGlvbi48YnIgLz5cbiAqIFZhbGlkIHBsYWNlbWVudHMgYXJlOlxuICogLSBgYXV0b2BcbiAqIC0gYHRvcGBcbiAqIC0gYHJpZ2h0YFxuICogLSBgYm90dG9tYFxuICogLSBgbGVmdGBcbiAqXG4gKiBFYWNoIHBsYWNlbWVudCBjYW4gaGF2ZSBhIHZhcmlhdGlvbiBmcm9tIHRoaXMgbGlzdDpcbiAqIC0gYC1zdGFydGBcbiAqIC0gYC1lbmRgXG4gKlxuICogVmFyaWF0aW9ucyBhcmUgaW50ZXJwcmV0ZWQgZWFzaWx5IGlmIHlvdSB0aGluayBvZiB0aGVtIGFzIHRoZSBsZWZ0IHRvIHJpZ2h0XG4gKiB3cml0dGVuIGxhbmd1YWdlcy4gSG9yaXpvbnRhbGx5IChgdG9wYCBhbmQgYGJvdHRvbWApLCBgc3RhcnRgIGlzIGxlZnQgYW5kIGBlbmRgXG4gKiBpcyByaWdodC48YnIgLz5cbiAqIFZlcnRpY2FsbHkgKGBsZWZ0YCBhbmQgYHJpZ2h0YCksIGBzdGFydGAgaXMgdG9wIGFuZCBgZW5kYCBpcyBib3R0b20uXG4gKlxuICogU29tZSB2YWxpZCBleGFtcGxlcyBhcmU6XG4gKiAtIGB0b3AtZW5kYCAob24gdG9wIG9mIHJlZmVyZW5jZSwgcmlnaHQgYWxpZ25lZClcbiAqIC0gYHJpZ2h0LXN0YXJ0YCAob24gcmlnaHQgb2YgcmVmZXJlbmNlLCB0b3AgYWxpZ25lZClcbiAqIC0gYGJvdHRvbWAgKG9uIGJvdHRvbSwgY2VudGVyZWQpXG4gKiAtIGBhdXRvLXJpZ2h0YCAob24gdGhlIHNpZGUgd2l0aCBtb3JlIHNwYWNlIGF2YWlsYWJsZSwgYWxpZ25tZW50IGRlcGVuZHMgYnkgcGxhY2VtZW50KVxuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtBcnJheX1cbiAqIEBlbnVtIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqIEBtZXRob2QgcGxhY2VtZW50c1xuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG52YXIgcGxhY2VtZW50cyA9IFsnYXV0by1zdGFydCcsICdhdXRvJywgJ2F1dG8tZW5kJywgJ3RvcC1zdGFydCcsICd0b3AnLCAndG9wLWVuZCcsICdyaWdodC1zdGFydCcsICdyaWdodCcsICdyaWdodC1lbmQnLCAnYm90dG9tLWVuZCcsICdib3R0b20nLCAnYm90dG9tLXN0YXJ0JywgJ2xlZnQtZW5kJywgJ2xlZnQnLCAnbGVmdC1zdGFydCddO1xuXG4vLyBHZXQgcmlkIG9mIGBhdXRvYCBgYXV0by1zdGFydGAgYW5kIGBhdXRvLWVuZGBcbnZhciB2YWxpZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzLnNsaWNlKDMpO1xuXG4vKipcbiAqIEdpdmVuIGFuIGluaXRpYWwgcGxhY2VtZW50LCByZXR1cm5zIGFsbCB0aGUgc3Vic2VxdWVudCBwbGFjZW1lbnRzXG4gKiBjbG9ja3dpc2UgKG9yIGNvdW50ZXItY2xvY2t3aXNlKS5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gcGxhY2VtZW50IC0gQSB2YWxpZCBwbGFjZW1lbnQgKGl0IGFjY2VwdHMgdmFyaWF0aW9ucylcbiAqIEBhcmd1bWVudCB7Qm9vbGVhbn0gY291bnRlciAtIFNldCB0byB0cnVlIHRvIHdhbGsgdGhlIHBsYWNlbWVudHMgY291bnRlcmNsb2Nrd2lzZVxuICogQHJldHVybnMge0FycmF5fSBwbGFjZW1lbnRzIGluY2x1ZGluZyB0aGVpciB2YXJpYXRpb25zXG4gKi9cbmZ1bmN0aW9uIGNsb2Nrd2lzZShwbGFjZW1lbnQpIHtcbiAgdmFyIGNvdW50ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gIHZhciBpbmRleCA9IHZhbGlkUGxhY2VtZW50cy5pbmRleE9mKHBsYWNlbWVudCk7XG4gIHZhciBhcnIgPSB2YWxpZFBsYWNlbWVudHMuc2xpY2UoaW5kZXggKyAxKS5jb25jYXQodmFsaWRQbGFjZW1lbnRzLnNsaWNlKDAsIGluZGV4KSk7XG4gIHJldHVybiBjb3VudGVyID8gYXJyLnJldmVyc2UoKSA6IGFycjtcbn1cblxudmFyIEJFSEFWSU9SUyA9IHtcbiAgRkxJUDogJ2ZsaXAnLFxuICBDTE9DS1dJU0U6ICdjbG9ja3dpc2UnLFxuICBDT1VOVEVSQ0xPQ0tXSVNFOiAnY291bnRlcmNsb2Nrd2lzZSdcbn07XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBmbGlwKGRhdGEsIG9wdGlvbnMpIHtcbiAgLy8gaWYgYGlubmVyYCBtb2RpZmllciBpcyBlbmFibGVkLCB3ZSBjYW4ndCB1c2UgdGhlIGBmbGlwYCBtb2RpZmllclxuICBpZiAoaXNNb2RpZmllckVuYWJsZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdpbm5lcicpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBpZiAoZGF0YS5mbGlwcGVkICYmIGRhdGEucGxhY2VtZW50ID09PSBkYXRhLm9yaWdpbmFsUGxhY2VtZW50KSB7XG4gICAgLy8gc2VlbXMgbGlrZSBmbGlwIGlzIHRyeWluZyB0byBsb29wLCBwcm9iYWJseSB0aGVyZSdzIG5vdCBlbm91Z2ggc3BhY2Ugb24gYW55IG9mIHRoZSBmbGlwcGFibGUgc2lkZXNcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHZhciBib3VuZGFyaWVzID0gZ2V0Qm91bmRhcmllcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UsIG9wdGlvbnMucGFkZGluZywgb3B0aW9ucy5ib3VuZGFyaWVzRWxlbWVudCwgZGF0YS5wb3NpdGlvbkZpeGVkKTtcblxuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgdmFyIHZhcmlhdGlvbiA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMV0gfHwgJyc7XG5cbiAgdmFyIGZsaXBPcmRlciA9IFtdO1xuXG4gIHN3aXRjaCAob3B0aW9ucy5iZWhhdmlvcikge1xuICAgIGNhc2UgQkVIQVZJT1JTLkZMSVA6XG4gICAgICBmbGlwT3JkZXIgPSBbcGxhY2VtZW50LCBwbGFjZW1lbnRPcHBvc2l0ZV07XG4gICAgICBicmVhaztcbiAgICBjYXNlIEJFSEFWSU9SUy5DTE9DS1dJU0U6XG4gICAgICBmbGlwT3JkZXIgPSBjbG9ja3dpc2UocGxhY2VtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQkVIQVZJT1JTLkNPVU5URVJDTE9DS1dJU0U6XG4gICAgICBmbGlwT3JkZXIgPSBjbG9ja3dpc2UocGxhY2VtZW50LCB0cnVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBmbGlwT3JkZXIgPSBvcHRpb25zLmJlaGF2aW9yO1xuICB9XG5cbiAgZmxpcE9yZGVyLmZvckVhY2goZnVuY3Rpb24gKHN0ZXAsIGluZGV4KSB7XG4gICAgaWYgKHBsYWNlbWVudCAhPT0gc3RlcCB8fCBmbGlwT3JkZXIubGVuZ3RoID09PSBpbmRleCArIDEpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gICAgcGxhY2VtZW50T3Bwb3NpdGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuXG4gICAgdmFyIHBvcHBlck9mZnNldHMgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuICAgIHZhciByZWZPZmZzZXRzID0gZGF0YS5vZmZzZXRzLnJlZmVyZW5jZTtcblxuICAgIC8vIHVzaW5nIGZsb29yIGJlY2F1c2UgdGhlIHJlZmVyZW5jZSBvZmZzZXRzIG1heSBjb250YWluIGRlY2ltYWxzIHdlIGFyZSBub3QgZ29pbmcgdG8gY29uc2lkZXIgaGVyZVxuICAgIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gICAgdmFyIG92ZXJsYXBzUmVmID0gcGxhY2VtZW50ID09PSAnbGVmdCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5yaWdodCkgPiBmbG9vcihyZWZPZmZzZXRzLmxlZnQpIHx8IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLmxlZnQpIDwgZmxvb3IocmVmT2Zmc2V0cy5yaWdodCkgfHwgcGxhY2VtZW50ID09PSAndG9wJyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLmJvdHRvbSkgPiBmbG9vcihyZWZPZmZzZXRzLnRvcCkgfHwgcGxhY2VtZW50ID09PSAnYm90dG9tJyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLnRvcCkgPCBmbG9vcihyZWZPZmZzZXRzLmJvdHRvbSk7XG5cbiAgICB2YXIgb3ZlcmZsb3dzTGVmdCA9IGZsb29yKHBvcHBlck9mZnNldHMubGVmdCkgPCBmbG9vcihib3VuZGFyaWVzLmxlZnQpO1xuICAgIHZhciBvdmVyZmxvd3NSaWdodCA9IGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IoYm91bmRhcmllcy5yaWdodCk7XG4gICAgdmFyIG92ZXJmbG93c1RvcCA9IGZsb29yKHBvcHBlck9mZnNldHMudG9wKSA8IGZsb29yKGJvdW5kYXJpZXMudG9wKTtcbiAgICB2YXIgb3ZlcmZsb3dzQm90dG9tID0gZmxvb3IocG9wcGVyT2Zmc2V0cy5ib3R0b20pID4gZmxvb3IoYm91bmRhcmllcy5ib3R0b20pO1xuXG4gICAgdmFyIG92ZXJmbG93c0JvdW5kYXJpZXMgPSBwbGFjZW1lbnQgPT09ICdsZWZ0JyAmJiBvdmVyZmxvd3NMZWZ0IHx8IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyAmJiBvdmVyZmxvd3NSaWdodCB8fCBwbGFjZW1lbnQgPT09ICd0b3AnICYmIG92ZXJmbG93c1RvcCB8fCBwbGFjZW1lbnQgPT09ICdib3R0b20nICYmIG92ZXJmbG93c0JvdHRvbTtcblxuICAgIC8vIGZsaXAgdGhlIHZhcmlhdGlvbiBpZiByZXF1aXJlZFxuICAgIHZhciBpc1ZlcnRpY2FsID0gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgICB2YXIgZmxpcHBlZFZhcmlhdGlvbiA9ICEhb3B0aW9ucy5mbGlwVmFyaWF0aW9ucyAmJiAoaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdzdGFydCcgJiYgb3ZlcmZsb3dzTGVmdCB8fCBpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ2VuZCcgJiYgb3ZlcmZsb3dzUmlnaHQgfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c1RvcCB8fCAhaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdlbmQnICYmIG92ZXJmbG93c0JvdHRvbSk7XG5cbiAgICBpZiAob3ZlcmxhcHNSZWYgfHwgb3ZlcmZsb3dzQm91bmRhcmllcyB8fCBmbGlwcGVkVmFyaWF0aW9uKSB7XG4gICAgICAvLyB0aGlzIGJvb2xlYW4gdG8gZGV0ZWN0IGFueSBmbGlwIGxvb3BcbiAgICAgIGRhdGEuZmxpcHBlZCA9IHRydWU7XG5cbiAgICAgIGlmIChvdmVybGFwc1JlZiB8fCBvdmVyZmxvd3NCb3VuZGFyaWVzKSB7XG4gICAgICAgIHBsYWNlbWVudCA9IGZsaXBPcmRlcltpbmRleCArIDFdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmxpcHBlZFZhcmlhdGlvbikge1xuICAgICAgICB2YXJpYXRpb24gPSBnZXRPcHBvc2l0ZVZhcmlhdGlvbih2YXJpYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBkYXRhLnBsYWNlbWVudCA9IHBsYWNlbWVudCArICh2YXJpYXRpb24gPyAnLScgKyB2YXJpYXRpb24gOiAnJyk7XG5cbiAgICAgIC8vIHRoaXMgb2JqZWN0IGNvbnRhaW5zIGBwb3NpdGlvbmAsIHdlIHdhbnQgdG8gcHJlc2VydmUgaXQgYWxvbmcgd2l0aFxuICAgICAgLy8gYW55IGFkZGl0aW9uYWwgcHJvcGVydHkgd2UgbWF5IGFkZCBpbiB0aGUgZnV0dXJlXG4gICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gX2V4dGVuZHMoe30sIGRhdGEub2Zmc2V0cy5wb3BwZXIsIGdldFBvcHBlck9mZnNldHMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KSk7XG5cbiAgICAgIGRhdGEgPSBydW5Nb2RpZmllcnMoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsIGRhdGEsICdmbGlwJyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBrZWVwVG9nZXRoZXIoZGF0YSkge1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gIHZhciBpc1ZlcnRpY2FsID0gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgdmFyIHNpZGUgPSBpc1ZlcnRpY2FsID8gJ3JpZ2h0JyA6ICdib3R0b20nO1xuICB2YXIgb3BTaWRlID0gaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnO1xuICB2YXIgbWVhc3VyZW1lbnQgPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gIGlmIChwb3BwZXJbc2lkZV0gPCBmbG9vcihyZWZlcmVuY2Vbb3BTaWRlXSkpIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW29wU2lkZV0gPSBmbG9vcihyZWZlcmVuY2Vbb3BTaWRlXSkgLSBwb3BwZXJbbWVhc3VyZW1lbnRdO1xuICB9XG4gIGlmIChwb3BwZXJbb3BTaWRlXSA+IGZsb29yKHJlZmVyZW5jZVtzaWRlXSkpIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW29wU2lkZV0gPSBmbG9vcihyZWZlcmVuY2Vbc2lkZV0pO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgY29udGFpbmluZyB2YWx1ZSArIHVuaXQgaW50byBhIHB4IHZhbHVlIG51bWJlclxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2Yge21vZGlmaWVyc35vZmZzZXR9XG4gKiBAcHJpdmF0ZVxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHN0ciAtIFZhbHVlICsgdW5pdCBzdHJpbmdcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBtZWFzdXJlbWVudCAtIGBoZWlnaHRgIG9yIGB3aWR0aGBcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzXG4gKiBAYXJndW1lbnQge09iamVjdH0gcmVmZXJlbmNlT2Zmc2V0c1xuICogQHJldHVybnMge051bWJlcnxTdHJpbmd9XG4gKiBWYWx1ZSBpbiBwaXhlbHMsIG9yIG9yaWdpbmFsIHN0cmluZyBpZiBubyB2YWx1ZXMgd2VyZSBleHRyYWN0ZWRcbiAqL1xuZnVuY3Rpb24gdG9WYWx1ZShzdHIsIG1lYXN1cmVtZW50LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzKSB7XG4gIC8vIHNlcGFyYXRlIHZhbHVlIGZyb20gdW5pdFxuICB2YXIgc3BsaXQgPSBzdHIubWF0Y2goLygoPzpcXC18XFwrKT9cXGQqXFwuP1xcZCopKC4qKS8pO1xuICB2YXIgdmFsdWUgPSArc3BsaXRbMV07XG4gIHZhciB1bml0ID0gc3BsaXRbMl07XG5cbiAgLy8gSWYgaXQncyBub3QgYSBudW1iZXIgaXQncyBhbiBvcGVyYXRvciwgSSBndWVzc1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIGlmICh1bml0LmluZGV4T2YoJyUnKSA9PT0gMCkge1xuICAgIHZhciBlbGVtZW50ID0gdm9pZCAwO1xuICAgIHN3aXRjaCAodW5pdCkge1xuICAgICAgY2FzZSAnJXAnOlxuICAgICAgICBlbGVtZW50ID0gcG9wcGVyT2Zmc2V0cztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICclJzpcbiAgICAgIGNhc2UgJyVyJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVsZW1lbnQgPSByZWZlcmVuY2VPZmZzZXRzO1xuICAgIH1cblxuICAgIHZhciByZWN0ID0gZ2V0Q2xpZW50UmVjdChlbGVtZW50KTtcbiAgICByZXR1cm4gcmVjdFttZWFzdXJlbWVudF0gLyAxMDAgKiB2YWx1ZTtcbiAgfSBlbHNlIGlmICh1bml0ID09PSAndmgnIHx8IHVuaXQgPT09ICd2dycpIHtcbiAgICAvLyBpZiBpcyBhIHZoIG9yIHZ3LCB3ZSBjYWxjdWxhdGUgdGhlIHNpemUgYmFzZWQgb24gdGhlIHZpZXdwb3J0XG4gICAgdmFyIHNpemUgPSB2b2lkIDA7XG4gICAgaWYgKHVuaXQgPT09ICd2aCcpIHtcbiAgICAgIHNpemUgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpemUgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZSAvIDEwMCAqIHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIGlzIGFuIGV4cGxpY2l0IHBpeGVsIHVuaXQsIHdlIGdldCByaWQgb2YgdGhlIHVuaXQgYW5kIGtlZXAgdGhlIHZhbHVlXG4gICAgLy8gaWYgaXMgYW4gaW1wbGljaXQgdW5pdCwgaXQncyBweCwgYW5kIHdlIHJldHVybiBqdXN0IHRoZSB2YWx1ZVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIGFuIGBvZmZzZXRgIHN0cmluZyB0byBleHRyYXBvbGF0ZSBgeGAgYW5kIGB5YCBudW1lcmljIG9mZnNldHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiB7bW9kaWZpZXJzfm9mZnNldH1cbiAqIEBwcml2YXRlXG4gKiBAYXJndW1lbnQge1N0cmluZ30gb2Zmc2V0XG4gKiBAYXJndW1lbnQge09iamVjdH0gcG9wcGVyT2Zmc2V0c1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBiYXNlUGxhY2VtZW50XG4gKiBAcmV0dXJucyB7QXJyYXl9IGEgdHdvIGNlbGxzIGFycmF5IHdpdGggeCBhbmQgeSBvZmZzZXRzIGluIG51bWJlcnNcbiAqL1xuZnVuY3Rpb24gcGFyc2VPZmZzZXQob2Zmc2V0LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzLCBiYXNlUGxhY2VtZW50KSB7XG4gIHZhciBvZmZzZXRzID0gWzAsIDBdO1xuXG4gIC8vIFVzZSBoZWlnaHQgaWYgcGxhY2VtZW50IGlzIGxlZnQgb3IgcmlnaHQgYW5kIGluZGV4IGlzIDAgb3RoZXJ3aXNlIHVzZSB3aWR0aFxuICAvLyBpbiB0aGlzIHdheSB0aGUgZmlyc3Qgb2Zmc2V0IHdpbGwgdXNlIGFuIGF4aXMgYW5kIHRoZSBzZWNvbmQgb25lXG4gIC8vIHdpbGwgdXNlIHRoZSBvdGhlciBvbmVcbiAgdmFyIHVzZUhlaWdodCA9IFsncmlnaHQnLCAnbGVmdCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuXG4gIC8vIFNwbGl0IHRoZSBvZmZzZXQgc3RyaW5nIHRvIG9idGFpbiBhIGxpc3Qgb2YgdmFsdWVzIGFuZCBvcGVyYW5kc1xuICAvLyBUaGUgcmVnZXggYWRkcmVzc2VzIHZhbHVlcyB3aXRoIHRoZSBwbHVzIG9yIG1pbnVzIHNpZ24gaW4gZnJvbnQgKCsxMCwgLTIwLCBldGMpXG4gIHZhciBmcmFnbWVudHMgPSBvZmZzZXQuc3BsaXQoLyhcXCt8XFwtKS8pLm1hcChmdW5jdGlvbiAoZnJhZykge1xuICAgIHJldHVybiBmcmFnLnRyaW0oKTtcbiAgfSk7XG5cbiAgLy8gRGV0ZWN0IGlmIHRoZSBvZmZzZXQgc3RyaW5nIGNvbnRhaW5zIGEgcGFpciBvZiB2YWx1ZXMgb3IgYSBzaW5nbGUgb25lXG4gIC8vIHRoZXkgY291bGQgYmUgc2VwYXJhdGVkIGJ5IGNvbW1hIG9yIHNwYWNlXG4gIHZhciBkaXZpZGVyID0gZnJhZ21lbnRzLmluZGV4T2YoZmluZChmcmFnbWVudHMsIGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgcmV0dXJuIGZyYWcuc2VhcmNoKC8sfFxccy8pICE9PSAtMTtcbiAgfSkpO1xuXG4gIGlmIChmcmFnbWVudHNbZGl2aWRlcl0gJiYgZnJhZ21lbnRzW2RpdmlkZXJdLmluZGV4T2YoJywnKSA9PT0gLTEpIHtcbiAgICBjb25zb2xlLndhcm4oJ09mZnNldHMgc2VwYXJhdGVkIGJ5IHdoaXRlIHNwYWNlKHMpIGFyZSBkZXByZWNhdGVkLCB1c2UgYSBjb21tYSAoLCkgaW5zdGVhZC4nKTtcbiAgfVxuXG4gIC8vIElmIGRpdmlkZXIgaXMgZm91bmQsIHdlIGRpdmlkZSB0aGUgbGlzdCBvZiB2YWx1ZXMgYW5kIG9wZXJhbmRzIHRvIGRpdmlkZVxuICAvLyB0aGVtIGJ5IG9mc2V0IFggYW5kIFkuXG4gIHZhciBzcGxpdFJlZ2V4ID0gL1xccyosXFxzKnxcXHMrLztcbiAgdmFyIG9wcyA9IGRpdmlkZXIgIT09IC0xID8gW2ZyYWdtZW50cy5zbGljZSgwLCBkaXZpZGVyKS5jb25jYXQoW2ZyYWdtZW50c1tkaXZpZGVyXS5zcGxpdChzcGxpdFJlZ2V4KVswXV0pLCBbZnJhZ21lbnRzW2RpdmlkZXJdLnNwbGl0KHNwbGl0UmVnZXgpWzFdXS5jb25jYXQoZnJhZ21lbnRzLnNsaWNlKGRpdmlkZXIgKyAxKSldIDogW2ZyYWdtZW50c107XG5cbiAgLy8gQ29udmVydCB0aGUgdmFsdWVzIHdpdGggdW5pdHMgdG8gYWJzb2x1dGUgcGl4ZWxzIHRvIGFsbG93IG91ciBjb21wdXRhdGlvbnNcbiAgb3BzID0gb3BzLm1hcChmdW5jdGlvbiAob3AsIGluZGV4KSB7XG4gICAgLy8gTW9zdCBvZiB0aGUgdW5pdHMgcmVseSBvbiB0aGUgb3JpZW50YXRpb24gb2YgdGhlIHBvcHBlclxuICAgIHZhciBtZWFzdXJlbWVudCA9IChpbmRleCA9PT0gMSA/ICF1c2VIZWlnaHQgOiB1c2VIZWlnaHQpID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgIHZhciBtZXJnZVdpdGhQcmV2aW91cyA9IGZhbHNlO1xuICAgIHJldHVybiBvcFxuICAgIC8vIFRoaXMgYWdncmVnYXRlcyBhbnkgYCtgIG9yIGAtYCBzaWduIHRoYXQgYXJlbid0IGNvbnNpZGVyZWQgb3BlcmF0b3JzXG4gICAgLy8gZS5nLjogMTAgKyArNSA9PiBbMTAsICssICs1XVxuICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIGlmIChhW2EubGVuZ3RoIC0gMV0gPT09ICcnICYmIFsnKycsICctJ10uaW5kZXhPZihiKSAhPT0gLTEpIHtcbiAgICAgICAgYVthLmxlbmd0aCAtIDFdID0gYjtcbiAgICAgICAgbWVyZ2VXaXRoUHJldmlvdXMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0gZWxzZSBpZiAobWVyZ2VXaXRoUHJldmlvdXMpIHtcbiAgICAgICAgYVthLmxlbmd0aCAtIDFdICs9IGI7XG4gICAgICAgIG1lcmdlV2l0aFByZXZpb3VzID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEuY29uY2F0KGIpO1xuICAgICAgfVxuICAgIH0sIFtdKVxuICAgIC8vIEhlcmUgd2UgY29udmVydCB0aGUgc3RyaW5nIHZhbHVlcyBpbnRvIG51bWJlciB2YWx1ZXMgKGluIHB4KVxuICAgIC5tYXAoZnVuY3Rpb24gKHN0cikge1xuICAgICAgcmV0dXJuIHRvVmFsdWUoc3RyLCBtZWFzdXJlbWVudCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIExvb3AgdHJvdWdoIHRoZSBvZmZzZXRzIGFycmF5cyBhbmQgZXhlY3V0ZSB0aGUgb3BlcmF0aW9uc1xuICBvcHMuZm9yRWFjaChmdW5jdGlvbiAob3AsIGluZGV4KSB7XG4gICAgb3AuZm9yRWFjaChmdW5jdGlvbiAoZnJhZywgaW5kZXgyKSB7XG4gICAgICBpZiAoaXNOdW1lcmljKGZyYWcpKSB7XG4gICAgICAgIG9mZnNldHNbaW5kZXhdICs9IGZyYWcgKiAob3BbaW5kZXgyIC0gMV0gPT09ICctJyA/IC0xIDogMSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb2Zmc2V0cztcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAYXJndW1lbnQge051bWJlcnxTdHJpbmd9IG9wdGlvbnMub2Zmc2V0PTBcbiAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvblxuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBvZmZzZXQoZGF0YSwgX3JlZikge1xuICB2YXIgb2Zmc2V0ID0gX3JlZi5vZmZzZXQ7XG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudCxcbiAgICAgIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG5cbiAgdmFyIG9mZnNldHMgPSB2b2lkIDA7XG4gIGlmIChpc051bWVyaWMoK29mZnNldCkpIHtcbiAgICBvZmZzZXRzID0gWytvZmZzZXQsIDBdO1xuICB9IGVsc2Uge1xuICAgIG9mZnNldHMgPSBwYXJzZU9mZnNldChvZmZzZXQsIHBvcHBlciwgcmVmZXJlbmNlLCBiYXNlUGxhY2VtZW50KTtcbiAgfVxuXG4gIGlmIChiYXNlUGxhY2VtZW50ID09PSAnbGVmdCcpIHtcbiAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLmxlZnQgLT0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAncmlnaHQnKSB7XG4gICAgcG9wcGVyLnRvcCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMV07XG4gIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ3RvcCcpIHtcbiAgICBwb3BwZXIubGVmdCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci50b3AgLT0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAnYm90dG9tJykge1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLnRvcCArPSBvZmZzZXRzWzFdO1xuICB9XG5cbiAgZGF0YS5wb3BwZXIgPSBwb3BwZXI7XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBwcmV2ZW50T3ZlcmZsb3coZGF0YSwgb3B0aW9ucykge1xuICB2YXIgYm91bmRhcmllc0VsZW1lbnQgPSBvcHRpb25zLmJvdW5kYXJpZXNFbGVtZW50IHx8IGdldE9mZnNldFBhcmVudChkYXRhLmluc3RhbmNlLnBvcHBlcik7XG5cbiAgLy8gSWYgb2Zmc2V0UGFyZW50IGlzIHRoZSByZWZlcmVuY2UgZWxlbWVudCwgd2UgcmVhbGx5IHdhbnQgdG9cbiAgLy8gZ28gb25lIHN0ZXAgdXAgYW5kIHVzZSB0aGUgbmV4dCBvZmZzZXRQYXJlbnQgYXMgcmVmZXJlbmNlIHRvXG4gIC8vIGF2b2lkIHRvIG1ha2UgdGhpcyBtb2RpZmllciBjb21wbGV0ZWx5IHVzZWxlc3MgYW5kIGxvb2sgbGlrZSBicm9rZW5cbiAgaWYgKGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlID09PSBib3VuZGFyaWVzRWxlbWVudCkge1xuICAgIGJvdW5kYXJpZXNFbGVtZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGJvdW5kYXJpZXNFbGVtZW50KTtcbiAgfVxuXG4gIC8vIE5PVEU6IERPTSBhY2Nlc3MgaGVyZVxuICAvLyByZXNldHMgdGhlIHBvcHBlcidzIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGRvY3VtZW50IHNpemUgY2FuIGJlIGNhbGN1bGF0ZWQgZXhjbHVkaW5nXG4gIC8vIHRoZSBzaXplIG9mIHRoZSBwb3BwZXIgZWxlbWVudCBpdHNlbGZcbiAgdmFyIHRyYW5zZm9ybVByb3AgPSBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpO1xuICB2YXIgcG9wcGVyU3R5bGVzID0gZGF0YS5pbnN0YW5jZS5wb3BwZXIuc3R5bGU7IC8vIGFzc2lnbm1lbnQgdG8gaGVscCBtaW5pZmljYXRpb25cbiAgdmFyIHRvcCA9IHBvcHBlclN0eWxlcy50b3AsXG4gICAgICBsZWZ0ID0gcG9wcGVyU3R5bGVzLmxlZnQsXG4gICAgICB0cmFuc2Zvcm0gPSBwb3BwZXJTdHlsZXNbdHJhbnNmb3JtUHJvcF07XG5cbiAgcG9wcGVyU3R5bGVzLnRvcCA9ICcnO1xuICBwb3BwZXJTdHlsZXMubGVmdCA9ICcnO1xuICBwb3BwZXJTdHlsZXNbdHJhbnNmb3JtUHJvcF0gPSAnJztcblxuICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlLCBvcHRpb25zLnBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50LCBkYXRhLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIE5PVEU6IERPTSBhY2Nlc3MgaGVyZVxuICAvLyByZXN0b3JlcyB0aGUgb3JpZ2luYWwgc3R5bGUgcHJvcGVydGllcyBhZnRlciB0aGUgb2Zmc2V0cyBoYXZlIGJlZW4gY29tcHV0ZWRcbiAgcG9wcGVyU3R5bGVzLnRvcCA9IHRvcDtcbiAgcG9wcGVyU3R5bGVzLmxlZnQgPSBsZWZ0O1xuICBwb3BwZXJTdHlsZXNbdHJhbnNmb3JtUHJvcF0gPSB0cmFuc2Zvcm07XG5cbiAgb3B0aW9ucy5ib3VuZGFyaWVzID0gYm91bmRhcmllcztcblxuICB2YXIgb3JkZXIgPSBvcHRpb25zLnByaW9yaXR5O1xuICB2YXIgcG9wcGVyID0gZGF0YS5vZmZzZXRzLnBvcHBlcjtcblxuICB2YXIgY2hlY2sgPSB7XG4gICAgcHJpbWFyeTogZnVuY3Rpb24gcHJpbWFyeShwbGFjZW1lbnQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHBvcHBlcltwbGFjZW1lbnRdO1xuICAgICAgaWYgKHBvcHBlcltwbGFjZW1lbnRdIDwgYm91bmRhcmllc1twbGFjZW1lbnRdICYmICFvcHRpb25zLmVzY2FwZVdpdGhSZWZlcmVuY2UpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1heChwb3BwZXJbcGxhY2VtZW50XSwgYm91bmRhcmllc1twbGFjZW1lbnRdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eSh7fSwgcGxhY2VtZW50LCB2YWx1ZSk7XG4gICAgfSxcbiAgICBzZWNvbmRhcnk6IGZ1bmN0aW9uIHNlY29uZGFyeShwbGFjZW1lbnQpIHtcbiAgICAgIHZhciBtYWluU2lkZSA9IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgICAgdmFyIHZhbHVlID0gcG9wcGVyW21haW5TaWRlXTtcbiAgICAgIGlmIChwb3BwZXJbcGxhY2VtZW50XSA+IGJvdW5kYXJpZXNbcGxhY2VtZW50XSAmJiAhb3B0aW9ucy5lc2NhcGVXaXRoUmVmZXJlbmNlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4ocG9wcGVyW21haW5TaWRlXSwgYm91bmRhcmllc1twbGFjZW1lbnRdIC0gKHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyA/IHBvcHBlci53aWR0aCA6IHBvcHBlci5oZWlnaHQpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eSh7fSwgbWFpblNpZGUsIHZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgb3JkZXIuZm9yRWFjaChmdW5jdGlvbiAocGxhY2VtZW50KSB7XG4gICAgdmFyIHNpZGUgPSBbJ2xlZnQnLCAndG9wJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMSA/ICdwcmltYXJ5JyA6ICdzZWNvbmRhcnknO1xuICAgIHBvcHBlciA9IF9leHRlbmRzKHt9LCBwb3BwZXIsIGNoZWNrW3NpZGVdKHBsYWNlbWVudCkpO1xuICB9KTtcblxuICBkYXRhLm9mZnNldHMucG9wcGVyID0gcG9wcGVyO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBzaGlmdChkYXRhKSB7XG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIHNoaWZ0dmFyaWF0aW9uID0gcGxhY2VtZW50LnNwbGl0KCctJylbMV07XG5cbiAgLy8gaWYgc2hpZnQgc2hpZnR2YXJpYXRpb24gaXMgc3BlY2lmaWVkLCBydW4gdGhlIG1vZGlmaWVyXG4gIGlmIChzaGlmdHZhcmlhdGlvbikge1xuICAgIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLFxuICAgICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZSxcbiAgICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXI7XG5cbiAgICB2YXIgaXNWZXJ0aWNhbCA9IFsnYm90dG9tJywgJ3RvcCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuICAgIHZhciBzaWRlID0gaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnO1xuICAgIHZhciBtZWFzdXJlbWVudCA9IGlzVmVydGljYWwgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG5cbiAgICB2YXIgc2hpZnRPZmZzZXRzID0ge1xuICAgICAgc3RhcnQ6IGRlZmluZVByb3BlcnR5KHt9LCBzaWRlLCByZWZlcmVuY2Vbc2lkZV0pLFxuICAgICAgZW5kOiBkZWZpbmVQcm9wZXJ0eSh7fSwgc2lkZSwgcmVmZXJlbmNlW3NpZGVdICsgcmVmZXJlbmNlW21lYXN1cmVtZW50XSAtIHBvcHBlclttZWFzdXJlbWVudF0pXG4gICAgfTtcblxuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBfZXh0ZW5kcyh7fSwgcG9wcGVyLCBzaGlmdE9mZnNldHNbc2hpZnR2YXJpYXRpb25dKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gaGlkZShkYXRhKSB7XG4gIGlmICghaXNNb2RpZmllclJlcXVpcmVkKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCAnaGlkZScsICdwcmV2ZW50T3ZlcmZsb3cnKSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgdmFyIHJlZlJlY3QgPSBkYXRhLm9mZnNldHMucmVmZXJlbmNlO1xuICB2YXIgYm91bmQgPSBmaW5kKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gJ3ByZXZlbnRPdmVyZmxvdyc7XG4gIH0pLmJvdW5kYXJpZXM7XG5cbiAgaWYgKHJlZlJlY3QuYm90dG9tIDwgYm91bmQudG9wIHx8IHJlZlJlY3QubGVmdCA+IGJvdW5kLnJpZ2h0IHx8IHJlZlJlY3QudG9wID4gYm91bmQuYm90dG9tIHx8IHJlZlJlY3QucmlnaHQgPCBib3VuZC5sZWZ0KSB7XG4gICAgLy8gQXZvaWQgdW5uZWNlc3NhcnkgRE9NIGFjY2VzcyBpZiB2aXNpYmlsaXR5IGhhc24ndCBjaGFuZ2VkXG4gICAgaWYgKGRhdGEuaGlkZSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZGF0YS5oaWRlID0gdHJ1ZTtcbiAgICBkYXRhLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXSA9ICcnO1xuICB9IGVsc2Uge1xuICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IERPTSBhY2Nlc3MgaWYgdmlzaWJpbGl0eSBoYXNuJ3QgY2hhbmdlZFxuICAgIGlmIChkYXRhLmhpZGUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBkYXRhLmhpZGUgPSBmYWxzZTtcbiAgICBkYXRhLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXSA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGlubmVyKGRhdGEpIHtcbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGlzSG9yaXogPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICB2YXIgc3VidHJhY3RMZW5ndGggPSBbJ3RvcCcsICdsZWZ0J10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA9PT0gLTE7XG5cbiAgcG9wcGVyW2lzSG9yaXogPyAnbGVmdCcgOiAndG9wJ10gPSByZWZlcmVuY2VbYmFzZVBsYWNlbWVudF0gLSAoc3VidHJhY3RMZW5ndGggPyBwb3BwZXJbaXNIb3JpeiA/ICd3aWR0aCcgOiAnaGVpZ2h0J10gOiAwKTtcblxuICBkYXRhLnBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRDbGllbnRSZWN0KHBvcHBlcik7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogTW9kaWZpZXIgZnVuY3Rpb24sIGVhY2ggbW9kaWZpZXIgY2FuIGhhdmUgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgYXNzaWduZWRcbiAqIHRvIGl0cyBgZm5gIHByb3BlcnR5LjxiciAvPlxuICogVGhlc2UgZnVuY3Rpb25zIHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggdXBkYXRlLCB0aGlzIG1lYW5zIHRoYXQgeW91IG11c3RcbiAqIG1ha2Ugc3VyZSB0aGV5IGFyZSBwZXJmb3JtYW50IGVub3VnaCB0byBhdm9pZCBwZXJmb3JtYW5jZSBib3R0bGVuZWNrcy5cbiAqXG4gKiBAZnVuY3Rpb24gTW9kaWZpZXJGblxuICogQGFyZ3VtZW50IHtkYXRhT2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtkYXRhT2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cblxuLyoqXG4gKiBNb2RpZmllcnMgYXJlIHBsdWdpbnMgdXNlZCB0byBhbHRlciB0aGUgYmVoYXZpb3Igb2YgeW91ciBwb3BwZXJzLjxiciAvPlxuICogUG9wcGVyLmpzIHVzZXMgYSBzZXQgb2YgOSBtb2RpZmllcnMgdG8gcHJvdmlkZSBhbGwgdGhlIGJhc2ljIGZ1bmN0aW9uYWxpdGllc1xuICogbmVlZGVkIGJ5IHRoZSBsaWJyYXJ5LlxuICpcbiAqIFVzdWFsbHkgeW91IGRvbid0IHdhbnQgdG8gb3ZlcnJpZGUgdGhlIGBvcmRlcmAsIGBmbmAgYW5kIGBvbkxvYWRgIHByb3BzLlxuICogQWxsIHRoZSBvdGhlciBwcm9wZXJ0aWVzIGFyZSBjb25maWd1cmF0aW9ucyB0aGF0IGNvdWxkIGJlIHR3ZWFrZWQuXG4gKiBAbmFtZXNwYWNlIG1vZGlmaWVyc1xuICovXG52YXIgbW9kaWZpZXJzID0ge1xuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBzaGlmdCB0aGUgcG9wcGVyIG9uIHRoZSBzdGFydCBvciBlbmQgb2YgaXRzIHJlZmVyZW5jZVxuICAgKiBlbGVtZW50LjxiciAvPlxuICAgKiBJdCB3aWxsIHJlYWQgdGhlIHZhcmlhdGlvbiBvZiB0aGUgYHBsYWNlbWVudGAgcHJvcGVydHkuPGJyIC8+XG4gICAqIEl0IGNhbiBiZSBvbmUgZWl0aGVyIGAtZW5kYCBvciBgLXN0YXJ0YC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIHNoaWZ0OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTEwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogc2hpZnRcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGBvZmZzZXRgIG1vZGlmaWVyIGNhbiBzaGlmdCB5b3VyIHBvcHBlciBvbiBib3RoIGl0cyBheGlzLlxuICAgKlxuICAgKiBJdCBhY2NlcHRzIHRoZSBmb2xsb3dpbmcgdW5pdHM6XG4gICAqIC0gYHB4YCBvciB1bml0bGVzcywgaW50ZXJwcmV0ZWQgYXMgcGl4ZWxzXG4gICAqIC0gYCVgIG9yIGAlcmAsIHBlcmNlbnRhZ2UgcmVsYXRpdmUgdG8gdGhlIGxlbmd0aCBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAgICogLSBgJXBgLCBwZXJjZW50YWdlIHJlbGF0aXZlIHRvIHRoZSBsZW5ndGggb2YgdGhlIHBvcHBlciBlbGVtZW50XG4gICAqIC0gYHZ3YCwgQ1NTIHZpZXdwb3J0IHdpZHRoIHVuaXRcbiAgICogLSBgdmhgLCBDU1Mgdmlld3BvcnQgaGVpZ2h0IHVuaXRcbiAgICpcbiAgICogRm9yIGxlbmd0aCBpcyBpbnRlbmRlZCB0aGUgbWFpbiBheGlzIHJlbGF0aXZlIHRvIHRoZSBwbGFjZW1lbnQgb2YgdGhlIHBvcHBlci48YnIgLz5cbiAgICogVGhpcyBtZWFucyB0aGF0IGlmIHRoZSBwbGFjZW1lbnQgaXMgYHRvcGAgb3IgYGJvdHRvbWAsIHRoZSBsZW5ndGggd2lsbCBiZSB0aGVcbiAgICogYHdpZHRoYC4gSW4gY2FzZSBvZiBgbGVmdGAgb3IgYHJpZ2h0YCwgaXQgd2lsbCBiZSB0aGUgaGVpZ2h0LlxuICAgKlxuICAgKiBZb3UgY2FuIHByb3ZpZGUgYSBzaW5nbGUgdmFsdWUgKGFzIGBOdW1iZXJgIG9yIGBTdHJpbmdgKSwgb3IgYSBwYWlyIG9mIHZhbHVlc1xuICAgKiBhcyBgU3RyaW5nYCBkaXZpZGVkIGJ5IGEgY29tbWEgb3Igb25lIChvciBtb3JlKSB3aGl0ZSBzcGFjZXMuPGJyIC8+XG4gICAqIFRoZSBsYXR0ZXIgaXMgYSBkZXByZWNhdGVkIG1ldGhvZCBiZWNhdXNlIGl0IGxlYWRzIHRvIGNvbmZ1c2lvbiBhbmQgd2lsbCBiZVxuICAgKiByZW1vdmVkIGluIHYyLjxiciAvPlxuICAgKiBBZGRpdGlvbmFsbHksIGl0IGFjY2VwdHMgYWRkaXRpb25zIGFuZCBzdWJ0cmFjdGlvbnMgYmV0d2VlbiBkaWZmZXJlbnQgdW5pdHMuXG4gICAqIE5vdGUgdGhhdCBtdWx0aXBsaWNhdGlvbnMgYW5kIGRpdmlzaW9ucyBhcmVuJ3Qgc3VwcG9ydGVkLlxuICAgKlxuICAgKiBWYWxpZCBleGFtcGxlcyBhcmU6XG4gICAqIGBgYFxuICAgKiAxMFxuICAgKiAnMTAlJ1xuICAgKiAnMTAsIDEwJ1xuICAgKiAnMTAlLCAxMCdcbiAgICogJzEwICsgMTAlJ1xuICAgKiAnMTAgLSA1dmggKyAzJSdcbiAgICogJy0xMHB4ICsgNXZoLCA1cHggLSA2JSdcbiAgICogYGBgXG4gICAqID4gKipOQioqOiBJZiB5b3UgZGVzaXJlIHRvIGFwcGx5IG9mZnNldHMgdG8geW91ciBwb3BwZXJzIGluIGEgd2F5IHRoYXQgbWF5IG1ha2UgdGhlbSBvdmVybGFwXG4gICAqID4gd2l0aCB0aGVpciByZWZlcmVuY2UgZWxlbWVudCwgdW5mb3J0dW5hdGVseSwgeW91IHdpbGwgaGF2ZSB0byBkaXNhYmxlIHRoZSBgZmxpcGAgbW9kaWZpZXIuXG4gICAqID4gTW9yZSBvbiB0aGlzIFtyZWFkaW5nIHRoaXMgaXNzdWVdKGh0dHBzOi8vZ2l0aHViLmNvbS9GZXpWcmFzdGEvcG9wcGVyLmpzL2lzc3Vlcy8zNzMpXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBvZmZzZXQ6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9MjAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiAyMDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBvZmZzZXQsXG4gICAgLyoqIEBwcm9wIHtOdW1iZXJ8U3RyaW5nfSBvZmZzZXQ9MFxuICAgICAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIG9mZnNldDogMFxuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIHByZXZlbnQgdGhlIHBvcHBlciBmcm9tIGJlaW5nIHBvc2l0aW9uZWQgb3V0c2lkZSB0aGUgYm91bmRhcnkuXG4gICAqXG4gICAqIEFuIHNjZW5hcmlvIGV4aXN0cyB3aGVyZSB0aGUgcmVmZXJlbmNlIGl0c2VsZiBpcyBub3Qgd2l0aGluIHRoZSBib3VuZGFyaWVzLjxiciAvPlxuICAgKiBXZSBjYW4gc2F5IGl0IGhhcyBcImVzY2FwZWQgdGhlIGJvdW5kYXJpZXNcIiDigJQgb3IganVzdCBcImVzY2FwZWRcIi48YnIgLz5cbiAgICogSW4gdGhpcyBjYXNlIHdlIG5lZWQgdG8gZGVjaWRlIHdoZXRoZXIgdGhlIHBvcHBlciBzaG91bGQgZWl0aGVyOlxuICAgKlxuICAgKiAtIGRldGFjaCBmcm9tIHRoZSByZWZlcmVuY2UgYW5kIHJlbWFpbiBcInRyYXBwZWRcIiBpbiB0aGUgYm91bmRhcmllcywgb3JcbiAgICogLSBpZiBpdCBzaG91bGQgaWdub3JlIHRoZSBib3VuZGFyeSBhbmQgXCJlc2NhcGUgd2l0aCBpdHMgcmVmZXJlbmNlXCJcbiAgICpcbiAgICogV2hlbiBgZXNjYXBlV2l0aFJlZmVyZW5jZWAgaXMgc2V0IHRvYHRydWVgIGFuZCByZWZlcmVuY2UgaXMgY29tcGxldGVseVxuICAgKiBvdXRzaWRlIGl0cyBib3VuZGFyaWVzLCB0aGUgcG9wcGVyIHdpbGwgb3ZlcmZsb3cgKG9yIGNvbXBsZXRlbHkgbGVhdmUpXG4gICAqIHRoZSBib3VuZGFyaWVzIGluIG9yZGVyIHRvIHJlbWFpbiBhdHRhY2hlZCB0byB0aGUgZWRnZSBvZiB0aGUgcmVmZXJlbmNlLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTMwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMzAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogcHJldmVudE92ZXJmbG93LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtBcnJheX0gW3ByaW9yaXR5PVsnbGVmdCcsJ3JpZ2h0JywndG9wJywnYm90dG9tJ11dXG4gICAgICogUG9wcGVyIHdpbGwgdHJ5IHRvIHByZXZlbnQgb3ZlcmZsb3cgZm9sbG93aW5nIHRoZXNlIHByaW9yaXRpZXMgYnkgZGVmYXVsdCxcbiAgICAgKiB0aGVuLCBpdCBjb3VsZCBvdmVyZmxvdyBvbiB0aGUgbGVmdCBhbmQgb24gdG9wIG9mIHRoZSBgYm91bmRhcmllc0VsZW1lbnRgXG4gICAgICovXG4gICAgcHJpb3JpdHk6IFsnbGVmdCcsICdyaWdodCcsICd0b3AnLCAnYm90dG9tJ10sXG4gICAgLyoqXG4gICAgICogQHByb3Age251bWJlcn0gcGFkZGluZz01XG4gICAgICogQW1vdW50IG9mIHBpeGVsIHVzZWQgdG8gZGVmaW5lIGEgbWluaW11bSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBib3VuZGFyaWVzXG4gICAgICogYW5kIHRoZSBwb3BwZXIgdGhpcyBtYWtlcyBzdXJlIHRoZSBwb3BwZXIgaGFzIGFsd2F5cyBhIGxpdHRsZSBwYWRkaW5nXG4gICAgICogYmV0d2VlbiB0aGUgZWRnZXMgb2YgaXRzIGNvbnRhaW5lclxuICAgICAqL1xuICAgIHBhZGRpbmc6IDUsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gYm91bmRhcmllc0VsZW1lbnQ9J3Njcm9sbFBhcmVudCdcbiAgICAgKiBCb3VuZGFyaWVzIHVzZWQgYnkgdGhlIG1vZGlmaWVyLCBjYW4gYmUgYHNjcm9sbFBhcmVudGAsIGB3aW5kb3dgLFxuICAgICAqIGB2aWV3cG9ydGAgb3IgYW55IERPTSBlbGVtZW50LlxuICAgICAqL1xuICAgIGJvdW5kYXJpZXNFbGVtZW50OiAnc2Nyb2xsUGFyZW50J1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIG1ha2Ugc3VyZSB0aGUgcmVmZXJlbmNlIGFuZCBpdHMgcG9wcGVyIHN0YXkgbmVhciBlYWNob3RoZXJzXG4gICAqIHdpdGhvdXQgbGVhdmluZyBhbnkgZ2FwIGJldHdlZW4gdGhlIHR3by4gRXhwZWNpYWxseSB1c2VmdWwgd2hlbiB0aGUgYXJyb3cgaXNcbiAgICogZW5hYmxlZCBhbmQgeW91IHdhbnQgdG8gYXNzdXJlIGl0IHRvIHBvaW50IHRvIGl0cyByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogSXQgY2FyZXMgb25seSBhYm91dCB0aGUgZmlyc3QgYXhpcywgeW91IGNhbiBzdGlsbCBoYXZlIHBvcHBlcnMgd2l0aCBtYXJnaW5cbiAgICogYmV0d2VlbiB0aGUgcG9wcGVyIGFuZCBpdHMgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBrZWVwVG9nZXRoZXI6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NDAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA0MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBrZWVwVG9nZXRoZXJcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBtb2RpZmllciBpcyB1c2VkIHRvIG1vdmUgdGhlIGBhcnJvd0VsZW1lbnRgIG9mIHRoZSBwb3BwZXIgdG8gbWFrZVxuICAgKiBzdXJlIGl0IGlzIHBvc2l0aW9uZWQgYmV0d2VlbiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgYW5kIGl0cyBwb3BwZXIgZWxlbWVudC5cbiAgICogSXQgd2lsbCByZWFkIHRoZSBvdXRlciBzaXplIG9mIHRoZSBgYXJyb3dFbGVtZW50YCBub2RlIHRvIGRldGVjdCBob3cgbWFueVxuICAgKiBwaXhlbHMgb2YgY29uanVjdGlvbiBhcmUgbmVlZGVkLlxuICAgKlxuICAgKiBJdCBoYXMgbm8gZWZmZWN0IGlmIG5vIGBhcnJvd0VsZW1lbnRgIGlzIHByb3ZpZGVkLlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXJyb3c6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NTAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA1MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBhcnJvdyxcbiAgICAvKiogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gZWxlbWVudD0nW3gtYXJyb3ddJyAtIFNlbGVjdG9yIG9yIG5vZGUgdXNlZCBhcyBhcnJvdyAqL1xuICAgIGVsZW1lbnQ6ICdbeC1hcnJvd10nXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gZmxpcCB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50IHdoZW4gaXQgc3RhcnRzIHRvIG92ZXJsYXAgaXRzXG4gICAqIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqXG4gICAqICoqTk9URToqKiB0aGlzIG1vZGlmaWVyIHdpbGwgaW50ZXJydXB0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZSBhbmQgd2lsbFxuICAgKiByZXN0YXJ0IGl0IGlmIGl0IGRldGVjdHMgdGhlIG5lZWQgdG8gZmxpcCB0aGUgcGxhY2VtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgZmxpcDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj02MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDYwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGZsaXAsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xBcnJheX0gYmVoYXZpb3I9J2ZsaXAnXG4gICAgICogVGhlIGJlaGF2aW9yIHVzZWQgdG8gY2hhbmdlIHRoZSBwb3BwZXIncyBwbGFjZW1lbnQuIEl0IGNhbiBiZSBvbmUgb2ZcbiAgICAgKiBgZmxpcGAsIGBjbG9ja3dpc2VgLCBgY291bnRlcmNsb2Nrd2lzZWAgb3IgYW4gYXJyYXkgd2l0aCBhIGxpc3Qgb2YgdmFsaWRcbiAgICAgKiBwbGFjZW1lbnRzICh3aXRoIG9wdGlvbmFsIHZhcmlhdGlvbnMpLlxuICAgICAqL1xuICAgIGJlaGF2aW9yOiAnZmxpcCcsXG4gICAgLyoqXG4gICAgICogQHByb3Age251bWJlcn0gcGFkZGluZz01XG4gICAgICogVGhlIHBvcHBlciB3aWxsIGZsaXAgaWYgaXQgaGl0cyB0aGUgZWRnZXMgb2YgdGhlIGBib3VuZGFyaWVzRWxlbWVudGBcbiAgICAgKi9cbiAgICBwYWRkaW5nOiA1LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50PSd2aWV3cG9ydCdcbiAgICAgKiBUaGUgZWxlbWVudCB3aGljaCB3aWxsIGRlZmluZSB0aGUgYm91bmRhcmllcyBvZiB0aGUgcG9wcGVyIHBvc2l0aW9uLFxuICAgICAqIHRoZSBwb3BwZXIgd2lsbCBuZXZlciBiZSBwbGFjZWQgb3V0c2lkZSBvZiB0aGUgZGVmaW5lZCBib3VuZGFyaWVzXG4gICAgICogKGV4Y2VwdCBpZiBrZWVwVG9nZXRoZXIgaXMgZW5hYmxlZClcbiAgICAgKi9cbiAgICBib3VuZGFyaWVzRWxlbWVudDogJ3ZpZXdwb3J0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIG1ha2UgdGhlIHBvcHBlciBmbG93IHRvd2FyZCB0aGUgaW5uZXIgb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBCeSBkZWZhdWx0LCB3aGVuIHRoaXMgbW9kaWZpZXIgaXMgZGlzYWJsZWQsIHRoZSBwb3BwZXIgd2lsbCBiZSBwbGFjZWQgb3V0c2lkZVxuICAgKiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBpbm5lcjoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj03MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDcwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9ZmFsc2UgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogaW5uZXJcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBoaWRlIHRoZSBwb3BwZXIgd2hlbiBpdHMgcmVmZXJlbmNlIGVsZW1lbnQgaXMgb3V0c2lkZSBvZiB0aGVcbiAgICogcG9wcGVyIGJvdW5kYXJpZXMuIEl0IHdpbGwgc2V0IGEgYHgtb3V0LW9mLWJvdW5kYXJpZXNgIGF0dHJpYnV0ZSB3aGljaCBjYW5cbiAgICogYmUgdXNlZCB0byBoaWRlIHdpdGggYSBDU1Mgc2VsZWN0b3IgdGhlIHBvcHBlciB3aGVuIGl0cyByZWZlcmVuY2UgaXNcbiAgICogb3V0IG9mIGJvdW5kYXJpZXMuXG4gICAqXG4gICAqIFJlcXVpcmVzIHRoZSBgcHJldmVudE92ZXJmbG93YCBtb2RpZmllciBiZWZvcmUgaXQgaW4gb3JkZXIgdG8gd29yay5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGhpZGU6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9ODAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA4MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBoaWRlXG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbXB1dGVzIHRoZSBzdHlsZSB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGVsZW1lbnQgdG8gZ2V0c1xuICAgKiBwcm9wZXJseSBwb3NpdGlvbmVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhpcyBtb2RpZmllciB3aWxsIG5vdCB0b3VjaCB0aGUgRE9NLCBpdCBqdXN0IHByZXBhcmVzIHRoZSBzdHlsZXNcbiAgICogc28gdGhhdCBgYXBwbHlTdHlsZWAgbW9kaWZpZXIgY2FuIGFwcGx5IGl0LiBUaGlzIHNlcGFyYXRpb24gaXMgdXNlZnVsXG4gICAqIGluIGNhc2UgeW91IG5lZWQgdG8gcmVwbGFjZSBgYXBwbHlTdHlsZWAgd2l0aCBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbi5cbiAgICpcbiAgICogVGhpcyBtb2RpZmllciBoYXMgYDg1MGAgYXMgYG9yZGVyYCB2YWx1ZSB0byBtYWludGFpbiBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAqIHdpdGggcHJldmlvdXMgdmVyc2lvbnMgb2YgUG9wcGVyLmpzLiBFeHBlY3QgdGhlIG1vZGlmaWVycyBvcmRlcmluZyBtZXRob2RcbiAgICogdG8gY2hhbmdlIGluIGZ1dHVyZSBtYWpvciB2ZXJzaW9ucyBvZiB0aGUgbGlicmFyeS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGNvbXB1dGVTdHlsZToge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj04NTAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDg1MCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGNvbXB1dGVTdHlsZSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gZ3B1QWNjZWxlcmF0aW9uPXRydWVcbiAgICAgKiBJZiB0cnVlLCBpdCB1c2VzIHRoZSBDU1MgM2QgdHJhbnNmb3JtYXRpb24gdG8gcG9zaXRpb24gdGhlIHBvcHBlci5cbiAgICAgKiBPdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdG9wYCBhbmQgYGxlZnRgIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgZ3B1QWNjZWxlcmF0aW9uOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtzdHJpbmd9IFt4PSdib3R0b20nXVxuICAgICAqIFdoZXJlIHRvIGFuY2hvciB0aGUgWCBheGlzIChgYm90dG9tYCBvciBgdG9wYCkuIEFLQSBYIG9mZnNldCBvcmlnaW4uXG4gICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYGJvdHRvbWBcbiAgICAgKi9cbiAgICB4OiAnYm90dG9tJyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nbGVmdCddXG4gICAgICogV2hlcmUgdG8gYW5jaG9yIHRoZSBZIGF4aXMgKGBsZWZ0YCBvciBgcmlnaHRgKS4gQUtBIFkgb2Zmc2V0IG9yaWdpbi5cbiAgICAgKiBDaGFuZ2UgdGhpcyBpZiB5b3VyIHBvcHBlciBzaG91bGQgZ3JvdyBpbiBhIGRpcmVjdGlvbiBkaWZmZXJlbnQgZnJvbSBgcmlnaHRgXG4gICAgICovXG4gICAgeTogJ3JpZ2h0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBjb21wdXRlZCBzdHlsZXMgdG8gdGhlIHBvcHBlciBlbGVtZW50LlxuICAgKlxuICAgKiBBbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIGFyZSBsaW1pdGVkIHRvIHRoaXMgbW9kaWZpZXIuIFRoaXMgaXMgdXNlZnVsIGluIGNhc2VcbiAgICogeW91IHdhbnQgdG8gaW50ZWdyYXRlIFBvcHBlci5qcyBpbnNpZGUgYSBmcmFtZXdvcmsgb3IgdmlldyBsaWJyYXJ5IGFuZCB5b3VcbiAgICogd2FudCB0byBkZWxlZ2F0ZSBhbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIHRvIGl0LlxuICAgKlxuICAgKiBOb3RlIHRoYXQgaWYgeW91IGRpc2FibGUgdGhpcyBtb2RpZmllciwgeW91IG11c3QgbWFrZSBzdXJlIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgKiBoYXMgaXRzIHBvc2l0aW9uIHNldCB0byBgYWJzb2x1dGVgIGJlZm9yZSBQb3BwZXIuanMgY2FuIGRvIGl0cyB3b3JrIVxuICAgKlxuICAgKiBKdXN0IGRpc2FibGUgdGhpcyBtb2RpZmllciBhbmQgZGVmaW5lIHlvdSBvd24gdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBhcHBseVN0eWxlOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTkwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogOTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogYXBwbHlTdHlsZSxcbiAgICAvKiogQHByb3Age0Z1bmN0aW9ufSAqL1xuICAgIG9uTG9hZDogYXBwbHlTdHlsZU9uTG9hZCxcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDEuMTAuMCwgdGhlIHByb3BlcnR5IG1vdmVkIHRvIGBjb21wdXRlU3R5bGVgIG1vZGlmaWVyXG4gICAgICogQHByb3Age0Jvb2xlYW59IGdwdUFjY2VsZXJhdGlvbj10cnVlXG4gICAgICogSWYgdHJ1ZSwgaXQgdXNlcyB0aGUgQ1NTIDNkIHRyYW5zZm9ybWF0aW9uIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIuXG4gICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGdwdUFjY2VsZXJhdGlvbjogdW5kZWZpbmVkXG4gIH1cbn07XG5cbi8qKlxuICogVGhlIGBkYXRhT2JqZWN0YCBpcyBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGluZm9ybWF0aW9ucyB1c2VkIGJ5IFBvcHBlci5qc1xuICogdGhpcyBvYmplY3QgZ2V0IHBhc3NlZCB0byBtb2RpZmllcnMgYW5kIHRvIHRoZSBgb25DcmVhdGVgIGFuZCBgb25VcGRhdGVgIGNhbGxiYWNrcy5cbiAqIEBuYW1lIGRhdGFPYmplY3RcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmluc3RhbmNlIFRoZSBQb3BwZXIuanMgaW5zdGFuY2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkYXRhLnBsYWNlbWVudCBQbGFjZW1lbnQgYXBwbGllZCB0byBwb3BwZXJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkYXRhLm9yaWdpbmFsUGxhY2VtZW50IFBsYWNlbWVudCBvcmlnaW5hbGx5IGRlZmluZWQgb24gaW5pdFxuICogQHByb3BlcnR5IHtCb29sZWFufSBkYXRhLmZsaXBwZWQgVHJ1ZSBpZiBwb3BwZXIgaGFzIGJlZW4gZmxpcHBlZCBieSBmbGlwIG1vZGlmaWVyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGRhdGEuaGlkZSBUcnVlIGlmIHRoZSByZWZlcmVuY2UgZWxlbWVudCBpcyBvdXQgb2YgYm91bmRhcmllcywgdXNlZnVsIHRvIGtub3cgd2hlbiB0byBoaWRlIHRoZSBwb3BwZXIuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBkYXRhLmFycm93RWxlbWVudCBOb2RlIHVzZWQgYXMgYXJyb3cgYnkgYXJyb3cgbW9kaWZpZXJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLnN0eWxlcyBBbnkgQ1NTIHByb3BlcnR5IGRlZmluZWQgaGVyZSB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciwgaXQgZXhwZWN0cyB0aGUgSmF2YVNjcmlwdCBub21lbmNsYXR1cmUgKGVnLiBgbWFyZ2luQm90dG9tYClcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmFycm93U3R5bGVzIEFueSBDU1MgcHJvcGVydHkgZGVmaW5lZCBoZXJlIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGFycm93LCBpdCBleHBlY3RzIHRoZSBKYXZhU2NyaXB0IG5vbWVuY2xhdHVyZSAoZWcuIGBtYXJnaW5Cb3R0b21gKVxuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEuYm91bmRhcmllcyBPZmZzZXRzIG9mIHRoZSBwb3BwZXIgYm91bmRhcmllc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cyBUaGUgbWVhc3VyZW1lbnRzIG9mIHBvcHBlciwgcmVmZXJlbmNlIGFuZCBhcnJvdyBlbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucG9wcGVyIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgYHRvcGAsIGBsZWZ0YCwgYHdpZHRoYCwgYGhlaWdodGAgdmFsdWVzXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzLmFycm93XSBgdG9wYCBhbmQgYGxlZnRgIG9mZnNldHMsIG9ubHkgb25lIG9mIHRoZW0gd2lsbCBiZSBkaWZmZXJlbnQgZnJvbSAwXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgcHJvdmlkZWQgdG8gUG9wcGVyLmpzIGNvbnN0cnVjdG9yLjxiciAvPlxuICogVGhlc2UgY2FuIGJlIG92ZXJyaWRlbiB1c2luZyB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IG9mIFBvcHBlci5qcy48YnIgLz5cbiAqIFRvIG92ZXJyaWRlIGFuIG9wdGlvbiwgc2ltcGx5IHBhc3MgYXMgM3JkIGFyZ3VtZW50IGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lXG4gKiBzdHJ1Y3R1cmUgb2YgdGhpcyBvYmplY3QsIGV4YW1wbGU6XG4gKiBgYGBcbiAqIG5ldyBQb3BwZXIocmVmLCBwb3AsIHtcbiAqICAgbW9kaWZpZXJzOiB7XG4gKiAgICAgcHJldmVudE92ZXJmbG93OiB7IGVuYWJsZWQ6IGZhbHNlIH1cbiAqICAgfVxuICogfSlcbiAqIGBgYFxuICogQHR5cGUge09iamVjdH1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xudmFyIERlZmF1bHRzID0ge1xuICAvKipcbiAgICogUG9wcGVyJ3MgcGxhY2VtZW50XG4gICAqIEBwcm9wIHtQb3BwZXIucGxhY2VtZW50c30gcGxhY2VtZW50PSdib3R0b20nXG4gICAqL1xuICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHBvcHBlciB0byBwb3NpdGlvbiBpdCBzZWxmIGluICdmaXhlZCcgbW9kZVxuICAgKiBAcHJvcCB7Qm9vbGVhbn0gcG9zaXRpb25GaXhlZD1mYWxzZVxuICAgKi9cbiAgcG9zaXRpb25GaXhlZDogZmFsc2UsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgZXZlbnRzIChyZXNpemUsIHNjcm9sbCkgYXJlIGluaXRpYWxseSBlbmFibGVkXG4gICAqIEBwcm9wIHtCb29sZWFufSBldmVudHNFbmFibGVkPXRydWVcbiAgICovXG4gIGV2ZW50c0VuYWJsZWQ6IHRydWUsXG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBwb3BwZXIgd2hlblxuICAgKiB5b3UgY2FsbCB0aGUgYGRlc3Ryb3lgIG1ldGhvZC5cbiAgICogQHByb3Age0Jvb2xlYW59IHJlbW92ZU9uRGVzdHJveT1mYWxzZVxuICAgKi9cbiAgcmVtb3ZlT25EZXN0cm95OiBmYWxzZSxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyBjcmVhdGVkLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvbkNyZWF0ZX1cbiAgICovXG4gIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgcG9wcGVyIGlzIHVwZGF0ZWQsIHRoaXMgY2FsbGJhY2sgaXMgbm90IGNhbGxlZFxuICAgKiBvbiB0aGUgaW5pdGlhbGl6YXRpb24vY3JlYXRpb24gb2YgdGhlIHBvcHBlciwgYnV0IG9ubHkgb24gc3Vic2VxdWVudFxuICAgKiB1cGRhdGVzLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvblVwZGF0ZX1cbiAgICovXG4gIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBMaXN0IG9mIG1vZGlmaWVycyB1c2VkIHRvIG1vZGlmeSB0aGUgb2Zmc2V0cyBiZWZvcmUgdGhleSBhcmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLlxuICAgKiBUaGV5IHByb3ZpZGUgbW9zdCBvZiB0aGUgZnVuY3Rpb25hbGl0aWVzIG9mIFBvcHBlci5qc1xuICAgKiBAcHJvcCB7bW9kaWZpZXJzfVxuICAgKi9cbiAgbW9kaWZpZXJzOiBtb2RpZmllcnNcbn07XG5cbi8qKlxuICogQGNhbGxiYWNrIG9uQ3JlYXRlXG4gKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBvblVwZGF0ZVxuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKi9cblxuLy8gVXRpbHNcbi8vIE1ldGhvZHNcbnZhciBQb3BwZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgUG9wcGVyLmpzIGluc3RhbmNlXG4gICAqIEBjbGFzcyBQb3BwZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxyZWZlcmVuY2VPYmplY3R9IHJlZmVyZW5jZSAtIFRoZSByZWZlcmVuY2UgZWxlbWVudCB1c2VkIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyIC0gVGhlIEhUTUwgZWxlbWVudCB1c2VkIGFzIHBvcHBlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBZb3VyIGN1c3RvbSBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBvbmVzIGRlZmluZWQgaW4gW0RlZmF1bHRzXSgjZGVmYXVsdHMpXG4gICAqIEByZXR1cm4ge09iamVjdH0gaW5zdGFuY2UgLSBUaGUgZ2VuZXJhdGVkIFBvcHBlci5qcyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gUG9wcGVyKHJlZmVyZW5jZSwgcG9wcGVyKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBQb3BwZXIpO1xuXG4gICAgdGhpcy5zY2hlZHVsZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMudXBkYXRlKTtcbiAgICB9O1xuXG4gICAgLy8gbWFrZSB1cGRhdGUoKSBkZWJvdW5jZWQsIHNvIHRoYXQgaXQgb25seSBydW5zIGF0IG1vc3Qgb25jZS1wZXItdGlja1xuICAgIHRoaXMudXBkYXRlID0gZGVib3VuY2UodGhpcy51cGRhdGUuYmluZCh0aGlzKSk7XG5cbiAgICAvLyB3aXRoIHt9IHdlIGNyZWF0ZSBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgb3B0aW9ucyBpbnNpZGUgaXRcbiAgICB0aGlzLm9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgUG9wcGVyLkRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgIC8vIGluaXQgc3RhdGVcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNEZXN0cm95ZWQ6IGZhbHNlLFxuICAgICAgaXNDcmVhdGVkOiBmYWxzZSxcbiAgICAgIHNjcm9sbFBhcmVudHM6IFtdXG4gICAgfTtcblxuICAgIC8vIGdldCByZWZlcmVuY2UgYW5kIHBvcHBlciBlbGVtZW50cyAoYWxsb3cgalF1ZXJ5IHdyYXBwZXJzKVxuICAgIHRoaXMucmVmZXJlbmNlID0gcmVmZXJlbmNlICYmIHJlZmVyZW5jZS5qcXVlcnkgPyByZWZlcmVuY2VbMF0gOiByZWZlcmVuY2U7XG4gICAgdGhpcy5wb3BwZXIgPSBwb3BwZXIgJiYgcG9wcGVyLmpxdWVyeSA/IHBvcHBlclswXSA6IHBvcHBlcjtcblxuICAgIC8vIERlZXAgbWVyZ2UgbW9kaWZpZXJzIG9wdGlvbnNcbiAgICB0aGlzLm9wdGlvbnMubW9kaWZpZXJzID0ge307XG4gICAgT2JqZWN0LmtleXMoX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cy5tb2RpZmllcnMsIG9wdGlvbnMubW9kaWZpZXJzKSkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgX3RoaXMub3B0aW9ucy5tb2RpZmllcnNbbmFtZV0gPSBfZXh0ZW5kcyh7fSwgUG9wcGVyLkRlZmF1bHRzLm1vZGlmaWVyc1tuYW1lXSB8fCB7fSwgb3B0aW9ucy5tb2RpZmllcnMgPyBvcHRpb25zLm1vZGlmaWVyc1tuYW1lXSA6IHt9KTtcbiAgICB9KTtcblxuICAgIC8vIFJlZmFjdG9yaW5nIG1vZGlmaWVycycgbGlzdCAoT2JqZWN0ID0+IEFycmF5KVxuICAgIHRoaXMubW9kaWZpZXJzID0gT2JqZWN0LmtleXModGhpcy5vcHRpb25zLm1vZGlmaWVycykubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICBuYW1lOiBuYW1lXG4gICAgICB9LCBfdGhpcy5vcHRpb25zLm1vZGlmaWVyc1tuYW1lXSk7XG4gICAgfSlcbiAgICAvLyBzb3J0IHRoZSBtb2RpZmllcnMgYnkgb3JkZXJcbiAgICAuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xuICAgIH0pO1xuXG4gICAgLy8gbW9kaWZpZXJzIGhhdmUgdGhlIGFiaWxpdHkgdG8gZXhlY3V0ZSBhcmJpdHJhcnkgY29kZSB3aGVuIFBvcHBlci5qcyBnZXQgaW5pdGVkXG4gICAgLy8gc3VjaCBjb2RlIGlzIGV4ZWN1dGVkIGluIHRoZSBzYW1lIG9yZGVyIG9mIGl0cyBtb2RpZmllclxuICAgIC8vIHRoZXkgY291bGQgYWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZWlyIG9wdGlvbnMgY29uZmlndXJhdGlvblxuICAgIC8vIEJFIEFXQVJFOiBkb24ndCBhZGQgb3B0aW9ucyB0byBgb3B0aW9ucy5tb2RpZmllcnMubmFtZWAgYnV0IHRvIGBtb2RpZmllck9wdGlvbnNgIVxuICAgIHRoaXMubW9kaWZpZXJzLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyT3B0aW9ucykge1xuICAgICAgaWYgKG1vZGlmaWVyT3B0aW9ucy5lbmFibGVkICYmIGlzRnVuY3Rpb24obW9kaWZpZXJPcHRpb25zLm9uTG9hZCkpIHtcbiAgICAgICAgbW9kaWZpZXJPcHRpb25zLm9uTG9hZChfdGhpcy5yZWZlcmVuY2UsIF90aGlzLnBvcHBlciwgX3RoaXMub3B0aW9ucywgbW9kaWZpZXJPcHRpb25zLCBfdGhpcy5zdGF0ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBmaXJlIHRoZSBmaXJzdCB1cGRhdGUgdG8gcG9zaXRpb24gdGhlIHBvcHBlciBpbiB0aGUgcmlnaHQgcGxhY2VcbiAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgdmFyIGV2ZW50c0VuYWJsZWQgPSB0aGlzLm9wdGlvbnMuZXZlbnRzRW5hYmxlZDtcbiAgICBpZiAoZXZlbnRzRW5hYmxlZCkge1xuICAgICAgLy8gc2V0dXAgZXZlbnQgbGlzdGVuZXJzLCB0aGV5IHdpbGwgdGFrZSBjYXJlIG9mIHVwZGF0ZSB0aGUgcG9zaXRpb24gaW4gc3BlY2lmaWMgc2l0dWF0aW9uc1xuICAgICAgdGhpcy5lbmFibGVFdmVudExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCA9IGV2ZW50c0VuYWJsZWQ7XG4gIH1cblxuICAvLyBXZSBjYW4ndCB1c2UgY2xhc3MgcHJvcGVydGllcyBiZWNhdXNlIHRoZXkgZG9uJ3QgZ2V0IGxpc3RlZCBpbiB0aGVcbiAgLy8gY2xhc3MgcHJvdG90eXBlIGFuZCBicmVhayBzdHVmZiBsaWtlIFNpbm9uIHN0dWJzXG5cblxuICBjcmVhdGVDbGFzcyhQb3BwZXIsIFt7XG4gICAga2V5OiAndXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlJCQxKCkge1xuICAgICAgcmV0dXJuIHVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95JCQxKCkge1xuICAgICAgcmV0dXJuIGRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdlbmFibGVFdmVudExpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZUV2ZW50TGlzdGVuZXJzJCQxKCkge1xuICAgICAgcmV0dXJuIGVuYWJsZUV2ZW50TGlzdGVuZXJzLmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzYWJsZUV2ZW50TGlzdGVuZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZUV2ZW50TGlzdGVuZXJzJCQxKCkge1xuICAgICAgcmV0dXJuIGRpc2FibGVFdmVudExpc3RlbmVycy5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIGFuIHVwZGF0ZSwgaXQgd2lsbCBydW4gb24gdGhlIG5leHQgVUkgdXBkYXRlIGF2YWlsYWJsZVxuICAgICAqIEBtZXRob2Qgc2NoZWR1bGVVcGRhdGVcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyXG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgdXRpbGl0aWVzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY3VzdG9tIG1vZGlmaWVycy5cbiAgICAgKiBTdGFydGluZyBmcm9tIHZlcnNpb24gMS43LCB0aGlzIG1ldGhvZCBpcyBhdmFpbGFibGUgb25seSBpZiB5b3VcbiAgICAgKiBpbmNsdWRlIGBwb3BwZXItdXRpbHMuanNgIGJlZm9yZSBgcG9wcGVyLmpzYC5cbiAgICAgKlxuICAgICAqICoqREVQUkVDQVRJT04qKjogVGhpcyB3YXkgdG8gYWNjZXNzIFBvcHBlclV0aWxzIGlzIGRlcHJlY2F0ZWRcbiAgICAgKiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHYyISBVc2UgdGhlIFBvcHBlclV0aWxzIG1vZHVsZSBkaXJlY3RseSBpbnN0ZWFkLlxuICAgICAqIER1ZSB0byB0aGUgaGlnaCBpbnN0YWJpbGl0eSBvZiB0aGUgbWV0aG9kcyBjb250YWluZWQgaW4gVXRpbHMsIHdlIGNhbid0XG4gICAgICogZ3VhcmFudGVlIHRoZW0gdG8gZm9sbG93IHNlbXZlci4gVXNlIHRoZW0gYXQgeW91ciBvd24gcmlzayFcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMS44XG4gICAgICogQG1lbWJlciBVdGlsc1xuICAgICAqIEBtZW1iZXJvZiBQb3BwZXJcbiAgICAgKi9cblxuICB9XSk7XG4gIHJldHVybiBQb3BwZXI7XG59KCk7XG5cbi8qKlxuICogVGhlIGByZWZlcmVuY2VPYmplY3RgIGlzIGFuIG9iamVjdCB0aGF0IHByb3ZpZGVzIGFuIGludGVyZmFjZSBjb21wYXRpYmxlIHdpdGggUG9wcGVyLmpzXG4gKiBhbmQgbGV0cyB5b3UgdXNlIGl0IGFzIHJlcGxhY2VtZW50IG9mIGEgcmVhbCBET00gbm9kZS48YnIgLz5cbiAqIFlvdSBjYW4gdXNlIHRoaXMgbWV0aG9kIHRvIHBvc2l0aW9uIGEgcG9wcGVyIHJlbGF0aXZlbHkgdG8gYSBzZXQgb2YgY29vcmRpbmF0ZXNcbiAqIGluIGNhc2UgeW91IGRvbid0IGhhdmUgYSBET00gbm9kZSB0byB1c2UgYXMgcmVmZXJlbmNlLlxuICpcbiAqIGBgYFxuICogbmV3IFBvcHBlcihyZWZlcmVuY2VPYmplY3QsIHBvcHBlck5vZGUpO1xuICogYGBgXG4gKlxuICogTkI6IFRoaXMgZmVhdHVyZSBpc24ndCBzdXBwb3J0ZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTBcbiAqIEBuYW1lIHJlZmVyZW5jZU9iamVjdFxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gZGF0YS5nZXRCb3VuZGluZ0NsaWVudFJlY3RcbiAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc2V0IG9mIGNvb3JkaW5hdGVzIGNvbXBhdGlibGUgd2l0aCB0aGUgbmF0aXZlIGBnZXRCb3VuZGluZ0NsaWVudFJlY3RgIG1ldGhvZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRhLmNsaWVudFdpZHRoXG4gKiBBbiBFUzYgZ2V0dGVyIHRoYXQgd2lsbCByZXR1cm4gdGhlIHdpZHRoIG9mIHRoZSB2aXJ0dWFsIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRhdGEuY2xpZW50SGVpZ2h0XG4gKiBBbiBFUzYgZ2V0dGVyIHRoYXQgd2lsbCByZXR1cm4gdGhlIGhlaWdodCBvZiB0aGUgdmlydHVhbCByZWZlcmVuY2UgZWxlbWVudC5cbiAqL1xuXG5cblBvcHBlci5VdGlscyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbCkuUG9wcGVyVXRpbHM7XG5Qb3BwZXIucGxhY2VtZW50cyA9IHBsYWNlbWVudHM7XG5Qb3BwZXIuRGVmYXVsdHMgPSBEZWZhdWx0cztcblxuZXhwb3J0IGRlZmF1bHQgUG9wcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9wcGVyLmpzLm1hcFxuIiwiLy8gQGZsb3dcbmltcG9ydCBkb2N1bWVudCBmcm9tICdnbG9iYWwvZG9jdW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gIEJvb2xlYW4oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG4iLCIvLyBAZmxvd1xuXG4vKipcbiAqIEZvciBhcmlhIGFuZCBvdGhlciBhdHRyaWJ1dGVzIGxpa2UgaHRtbEZvciwgd2Ugb2Z0ZW4gbmVlZFxuICogdG8gYXR0YWNoIGlkZW50aWZpZXJzIHRvIGVsZW1lbnRzLiBNYWtpbmcgYGlkYCBhIHJlcXVpcmVkXG4gKiBwcm9wIGluIG91ciBjb21wb25lbnRzIHNoaWZ0cyB0aGlzIGJ1cmRlbiB0byBvdXIgY3VzdG9tZXJzXG4gKiBidXQgaXQncyBuaWNlIHRvIHRyeSB0byBhdXRvbWF0aWNhbGx5IHByb3ZpZGUgdGhlc2UgdW5pcXVlXG4gKiBpZHMgd2hlbiBwb3NzaWJsZS5cbiAqXG4gKiBHZW5lcmF0aW5nIHVuaXF1ZSBJRHMgdGhhdCBtYXRjaCBhY3Jvc3Mgc2VydmVyL2NsaWVudCByZW5kZXJzXG4gKiBpcyBhIGhhcmQgcHJvYmFibGVtIHRoYXQgZG9lc24ndCBoYXZlIGFueSBwZXJmZWN0IHNvbHV0aW9uc1xuICogY3VycmVudGx5IFsxXSBbMl0uIFVVSURzL01hdGgucmFuZG9tIHdpbGwgbmV2ZXIgbWF0Y2gsIHdoZXJlYXNcbiAqIGF1dG8taW5jcmVtZW50aW5nIElEcyBtYXkgd29yayBpZiBzZXJ2ZXIgYW5kIGNsaWVudCByZW5kZXJcbiAqIGV4YWN0bHkgdGhlIHNhbWUgRE9NLCBzbyB0aGF0J3Mgd2hhdCB3ZSdsbCB1c2UgaGVyZS4gSWYgdGhpc1xuICogaXMgaW5zdWZmaWNpZW50IGZvciB1c2VycyB0aGV5IGNhbiBhcHBseSBpZHMgbWFudWFsbHkuXG4gKlxuICogT25lIG90aGVyIHRlY2huaXF1ZSB0aGF0IHdlIGNhbiB1c2UgaW50ZXJuYWxseSBpcyB0byBkbyBhXG4gKiBzZXRTdGF0ZSBpbiBjb21wb25lbnREaWRNb3VudCBvciBzb21ldGhpbmcgc2ltaWxhciwgc28gdGhhdFxuICogdGhlc2UgaWRzIGFyZSBvbmx5IHVzZWQgY2xpZW50LXNpZGUsIGJ1dCB0aGlzIGNvdWxkIG9mIGNvdXJzZVxuICogaGF2ZSBwZXJmIGltcGxpY2F0aW9ucy5cbiAqXG4gKiBbMV0gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy81ODY3XG4gKiBbMl0gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzMyL2ZpbGVzXG4gKi9cbmxldCBpZCA9IDA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEJ1aUlkKCkge1xuICByZXR1cm4gYGJ1aS0keysraWR9YDtcbn1cbiIsIi8vIEBmbG93XG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvcHJlZmVyLWRlZmF1bHQtZXhwb3J0ICovXG5pbXBvcnQgdHlwZSB7UG9wb3ZlclBsYWNlbWVudFQsIFBvc2l0aW9uU3R5bGVzVH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge0FSUk9XX1NJWkUsIFBPUE9WRVJfTUFSR0lOLCBQTEFDRU1FTlR9IGZyb20gJy4vY29uc3RhbnRzJztcblxuY29uc3QgT1BQT1NJVEVfUE9TSVRJT05TID0ge1xuICB0b3A6ICdib3R0b20nLFxuICBib3R0b206ICd0b3AnLFxuICByaWdodDogJ2xlZnQnLFxuICBsZWZ0OiAncmlnaHQnLFxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvcHBvc2l0ZSBvZiB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLiBVc2VmdWwgZm9yIHRvb2x0aXBcbiAqIHBvc2l0aW9uaW5nIGxvZ2ljLlxuICogRXhhbXBsZXM6XG4gKiB0b3AgLT4gYm90dG9tXG4gKiBsZWZ0IC0+IHJpZ2h0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcHBvc2l0ZVBvc2l0aW9uKHBvc2l0aW9uOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gT1BQT1NJVEVfUE9TSVRJT05TW3Bvc2l0aW9uXTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgdXRpbGl0eSBmdW5jdGlvbiBmb3IgY2FwaXRhbGl6aW5nIHRoZSBmaXJzdCBsZXR0ZXIgb2YgYSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIG91ciBwbGFjZW1lbnQgcHJvcCB0byBhIFBvcHBlci5qcyBwbGFjZW1lbnRcbiAqIFNlZSBkb2NzOiBodHRwczovL3BvcHBlci5qcy5vcmcvcG9wcGVyLWRvY3VtZW50YXRpb24uaHRtbFxuICogYXV0bywgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0IGFyZSB0aGUgc2FtZSBidXQgdGhpbmdzXG4gKiBsaWtlICdyaWdodFRvcCcgbXVzdCBiZSBjb252ZXJ0ZWQgdG8gJ3JpZ2h0LXN0YXJ0J1xuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Qb3BwZXJQbGFjZW1lbnQocGxhY2VtZW50OiBQb3BvdmVyUGxhY2VtZW50VCk6IHN0cmluZyB7XG4gIHJldHVybiBwbGFjZW1lbnRcbiAgICAucmVwbGFjZSgvKFRvcHxMZWZ0KSQvLCAnLXN0YXJ0JylcbiAgICAucmVwbGFjZSgvKFJpZ2h0fEJvdHRvbSkkLywgJy1lbmQnKTtcbn1cblxuLyoqXG4gKiBPcHBvc2l0ZSBvZiBmdW5jdGlvbiBhYm92ZSwgY29udmVydHMgZnJvbSBQb3BwZXIuanMgcGxhY2VtZW50XG4gKiB0byBvdXIgcGxhY2VtZW50IHByb3BcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Qb3BwZXJQbGFjZW1lbnQoXG4gIHBsYWNlbWVudDogc3RyaW5nLFxuKTogUG9wb3ZlclBsYWNlbWVudFQgfCBudWxsIHtcbiAgY29uc3QgcG9wb3ZlclBsYWNlbWVudDogc3RyaW5nID0gcGxhY2VtZW50XG4gICAgLnJlcGxhY2UoLyh0b3B8Ym90dG9tKS1zdGFydCQvLCAnJDFMZWZ0JylcbiAgICAucmVwbGFjZSgvKHRvcHxib3R0b20pLWVuZCQvLCAnJDFSaWdodCcpXG4gICAgLnJlcGxhY2UoLyhsZWZ0fHJpZ2h0KS1zdGFydCQvLCAnJDFUb3AnKVxuICAgIC5yZXBsYWNlKC8obGVmdHxyaWdodCktZW5kJC8sICckMUJvdHRvbScpO1xuICByZXR1cm4gUExBQ0VNRU5UW3BvcG92ZXJQbGFjZW1lbnRdIHx8IG51bGw7XG59XG5cbi8qKlxuICogU3BsaXRzIHNvbWV0aGluZyBsaWtlICd0b3BMZWZ0JyB0byBbJ3RvcCcsICdsZWZ0J10gZm9yIGVhc2llciB1c2FnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRQbGFjZW1lbnQocGxhY2VtZW50OiBQb3BvdmVyUGxhY2VtZW50VCkge1xuICBjb25zdCBtYXRjaGVzID0gcGxhY2VtZW50Lm1hdGNoKC9eKFthLXpdKykoW0EtWl1bYS16XSspPy8pIHx8IFtdO1xuICByZXR1cm4gbWF0Y2hlc1xuICAgIC5zbGljZSgxLCAzKVxuICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAubWFwKHMgPT4gcy50b0xvd2VyQ2FzZSgpKTtcbn1cblxuLyoqXG4gKiBQb3BwZXIgcmV0dXJucyBjc3Mgc3R5bGUgb2JqZWN0cyAoZm9yIHBvcG92ZXIgJiBhcnJvdykgd2l0aCBwb3NpdGlvbmluZ1xuICogaW5mb3JtYXRpb24sIGJ1dCB0b3AvbGVmdCBkb24ndCBoYXZlIHVuaXRzLiBUaGlzIGhlbHBlciBmdW5jdGlvblxuICogY3JlYXRlcyBhIG5ldyBzdHlsZSBvYmplY3Qgd2l0aCB1bml0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVQb3BvdmVyUG9zaXRpb25TdHlsZXMoc3R5bGVzPzogUG9zaXRpb25TdHlsZXNUID0ge30pIHtcbiAgY29uc3Qge2xlZnQsIHRvcCwgLi4ucmVzdFN0eWxlc30gPSBzdHlsZXM7XG4gIHJldHVybiB7XG4gICAgLi4ucmVzdFN0eWxlcyxcbiAgICAvLyBDb252ZXJ0IHRvcC9sZWZ0IGZyb20gbnVtYmVyIHRvIHN0cmluZyB3aXRoIHVuaXRcbiAgICB0b3A6IGAke3N0eWxlcy50b3AgfHwgMH1weGAsXG4gICAgbGVmdDogYCR7c3R5bGVzLmxlZnQgfHwgMH1weGAsXG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgQ1NTIHJ1bGVzIG5lY2Vzc2FyeSB0byBwb3NpdGlvbiB0aGUgYXJyb3cgbmV4dCB0byBpdHMgYW5jaG9yXG4gKiBQb3BwZXIuanMgcHJvdmlkZXMgdXMgd2l0aCBhIHJ1bGUgdG8gYWxpZ24gdG8gdGhlIGNlbnRlciBvZiB0aGUgYW5jaG9yLFxuICogYnV0IGRvZXMgbm90IHN1cHBseSBhIHJ1bGUgdG8gcGxhY2UgdGhlIGFycm93IG9uIGEgc3BlY2lmaWMgc2lkZSBvZiB0aGVcbiAqIHBvcG92ZXIsIHNvIHdlIGFkZCB0aGF0IG91cnNlbHZlcyBiYXNlZCBvbiB0aGUgcGxhY2VtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUFycm93UG9zaXRpb25TdHlsZXMoXG4gIHBvcHBlckFycm93U3R5bGVzPzogUG9zaXRpb25TdHlsZXNULFxuICBwbGFjZW1lbnQ6IFBvcG92ZXJQbGFjZW1lbnRULFxuKSB7XG4gIGlmICghcG9wcGVyQXJyb3dTdHlsZXMgfHwgIXBsYWNlbWVudCkge1xuICAgIHJldHVybiB7bGVmdDogJzBweCcsIHRvcDogJzBweCd9O1xuICB9XG4gIGNvbnN0IHN0eWxlcyA9IHt9O1xuICBjb25zdCBbcG9zaXRpb25dID0gc3BsaXRQbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAvLyBVc2UgUG9wcGVyJ3MgcnVsZSB0aGF0IGFsaWducyB0byBjZW50ZXIgb2YgYW5jaG9yXG4gIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgc3R5bGVzLmxlZnQgPSBgJHtwb3BwZXJBcnJvd1N0eWxlcy5sZWZ0IHx8IDB9cHhgO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlcy50b3AgPSBgJHtwb3BwZXJBcnJvd1N0eWxlcy50b3AgfHwgMH1weGA7XG4gIH1cblxuICAvLyBBbmQgc3VwcGx5IG91ciBvd24gcnVsZSB0byBzaG93IGFycm93IG9uIGEgc3BlY2lmaWMgc2lkZVxuICBzdHlsZXNbZ2V0T3Bwb3NpdGVQb3NpdGlvbihwb3NpdGlvbildID0gYCR7LShBUlJPV19TSVpFIC0gMSl9cHhgO1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbi8qKlxuICogQ29udmVydHMgcG9wb3ZlciBwbGFjZW1lbnQgdG8gdHJhbnNmb3JtIG9yaWdpbiBmb3IgYW5pbWF0aW9uXG4gKlxuICogV2hlbiBhbiBhcnJvdyBpcyBiZWluZyB1c2VkLCB3ZSB3YW50IHRoZSB0cmFuc2Zvcm0gb3JpZ2luIHRvXG4gKiBiZSB0aGUgcG9pbnQgb2YgdGhlIGFycm93LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmb3JtT3JpZ2luKFxuICBwbGFjZW1lbnQ6IFBvcG92ZXJQbGFjZW1lbnRULFxuICBhcnJvd1N0eWxlcz86IFBvc2l0aW9uU3R5bGVzVCA9IHt9LFxuKSB7XG4gIGNvbnN0IFtwb3NpdGlvbiwgYWxpZ25tZW50ID0gJ2NlbnRlciddID0gc3BsaXRQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgbGV0IHhPZmZzZXQ7XG4gIGxldCB5T2Zmc2V0O1xuICBpZiAocG9zaXRpb24gPT09ICd0b3AnIHx8IHBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgIHhPZmZzZXQgPSBhcnJvd1N0eWxlcy5sZWZ0IHx8IGFsaWdubWVudDtcbiAgICB5T2Zmc2V0ID0gZ2V0T3Bwb3NpdGVQb3NpdGlvbihwb3NpdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgeE9mZnNldCA9IGdldE9wcG9zaXRlUG9zaXRpb24ocG9zaXRpb24pO1xuICAgIHlPZmZzZXQgPSBhcnJvd1N0eWxlcy50b3AgfHwgYWxpZ25tZW50O1xuICB9XG4gIHJldHVybiBgJHt4T2Zmc2V0fSAke3lPZmZzZXR9YDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIG1hcmdpbiBzdHlsZXMgdG8gYWRkIHNwYWNpbmcgYmV0d2VlbiB0aGUgcG9wb3ZlclxuICogYW5kIGl0cyBhbmNob3IuXG4gKlxuICogV2UgbWF5IGV2ZW50dWFsbHkgd2FudCB0byBtYWtlIG1hcmdpbiBhIHByb3AgdGhhdCBjYW4gYmUgb3ZlcnJpZGRlbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBvcG92ZXJNYXJnaW5TdHlsZXMoXG4gIHNob3dBcnJvdzogYm9vbGVhbixcbiAgcGxhY2VtZW50OiBQb3BvdmVyUGxhY2VtZW50VCxcbikge1xuICBjb25zdCBbcG9zaXRpb25dID0gc3BsaXRQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgY29uc3Qgb3Bwb3NpdGUgPSBnZXRPcHBvc2l0ZVBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgaWYgKCFvcHBvc2l0ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHByb3BlcnR5ID0gYG1hcmdpbiR7Y2FwaXRhbGl6ZShvcHBvc2l0ZSl9YDtcbiAgcmV0dXJuIHtcbiAgICBbcHJvcGVydHldOiBgJHtzaG93QXJyb3cgPyBBUlJPV19TSVpFIDogUE9QT1ZFUl9NQVJHSU59cHhgLFxuICB9O1xufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7c3R5bGVkfSBmcm9tICcuLi9zdHlsZXMnO1xuaW1wb3J0IHtBUlJPV19TSVpFfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQge2dldFRyYW5zZm9ybU9yaWdpbiwgZ2V0UG9wb3Zlck1hcmdpblN0eWxlc30gZnJvbSAnLi91dGlscyc7XG5cbi8qKlxuICogU2luY2Ugd2UgdXNlIGEgNDUtZGVncmVlIHJvdGF0ZWQgZGl2IHRvIHJlbmRlciB0aGUgYXJyb3csIHRoZVxuICogd2lkdGgvaGVpZ2h0IG9mIHRoaXMgZGl2IGlzIGRpZmZlcmVudCB0aGFuIHRoZSBhcnJvdyBzaXplIGl0c2VsZlxuICpcbiAqIFRoZSBhcnJvdyBzaXplIGlzIGVzc2VudGlhbGx5IGhhbGYgdGhlIGRpYWdvbmFsIG9mIHRoZSByb3RhdGVkIGRpdixcbiAqIHVzaW5nIHB5dGhhZ29yZWFuIHRoZW9yZW06XG4gKiAgIHdpZHRoXjIgKyBoZWlnaHReMiA9IChhcnJvd19zaXplICogMileMlxuICogSW4gdGhpcyBjYXNlIHdpZHRoID0gaGVpZ2h0IHNvOlxuICogICAyICogd2lkdGheMiA9IChhcnJvd19zaXplICogMileMlxuICogU2ltcGxpZmllcyB0bzpcbiAqICAgd2lkdGggPSDiiJooKGFycm93X3NpemUgKiAyKV4yIC8gMilcbiAqL1xuY29uc3QgQVJST1dfV0lEVEggPSBNYXRoLmZsb29yKE1hdGguc3FydCgoQVJST1dfU0laRSAqIDIpICoqIDIgLyAyKSk7XG5cbmNvbnN0IEFOSU1BVElPTl9TVEFSVF9LRVlGUkFNRSA9IHtcbiAgb3BhY2l0eTogMCxcbiAgdHJhbnNmb3JtOiAnc2NhbGUoMC44KScsXG59O1xuXG5jb25zdCBBTklNQVRJT05fRU5EX0tFWUZSQU1FID0ge1xuICBvcGFjaXR5OiAxLFxuICB0cmFuc2Zvcm06ICdzY2FsZSgxKScsXG59O1xuXG4vKipcbiAqIE1haW4gcG9wb3ZlciBjb250YWluZXIgZWxlbWVudCB0aGF0IGdldHMgcG9zaXRpb25lZCBuZXh0IHRvIHRoZSBhbmNob3JcbiAqL1xuZXhwb3J0IGNvbnN0IEJvZHkgPSBzdHlsZWQoJ2RpdicsIHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgICRpc09wZW4sXG4gICAgJGlzQW5pbWF0aW5nLFxuICAgICRwbGFjZW1lbnQsXG4gICAgJGFycm93U3R5bGVzLFxuICAgICRwb3NpdGlvblN0eWxlcyxcbiAgICAkc2hvd0Fycm93LFxuICAgICR0aGVtZSxcbiAgfSA9IHByb3BzO1xuXG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgekluZGV4OiAxMDUwLFxuICAgIGJhY2tncm91bmRDb2xvcjogJHRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kLFxuICAgIGJvcmRlclJhZGl1czogJHRoZW1lLmJvcmRlcnMudXNlUm91bmRlZENvcm5lcnNcbiAgICAgID8gJHRoZW1lLmJvcmRlcnMucmFkaXVzMzAwXG4gICAgICA6ICcwcHgnLFxuICAgIGJveFNoYWRvdzogJHRoZW1lLmxpZ2h0aW5nLnNoYWRvdzYwMCxcblxuICAgIC8vIEFuaW1hdGlvbi1yZWxhdGVkIHN0eWxlc1xuICAgIHRyYW5zZm9ybU9yaWdpbjogZ2V0VHJhbnNmb3JtT3JpZ2luKFxuICAgICAgJHBsYWNlbWVudCxcbiAgICAgICRzaG93QXJyb3cgPyAkYXJyb3dTdHlsZXMgOiB1bmRlZmluZWQsXG4gICAgKSxcbiAgICBhbmltYXRpb25EdXJhdGlvbjogJzAuMnMnLFxuICAgIGFuaW1hdGlvbkZpbGxNb2RlOiAnYm90aCcsXG4gICAgYW5pbWF0aW9uUGxheVN0YXRlOiAkaXNBbmltYXRpbmcgPyAncnVubmluZycgOiAncGF1c2VkJyxcbiAgICBhbmltYXRpb25UaW1pbmdGdW5jdGlvbjogJ2N1YmljLWJlemllcigwLjA4LCAwLjgyLCAwLjE3LCAxKScsXG4gICAgYW5pbWF0aW9uTmFtZToge1xuICAgICAgZnJvbTogJGlzT3BlbiA/IEFOSU1BVElPTl9TVEFSVF9LRVlGUkFNRSA6IEFOSU1BVElPTl9FTkRfS0VZRlJBTUUsXG4gICAgICB0bzogJGlzT3BlbiA/IEFOSU1BVElPTl9FTkRfS0VZRlJBTUUgOiBBTklNQVRJT05fU1RBUlRfS0VZRlJBTUUsXG4gICAgfSxcblxuICAgIC4uLmdldFBvcG92ZXJNYXJnaW5TdHlsZXMoJHNob3dBcnJvdywgJHBsYWNlbWVudCksXG4gICAgLi4uJHBvc2l0aW9uU3R5bGVzLFxuICB9O1xufSk7XG5cbi8qKlxuICogQXJyb3cgc2hvd24gYmV0d2VlbiB0aGUgcG9wb3ZlciBhbmQgdGhlIGFuY2hvciBlbGVtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBBcnJvdyA9IHN0eWxlZCgnZGl2JywgcHJvcHMgPT4ge1xuICByZXR1cm4ge1xuICAgIGJhY2tncm91bmRDb2xvcjogcHJvcHMuJHRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kLFxuICAgIGJveFNoYWRvdzogcHJvcHMuJHRoZW1lLmxpZ2h0aW5nLnNoYWRvdzYwMCxcbiAgICB3aWR0aDogYCR7QVJST1dfV0lEVEh9cHhgLFxuICAgIGhlaWdodDogYCR7QVJST1dfV0lEVEh9cHhgLFxuICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSg0NWRlZyknLFxuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHpJbmRleDogMSwgLy8gQmVsb3cgUG9wb3ZlcklubmVyXG4gICAgLi4ucHJvcHMuJGFycm93U3R5bGVzLFxuICB9O1xufSk7XG5cbi8qKlxuICogRXh0cmEgZGl2IHRoYXQgaG9sZHMgdGhlIHBvcG92ZXIgY29udGVudC4gVGhpcyBleHRyYSBlbGVtZW50XG4gKiBpcyBuZWVkZWQgZm9yIHRoZSBhcnJvd+KAk3RoZSBhcnJvdyBpcyBqdXN0IGEgNDVkZWcgcm90YXRlZCBkaXYsXG4gKiBhbmQgcmVuZGVyaW5nIHRoaXMgZXh0cmEgZWxlbWVudCBvbiB0b3Agd2l0aCBhIHNvbGlkIGJhY2tncm91bmRcbiAqIGNsaXBzIHRoZSBwYXJ0IG9mIHRoZSBhcnJvdyB0aGF0IGV4dGVuZHMgaW50byB0aGUgcG9wb3Zlci5cbiAqL1xuZXhwb3J0IGNvbnN0IElubmVyID0gc3R5bGVkKCdkaXYnLCAoeyR0aGVtZX0pID0+ICh7XG4gIGJhY2tncm91bmRDb2xvcjogJHRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kLFxuICBib3JkZXJSYWRpdXM6ICR0aGVtZS5ib3JkZXJzLnVzZVJvdW5kZWRDb3JuZXJzXG4gICAgPyAkdGhlbWUuYm9yZGVycy5yYWRpdXMzMDBcbiAgICA6ICcwcHgnLFxuICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgekluZGV4OiAyLCAvLyBBYm92ZSBQb3BvdmVyQXJyb3dcbn0pKTtcblxuLyoqXG4gKiBBIGRyb3AtaW4gY29tcG9uZW50IHRoYXQgcHJvdmlkZXMgdGhlIHJlY29tbWVuZGVkIHBhZGRpbmdcbiAqIGZvciBwb3BvdmVycy4gTW9zdGx5IGEgY29udmVuaWVuY2UgZm9yIHVzZXJzIHNvIHRoZXkgZG9uJ3RcbiAqIGhhdmUgdG8gZGVmaW5lIHRoaXMgdGhlbXNlbHZlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IFBhZGRpbmcgPSBzdHlsZWQoJ2RpdicsIHtcbiAgcGFkZGluZzogJzEycHgnLFxufSk7XG4iLCIvLyBAZmxvd1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvbm8tZmluZC1kb20tbm9kZSAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgZG9jdW1lbnQgZnJvbSAnZ2xvYmFsL2RvY3VtZW50JztcbmltcG9ydCBQb3BwZXIgZnJvbSAncG9wcGVyLmpzJztcbmltcG9ydCBpc0Jyb3dzZXIgZnJvbSAnLi4vdXRpbHMvaXMtYnJvd3Nlcic7XG5pbXBvcnQgZ2V0QnVpSWQgZnJvbSAnLi4vdXRpbHMvZ2V0LWJ1aS1pZCc7XG5pbXBvcnQge0FDQ0VTU0lCSUxJVFlfVFlQRSwgUExBQ0VNRU5ULCBUUklHR0VSX1RZUEV9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIEFycm93IGFzIFN0eWxlZEFycm93LFxuICBCb2R5IGFzIFN0eWxlZEJvZHksXG4gIElubmVyIGFzIFN0eWxlZElubmVyLFxufSBmcm9tICcuL3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7XG4gIHRvUG9wcGVyUGxhY2VtZW50LFxuICBmcm9tUG9wcGVyUGxhY2VtZW50LFxuICBwcmVwYXJlQXJyb3dQb3NpdGlvblN0eWxlcyxcbiAgcHJlcGFyZVBvcG92ZXJQb3NpdGlvblN0eWxlcyxcbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgZGVmYXVsdFByb3BzIGZyb20gJy4vZGVmYXVsdC1wcm9wcyc7XG5cbmltcG9ydCB0eXBlIHtcbiAgQW5jaG9yUHJvcHNULFxuICBQb3BvdmVyUHJvcHNULFxuICBQb3BvdmVyUHJpdmF0ZVN0YXRlVCxcbiAgUG9wcGVyRGF0YU9iamVjdFQsXG4gIENoaWxkVCxcbn0gZnJvbSAnLi90eXBlcyc7XG5cbmNsYXNzIFBvcG92ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UG9wb3ZlclByb3BzVCwgUG9wb3ZlclByaXZhdGVTdGF0ZVQ+IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wczogJFNoYXBlPFBvcG92ZXJQcm9wc1Q+ID0gZGVmYXVsdFByb3BzO1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3NvcnQtY29tcCAqL1xuICBhbmltYXRlSW5UaW1lcjogP1RpbWVvdXRJRDtcbiAgYW5pbWF0ZU91dFRpbWVyOiA/VGltZW91dElEO1xuICBhbmltYXRlT3V0Q29tcGxldGVUaW1lcjogP1RpbWVvdXRJRDtcbiAgb25Nb3VzZUVudGVyVGltZXI6ID9UaW1lb3V0SUQ7XG4gIG9uTW91c2VMZWF2ZVRpbWVyOiA/VGltZW91dElEO1xuICBnZW5lcmF0ZWRJZDogc3RyaW5nID0gJyc7XG4gIHBvcHBlcjogP1BvcHBlcjtcbiAgYW5jaG9yUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gIHBvcHBlclJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICBhcnJvd1JlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0L3NvcnQtY29tcCAqL1xuXG4gIC8qKlxuICAgKiBZZXMgb3VyIFwiU3RhdGVsZXNzXCIgcG9wb3ZlciBzdGlsbCBoYXMgc3RhdGUuIFRoaXMgaXMgcHJpdmF0ZSBzdGF0ZSB0aGF0XG4gICAqIGN1c3RvbWVycyBzaG91bGRuJ3QgaGF2ZSB0byBtYW5hZ2UgdGhlbXNlbHZlcywgc3VjaCBhcyBwb3NpdGlvbmluZyBhbmRcbiAgICogb3RoZXIgaW50ZXJuYWwgZmxhZ3MgZm9yIG1hbmFnaW5nIGFuaW1hdGlvbiBzdGF0ZXMuXG4gICAqL1xuICBzdGF0ZSA9IHRoaXMuZ2V0RGVmYXVsdFN0YXRlKHRoaXMucHJvcHMpO1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzT3Blbikge1xuICAgICAgdGhpcy5pbml0aWFsaXplUG9wcGVyKCk7XG4gICAgICB0aGlzLmFkZERvbUV2ZW50cygpO1xuICAgIH1cbiAgICB0aGlzLmdlbmVyYXRlZElkID0gZ2V0QnVpSWQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFBvcG92ZXJQcm9wc1QpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc09wZW4gIT09IHByZXZQcm9wcy5pc09wZW4pIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzT3Blbikge1xuICAgICAgICAvLyBPcGVuaW5nXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVBvcHBlcigpO1xuICAgICAgICB0aGlzLmFkZERvbUV2ZW50cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2xvc2luZ1xuICAgICAgICB0aGlzLmRlc3Ryb3lQb3BvdmVyKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlRG9tRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuYW5pbWF0ZU91dFRpbWVyID0gc2V0VGltZW91dCh0aGlzLmFuaW1hdGVPdXQsIDIwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLmRlc3Ryb3lQb3BvdmVyKCk7XG4gICAgdGhpcy5yZW1vdmVEb21FdmVudHMoKTtcbiAgICB0aGlzLmNsZWFyVGltZXJzKCk7XG4gIH1cblxuICBnZXREZWZhdWx0U3RhdGUocHJvcHM6IFBvcG92ZXJQcm9wc1QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNBbmltYXRpbmc6IGZhbHNlLFxuICAgICAgYXJyb3dTdHlsZXM6IHtsZWZ0OiAnMHB4JywgdG9wOiAnMHB4J30sXG4gICAgICBwb3NpdGlvblN0eWxlczoge2xlZnQ6ICcwcHgnLCB0b3A6ICcwcHgnfSxcbiAgICAgIHBsYWNlbWVudDogcHJvcHMucGxhY2VtZW50LFxuICAgIH07XG4gIH1cblxuICBhbmltYXRlSW4gPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNPcGVuKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtpc0FuaW1hdGluZzogdHJ1ZX0pO1xuICAgIH1cbiAgfTtcblxuICBhbmltYXRlT3V0ID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5wcm9wcy5pc09wZW4pIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQW5pbWF0aW5nOiB0cnVlfSk7XG4gICAgICAvLyBSZW1vdmUgdGhlIHBvcG92ZXIgZnJvbSB0aGUgRE9NIGFmdGVyIGFuaW1hdGlvbiBmaW5pc2hlc1xuICAgICAgdGhpcy5hbmltYXRlT3V0Q29tcGxldGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FuaW1hdGluZzogZmFsc2V9KTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfVxuICB9O1xuXG4gIGluaXRpYWxpemVQb3BwZXIoKSB7XG4gICAgY29uc3Qge3BsYWNlbWVudH0gPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMucG9wcGVyID0gbmV3IFBvcHBlcih0aGlzLmFuY2hvclJlZi5jdXJyZW50LCB0aGlzLnBvcHBlclJlZi5jdXJyZW50LCB7XG4gICAgICAvLyBSZWNvbW1lbmRlZCBwbGFjZW1lbnQgKHBvcHBlciBtYXkgaWdub3JlIGlmIGl0IGNhdXNlcyBhIHZpZXdwb3J0IG92ZXJmbG93LCBldGMpXG4gICAgICBwbGFjZW1lbnQ6IHRvUG9wcGVyUGxhY2VtZW50KHBsYWNlbWVudCksXG4gICAgICBtb2RpZmllcnM6IHtcbiAgICAgICAgLy8gUGFzc2luZyB0aGUgYXJyb3cgcmVmIHdpbGwgbWVhc3VyZSB0aGUgYXJyb3cgd2hlbiBjYWxjdWxhdGluZyBzdHlsZXNcbiAgICAgICAgYXJyb3c6IHtcbiAgICAgICAgICBlbGVtZW50OiB0aGlzLmFycm93UmVmLmN1cnJlbnQsXG4gICAgICAgICAgZW5hYmxlZDogdGhpcy5wcm9wcy5zaG93QXJyb3csXG4gICAgICAgIH0sXG4gICAgICAgIGNvbXB1dGVTdHlsZToge1xuICAgICAgICAgIC8vIE1ha2UgcG9wcGVyIHVzZSB0b3AvbGVmdCBpbnN0ZWFkIG9mIHRyYW5zZm9ybSB0cmFuc2xhdGUsIHRoaXMgaXMgYmVjYXVzZVxuICAgICAgICAgIC8vIHdlIHVzZSB0cmFuc2Zvcm0gZm9yIGFuaW1hdGlvbnMgYW5kIHdlIGRvbnQgd2FudCB0aGVtIHRvIGNvbmZsaWN0XG4gICAgICAgICAgZ3B1QWNjZWxlcmF0aW9uOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgYXBwbHlTdHlsZToge1xuICAgICAgICAgIC8vIERpc2FibGUgZGVmYXVsdCBzdHlsaW5nIG1vZGlmaWVyLCB3ZSdsbCBhcHBseSBzdHlsZXMgb24gb3VyIG93blxuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBhcHBseVJlYWN0U3R5bGU6IHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGZuOiB0aGlzLm9uUG9wcGVyVXBkYXRlLFxuICAgICAgICAgIG9yZGVyOiA5MDAsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgY2xlYXJUaW1lcnMoKSB7XG4gICAgW1xuICAgICAgdGhpcy5hbmltYXRlSW5UaW1lcixcbiAgICAgIHRoaXMuYW5pbWF0ZU91dFRpbWVyLFxuICAgICAgdGhpcy5hbmltYXRlT3V0Q29tcGxldGVUaW1lcixcbiAgICAgIHRoaXMub25Nb3VzZUVudGVyVGltZXIsXG4gICAgICB0aGlzLm9uTW91c2VMZWF2ZVRpbWVyLFxuICAgIF0uZm9yRWFjaCh0aW1lcklkID0+IHtcbiAgICAgIGlmICh0aW1lcklkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uQW5jaG9yQ2xpY2sgPSAoZTogRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkNsaWNrKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2xpY2soZSk7XG4gICAgfVxuICB9O1xuXG4gIG9uQW5jaG9yTW91c2VFbnRlciA9ICgpID0+IHtcbiAgICAvLyBGaXJzdCBjbGVhciBhbnkgZXhpc3RpbmcgY2xvc2UgdGltZXJzLCB0aGlzIGVuc3VyZXMgdGhhdCB0aGUgdXNlciBjYW5cbiAgICAvLyBtb3ZlIHRoZWlyIG1vdXNlIGZyb20gdGhlIHBvcG92ZXIgYmFjayB0byBhbmNob3Igd2l0aG91dCBpdCBoaWRpbmdcbiAgICBpZiAodGhpcy5vbk1vdXNlTGVhdmVUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMub25Nb3VzZUxlYXZlVGltZXIpO1xuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlck9uTW91c2VFbnRlcldpdGhEZWxheSgpO1xuICB9O1xuXG4gIG9uQW5jaG9yTW91c2VMZWF2ZSA9ICgpID0+IHtcbiAgICB0aGlzLnRyaWdnZXJPbk1vdXNlTGVhdmVXaXRoRGVsYXkoKTtcbiAgfTtcblxuICBvblBvcG92ZXJNb3VzZUVudGVyID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLm9uTW91c2VMZWF2ZVRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5vbk1vdXNlTGVhdmVUaW1lcik7XG4gICAgfVxuICB9O1xuXG4gIG9uUG9wb3Zlck1vdXNlTGVhdmUgPSAoKSA9PiB7XG4gICAgdGhpcy50cmlnZ2VyT25Nb3VzZUxlYXZlV2l0aERlbGF5KCk7XG4gIH07XG5cbiAgb25LZXlQcmVzcyA9IChldnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScgJiYgdGhpcy5wcm9wcy5vbkVzYykge1xuICAgICAgdGhpcy5wcm9wcy5vbkVzYygpO1xuICAgIH1cbiAgfTtcblxuICBvblBvcHBlclVwZGF0ZSA9IChkYXRhOiBQb3BwZXJEYXRhT2JqZWN0VCkgPT4ge1xuICAgIGNvbnN0IHBsYWNlbWVudCA9IGZyb21Qb3BwZXJQbGFjZW1lbnQoZGF0YS5wbGFjZW1lbnQpIHx8IFBMQUNFTUVOVC50b3A7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhcnJvd1N0eWxlczogcHJlcGFyZUFycm93UG9zaXRpb25TdHlsZXMoZGF0YS5hcnJvd1N0eWxlcywgcGxhY2VtZW50KSxcbiAgICAgIHBvc2l0aW9uU3R5bGVzOiBwcmVwYXJlUG9wb3ZlclBvc2l0aW9uU3R5bGVzKGRhdGEuc3R5bGVzKSxcbiAgICAgIHBsYWNlbWVudCxcbiAgICB9KTtcblxuICAgIC8vIE5vdyB0aGF0IGVsZW1lbnQgaGFzIGJlZW4gcG9zaXRpb25lZCwgd2UgY2FuIGFuaW1hdGUgaXQgaW5cbiAgICB0aGlzLmFuaW1hdGVJblRpbWVyID0gc2V0VGltZW91dCh0aGlzLmFuaW1hdGVJbiwgMjApO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgdHJpZ2dlck9uTW91c2VMZWF2ZVdpdGhEZWxheSgpIHtcbiAgICBjb25zdCB7b25Nb3VzZUxlYXZlRGVsYXl9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAob25Nb3VzZUxlYXZlRGVsYXkpIHtcbiAgICAgIHRoaXMub25Nb3VzZUxlYXZlVGltZXIgPSBzZXRUaW1lb3V0KFxuICAgICAgICB0aGlzLnRyaWdnZXJPbk1vdXNlTGVhdmUsXG4gICAgICAgIG9uTW91c2VMZWF2ZURlbGF5LFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy50cmlnZ2VyT25Nb3VzZUxlYXZlKCk7XG4gIH1cblxuICB0cmlnZ2VyT25Nb3VzZUxlYXZlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLm9uTW91c2VMZWF2ZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbk1vdXNlTGVhdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgdHJpZ2dlck9uTW91c2VFbnRlcldpdGhEZWxheSgpIHtcbiAgICBjb25zdCB7b25Nb3VzZUVudGVyRGVsYXl9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAob25Nb3VzZUVudGVyRGVsYXkpIHtcbiAgICAgIHRoaXMub25Nb3VzZUVudGVyVGltZXIgPSBzZXRUaW1lb3V0KFxuICAgICAgICB0aGlzLnRyaWdnZXJPbk1vdXNlRW50ZXIsXG4gICAgICAgIG9uTW91c2VFbnRlckRlbGF5LFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy50cmlnZ2VyT25Nb3VzZUVudGVyKCk7XG4gIH1cblxuICB0cmlnZ2VyT25Nb3VzZUVudGVyID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLm9uTW91c2VFbnRlcikge1xuICAgICAgdGhpcy5wcm9wcy5vbk1vdXNlRW50ZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgYWRkRG9tRXZlbnRzKCkge1xuICAgIGlmICghaXNCcm93c2VyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Eb2N1bWVudENsaWNrKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25LZXlQcmVzcyk7XG4gIH1cblxuICByZW1vdmVEb21FdmVudHMoKSB7XG4gICAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbkRvY3VtZW50Q2xpY2spO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbktleVByZXNzKTtcbiAgfVxuXG4gIG9uRG9jdW1lbnRDbGljayA9IChldnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0O1xuICAgIGNvbnN0IHBvcHBlciA9IHRoaXMucG9wcGVyUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgYW5jaG9yID0gdGhpcy5hbmNob3JSZWYuY3VycmVudDtcbiAgICAvLyBJZ25vcmUgZG9jdW1lbnQgY2xpY2sgaWYgaXQgY2FtZSBmcm9tIHBvcG92ZXIgb3IgYW5jaG9yXG4gICAgaWYgKCFwb3BwZXIgfHwgcG9wcGVyID09PSB0YXJnZXQgfHwgcG9wcGVyLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFhbmNob3IgfHwgYW5jaG9yID09PSB0YXJnZXQgfHwgYW5jaG9yLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25DbGlja091dHNpZGUpIHtcbiAgICAgIHRoaXMucHJvcHMub25DbGlja091dHNpZGUoKTtcbiAgICB9XG4gIH07XG5cbiAgZGVzdHJveVBvcG92ZXIoKSB7XG4gICAgaWYgKHRoaXMucG9wcGVyKSB7XG4gICAgICB0aGlzLnBvcHBlci5kZXN0cm95KCk7XG4gICAgICBkZWxldGUgdGhpcy5wb3BwZXI7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzQ2xpY2tUcmlnZ2VyKCkpIHtcbiAgICAgIHRoaXMucmVtb3ZlRG9tRXZlbnRzKCk7XG4gICAgfVxuICB9XG5cbiAgaXNDbGlja1RyaWdnZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudHJpZ2dlclR5cGUgPT09IFRSSUdHRVJfVFlQRS5jbGljaztcbiAgfVxuXG4gIGlzSG92ZXJUcmlnZ2VyKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnRyaWdnZXJUeXBlID09PSBUUklHR0VSX1RZUEUuaG92ZXI7XG4gIH1cblxuICBpc0FjY2Vzc2libGl0eVR5cGVNZW51KCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlUeXBlID09PSBBQ0NFU1NJQklMSVRZX1RZUEUubWVudTtcbiAgfVxuXG4gIGlzQWNjZXNzaWJsaXR5VHlwZVRvb2x0aXAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuYWNjZXNzaWJpbGl0eVR5cGUgPT09IEFDQ0VTU0lCSUxJVFlfVFlQRS50b29sdGlwO1xuICB9XG5cbiAgZ2V0QW5jaG9ySWRBdHRyKCkge1xuICAgIGNvbnN0IHBvcG92ZXJJZCA9IHRoaXMuZ2V0UG9wb3ZlcklkQXR0cigpO1xuICAgIHJldHVybiBwb3BvdmVySWQgPyBgJHtwb3BvdmVySWR9X19hbmNob3JgIDogbnVsbDtcbiAgfVxuXG4gIGdldFBvcG92ZXJJZEF0dHIoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaWQgfHwgdGhpcy5nZW5lcmF0ZWRJZCB8fCBudWxsO1xuICB9XG5cbiAgZ2V0QW5jaG9yUHJvcHMocmVmS2V5OiAncmVmJyB8ICckcmVmJykge1xuICAgIGNvbnN0IHtpc09wZW59ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGFuY2hvclByb3BzOiBBbmNob3JQcm9wc1QgPSB7XG4gICAgICBrZXk6ICdwb3BvdmVyLWFuY2hvcicsXG4gICAgICAvLyBUT0RPIE9uY2Ugc3R5bGV0cm9uIGdldHMgZm9yd2FyZFJlZiBzdXBwb3J0LCBzd2l0Y2ggdG8gYWx3YXlzIHVzaW5nIHJlZlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3J0c2FvL3N0eWxldHJvbi9pc3N1ZXMvMjUzXG4gICAgICBbcmVmS2V5XTogdGhpcy5hbmNob3JSZWYsXG4gICAgICAvLyBBbHdheXMgYXR0YWNoIG9uQ2xpY2vigJNpdCdzIHN0aWxsIHVzZWZ1bCB0byB0b2dnbGUgdmlhIGNsaWNrXG4gICAgICAvLyBldmVuIGlmIHRoZSBhbmNob3IgaXMgaG92ZXJhYmxlXG4gICAgICBvbkNsaWNrOiB0aGlzLm9uQW5jaG9yQ2xpY2ssXG4gICAgfTtcblxuICAgIGNvbnN0IGFuY2hvcklkID0gdGhpcy5nZXRBbmNob3JJZEF0dHIoKTtcbiAgICBjb25zdCBwb3BvdmVySWQgPSB0aGlzLmdldFBvcG92ZXJJZEF0dHIoKTtcbiAgICBpZiAodGhpcy5pc0FjY2Vzc2libGl0eVR5cGVNZW51KCkpIHtcbiAgICAgIGFuY2hvclByb3BzWydhcmlhLWhhc3BvcHVwJ10gPSAndHJ1ZSc7XG4gICAgICBhbmNob3JQcm9wc1snYXJpYS1leHBhbmRlZCddID0gaXNPcGVuID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgICAgIGNvbnN0IHJlbGF0aW9uQXR0ciA9IHRoaXMuaXNDbGlja1RyaWdnZXIoKVxuICAgICAgICA/ICdhcmlhLWNvbnRyb2xzJ1xuICAgICAgICA6ICdhcmlhLW93bnMnO1xuICAgICAgYW5jaG9yUHJvcHNbcmVsYXRpb25BdHRyXSA9IGlzT3BlbiA/IHBvcG92ZXJJZCA6IG51bGw7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzQWNjZXNzaWJsaXR5VHlwZVRvb2x0aXAoKSkge1xuICAgICAgYW5jaG9yUHJvcHMuaWQgPSBhbmNob3JJZDtcbiAgICAgIGFuY2hvclByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J10gPSBpc09wZW4gPyBwb3BvdmVySWQgOiBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzSG92ZXJUcmlnZ2VyKCkpIHtcbiAgICAgIGFuY2hvclByb3BzLm9uTW91c2VFbnRlciA9IHRoaXMub25BbmNob3JNb3VzZUVudGVyO1xuICAgICAgYW5jaG9yUHJvcHMub25Nb3VzZUxlYXZlID0gdGhpcy5vbkFuY2hvck1vdXNlTGVhdmU7XG5cbiAgICAgIC8vIE1ha2UgaXQgZm9jdXNhYmxlIHRvb1xuICAgICAgYW5jaG9yUHJvcHMub25CbHVyID0gdGhpcy5wcm9wcy5vbkJsdXI7XG4gICAgICBhbmNob3JQcm9wcy5vbkZvY3VzID0gdGhpcy5wcm9wcy5vbkZvY3VzO1xuICAgIH1cbiAgICByZXR1cm4gYW5jaG9yUHJvcHM7XG4gIH1cblxuICBnZXRQb3BvdmVyQm9keVByb3BzKCkge1xuICAgIGNvbnN0IGJvZHlQcm9wcyA9IHt9O1xuXG4gICAgY29uc3QgcG9wb3ZlcklkID0gdGhpcy5nZXRQb3BvdmVySWRBdHRyKCk7XG4gICAgaWYgKHRoaXMuaXNBY2Nlc3NpYmxpdHlUeXBlTWVudSgpKSB7XG4gICAgICBib2R5UHJvcHMuaWQgPSBwb3BvdmVySWQ7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzQWNjZXNzaWJsaXR5VHlwZVRvb2x0aXAoKSkge1xuICAgICAgYm9keVByb3BzLmlkID0gcG9wb3ZlcklkO1xuICAgICAgYm9keVByb3BzLnJvbGUgPSAndG9vbHRpcCc7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzSG92ZXJUcmlnZ2VyKCkpIHtcbiAgICAgIGJvZHlQcm9wcy5vbk1vdXNlRW50ZXIgPSB0aGlzLm9uUG9wb3Zlck1vdXNlRW50ZXI7XG4gICAgICBib2R5UHJvcHMub25Nb3VzZUxlYXZlID0gdGhpcy5vblBvcG92ZXJNb3VzZUxlYXZlO1xuICAgIH1cblxuICAgIHJldHVybiBib2R5UHJvcHM7XG4gIH1cblxuICBnZXRTaGFyZWRQcm9wcygpIHtcbiAgICBjb25zdCB7aXNPcGVuLCBzaG93QXJyb3d9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7aXNBbmltYXRpbmcsIGFycm93U3R5bGVzLCBwb3NpdGlvblN0eWxlcywgcGxhY2VtZW50fSA9IHRoaXMuc3RhdGU7XG4gICAgcmV0dXJuIHtcbiAgICAgICRzaG93QXJyb3c6IHNob3dBcnJvdyxcbiAgICAgICRhcnJvd1N0eWxlczogYXJyb3dTdHlsZXMsXG4gICAgICAkcG9zaXRpb25TdHlsZXM6IHBvc2l0aW9uU3R5bGVzLFxuICAgICAgJHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgJGlzQW5pbWF0aW5nOiBpc0FuaW1hdGluZyxcbiAgICAgICRpc09wZW46IGlzT3BlbixcbiAgICB9O1xuICB9XG5cbiAgZ2V0QW5jaG9yRnJvbUNoaWxkcmVuKCkge1xuICAgIGNvbnN0IHtjaGlsZHJlbn0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGNoaWxkQXJyYXk6IEFycmF5PENoaWxkVD4gPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKTtcbiAgICBpZiAoY2hpbGRBcnJheS5sZW5ndGggIT09IDEpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgW2Jhc2V1aV0gRXhhY3RseSAxIGNoaWxkIG11c3QgYmUgcGFzc2VkIHRvIFBvcG92ZXIvVG9vbHRpcCwgZm91bmQgJHtcbiAgICAgICAgICBjaGlsZEFycmF5Lmxlbmd0aFxuICAgICAgICB9IGNoaWxkcmVuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBjaGlsZEFycmF5WzBdO1xuICB9XG5cbiAgcmVuZGVyQW5jaG9yKCkge1xuICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuZ2V0QW5jaG9yRnJvbUNoaWxkcmVuKCk7XG4gICAgaWYgKCFhbmNob3IpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGlzVmFsaWRFbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoYW5jaG9yKTtcbiAgICBjb25zdCBpc0RvbUVsZW1lbnQgPVxuICAgICAgdHlwZW9mIGFuY2hvciA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGFuY2hvci50eXBlID09PSAnc3RyaW5nJztcblxuICAgIC8vIFVzZSAkcmVmIGZvciBjb21wbGV4IGNvbXBvbmVudHMsIHJlZiBmb3IgaHRtbCBlbGVtZW50c1xuICAgIGNvbnN0IHJlZktleSA9IGlzVmFsaWRFbGVtZW50ICYmICFpc0RvbUVsZW1lbnQgPyAnJHJlZicgOiAncmVmJztcblxuICAgIGNvbnN0IGFuY2hvclByb3BzID0gdGhpcy5nZXRBbmNob3JQcm9wcyhyZWZLZXkpO1xuXG4gICAgaWYgKHR5cGVvZiBhbmNob3IgPT09ICdvYmplY3QnICYmIGlzVmFsaWRFbGVtZW50KSB7XG4gICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGFuY2hvciwgYW5jaG9yUHJvcHMpO1xuICAgIH1cbiAgICByZXR1cm4gPHNwYW4gey4uLmFuY2hvclByb3BzfT57YW5jaG9yfTwvc3Bhbj47XG4gIH1cblxuICByZW5kZXJQb3BvdmVyKCkge1xuICAgIGNvbnN0IHtzaG93QXJyb3csIGNvbXBvbmVudHMgPSB7fSwgY29udGVudH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtcbiAgICAgIEFycm93ID0gU3R5bGVkQXJyb3csXG4gICAgICBCb2R5ID0gU3R5bGVkQm9keSxcbiAgICAgIElubmVyID0gU3R5bGVkSW5uZXIsXG4gICAgfSA9IGNvbXBvbmVudHM7XG5cbiAgICBjb25zdCBzaGFyZWRQcm9wcyA9IHRoaXMuZ2V0U2hhcmVkUHJvcHMoKTtcbiAgICBjb25zdCBib2R5UHJvcHMgPSB0aGlzLmdldFBvcG92ZXJCb2R5UHJvcHMoKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Qm9keVxuICAgICAgICBrZXk9XCJwb3BvdmVyLWJvZHlcIlxuICAgICAgICAkcmVmPXt0aGlzLnBvcHBlclJlZn1cbiAgICAgICAgey4uLmJvZHlQcm9wc31cbiAgICAgICAgey4uLnNoYXJlZFByb3BzfVxuICAgICAgPlxuICAgICAgICB7c2hvd0Fycm93ID8gKFxuICAgICAgICAgIDxBcnJvdyBrZXk9XCJwb3BvdmVyLWFycm93XCIgJHJlZj17dGhpcy5hcnJvd1JlZn0gey4uLnNoYXJlZFByb3BzfSAvPlxuICAgICAgICApIDogbnVsbH1cbiAgICAgICAgPElubmVyIGtleT1cInBvcG92ZXItaW5uZXJcIiB7Li4uc2hhcmVkUHJvcHN9PlxuICAgICAgICAgIHt0eXBlb2YgY29udGVudCA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnRlbnQoKSA6IGNvbnRlbnR9XG4gICAgICAgIDwvSW5uZXI+XG4gICAgICA8L0JvZHk+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCByZW5kZXJlZCA9IFt0aGlzLnJlbmRlckFuY2hvcigpXTtcblxuICAgIC8vIE9ubHkgcmVuZGVyIHBvcG92ZXIgb24gdGhlIGJyb3dzZXIgKHBvcnRhbHMgYXJlbid0IHN1cHBvcnRlZCBzZXJ2ZXItc2lkZSlcbiAgICBpZiAoaXNCcm93c2VyICYmICh0aGlzLnByb3BzLmlzT3BlbiB8fCB0aGlzLnN0YXRlLmlzQW5pbWF0aW5nKSkge1xuICAgICAgcmVuZGVyZWQucHVzaChSZWFjdERPTS5jcmVhdGVQb3J0YWwodGhpcy5yZW5kZXJQb3BvdmVyKCksIGRvY3VtZW50LmJvZHkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVkO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcG92ZXI7XG4iLCIvLyBAZmxvd1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFN0YXRlZnVsQ29udGFpbmVyIGZyb20gJy4vc3RhdGVmdWwtY29udGFpbmVyJztcbmltcG9ydCBQb3BvdmVyIGZyb20gJy4vcG9wb3Zlcic7XG5pbXBvcnQgdHlwZSB7U3RhdGVmdWxQb3BvdmVyUHJvcHNUfSBmcm9tICcuL3R5cGVzJztcblxuZnVuY3Rpb24gU3RhdGVmdWxQb3BvdmVyKHByb3BzOiBTdGF0ZWZ1bFBvcG92ZXJQcm9wc1QpIHtcbiAgY29uc3Qge2NoaWxkcmVuLCAuLi5yZXN0UHJvcHN9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPFN0YXRlZnVsQ29udGFpbmVyIHsuLi5yZXN0UHJvcHN9PlxuICAgICAge3BvcG92ZXJQcm9wcyA9PiA8UG9wb3ZlciB7Li4ucG9wb3ZlclByb3BzfT57Y2hpbGRyZW59PC9Qb3BvdmVyPn1cbiAgICA8L1N0YXRlZnVsQ29udGFpbmVyPlxuICApO1xufVxuXG5TdGF0ZWZ1bFBvcG92ZXIuZGVmYXVsdFByb3BzID0gU3RhdGVmdWxDb250YWluZXIuZGVmYXVsdFByb3BzO1xuXG5leHBvcnQgZGVmYXVsdCBTdGF0ZWZ1bFBvcG92ZXI7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7c3R5bGVkfSBmcm9tICcuLi9zdHlsZXMnO1xuaW1wb3J0IHtcbiAgUExBQ0VNRU5ULFxuICBUUklHR0VSX1RZUEUsXG4gIFBvcG92ZXIsXG4gIFN0YXRlZnVsUG9wb3ZlcixcbiAgU3R5bGVkUGFkZGluZyBhcyBTdHlsZWRQb3BvdmVyUGFkZGluZyxcbn0gZnJvbSAnLi9pbmRleCc7XG5cbmZ1bmN0aW9uIHBvcG92ZXJDb250ZW50KCkge1xuICByZXR1cm4gKFxuICAgIDxTdHlsZWRQb3BvdmVyUGFkZGluZz5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxzdHJvbmc+VGhlIHF1aWNrIGJyb3duIGZveDwvc3Ryb25nPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2Pkp1bXBlZCBvdmVyIHRoZSBsYXp5IGRvZzwvZGl2PlxuICAgIDwvU3R5bGVkUG9wb3ZlclBhZGRpbmc+XG4gICk7XG59XG5cbi8vIFRPRE8gcmVwbGFjZSB3aXRoIHJlYWwgYnV0dG9uIHdoZW4gaXRzIGF2YWlsYWJsZVxuY29uc3QgQnV0dG9uID0gc3R5bGVkKCdidXR0b24nLCAoeyR0aGVtZX0pID0+ICh7XG4gIHBhZGRpbmc6IGAkeyR0aGVtZS5zaXppbmcuc2NhbGUyMDB9ICR7JHRoZW1lLnNpemluZy5zY2FsZTQwMH1gLFxuICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gIGJhY2tncm91bmRDb2xvcjogJHRoZW1lLmNvbG9ycy5idXR0b25QcmltYXJ5RmlsbCxcbiAgYm9yZGVyUmFkaXVzOiAnM3B4JyxcbiAgYm9yZGVyOiAnbm9uZScsXG4gIGNvbG9yOiAnI2ZmZicsXG4gIGN1cnNvcjogJ3BvaW50ZXInLFxuICB0cmFuc2l0aW9uUHJvcGVydHk6ICdiYWNrZ3JvdW5kLWNvbG9yJyxcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAnMC4ycycsXG4gIGZvbnRTaXplOiAnMTRweCcsXG4gICc6aG92ZXInOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAkdGhlbWUuY29sb3JzLmJ1dHRvblByaW1hcnlIb3ZlcixcbiAgfSxcbiAgJzpmb2N1cyc6IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICR0aGVtZS5jb2xvcnMuYnV0dG9uUHJpbWFyeUhvdmVyLFxuICB9LFxuICAnOmFjdGl2ZSc6IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICR0aGVtZS5jb2xvcnMuYnV0dG9uUHJpbWFyeUFjdGl2ZSxcbiAgfSxcbn0pKTtcblxuY29uc3QgQ29udGFpbmVyID0gc3R5bGVkKCdkaXYnLCB7XG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICBkaXNwbGF5OiAnZmxleCcsXG4gIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG59KTtcblxuY29uc3QgR3JpZCA9IHN0eWxlZCgnZGl2Jywge1xuICBkaXNwbGF5OiAnZ3JpZCcsXG4gIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICcyMCUgMjAlIDIwJSAyMCUgMjAlJyxcbiAgZ3JpZFRlbXBsYXRlUm93czogJzIwJSAyMCUgMjAlIDIwJSAyMCUnLFxuICB3aWR0aDogJzM4MHB4JyxcbiAgaGVpZ2h0OiAnMjUwcHgnLFxuICBtYXJnaW46ICcxMDBweCBhdXRvJyxcbn0pO1xuXG5jb25zdCBHcmlkSXRlbSA9IHN0eWxlZCgnZGl2JywgKHtyb3csIGNvbH0pID0+ICh7XG4gIGdyaWRDb2x1bW5TdGFydDogY29sLFxuICBncmlkUm93U3RhcnQ6IHJvdyxcbiAgdGV4dEFsaWduOiAnY2VudGVyJyxcbn0pKTtcblxuZXhwb3J0IGRlZmF1bHQgW1xuICA8UG9wb3ZlciBrZXk9XCJzdG9yeTFcIiBpc09wZW4gY29udGVudD17cG9wb3ZlckNvbnRlbnR9PlxuICAgIDxCdXR0b24+T3BlbjwvQnV0dG9uPlxuICA8L1BvcG92ZXI+LFxuICA8U3RhdGVmdWxQb3BvdmVyIGtleT1cInN0b3J5MlwiIGNvbnRlbnQ9e3BvcG92ZXJDb250ZW50fT5cbiAgICA8QnV0dG9uPlByZXNzIE1lPC9CdXR0b24+XG4gIDwvU3RhdGVmdWxQb3BvdmVyPixcbiAgPFN0YXRlZnVsUG9wb3ZlclxuICAgIGtleT1cInN0b3J5M1wiXG4gICAgdHJpZ2dlclR5cGU9e1RSSUdHRVJfVFlQRS5ob3Zlcn1cbiAgICBjb250ZW50PXtwb3BvdmVyQ29udGVudH1cbiAgPlxuICAgIDxCdXR0b24+SG92ZXIgTWU8L0J1dHRvbj5cbiAgPC9TdGF0ZWZ1bFBvcG92ZXI+LFxuICA8Q29udGFpbmVyIGtleT1cInN0b3J5NFwiPlxuICAgIDxHcmlkPlxuICAgICAgPEdyaWRJdGVtIHJvdz17MX0gY29sPXsyfT5cbiAgICAgICAgPFN0YXRlZnVsUG9wb3ZlciBwbGFjZW1lbnQ9e1BMQUNFTUVOVC50b3BMZWZ0fSBjb250ZW50PXtwb3BvdmVyQ29udGVudH0+XG4gICAgICAgICAgPEJ1dHRvbj5UTDwvQnV0dG9uPlxuICAgICAgICA8L1N0YXRlZnVsUG9wb3Zlcj5cbiAgICAgIDwvR3JpZEl0ZW0+XG4gICAgICA8R3JpZEl0ZW0gcm93PXsxfSBjb2w9ezN9PlxuICAgICAgICA8U3RhdGVmdWxQb3BvdmVyIHBsYWNlbWVudD17UExBQ0VNRU5ULnRvcH0gY29udGVudD17cG9wb3ZlckNvbnRlbnR9PlxuICAgICAgICAgIDxCdXR0b24+VG9wPC9CdXR0b24+XG4gICAgICAgIDwvU3RhdGVmdWxQb3BvdmVyPlxuICAgICAgPC9HcmlkSXRlbT5cbiAgICAgIDxHcmlkSXRlbSByb3c9ezF9IGNvbD17NH0+XG4gICAgICAgIDxTdGF0ZWZ1bFBvcG92ZXJcbiAgICAgICAgICBwbGFjZW1lbnQ9e1BMQUNFTUVOVC50b3BSaWdodH1cbiAgICAgICAgICBjb250ZW50PXtwb3BvdmVyQ29udGVudH1cbiAgICAgICAgPlxuICAgICAgICAgIDxCdXR0b24+VFI8L0J1dHRvbj5cbiAgICAgICAgPC9TdGF0ZWZ1bFBvcG92ZXI+XG4gICAgICA8L0dyaWRJdGVtPlxuICAgICAgPEdyaWRJdGVtIHJvdz17Mn0gY29sPXsxfT5cbiAgICAgICAgPFN0YXRlZnVsUG9wb3ZlciBwbGFjZW1lbnQ9e1BMQUNFTUVOVC5sZWZ0VG9wfSBjb250ZW50PXtwb3BvdmVyQ29udGVudH0+XG4gICAgICAgICAgPEJ1dHRvbj5MVDwvQnV0dG9uPlxuICAgICAgICA8L1N0YXRlZnVsUG9wb3Zlcj5cbiAgICAgIDwvR3JpZEl0ZW0+XG4gICAgICA8R3JpZEl0ZW0gcm93PXszfSBjb2w9ezF9PlxuICAgICAgICA8U3RhdGVmdWxQb3BvdmVyIHBsYWNlbWVudD17UExBQ0VNRU5ULmxlZnR9IGNvbnRlbnQ9e3BvcG92ZXJDb250ZW50fT5cbiAgICAgICAgICA8QnV0dG9uPkxlZnQ8L0J1dHRvbj5cbiAgICAgICAgPC9TdGF0ZWZ1bFBvcG92ZXI+XG4gICAgICA8L0dyaWRJdGVtPlxuICAgICAgPEdyaWRJdGVtIHJvdz17NH0gY29sPXsxfT5cbiAgICAgICAgPFN0YXRlZnVsUG9wb3ZlclxuICAgICAgICAgIHBsYWNlbWVudD17UExBQ0VNRU5ULmxlZnRCb3R0b219XG4gICAgICAgICAgY29udGVudD17cG9wb3ZlckNvbnRlbnR9XG4gICAgICAgID5cbiAgICAgICAgICA8QnV0dG9uPkxCPC9CdXR0b24+XG4gICAgICAgIDwvU3RhdGVmdWxQb3BvdmVyPlxuICAgICAgPC9HcmlkSXRlbT5cbiAgICAgIDxHcmlkSXRlbSByb3c9ezV9IGNvbD17Mn0+XG4gICAgICAgIDxTdGF0ZWZ1bFBvcG92ZXJcbiAgICAgICAgICBwbGFjZW1lbnQ9e1BMQUNFTUVOVC5ib3R0b21MZWZ0fVxuICAgICAgICAgIGNvbnRlbnQ9e3BvcG92ZXJDb250ZW50fVxuICAgICAgICA+XG4gICAgICAgICAgPEJ1dHRvbj5CTDwvQnV0dG9uPlxuICAgICAgICA8L1N0YXRlZnVsUG9wb3Zlcj5cbiAgICAgIDwvR3JpZEl0ZW0+XG4gICAgICA8R3JpZEl0ZW0gcm93PXs1fSBjb2w9ezN9PlxuICAgICAgICA8U3RhdGVmdWxQb3BvdmVyIHBsYWNlbWVudD17UExBQ0VNRU5ULmJvdHRvbX0gY29udGVudD17cG9wb3ZlckNvbnRlbnR9PlxuICAgICAgICAgIDxCdXR0b24+Qm90dG9tPC9CdXR0b24+XG4gICAgICAgIDwvU3RhdGVmdWxQb3BvdmVyPlxuICAgICAgPC9HcmlkSXRlbT5cbiAgICAgIDxHcmlkSXRlbSByb3c9ezV9IGNvbD17NH0+XG4gICAgICAgIDxTdGF0ZWZ1bFBvcG92ZXJcbiAgICAgICAgICBwbGFjZW1lbnQ9e1BMQUNFTUVOVC5ib3R0b21SaWdodH1cbiAgICAgICAgICBjb250ZW50PXtwb3BvdmVyQ29udGVudH1cbiAgICAgICAgPlxuICAgICAgICAgIDxCdXR0b24+QlI8L0J1dHRvbj5cbiAgICAgICAgPC9TdGF0ZWZ1bFBvcG92ZXI+XG4gICAgICA8L0dyaWRJdGVtPlxuICAgICAgPEdyaWRJdGVtIHJvdz17Mn0gY29sPXs1fT5cbiAgICAgICAgPFN0YXRlZnVsUG9wb3ZlclxuICAgICAgICAgIHBsYWNlbWVudD17UExBQ0VNRU5ULnJpZ2h0VG9wfVxuICAgICAgICAgIGNvbnRlbnQ9e3BvcG92ZXJDb250ZW50fVxuICAgICAgICA+XG4gICAgICAgICAgPEJ1dHRvbj5SVDwvQnV0dG9uPlxuICAgICAgICA8L1N0YXRlZnVsUG9wb3Zlcj5cbiAgICAgIDwvR3JpZEl0ZW0+XG4gICAgICA8R3JpZEl0ZW0gcm93PXszfSBjb2w9ezV9PlxuICAgICAgICA8U3RhdGVmdWxQb3BvdmVyIHBsYWNlbWVudD17UExBQ0VNRU5ULnJpZ2h0fSBjb250ZW50PXtwb3BvdmVyQ29udGVudH0+XG4gICAgICAgICAgPEJ1dHRvbj5SaWdodDwvQnV0dG9uPlxuICAgICAgICA8L1N0YXRlZnVsUG9wb3Zlcj5cbiAgICAgIDwvR3JpZEl0ZW0+XG4gICAgICA8R3JpZEl0ZW0gcm93PXs0fSBjb2w9ezV9PlxuICAgICAgICA8U3RhdGVmdWxQb3BvdmVyXG4gICAgICAgICAgcGxhY2VtZW50PXtQTEFDRU1FTlQucmlnaHRCb3R0b219XG4gICAgICAgICAgY29udGVudD17cG9wb3ZlckNvbnRlbnR9XG4gICAgICAgID5cbiAgICAgICAgICA8QnV0dG9uPlJCPC9CdXR0b24+XG4gICAgICAgIDwvU3RhdGVmdWxQb3BvdmVyPlxuICAgICAgPC9HcmlkSXRlbT5cbiAgICA8L0dyaWQ+XG4gIDwvQ29udGFpbmVyPixcbiAgPFN0YXRlZnVsUG9wb3ZlclxuICAgIGtleT1cInN0b3J5NVwiXG4gICAgY29udGVudD17cG9wb3ZlckNvbnRlbnR9XG4gICAgc2hvd0Fycm93XG4gICAgdHJpZ2dlclR5cGU9e1RSSUdHRVJfVFlQRS5ob3Zlcn1cbiAgPlxuICAgIDxCdXR0b24+SG92ZXIgTWU8L0J1dHRvbj5cbiAgPC9TdGF0ZWZ1bFBvcG92ZXI+LFxuXTtcbiIsImltcG9ydCB7IGRyaXZlciwgZ2V0SW5pdGlhbFN0eWxlIH0gZnJvbSAnc3R5bGV0cm9uLXN0YW5kYXJkJztcbmltcG9ydCB7IFByb3ZpZGVyLCBjcmVhdGVTdHlsZWQgfSBmcm9tICdzdHlsZXRyb24tcmVhY3QtY29yZSc7XG5cbnZhciBzdHlsZWQgPSBjcmVhdGVTdHlsZWQoe1xuICB3cmFwcGVyOiBmdW5jdGlvbiB3cmFwcGVyKENvbXBvbmVudCkge1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH0sXG4gIGdldEluaXRpYWxTdHlsZTogZ2V0SW5pdGlhbFN0eWxlLFxuICBkcml2ZXI6IGRyaXZlclxufSk7XG5cbmV4cG9ydCB7IFByb3ZpZGVyLCBzdHlsZWQgfTtcbmV4cG9ydCB7IHdpdGhTdHlsZSwgd2l0aFN0eWxlRGVlcCwgd2l0aFRyYW5zZm9ybSwgd2l0aFdyYXBwZXIsIERlYnVnRW5naW5lIH0gZnJvbSAnc3R5bGV0cm9uLXJlYWN0LWNvcmUnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlci5lczUuZXMuanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNhcGl0YWxpemVTdHJpbmc7XG5mdW5jdGlvbiBjYXBpdGFsaXplU3RyaW5nKHN0cikge1xuICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBwcmVmaXhQcm9wZXJ0eTtcblxudmFyIF9jYXBpdGFsaXplU3RyaW5nID0gcmVxdWlyZSgnLi9jYXBpdGFsaXplU3RyaW5nJyk7XG5cbnZhciBfY2FwaXRhbGl6ZVN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYXBpdGFsaXplU3RyaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gcHJlZml4UHJvcGVydHkocHJlZml4UHJvcGVydGllcywgcHJvcGVydHksIHN0eWxlKSB7XG4gIGlmIChwcmVmaXhQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgIHZhciBuZXdTdHlsZSA9IHt9O1xuICAgIHZhciByZXF1aXJlZFByZWZpeGVzID0gcHJlZml4UHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgdmFyIGNhcGl0YWxpemVkUHJvcGVydHkgPSAoMCwgX2NhcGl0YWxpemVTdHJpbmcyLmRlZmF1bHQpKHByb3BlcnR5KTtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHN0eWxlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzdHlsZVByb3BlcnR5ID0ga2V5c1tpXTtcbiAgICAgIGlmIChzdHlsZVByb3BlcnR5ID09PSBwcm9wZXJ0eSkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJlcXVpcmVkUHJlZml4ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBuZXdTdHlsZVtyZXF1aXJlZFByZWZpeGVzW2pdICsgY2FwaXRhbGl6ZWRQcm9wZXJ0eV0gPSBzdHlsZVtwcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5ld1N0eWxlW3N0eWxlUHJvcGVydHldID0gc3R5bGVbc3R5bGVQcm9wZXJ0eV07XG4gICAgfVxuICAgIHJldHVybiBuZXdTdHlsZTtcbiAgfVxuICByZXR1cm4gc3R5bGU7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHByZWZpeFZhbHVlO1xuZnVuY3Rpb24gcHJlZml4VmFsdWUocGx1Z2lucywgcHJvcGVydHksIHZhbHVlLCBzdHlsZSwgbWV0YURhdGEpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBsdWdpbnMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgcHJvY2Vzc2VkVmFsdWUgPSBwbHVnaW5zW2ldKHByb3BlcnR5LCB2YWx1ZSwgc3R5bGUsIG1ldGFEYXRhKTtcblxuICAgIC8vIHdlIGNhbiBzdG9wIHByb2Nlc3NpbmcgaWYgYSB2YWx1ZSBpcyByZXR1cm5lZFxuICAgIC8vIGFzIGFsbCBwbHVnaW4gY3JpdGVyaWEgYXJlIHVuaXF1ZVxuICAgIGlmIChwcm9jZXNzZWRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHByb2Nlc3NlZFZhbHVlO1xuICAgIH1cbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGFkZE5ld1ZhbHVlc09ubHk7XG5mdW5jdGlvbiBhZGRJZk5ldyhsaXN0LCB2YWx1ZSkge1xuICBpZiAobGlzdC5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICBsaXN0LnB1c2godmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZE5ld1ZhbHVlc09ubHkobGlzdCwgdmFsdWVzKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBhZGRJZk5ldyhsaXN0LCB2YWx1ZXNbaV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhZGRJZk5ldyhsaXN0LCB2YWx1ZXMpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNPYmplY3Q7XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBPYmplY3QgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVQcmVmaXhlcjtcblxudmFyIF9wcmVmaXhQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3V0aWxzL3ByZWZpeFByb3BlcnR5Jyk7XG5cbnZhciBfcHJlZml4UHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJlZml4UHJvcGVydHkpO1xuXG52YXIgX3ByZWZpeFZhbHVlID0gcmVxdWlyZSgnLi4vdXRpbHMvcHJlZml4VmFsdWUnKTtcblxudmFyIF9wcmVmaXhWYWx1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcmVmaXhWYWx1ZSk7XG5cbnZhciBfYWRkTmV3VmFsdWVzT25seSA9IHJlcXVpcmUoJy4uL3V0aWxzL2FkZE5ld1ZhbHVlc09ubHknKTtcblxudmFyIF9hZGROZXdWYWx1ZXNPbmx5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZE5ld1ZhbHVlc09ubHkpO1xuXG52YXIgX2lzT2JqZWN0ID0gcmVxdWlyZSgnLi4vdXRpbHMvaXNPYmplY3QnKTtcblxudmFyIF9pc09iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc09iamVjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNyZWF0ZVByZWZpeGVyKF9yZWYpIHtcbiAgdmFyIHByZWZpeE1hcCA9IF9yZWYucHJlZml4TWFwLFxuICAgICAgcGx1Z2lucyA9IF9yZWYucGx1Z2lucztcblxuICBmdW5jdGlvbiBwcmVmaXhBbGwoc3R5bGUpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBzdHlsZSkge1xuICAgICAgdmFyIHZhbHVlID0gc3R5bGVbcHJvcGVydHldO1xuXG4gICAgICAvLyBoYW5kbGUgbmVzdGVkIG9iamVjdHNcbiAgICAgIGlmICgoMCwgX2lzT2JqZWN0Mi5kZWZhdWx0KSh2YWx1ZSkpIHtcbiAgICAgICAgc3R5bGVbcHJvcGVydHldID0gcHJlZml4QWxsKHZhbHVlKTtcbiAgICAgICAgLy8gaGFuZGxlIGFycmF5IHZhbHVlc1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YXIgY29tYmluZWRWYWx1ZSA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgIHZhciBwcm9jZXNzZWRWYWx1ZSA9ICgwLCBfcHJlZml4VmFsdWUyLmRlZmF1bHQpKHBsdWdpbnMsIHByb3BlcnR5LCB2YWx1ZVtpXSwgc3R5bGUsIHByZWZpeE1hcCk7XG4gICAgICAgICAgKDAsIF9hZGROZXdWYWx1ZXNPbmx5Mi5kZWZhdWx0KShjb21iaW5lZFZhbHVlLCBwcm9jZXNzZWRWYWx1ZSB8fCB2YWx1ZVtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvbmx5IG1vZGlmeSB0aGUgdmFsdWUgaWYgaXQgd2FzIHRvdWNoZWRcbiAgICAgICAgLy8gYnkgYW55IHBsdWdpbiB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IG11dGF0aW9uc1xuICAgICAgICBpZiAoY29tYmluZWRWYWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc3R5bGVbcHJvcGVydHldID0gY29tYmluZWRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9wcm9jZXNzZWRWYWx1ZSA9ICgwLCBfcHJlZml4VmFsdWUyLmRlZmF1bHQpKHBsdWdpbnMsIHByb3BlcnR5LCB2YWx1ZSwgc3R5bGUsIHByZWZpeE1hcCk7XG5cbiAgICAgICAgLy8gb25seSBtb2RpZnkgdGhlIHZhbHVlIGlmIGl0IHdhcyB0b3VjaGVkXG4gICAgICAgIC8vIGJ5IGFueSBwbHVnaW4gdG8gcHJldmVudCB1bm5lY2Vzc2FyeSBtdXRhdGlvbnNcbiAgICAgICAgaWYgKF9wcm9jZXNzZWRWYWx1ZSkge1xuICAgICAgICAgIHN0eWxlW3Byb3BlcnR5XSA9IF9wcm9jZXNzZWRWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlID0gKDAsIF9wcmVmaXhQcm9wZXJ0eTIuZGVmYXVsdCkocHJlZml4TWFwLCBwcm9wZXJ0eSwgc3R5bGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIHJldHVybiBwcmVmaXhBbGw7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIHcgPSBbXCJXZWJraXRcIl07XG52YXIgbSA9IFtcIk1velwiXTtcbnZhciBtcyA9IFtcIm1zXCJdO1xudmFyIHdtID0gW1wiV2Via2l0XCIsIFwiTW96XCJdO1xudmFyIHdtcyA9IFtcIldlYmtpdFwiLCBcIm1zXCJdO1xudmFyIHdtbXMgPSBbXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiXTtcblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICBwbHVnaW5zOiBbXSxcbiAgcHJlZml4TWFwOiB7IFwiYXBwZWFyYW5jZVwiOiB3bSwgXCJ0ZXh0RW1waGFzaXNQb3NpdGlvblwiOiB3LCBcInRleHRFbXBoYXNpc1wiOiB3LCBcInRleHRFbXBoYXNpc1N0eWxlXCI6IHcsIFwidGV4dEVtcGhhc2lzQ29sb3JcIjogdywgXCJib3hEZWNvcmF0aW9uQnJlYWtcIjogdywgXCJtYXNrSW1hZ2VcIjogdywgXCJtYXNrTW9kZVwiOiB3LCBcIm1hc2tSZXBlYXRcIjogdywgXCJtYXNrUG9zaXRpb25cIjogdywgXCJtYXNrQ2xpcFwiOiB3LCBcIm1hc2tPcmlnaW5cIjogdywgXCJtYXNrU2l6ZVwiOiB3LCBcIm1hc2tDb21wb3NpdGVcIjogdywgXCJtYXNrXCI6IHcsIFwibWFza0JvcmRlclNvdXJjZVwiOiB3LCBcIm1hc2tCb3JkZXJNb2RlXCI6IHcsIFwibWFza0JvcmRlclNsaWNlXCI6IHcsIFwibWFza0JvcmRlcldpZHRoXCI6IHcsIFwibWFza0JvcmRlck91dHNldFwiOiB3LCBcIm1hc2tCb3JkZXJSZXBlYXRcIjogdywgXCJtYXNrQm9yZGVyXCI6IHcsIFwibWFza1R5cGVcIjogdywgXCJ0ZXh0RGVjb3JhdGlvblN0eWxlXCI6IHcsIFwidGV4dERlY29yYXRpb25Ta2lwXCI6IHcsIFwidGV4dERlY29yYXRpb25MaW5lXCI6IHcsIFwidGV4dERlY29yYXRpb25Db2xvclwiOiB3LCBcInVzZXJTZWxlY3RcIjogd21tcywgXCJiYWNrZHJvcEZpbHRlclwiOiB3LCBcImZvbnRLZXJuaW5nXCI6IHcsIFwic2Nyb2xsU25hcFR5cGVcIjogd21zLCBcInNjcm9sbFNuYXBQb2ludHNYXCI6IHdtcywgXCJzY3JvbGxTbmFwUG9pbnRzWVwiOiB3bXMsIFwic2Nyb2xsU25hcERlc3RpbmF0aW9uXCI6IHdtcywgXCJzY3JvbGxTbmFwQ29vcmRpbmF0ZVwiOiB3bXMsIFwiY2xpcFBhdGhcIjogdywgXCJzaGFwZUltYWdlVGhyZXNob2xkXCI6IHcsIFwic2hhcGVJbWFnZU1hcmdpblwiOiB3LCBcInNoYXBlSW1hZ2VPdXRzaWRlXCI6IHcsIFwiZmlsdGVyXCI6IHcsIFwiaHlwaGVuc1wiOiB3bXMsIFwiZmxvd0ludG9cIjogd21zLCBcImZsb3dGcm9tXCI6IHdtcywgXCJicmVha0JlZm9yZVwiOiB3bXMsIFwiYnJlYWtBZnRlclwiOiB3bXMsIFwiYnJlYWtJbnNpZGVcIjogd21zLCBcInJlZ2lvbkZyYWdtZW50XCI6IHdtcywgXCJ3cml0aW5nTW9kZVwiOiB3bXMsIFwidGV4dE9yaWVudGF0aW9uXCI6IHcsIFwidGFiU2l6ZVwiOiBtLCBcImZvbnRGZWF0dXJlU2V0dGluZ3NcIjogdywgXCJjb2x1bW5Db3VudFwiOiB3LCBcImNvbHVtbkZpbGxcIjogdywgXCJjb2x1bW5HYXBcIjogdywgXCJjb2x1bW5SdWxlXCI6IHcsIFwiY29sdW1uUnVsZUNvbG9yXCI6IHcsIFwiY29sdW1uUnVsZVN0eWxlXCI6IHcsIFwiY29sdW1uUnVsZVdpZHRoXCI6IHcsIFwiY29sdW1uc1wiOiB3LCBcImNvbHVtblNwYW5cIjogdywgXCJjb2x1bW5XaWR0aFwiOiB3LCBcIndyYXBGbG93XCI6IG1zLCBcIndyYXBUaHJvdWdoXCI6IG1zLCBcIndyYXBNYXJnaW5cIjogbXMsIFwiZ3JpZFRlbXBsYXRlQ29sdW1uc1wiOiBtcywgXCJncmlkVGVtcGxhdGVSb3dzXCI6IG1zLCBcImdyaWRUZW1wbGF0ZUFyZWFzXCI6IG1zLCBcImdyaWRUZW1wbGF0ZVwiOiBtcywgXCJncmlkQXV0b0NvbHVtbnNcIjogbXMsIFwiZ3JpZEF1dG9Sb3dzXCI6IG1zLCBcImdyaWRBdXRvRmxvd1wiOiBtcywgXCJncmlkXCI6IG1zLCBcImdyaWRSb3dTdGFydFwiOiBtcywgXCJncmlkQ29sdW1uU3RhcnRcIjogbXMsIFwiZ3JpZFJvd0VuZFwiOiBtcywgXCJncmlkUm93XCI6IG1zLCBcImdyaWRDb2x1bW5cIjogbXMsIFwiZ3JpZENvbHVtbkVuZFwiOiBtcywgXCJncmlkQ29sdW1uR2FwXCI6IG1zLCBcImdyaWRSb3dHYXBcIjogbXMsIFwiZ3JpZEFyZWFcIjogbXMsIFwiZ3JpZEdhcFwiOiBtcywgXCJ0ZXh0U2l6ZUFkanVzdFwiOiB3bXMgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gY3Vyc29yO1xudmFyIHByZWZpeGVzID0gWyctd2Via2l0LScsICctbW96LScsICcnXTtcblxudmFyIHZhbHVlcyA9IHtcbiAgJ3pvb20taW4nOiB0cnVlLFxuICAnem9vbS1vdXQnOiB0cnVlLFxuICBncmFiOiB0cnVlLFxuICBncmFiYmluZzogdHJ1ZVxufTtcblxuZnVuY3Rpb24gY3Vyc29yKHByb3BlcnR5LCB2YWx1ZSkge1xuICBpZiAocHJvcGVydHkgPT09ICdjdXJzb3InICYmIHZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gcHJlZml4ZXMubWFwKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICAgIHJldHVybiBwcmVmaXggKyB2YWx1ZTtcbiAgICB9KTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gaXNQcmVmaXhlZFZhbHVlO1xudmFyIHJlZ2V4ID0gLy13ZWJraXQtfC1tb3otfC1tcy0vO1xuXG5mdW5jdGlvbiBpc1ByZWZpeGVkVmFsdWUodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgcmVnZXgudGVzdCh2YWx1ZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBjcm9zc0ZhZGU7XG5cbnZhciBfaXNQcmVmaXhlZFZhbHVlID0gcmVxdWlyZSgnY3NzLWluLWpzLXV0aWxzL2xpYi9pc1ByZWZpeGVkVmFsdWUnKTtcblxudmFyIF9pc1ByZWZpeGVkVmFsdWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQcmVmaXhlZFZhbHVlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9Y3Jvc3MtZmFkZVxudmFyIHByZWZpeGVzID0gWyctd2Via2l0LScsICcnXTtcbmZ1bmN0aW9uIGNyb3NzRmFkZShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgISgwLCBfaXNQcmVmaXhlZFZhbHVlMi5kZWZhdWx0KSh2YWx1ZSkgJiYgdmFsdWUuaW5kZXhPZignY3Jvc3MtZmFkZSgnKSA+IC0xKSB7XG4gICAgcmV0dXJuIHByZWZpeGVzLm1hcChmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvY3Jvc3MtZmFkZVxcKC9nLCBwcmVmaXggKyAnY3Jvc3MtZmFkZSgnKTtcbiAgICB9KTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZmlsdGVyO1xuXG52YXIgX2lzUHJlZml4ZWRWYWx1ZSA9IHJlcXVpcmUoJ2Nzcy1pbi1qcy11dGlscy9saWIvaXNQcmVmaXhlZFZhbHVlJyk7XG5cbnZhciBfaXNQcmVmaXhlZFZhbHVlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUHJlZml4ZWRWYWx1ZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGh0dHA6Ly9jYW5pdXNlLmNvbS8jZmVhdD1jc3MtZmlsdGVyLWZ1bmN0aW9uXG52YXIgcHJlZml4ZXMgPSBbJy13ZWJraXQtJywgJyddO1xuZnVuY3Rpb24gZmlsdGVyKHByb3BlcnR5LCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhKDAsIF9pc1ByZWZpeGVkVmFsdWUyLmRlZmF1bHQpKHZhbHVlKSAmJiB2YWx1ZS5pbmRleE9mKCdmaWx0ZXIoJykgPiAtMSkge1xuICAgIHJldHVybiBwcmVmaXhlcy5tYXAoZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL2ZpbHRlclxcKC9nLCBwcmVmaXggKyAnZmlsdGVyKCcpO1xuICAgIH0pO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBmbGV4O1xudmFyIHZhbHVlcyA9IHtcbiAgZmxleDogWyctd2Via2l0LWJveCcsICctbW96LWJveCcsICctbXMtZmxleGJveCcsICctd2Via2l0LWZsZXgnLCAnZmxleCddLFxuICAnaW5saW5lLWZsZXgnOiBbJy13ZWJraXQtaW5saW5lLWJveCcsICctbW96LWlubGluZS1ib3gnLCAnLW1zLWlubGluZS1mbGV4Ym94JywgJy13ZWJraXQtaW5saW5lLWZsZXgnLCAnaW5saW5lLWZsZXgnXVxufTtcblxuZnVuY3Rpb24gZmxleChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgaWYgKHByb3BlcnR5ID09PSAnZGlzcGxheScgJiYgdmFsdWVzLmhhc093blByb3BlcnR5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZXNbdmFsdWVdO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBmbGV4Ym94T2xkO1xudmFyIGFsdGVybmF0aXZlVmFsdWVzID0ge1xuICAnc3BhY2UtYXJvdW5kJzogJ2p1c3RpZnknLFxuICAnc3BhY2UtYmV0d2Vlbic6ICdqdXN0aWZ5JyxcbiAgJ2ZsZXgtc3RhcnQnOiAnc3RhcnQnLFxuICAnZmxleC1lbmQnOiAnZW5kJyxcbiAgJ3dyYXAtcmV2ZXJzZSc6ICdtdWx0aXBsZScsXG4gIHdyYXA6ICdtdWx0aXBsZScsXG4gIGZsZXg6ICdib3gnLFxuICAnaW5saW5lLWZsZXgnOiAnaW5saW5lLWJveCdcbn07XG5cbnZhciBhbHRlcm5hdGl2ZVByb3BzID0ge1xuICBhbGlnbkl0ZW1zOiAnV2Via2l0Qm94QWxpZ24nLFxuICBqdXN0aWZ5Q29udGVudDogJ1dlYmtpdEJveFBhY2snLFxuICBmbGV4V3JhcDogJ1dlYmtpdEJveExpbmVzJyxcbiAgZmxleEdyb3c6ICdXZWJraXRCb3hGbGV4J1xufTtcblxuZnVuY3Rpb24gZmxleGJveE9sZChwcm9wZXJ0eSwgdmFsdWUsIHN0eWxlKSB7XG4gIGlmIChwcm9wZXJ0eSA9PT0gJ2ZsZXhEaXJlY3Rpb24nICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodmFsdWUuaW5kZXhPZignY29sdW1uJykgPiAtMSkge1xuICAgICAgc3R5bGUuV2Via2l0Qm94T3JpZW50ID0gJ3ZlcnRpY2FsJztcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuV2Via2l0Qm94T3JpZW50ID0gJ2hvcml6b250YWwnO1xuICAgIH1cbiAgICBpZiAodmFsdWUuaW5kZXhPZigncmV2ZXJzZScpID4gLTEpIHtcbiAgICAgIHN0eWxlLldlYmtpdEJveERpcmVjdGlvbiA9ICdyZXZlcnNlJztcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuV2Via2l0Qm94RGlyZWN0aW9uID0gJ25vcm1hbCc7XG4gICAgfVxuICB9XG4gIGlmIChhbHRlcm5hdGl2ZVByb3BzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgIHN0eWxlW2FsdGVybmF0aXZlUHJvcHNbcHJvcGVydHldXSA9IGFsdGVybmF0aXZlVmFsdWVzW3ZhbHVlXSB8fCB2YWx1ZTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ3JhZGllbnQ7XG5cbnZhciBfaXNQcmVmaXhlZFZhbHVlID0gcmVxdWlyZSgnY3NzLWluLWpzLXV0aWxzL2xpYi9pc1ByZWZpeGVkVmFsdWUnKTtcblxudmFyIF9pc1ByZWZpeGVkVmFsdWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQcmVmaXhlZFZhbHVlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHByZWZpeGVzID0gWyctd2Via2l0LScsICctbW96LScsICcnXTtcblxudmFyIHZhbHVlcyA9IC9saW5lYXItZ3JhZGllbnR8cmFkaWFsLWdyYWRpZW50fHJlcGVhdGluZy1saW5lYXItZ3JhZGllbnR8cmVwZWF0aW5nLXJhZGlhbC1ncmFkaWVudC9naTtcblxuZnVuY3Rpb24gZ3JhZGllbnQocHJvcGVydHksIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmICEoMCwgX2lzUHJlZml4ZWRWYWx1ZTIuZGVmYXVsdCkodmFsdWUpICYmIHZhbHVlcy50ZXN0KHZhbHVlKSkge1xuICAgIHJldHVybiBwcmVmaXhlcy5tYXAoZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UodmFsdWVzLCBmdW5jdGlvbiAoZ3JhZCkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgZ3JhZDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpbWFnZVNldDtcblxudmFyIF9pc1ByZWZpeGVkVmFsdWUgPSByZXF1aXJlKCdjc3MtaW4tanMtdXRpbHMvbGliL2lzUHJlZml4ZWRWYWx1ZScpO1xuXG52YXIgX2lzUHJlZml4ZWRWYWx1ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1ByZWZpeGVkVmFsdWUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBodHRwOi8vY2FuaXVzZS5jb20vI2ZlYXQ9Y3NzLWltYWdlLXNldFxudmFyIHByZWZpeGVzID0gWyctd2Via2l0LScsICcnXTtcbmZ1bmN0aW9uIGltYWdlU2V0KHByb3BlcnR5LCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhKDAsIF9pc1ByZWZpeGVkVmFsdWUyLmRlZmF1bHQpKHZhbHVlKSAmJiB2YWx1ZS5pbmRleE9mKCdpbWFnZS1zZXQoJykgPiAtMSkge1xuICAgIHJldHVybiBwcmVmaXhlcy5tYXAoZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL2ltYWdlLXNldFxcKC9nLCBwcmVmaXggKyAnaW1hZ2Utc2V0KCcpO1xuICAgIH0pO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBwb3NpdGlvbjtcbmZ1bmN0aW9uIHBvc2l0aW9uKHByb3BlcnR5LCB2YWx1ZSkge1xuICBpZiAocHJvcGVydHkgPT09ICdwb3NpdGlvbicgJiYgdmFsdWUgPT09ICdzdGlja3knKSB7XG4gICAgcmV0dXJuIFsnLXdlYmtpdC1zdGlja3knLCAnc3RpY2t5J107XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNpemluZztcbnZhciBwcmVmaXhlcyA9IFsnLXdlYmtpdC0nLCAnLW1vei0nLCAnJ107XG5cbnZhciBwcm9wZXJ0aWVzID0ge1xuICBtYXhIZWlnaHQ6IHRydWUsXG4gIG1heFdpZHRoOiB0cnVlLFxuICB3aWR0aDogdHJ1ZSxcbiAgaGVpZ2h0OiB0cnVlLFxuICBjb2x1bW5XaWR0aDogdHJ1ZSxcbiAgbWluV2lkdGg6IHRydWUsXG4gIG1pbkhlaWdodDogdHJ1ZVxufTtcbnZhciB2YWx1ZXMgPSB7XG4gICdtaW4tY29udGVudCc6IHRydWUsXG4gICdtYXgtY29udGVudCc6IHRydWUsXG4gICdmaWxsLWF2YWlsYWJsZSc6IHRydWUsXG4gICdmaXQtY29udGVudCc6IHRydWUsXG4gICdjb250YWluLWZsb2F0cyc6IHRydWVcbn07XG5cbmZ1bmN0aW9uIHNpemluZyhwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgaWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpICYmIHZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gcHJlZml4ZXMubWFwKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICAgIHJldHVybiBwcmVmaXggKyB2YWx1ZTtcbiAgICB9KTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXBwZXJjYXNlUGF0dGVybiA9IC9bQS1aXS9nO1xudmFyIG1zUGF0dGVybiA9IC9ebXMtLztcbnZhciBjYWNoZSA9IHt9O1xuXG5mdW5jdGlvbiBoeXBoZW5hdGVTdHlsZU5hbWUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZyBpbiBjYWNoZVxuICAgID8gY2FjaGVbc3RyaW5nXVxuICAgIDogY2FjaGVbc3RyaW5nXSA9IHN0cmluZ1xuICAgICAgLnJlcGxhY2UodXBwZXJjYXNlUGF0dGVybiwgJy0kJicpXG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnJlcGxhY2UobXNQYXR0ZXJuLCAnLW1zLScpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGh5cGhlbmF0ZVN0eWxlTmFtZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGh5cGhlbmF0ZVByb3BlcnR5O1xuXG52YXIgX2h5cGhlbmF0ZVN0eWxlTmFtZSA9IHJlcXVpcmUoJ2h5cGhlbmF0ZS1zdHlsZS1uYW1lJyk7XG5cbnZhciBfaHlwaGVuYXRlU3R5bGVOYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2h5cGhlbmF0ZVN0eWxlTmFtZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGh5cGhlbmF0ZVByb3BlcnR5KHByb3BlcnR5KSB7XG4gIHJldHVybiAoMCwgX2h5cGhlbmF0ZVN0eWxlTmFtZTIuZGVmYXVsdCkocHJvcGVydHkpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdHJhbnNpdGlvbjtcblxudmFyIF9oeXBoZW5hdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJ2Nzcy1pbi1qcy11dGlscy9saWIvaHlwaGVuYXRlUHJvcGVydHknKTtcblxudmFyIF9oeXBoZW5hdGVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oeXBoZW5hdGVQcm9wZXJ0eSk7XG5cbnZhciBfaXNQcmVmaXhlZFZhbHVlID0gcmVxdWlyZSgnY3NzLWluLWpzLXV0aWxzL2xpYi9pc1ByZWZpeGVkVmFsdWUnKTtcblxudmFyIF9pc1ByZWZpeGVkVmFsdWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQcmVmaXhlZFZhbHVlKTtcblxudmFyIF9jYXBpdGFsaXplU3RyaW5nID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvY2FwaXRhbGl6ZVN0cmluZycpO1xuXG52YXIgX2NhcGl0YWxpemVTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FwaXRhbGl6ZVN0cmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBwcm9wZXJ0aWVzID0ge1xuICB0cmFuc2l0aW9uOiB0cnVlLFxuICB0cmFuc2l0aW9uUHJvcGVydHk6IHRydWUsXG4gIFdlYmtpdFRyYW5zaXRpb246IHRydWUsXG4gIFdlYmtpdFRyYW5zaXRpb25Qcm9wZXJ0eTogdHJ1ZSxcbiAgTW96VHJhbnNpdGlvbjogdHJ1ZSxcbiAgTW96VHJhbnNpdGlvblByb3BlcnR5OiB0cnVlXG59O1xuXG5cbnZhciBwcmVmaXhNYXBwaW5nID0ge1xuICBXZWJraXQ6ICctd2Via2l0LScsXG4gIE1vejogJy1tb3otJyxcbiAgbXM6ICctbXMtJ1xufTtcblxuZnVuY3Rpb24gcHJlZml4VmFsdWUodmFsdWUsIHByb3BlcnR5UHJlZml4TWFwKSB7XG4gIGlmICgoMCwgX2lzUHJlZml4ZWRWYWx1ZTIuZGVmYXVsdCkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLy8gb25seSBzcGxpdCBtdWx0aSB2YWx1ZXMsIG5vdCBjdWJpYyBiZXppZXJzXG4gIHZhciBtdWx0aXBsZVZhbHVlcyA9IHZhbHVlLnNwbGl0KC8sKD8hW14oKV0qKD86XFwoW14oKV0qXFwpKT9cXCkpL2cpO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtdWx0aXBsZVZhbHVlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciBzaW5nbGVWYWx1ZSA9IG11bHRpcGxlVmFsdWVzW2ldO1xuICAgIHZhciB2YWx1ZXMgPSBbc2luZ2xlVmFsdWVdO1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnR5UHJlZml4TWFwKSB7XG4gICAgICB2YXIgZGFzaENhc2VQcm9wZXJ0eSA9ICgwLCBfaHlwaGVuYXRlUHJvcGVydHkyLmRlZmF1bHQpKHByb3BlcnR5KTtcblxuICAgICAgaWYgKHNpbmdsZVZhbHVlLmluZGV4T2YoZGFzaENhc2VQcm9wZXJ0eSkgPiAtMSAmJiBkYXNoQ2FzZVByb3BlcnR5ICE9PSAnb3JkZXInKSB7XG4gICAgICAgIHZhciBwcmVmaXhlcyA9IHByb3BlcnR5UHJlZml4TWFwW3Byb3BlcnR5XTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIHBMZW4gPSBwcmVmaXhlcy5sZW5ndGg7IGogPCBwTGVuOyArK2opIHtcbiAgICAgICAgICAvLyBqb2luIGFsbCBwcmVmaXhlcyBhbmQgY3JlYXRlIGEgbmV3IHZhbHVlXG4gICAgICAgICAgdmFsdWVzLnVuc2hpZnQoc2luZ2xlVmFsdWUucmVwbGFjZShkYXNoQ2FzZVByb3BlcnR5LCBwcmVmaXhNYXBwaW5nW3ByZWZpeGVzW2pdXSArIGRhc2hDYXNlUHJvcGVydHkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIG11bHRpcGxlVmFsdWVzW2ldID0gdmFsdWVzLmpvaW4oJywnKTtcbiAgfVxuXG4gIHJldHVybiBtdWx0aXBsZVZhbHVlcy5qb2luKCcsJyk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb24ocHJvcGVydHksIHZhbHVlLCBzdHlsZSwgcHJvcGVydHlQcmVmaXhNYXApIHtcbiAgLy8gYWxzbyBjaGVjayBmb3IgYWxyZWFkeSBwcmVmaXhlZCB0cmFuc2l0aW9uc1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiBwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgIHZhciBvdXRwdXRWYWx1ZSA9IHByZWZpeFZhbHVlKHZhbHVlLCBwcm9wZXJ0eVByZWZpeE1hcCk7XG4gICAgLy8gaWYgdGhlIHByb3BlcnR5IGlzIGFscmVhZHkgcHJlZml4ZWRcbiAgICB2YXIgd2Via2l0T3V0cHV0ID0gb3V0cHV0VmFsdWUuc3BsaXQoLywoPyFbXigpXSooPzpcXChbXigpXSpcXCkpP1xcKSkvZykuZmlsdGVyKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiAhLy1tb3otfC1tcy0vLnRlc3QodmFsKTtcbiAgICB9KS5qb2luKCcsJyk7XG5cbiAgICBpZiAocHJvcGVydHkuaW5kZXhPZignV2Via2l0JykgPiAtMSkge1xuICAgICAgcmV0dXJuIHdlYmtpdE91dHB1dDtcbiAgICB9XG5cbiAgICB2YXIgbW96T3V0cHV0ID0gb3V0cHV0VmFsdWUuc3BsaXQoLywoPyFbXigpXSooPzpcXChbXigpXSpcXCkpP1xcKSkvZykuZmlsdGVyKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiAhLy13ZWJraXQtfC1tcy0vLnRlc3QodmFsKTtcbiAgICB9KS5qb2luKCcsJyk7XG5cbiAgICBpZiAocHJvcGVydHkuaW5kZXhPZignTW96JykgPiAtMSkge1xuICAgICAgcmV0dXJuIG1vek91dHB1dDtcbiAgICB9XG5cbiAgICBzdHlsZVsnV2Via2l0JyArICgwLCBfY2FwaXRhbGl6ZVN0cmluZzIuZGVmYXVsdCkocHJvcGVydHkpXSA9IHdlYmtpdE91dHB1dDtcbiAgICBzdHlsZVsnTW96JyArICgwLCBfY2FwaXRhbGl6ZVN0cmluZzIuZGVmYXVsdCkocHJvcGVydHkpXSA9IG1vek91dHB1dDtcbiAgICByZXR1cm4gb3V0cHV0VmFsdWU7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVQcmVmaXhlciA9IHJlcXVpcmUoJy4vY3JlYXRlUHJlZml4ZXInKTtcblxudmFyIF9jcmVhdGVQcmVmaXhlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVQcmVmaXhlcik7XG5cbnZhciBfc3RhdGljRGF0YSA9IHJlcXVpcmUoJy4vc3RhdGljRGF0YScpO1xuXG52YXIgX3N0YXRpY0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RhdGljRGF0YSk7XG5cbnZhciBfY3Vyc29yID0gcmVxdWlyZSgnLi9wbHVnaW5zL2N1cnNvcicpO1xuXG52YXIgX2N1cnNvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJzb3IpO1xuXG52YXIgX2Nyb3NzRmFkZSA9IHJlcXVpcmUoJy4vcGx1Z2lucy9jcm9zc0ZhZGUnKTtcblxudmFyIF9jcm9zc0ZhZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3Jvc3NGYWRlKTtcblxudmFyIF9maWx0ZXIgPSByZXF1aXJlKCcuL3BsdWdpbnMvZmlsdGVyJyk7XG5cbnZhciBfZmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbHRlcik7XG5cbnZhciBfZmxleCA9IHJlcXVpcmUoJy4vcGx1Z2lucy9mbGV4Jyk7XG5cbnZhciBfZmxleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mbGV4KTtcblxudmFyIF9mbGV4Ym94T2xkID0gcmVxdWlyZSgnLi9wbHVnaW5zL2ZsZXhib3hPbGQnKTtcblxudmFyIF9mbGV4Ym94T2xkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZsZXhib3hPbGQpO1xuXG52YXIgX2dyYWRpZW50ID0gcmVxdWlyZSgnLi9wbHVnaW5zL2dyYWRpZW50Jyk7XG5cbnZhciBfZ3JhZGllbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ3JhZGllbnQpO1xuXG52YXIgX2ltYWdlU2V0ID0gcmVxdWlyZSgnLi9wbHVnaW5zL2ltYWdlU2V0Jyk7XG5cbnZhciBfaW1hZ2VTZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW1hZ2VTZXQpO1xuXG52YXIgX3Bvc2l0aW9uID0gcmVxdWlyZSgnLi9wbHVnaW5zL3Bvc2l0aW9uJyk7XG5cbnZhciBfcG9zaXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zaXRpb24pO1xuXG52YXIgX3NpemluZyA9IHJlcXVpcmUoJy4vcGx1Z2lucy9zaXppbmcnKTtcblxudmFyIF9zaXppbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2l6aW5nKTtcblxudmFyIF90cmFuc2l0aW9uID0gcmVxdWlyZSgnLi9wbHVnaW5zL3RyYW5zaXRpb24nKTtcblxudmFyIF90cmFuc2l0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyYW5zaXRpb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgcGx1Z2lucyA9IFtfY3Jvc3NGYWRlMi5kZWZhdWx0LCBfY3Vyc29yMi5kZWZhdWx0LCBfZmlsdGVyMi5kZWZhdWx0LCBfZmxleGJveE9sZDIuZGVmYXVsdCwgX2dyYWRpZW50Mi5kZWZhdWx0LCBfaW1hZ2VTZXQyLmRlZmF1bHQsIF9wb3NpdGlvbjIuZGVmYXVsdCwgX3NpemluZzIuZGVmYXVsdCwgX3RyYW5zaXRpb24yLmRlZmF1bHQsIF9mbGV4Mi5kZWZhdWx0XTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9jcmVhdGVQcmVmaXhlcjIuZGVmYXVsdCkoe1xuICBwcmVmaXhNYXA6IF9zdGF0aWNEYXRhMi5kZWZhdWx0LnByZWZpeE1hcCxcbiAgcGx1Z2luczogcGx1Z2luc1xufSk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCJpbXBvcnQgcHJlZml4QWxsIGZyb20gJ2lubGluZS1zdHlsZS1wcmVmaXhlci9zdGF0aWMnO1xuXG4vLyAgc3RyaWN0XG52YXIgU2VxdWVudGlhbElER2VuZXJhdG9yID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2VxdWVudGlhbElER2VuZXJhdG9yKHByZWZpeCkge1xuICAgIGlmIChwcmVmaXggPT09IHZvaWQgMCkge1xuICAgICAgcHJlZml4ID0gXCJcIjtcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgc3RhcnQgd2l0aCBcImFlXCIgc28gXCJhZFwiIGlzIG5ldmVyIHByb2R1Y2VkXG4gICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gICAgdGhpcy5vZmZzZXQgPSAzNzQ7XG4gICAgdGhpcy5tc2IgPSAxMjk1O1xuICAgIHRoaXMucG93ZXIgPSAyO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFNlcXVlbnRpYWxJREdlbmVyYXRvci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLm5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHZhciBpZCA9IHRoaXMuaW5jcmVtZW50KCkudG9TdHJpbmcoMzYpO1xuICAgIHJldHVybiB0aGlzLnByZWZpeCA/IFwiXCIgKyB0aGlzLnByZWZpeCArIGlkIDogaWQ7XG4gIH07XG5cbiAgX3Byb3RvLmluY3JlbWVudCA9IGZ1bmN0aW9uIGluY3JlbWVudCgpIHtcbiAgICB2YXIgaWQgPSB0aGlzLmNvdW50ICsgdGhpcy5vZmZzZXQ7XG5cbiAgICBpZiAoaWQgPT09IHRoaXMubXNiKSB7XG4gICAgICB0aGlzLm9mZnNldCArPSAodGhpcy5tc2IgKyAxKSAqIDk7XG4gICAgICB0aGlzLm1zYiA9IE1hdGgucG93KDM2LCArK3RoaXMucG93ZXIpIC0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNvdW50Kys7XG4gICAgcmV0dXJuIGlkO1xuICB9O1xuXG4gIHJldHVybiBTZXF1ZW50aWFsSURHZW5lcmF0b3I7XG59KCk7XG5cbi8vICBzdHJpY3RcbnZhciBNdWx0aUNhY2hlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTXVsdGlDYWNoZShpZEdlbmVyYXRvciwgb25OZXdDYWNoZSwgb25OZXdWYWx1ZSkge1xuICAgIHRoaXMuaWRHZW5lcmF0b3IgPSBpZEdlbmVyYXRvcjtcbiAgICB0aGlzLm9uTmV3Q2FjaGUgPSBvbk5ld0NhY2hlO1xuICAgIHRoaXMub25OZXdWYWx1ZSA9IG9uTmV3VmFsdWU7XG4gICAgdGhpcy5jYWNoZXMgPSB7fTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBNdWx0aUNhY2hlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uZ2V0Q2FjaGUgPSBmdW5jdGlvbiBnZXRDYWNoZShrZXkpIHtcbiAgICBpZiAoIXRoaXMuY2FjaGVzW2tleV0pIHtcbiAgICAgIHZhciBfY2FjaGUgPSBuZXcgQ2FjaGUodGhpcy5pZEdlbmVyYXRvciwgdGhpcy5vbk5ld1ZhbHVlKTtcblxuICAgICAgX2NhY2hlLmtleSA9IGtleTtcbiAgICAgIHRoaXMuY2FjaGVzW2tleV0gPSBfY2FjaGU7XG4gICAgICB0aGlzLm9uTmV3Q2FjaGUoa2V5LCBfY2FjaGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNhY2hlc1trZXldO1xuICB9O1xuXG4gIHJldHVybiBNdWx0aUNhY2hlO1xufSgpO1xudmFyIENhY2hlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2FjaGUoaWRHZW5lcmF0b3IsIG9uTmV3VmFsdWUpIHtcbiAgICB0aGlzLmNhY2hlID0ge307XG4gICAgdGhpcy5pZEdlbmVyYXRvciA9IGlkR2VuZXJhdG9yO1xuICAgIHRoaXMub25OZXdWYWx1ZSA9IG9uTmV3VmFsdWU7XG4gIH1cblxuICB2YXIgX3Byb3RvMiA9IENhY2hlLnByb3RvdHlwZTtcblxuICBfcHJvdG8yLmFkZFZhbHVlID0gZnVuY3Rpb24gYWRkVmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBjYWNoZWQgPSB0aGlzLmNhY2hlW2tleV07XG5cbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICByZXR1cm4gY2FjaGVkO1xuICAgIH1cblxuICAgIHZhciBpZCA9IHRoaXMuaWRHZW5lcmF0b3IubmV4dCgpO1xuICAgIHRoaXMuY2FjaGVba2V5XSA9IGlkO1xuICAgIHRoaXMub25OZXdWYWx1ZSh0aGlzLCBpZCwgdmFsdWUpO1xuICAgIHJldHVybiBpZDtcbiAgfTtcblxuICByZXR1cm4gQ2FjaGU7XG59KCk7XG5cbnZhciB1cHBlcmNhc2VQYXR0ZXJuID0gL1tBLVpdL2c7XG52YXIgbXNQYXR0ZXJuID0gL15tcy0vO1xudmFyIGNhY2hlID0ge307XG5mdW5jdGlvbiBoeXBoZW5hdGVTdHlsZU5hbWUocHJvcCkge1xuICByZXR1cm4gcHJvcCBpbiBjYWNoZSA/IGNhY2hlW3Byb3BdIDogY2FjaGVbcHJvcF0gPSBwcm9wLnJlcGxhY2UodXBwZXJjYXNlUGF0dGVybiwgXCItJCZcIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKG1zUGF0dGVybiwgXCItbXMtXCIpO1xufVxuXG4vKipcbiAqIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2lsbW9yZW9ybGVzcy9jc3Mtc2hvcnRoYW5kLXByb3BlcnRpZXNcbiAqL1xudmFyIHNob3J0aGFuZE1hcCA9IHtcbiAgLy8gQ1NTIDIuMTogaHR0cHM6Ly93d3cudzMub3JnL1RSL0NTUzIvcHJvcGlkeC5odG1sXG4gIFwibGlzdC1zdHlsZVwiOiBbXCJsaXN0LXN0eWxlLXR5cGVcIiwgXCJsaXN0LXN0eWxlLXBvc2l0aW9uXCIsIFwibGlzdC1zdHlsZS1pbWFnZVwiXSxcbiAgbWFyZ2luOiBbXCJtYXJnaW4tdG9wXCIsIFwibWFyZ2luLXJpZ2h0XCIsIFwibWFyZ2luLWJvdHRvbVwiLCBcIm1hcmdpbi1sZWZ0XCJdLFxuICBvdXRsaW5lOiBbXCJvdXRsaW5lLXdpZHRoXCIsIFwib3V0bGluZS1zdHlsZVwiLCBcIm91dGxpbmUtY29sb3JcIl0sXG4gIHBhZGRpbmc6IFtcInBhZGRpbmctdG9wXCIsIFwicGFkZGluZy1yaWdodFwiLCBcInBhZGRpbmctYm90dG9tXCIsIFwicGFkZGluZy1sZWZ0XCJdLFxuICAvLyBDU1MgQmFja2dyb3VuZHMgYW5kIEJvcmRlcnMgTW9kdWxlIExldmVsIDM6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MzLWJhY2tncm91bmQvXG4gIGJhY2tncm91bmQ6IFtcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsIFwiYmFja2dyb3VuZC1zaXplXCIsIFwiYmFja2dyb3VuZC1yZXBlYXRcIiwgXCJiYWNrZ3JvdW5kLW9yaWdpblwiLCBcImJhY2tncm91bmQtY2xpcFwiLCBcImJhY2tncm91bmQtYXR0YWNobWVudFwiLCBcImJhY2tncm91bmQtY29sb3JcIl0sXG4gIGJvcmRlcjogW1wiYm9yZGVyLXRvcC13aWR0aFwiLCBcImJvcmRlci1yaWdodC13aWR0aFwiLCBcImJvcmRlci1ib3R0b20td2lkdGhcIiwgXCJib3JkZXItbGVmdC13aWR0aFwiLCBcImJvcmRlci13aWR0aFwiLCBcImJvcmRlci10b3Atc3R5bGVcIiwgXCJib3JkZXItcmlnaHQtc3R5bGVcIiwgXCJib3JkZXItYm90dG9tLXN0eWxlXCIsIFwiYm9yZGVyLWxlZnQtc3R5bGVcIiwgXCJib3JkZXItc3R5bGVcIiwgXCJib3JkZXItdG9wLWNvbG9yXCIsIFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIsIFwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLCBcImJvcmRlci1sZWZ0LWNvbG9yXCIsIFwiYm9yZGVyLWNvbG9yXCJdLFxuICBcImJvcmRlci1jb2xvclwiOiBbXCJib3JkZXItdG9wLWNvbG9yXCIsIFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIsIFwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLCBcImJvcmRlci1sZWZ0LWNvbG9yXCJdLFxuICBcImJvcmRlci1zdHlsZVwiOiBbXCJib3JkZXItdG9wLXN0eWxlXCIsIFwiYm9yZGVyLXJpZ2h0LXN0eWxlXCIsIFwiYm9yZGVyLWJvdHRvbS1zdHlsZVwiLCBcImJvcmRlci1sZWZ0LXN0eWxlXCJdLFxuICBcImJvcmRlci13aWR0aFwiOiBbXCJib3JkZXItdG9wLXdpZHRoXCIsIFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsIFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLCBcImJvcmRlci1sZWZ0LXdpZHRoXCJdLFxuICBcImJvcmRlci10b3BcIjogW1wiYm9yZGVyLXRvcC13aWR0aFwiLCBcImJvcmRlci10b3Atc3R5bGVcIiwgXCJib3JkZXItdG9wLWNvbG9yXCJdLFxuICBcImJvcmRlci1yaWdodFwiOiBbXCJib3JkZXItcmlnaHQtd2lkdGhcIiwgXCJib3JkZXItcmlnaHQtc3R5bGVcIiwgXCJib3JkZXItcmlnaHQtY29sb3JcIl0sXG4gIFwiYm9yZGVyLWJvdHRvbVwiOiBbXCJib3JkZXItYm90dG9tLXdpZHRoXCIsIFwiYm9yZGVyLWJvdHRvbS1zdHlsZVwiLCBcImJvcmRlci1ib3R0b20tY29sb3JcIl0sXG4gIFwiYm9yZGVyLWxlZnRcIjogW1wiYm9yZGVyLWxlZnQtd2lkdGhcIiwgXCJib3JkZXItbGVmdC1zdHlsZVwiLCBcImJvcmRlci1sZWZ0LWNvbG9yXCJdLFxuICBcImJvcmRlci1yYWRpdXNcIjogW1wiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiLCBcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCIsIFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIiwgXCJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzXCJdLFxuICBcImJvcmRlci1pbWFnZVwiOiBbXCJib3JkZXItaW1hZ2Utc291cmNlXCIsIFwiYm9yZGVyLWltYWdlLXNsaWNlXCIsIFwiYm9yZGVyLWltYWdlLXdpZHRoXCIsIFwiYm9yZGVyLWltYWdlLW91dHNldFwiLCBcImJvcmRlci1pbWFnZS1yZXBlYXRcIl0sXG4gIC8vIENTUyBGb250cyBNb2R1bGUgTGV2ZWwgMzogaHR0cHM6Ly93d3cudzMub3JnL1RSL2NzczMtZm9udHMvXG4gIGZvbnQ6IFtcImZvbnQtc3R5bGVcIiwgXCJmb250LXZhcmlhbnQtbGlnYXR1cmVzXCIsIFwiZm9udC12YXJpYW50LWFsdGVybmF0ZXNcIiwgXCJmb250LXZhcmlhbnQtY2Fwc1wiLCBcImZvbnQtdmFyaWFudC1udW1lcmljXCIsIFwiZm9udC12YXJpYW50LWVhc3QtYXNpYW5cIiwgXCJmb250LXZhcmlhbnRcIiwgXCJmb250LXdlaWdodFwiLCBcImZvbnQtc3RyZXRjaFwiLCBcImZvbnQtc2l6ZVwiLCBcImxpbmUtaGVpZ2h0XCIsIFwiZm9udC1mYW1pbHlcIl0sXG4gIFwiZm9udC12YXJpYW50XCI6IFtcImZvbnQtdmFyaWFudC1saWdhdHVyZXNcIiwgXCJmb250LXZhcmlhbnQtYWx0ZXJuYXRlc1wiLCBcImZvbnQtdmFyaWFudC1jYXBzXCIsIFwiZm9udC12YXJpYW50LW51bWVyaWNcIiwgXCJmb250LXZhcmlhbnQtZWFzdC1hc2lhblwiXSxcbiAgLy8gQ1NTIEZsZXhpYmxlIEJveCBMYXlvdXQgTW9kdWxlIExldmVsIDE6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MzLWZsZXhib3gtMS9cbiAgZmxleDogW1wiZmxleC1ncm93XCIsIFwiZmxleC1zaHJpbmtcIiwgXCJmbGV4LWJhc2lzXCJdLFxuICBcImZsZXgtZmxvd1wiOiBbXCJmbGV4LWRpcmVjdGlvblwiLCBcImZsZXgtd3JhcFwiXSxcbiAgLy8gQ1NTIEdyaWQgTGF5b3V0IE1vZHVsZSBMZXZlbCAxOiBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLWdyaWQtMS9cbiAgZ3JpZDogW1wiZ3JpZC10ZW1wbGF0ZS1yb3dzXCIsIFwiZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zXCIsIFwiZ3JpZC10ZW1wbGF0ZS1hcmVhc1wiLCBcImdyaWQtYXV0by1yb3dzXCIsIFwiZ3JpZC1hdXRvLWNvbHVtbnNcIiwgXCJncmlkLWF1dG8tZmxvd1wiXSxcbiAgXCJncmlkLXRlbXBsYXRlXCI6IFtcImdyaWQtdGVtcGxhdGUtcm93c1wiLCBcImdyaWQtdGVtcGxhdGUtY29sdW1uc1wiLCBcImdyaWQtdGVtcGxhdGUtYXJlYXNcIl0sXG4gIFwiZ3JpZC1yb3dcIjogW1wiZ3JpZC1yb3ctc3RhcnRcIiwgXCJncmlkLXJvdy1lbmRcIl0sXG4gIFwiZ3JpZC1jb2x1bW5cIjogW1wiZ3JpZC1jb2x1bW4tc3RhcnRcIiwgXCJncmlkLWNvbHVtbi1lbmRcIl0sXG4gIFwiZ3JpZC1hcmVhXCI6IFtcImdyaWQtcm93LXN0YXJ0XCIsIFwiZ3JpZC1jb2x1bW4tc3RhcnRcIiwgXCJncmlkLXJvdy1lbmRcIiwgXCJncmlkLWNvbHVtbi1lbmRcIl0sXG4gIFwiZ3JpZC1nYXBcIjogW1wiZ3JpZC1yb3ctZ2FwXCIsIFwiZ3JpZC1jb2x1bW4tZ2FwXCJdLFxuICAvLyBDU1MgTWFza2luZyBNb2R1bGUgTGV2ZWwgMTogaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1tYXNraW5nL1xuICBtYXNrOiBbXCJtYXNrLWltYWdlXCIsIFwibWFzay1tb2RlXCIsIFwibWFzay1wb3NpdGlvblwiLCBcIm1hc2stc2l6ZVwiLCBcIm1hc2stcmVwZWF0XCIsIFwibWFzay1vcmlnaW5cIiwgXCJtYXNrLWNsaXBcIl0sXG4gIFwibWFzay1ib3JkZXJcIjogW1wibWFzay1ib3JkZXItc291cmNlXCIsIFwibWFzay1ib3JkZXItc2xpY2VcIiwgXCJtYXNrLWJvcmRlci13aWR0aFwiLCBcIm1hc2stYm9yZGVyLW91dHNldFwiLCBcIm1hc2stYm9yZGVyLXJlcGVhdFwiLCBcIm1hc2stYm9yZGVyLW1vZGVcIl0sXG4gIC8vIENTUyBNdWx0aS1jb2x1bW4gTGF5b3V0IE1vZHVsZTogaHR0cHM6Ly93d3cudzMub3JnL1RSL2NzczMtbXVsdGljb2wvXG4gIGNvbHVtbnM6IFtcImNvbHVtbi13aWR0aFwiLCBcImNvbHVtbi1jb3VudFwiXSxcbiAgXCJjb2x1bW4tcnVsZVwiOiBbXCJjb2x1bW4tcnVsZS13aWR0aFwiLCBcImNvbHVtbi1ydWxlLXN0eWxlXCIsIFwiY29sdW1uLXJ1bGUtY29sb3JcIl0sXG4gIC8vIENTUyBTY3JvbGwgU25hcCBNb2R1bGUgTGV2ZWwgMTogaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1zY3JvbGwtc25hcC0xL1xuICBcInNjcm9sbC1wYWRkaW5nXCI6IFtcInNjcm9sbC1wYWRkaW5nLXRvcFwiLCBcInNjcm9sbC1wYWRkaW5nLXJpZ2h0XCIsIFwic2Nyb2xsLXBhZGRpbmctYm90dG9tXCIsIFwic2Nyb2xsLXBhZGRpbmctbGVmdFwiXSxcbiAgXCJzY3JvbGwtcGFkZGluZy1ibG9ja1wiOiBbXCJzY3JvbGwtcGFkZGluZy1ibG9jay1zdGFydFwiLCBcInNjcm9sbC1wYWRkaW5nLWJsb2NrLWVuZFwiXSxcbiAgXCJzY3JvbGwtcGFkZGluZy1pbmxpbmVcIjogW1wic2Nyb2xsLXBhZGRpbmctaW5saW5lLXN0YXJ0XCIsIFwic2Nyb2xsLXBhZGRpbmctaW5saW5lLWVuZFwiXSxcbiAgXCJzY3JvbGwtc25hcC1tYXJnaW5cIjogW1wic2Nyb2xsLXNuYXAtbWFyZ2luLXRvcFwiLCBcInNjcm9sbC1zbmFwLW1hcmdpbi1yaWdodFwiLCBcInNjcm9sbC1zbmFwLW1hcmdpbi1ib3R0b21cIiwgXCJzY3JvbGwtc25hcC1tYXJnaW4tbGVmdFwiXSxcbiAgXCJzY3JvbGwtc25hcC1tYXJnaW4tYmxvY2tcIjogW1wic2Nyb2xsLXNuYXAtbWFyZ2luLWJsb2NrLXN0YXJ0XCIsIFwic2Nyb2xsLXNuYXAtbWFyZ2luLWJsb2NrLWVuZFwiXSxcbiAgXCJzY3JvbGwtc25hcC1tYXJnaW4taW5saW5lXCI6IFtcInNjcm9sbC1zbmFwLW1hcmdpbi1pbmxpbmUtc3RhcnRcIiwgXCJzY3JvbGwtc25hcC1tYXJnaW4taW5saW5lLWVuZFwiXSxcbiAgLy8gQ1NTIFNwZWVjaCBNb2R1bGU6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNwZWVjaC9cbiAgY3VlOiBbXCJjdWUtYmVmb3JlXCIsIFwiY3VlLWFmdGVyXCJdLFxuICBwYXVzZTogW1wicGF1c2UtYmVmb3JlXCIsIFwicGF1c2UtYWZ0ZXJcIl0sXG4gIHJlc3Q6IFtcInJlc3QtYmVmb3JlXCIsIFwicmVzdC1hZnRlclwiXSxcbiAgLy8gQ1NTIFRleHQgRGVjb3JhdGlvbiBNb2R1bGUgTGV2ZWwgMzogaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy10ZXh0LWRlY29yLTMvXG4gIFwidGV4dC1kZWNvcmF0aW9uXCI6IFtcInRleHQtZGVjb3JhdGlvbi1saW5lXCIsIFwidGV4dC1kZWNvcmF0aW9uLXN0eWxlXCIsIFwidGV4dC1kZWNvcmF0aW9uLWNvbG9yXCJdLFxuICBcInRleHQtZW1waGFzaXNcIjogW1widGV4dC1lbXBoYXNpcy1zdHlsZVwiLCBcInRleHQtZW1waGFzaXMtY29sb3JcIl0sXG4gIC8vIENTUyBBbmltYXRpb25zIChXRCk6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MzLWFuaW1hdGlvbnNcbiAgYW5pbWF0aW9uOiBbXCJhbmltYXRpb24tbmFtZVwiLCBcImFuaW1hdGlvbi1kdXJhdGlvblwiLCBcImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb25cIiwgXCJhbmltYXRpb24tZGVsYXlcIiwgXCJhbmltYXRpb24taXRlcmF0aW9uLWNvdW50XCIsIFwiYW5pbWF0aW9uLWRpcmVjdGlvblwiLCBcImFuaW1hdGlvbi1maWxsLW1vZGVcIiwgXCJhbmltYXRpb24tcGxheS1zdGF0ZVwiXSxcbiAgLy8gQ1NTIFRyYW5zaXRpb25zIChXRCk6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MzLXRyYW5zaXRpb25zL1xuICB0cmFuc2l0aW9uOiBbXCJ0cmFuc2l0aW9uLXByb3BlcnR5XCIsIFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCIsIFwidHJhbnNpdGlvbi1kZWxheVwiXVxufTtcbmZ1bmN0aW9uIHZhbGlkYXRlTm9NaXhlZEhhbmQoc3R5bGUpIHtcbiAgdmFyIGh5cGhlbmF0ZWRQcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMoc3R5bGUpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwcm9wZXJ0eSkge1xuICAgIGFjY1toeXBoZW5hdGVTdHlsZU5hbWUocHJvcGVydHkpXSA9IHByb3BlcnR5O1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgdmFyIG1peGVkID0gW107XG5cbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gaHlwaGVuYXRlZFByb3BlcnRpZXMpIHtcbiAgICBpZiAocHJvcGVydHkgaW4gc2hvcnRoYW5kTWFwKSB7XG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBzaG9ydGhhbmRNYXBbcHJvcGVydHldLCBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoX2l0ZXJhdG9yKSwgX2kgPSAwLCBfaXRlcmF0b3IgPSBfaXNBcnJheSA/IF9pdGVyYXRvciA6IF9pdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuICAgICAgICB2YXIgX3JlZjtcblxuICAgICAgICBpZiAoX2lzQXJyYXkpIHtcbiAgICAgICAgICBpZiAoX2kgPj0gX2l0ZXJhdG9yLmxlbmd0aCkgYnJlYWs7XG4gICAgICAgICAgX3JlZiA9IF9pdGVyYXRvcltfaSsrXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfaSA9IF9pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKF9pLmRvbmUpIGJyZWFrO1xuICAgICAgICAgIF9yZWYgPSBfaS52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfbG9uZ2hhbmQgPSBfcmVmO1xuXG4gICAgICAgIGlmIChfbG9uZ2hhbmQgaW4gaHlwaGVuYXRlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgICB2YXIgbG9uZyA9IGh5cGhlbmF0ZWRQcm9wZXJ0aWVzW19sb25naGFuZF07XG4gICAgICAgICAgdmFyIHNob3J0ID0gaHlwaGVuYXRlZFByb3BlcnRpZXNbcHJvcGVydHldO1xuICAgICAgICAgIG1peGVkLnB1c2goe1xuICAgICAgICAgICAgc2hvcnRoYW5kOiB7XG4gICAgICAgICAgICAgIHByb3BlcnR5OiBzaG9ydCxcbiAgICAgICAgICAgICAgdmFsdWU6IHN0eWxlW3Nob3J0XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxvbmdoYW5kOiB7XG4gICAgICAgICAgICAgIHByb3BlcnR5OiBsb25nLFxuICAgICAgICAgICAgICB2YWx1ZTogc3R5bGVbbG9uZ11cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtaXhlZDtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gaW5qZWN0U3R5bGVQcmVmaXhlZChzdHlsZUNhY2hlLCBzdHlsZXMsIG1lZGlhLCBwc2V1ZG8pIHtcbiAgdmFyIGNhY2hlID0gc3R5bGVDYWNoZS5nZXRDYWNoZShtZWRpYSk7XG4gIHZhciBjbGFzc1N0cmluZyA9IFwiXCI7XG5cbiAgZm9yICh2YXIgb3JpZ2luYWxLZXkgaW4gc3R5bGVzKSB7XG4gICAgdmFyIG9yaWdpbmFsVmFsID0gc3R5bGVzW29yaWdpbmFsS2V5XTtcblxuICAgIGlmIChfdHlwZW9mKG9yaWdpbmFsVmFsKSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgLy8gUHJpbWl0aXZlIHZhbHVlXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIHZhbGlkYXRlVmFsdWVUeXBlKG9yaWdpbmFsVmFsKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb3BWYWxQYWlyID0gaHlwaGVuYXRlU3R5bGVOYW1lKG9yaWdpbmFsS2V5KSArIFwiOlwiICsgb3JpZ2luYWxWYWw7XG4gICAgICB2YXIga2V5ID0gXCJcIiArIHBzZXVkbyArIHByb3BWYWxQYWlyO1xuICAgICAgdmFyIGNhY2hlZElkID0gY2FjaGUuY2FjaGVba2V5XTtcblxuICAgICAgaWYgKGNhY2hlZElkICE9PSB2b2lkIDApIHtcbiAgICAgICAgLy8gY2FjaGUgaGl0XG4gICAgICAgIGNsYXNzU3RyaW5nICs9IFwiIFwiICsgY2FjaGVkSWQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9wcmVmaXhBbGw7XG5cbiAgICAgICAgLy8gY2FjaGUgbWlzc1xuICAgICAgICB2YXIgX2Jsb2NrID0gXCJcIjtcbiAgICAgICAgdmFyIHByZWZpeGVkID0gcHJlZml4QWxsKChfcHJlZml4QWxsID0ge30sIF9wcmVmaXhBbGxbb3JpZ2luYWxLZXldID0gb3JpZ2luYWxWYWwsIF9wcmVmaXhBbGwpKTtcblxuICAgICAgICBmb3IgKHZhciBwcmVmaXhlZEtleSBpbiBwcmVmaXhlZCkge1xuICAgICAgICAgIHZhciBwcmVmaXhlZFZhbCA9IHByZWZpeGVkW3ByZWZpeGVkS2V5XTtcblxuICAgICAgICAgIHZhciBwcmVmaXhlZFZhbFR5cGUgPSBfdHlwZW9mKHByZWZpeGVkVmFsKTtcblxuICAgICAgICAgIGlmIChwcmVmaXhlZFZhbFR5cGUgPT09IFwic3RyaW5nXCIgfHwgcHJlZml4ZWRWYWxUeXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4ZWRQYWlyID0gaHlwaGVuYXRlU3R5bGVOYW1lKHByZWZpeGVkS2V5KSArIFwiOlwiICsgcHJlZml4ZWRWYWw7XG5cbiAgICAgICAgICAgIGlmIChwcmVmaXhlZFBhaXIgIT09IHByb3BWYWxQYWlyKSB7XG4gICAgICAgICAgICAgIF9ibG9jayArPSBwcmVmaXhlZFBhaXIgKyBcIjtcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocHJlZml4ZWRWYWwpKSB7XG4gICAgICAgICAgICB2YXIgaHlwaGVuYXRlZCA9IGh5cGhlbmF0ZVN0eWxlTmFtZShwcmVmaXhlZEtleSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZWRWYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIF9wcmVmaXhlZFBhaXIgPSBoeXBoZW5hdGVkICsgXCI6XCIgKyBwcmVmaXhlZFZhbFtpXTtcblxuICAgICAgICAgICAgICBpZiAoX3ByZWZpeGVkUGFpciAhPT0gcHJvcFZhbFBhaXIpIHtcbiAgICAgICAgICAgICAgICBfYmxvY2sgKz0gX3ByZWZpeGVkUGFpciArIFwiO1wiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2Jsb2NrICs9IHByb3BWYWxQYWlyOyAvLyBlbnN1cmUgb3JpZ2luYWwgcHJvcC92YWwgaXMgbGFzdCAoZm9yIGh5ZHJhdGlvbilcblxuICAgICAgICB2YXIgaWQgPSBjYWNoZS5hZGRWYWx1ZShrZXksIHtcbiAgICAgICAgICBwc2V1ZG86IHBzZXVkbyxcbiAgICAgICAgICBibG9jazogX2Jsb2NrXG4gICAgICAgIH0pO1xuICAgICAgICBjbGFzc1N0cmluZyArPSBcIiBcIiArIGlkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPYmplY3QgdmFsdWVcbiAgICAgIGlmIChvcmlnaW5hbEtleVswXSA9PT0gXCI6XCIpIHtcbiAgICAgICAgY2xhc3NTdHJpbmcgKz0gXCIgXCIgKyBpbmplY3RTdHlsZVByZWZpeGVkKHN0eWxlQ2FjaGUsIG9yaWdpbmFsVmFsLCBtZWRpYSwgcHNldWRvICsgb3JpZ2luYWxLZXkpO1xuICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbEtleS5zdWJzdHJpbmcoMCwgNikgPT09IFwiQG1lZGlhXCIpIHtcbiAgICAgICAgY2xhc3NTdHJpbmcgKz0gXCIgXCIgKyBpbmplY3RTdHlsZVByZWZpeGVkKHN0eWxlQ2FjaGUsIG9yaWdpbmFsVmFsLCBvcmlnaW5hbEtleS5zdWJzdHIoNyksIHBzZXVkbyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHZhciBjb25mbGljdHMgPSB2YWxpZGF0ZU5vTWl4ZWRIYW5kKHN0eWxlcyk7XG5cbiAgICBpZiAoY29uZmxpY3RzLmxlbmd0aCkge1xuICAgICAgY29uZmxpY3RzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIF9KU09OJHN0cmluZ2lmeSwgX0pTT04kc3RyaW5naWZ5MjtcblxuICAgICAgICB2YXIgc2hvcnRoYW5kID0gX3JlZi5zaG9ydGhhbmQsXG4gICAgICAgICAgICBsb25naGFuZCA9IF9yZWYubG9uZ2hhbmQ7XG4gICAgICAgIHZhciBzaG9ydCA9IEpTT04uc3RyaW5naWZ5KChfSlNPTiRzdHJpbmdpZnkgPSB7fSwgX0pTT04kc3RyaW5naWZ5W3Nob3J0aGFuZC5wcm9wZXJ0eV0gPSBzaG9ydGhhbmQudmFsdWUsIF9KU09OJHN0cmluZ2lmeSkpO1xuICAgICAgICB2YXIgbG9uZyA9IEpTT04uc3RyaW5naWZ5KChfSlNPTiRzdHJpbmdpZnkyID0ge30sIF9KU09OJHN0cmluZ2lmeTJbbG9uZ2hhbmQucHJvcGVydHldID0gbG9uZ2hhbmQudmFsdWUsIF9KU09OJHN0cmluZ2lmeTIpKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblxuICAgICAgICBjb25zb2xlLndhcm4oXCJTdHlsZXMgYFwiICsgc2hvcnQgKyBcImAgYW5kIGBcIiArIGxvbmcgKyBcImAgaW4gb2JqZWN0IHlpZWxkaW5nIGNsYXNzIFxcXCJcIiArIGNsYXNzU3RyaW5nLnNsaWNlKDEpICsgXCJcXFwiIG1heSByZXN1bHQgaW4gdW5leHBlY3RlZCBiZWhhdmlvci4gTWl4aW5nIHNob3J0aGFuZCBhbmQgbG9uZ2hhbmQgcHJvcGVydGllcyB3aXRoaW4gdGhlIHNhbWUgc3R5bGUgb2JqZWN0IGlzIHVuc3VwcG9ydGVkIHdpdGggYXRvbWljIHJlbmRlcmluZy5cIik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0gLy8gcmVtb3ZlIGxlYWRpbmcgc3BhY2VcblxuXG4gIHJldHVybiBjbGFzc1N0cmluZy5zbGljZSgxKTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVWYWx1ZVR5cGUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBzdHlsZSB2YWx1ZTogXCIgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9XG59XG5cbi8vICBzdHJpY3RcbmZ1bmN0aW9uIGF0b21pY1NlbGVjdG9yKGlkLCBwc2V1ZG8pIHtcbiAgdmFyIHNlbGVjdG9yID0gXCIuXCIgKyBpZDtcblxuICBpZiAocHNldWRvKSB7XG4gICAgc2VsZWN0b3IgKz0gcHNldWRvO1xuICB9XG5cbiAgcmV0dXJuIHNlbGVjdG9yO1xufVxuZnVuY3Rpb24ga2V5ZnJhbWVzVG9CbG9jayhrZXlmcmFtZXMpIHtcbiAgdmFyIHJlc3VsdCA9IFwiXCI7XG5cbiAgZm9yICh2YXIgdGhpbmcgaW4ga2V5ZnJhbWVzKSB7XG4gICAgcmVzdWx0ICs9IHRoaW5nICsgXCJ7XCIgKyBkZWNsYXJhdGlvbnNUb0Jsb2NrKGtleWZyYW1lc1t0aGluZ10pICsgXCJ9XCI7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZGVjbGFyYXRpb25zVG9CbG9jayhzdHlsZSkge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBmb3IgKHZhciBwcm9wIGluIHN0eWxlKSB7XG4gICAgdmFyIHZhbCA9IHN0eWxlW3Byb3BdO1xuXG4gICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY3NzICs9IGh5cGhlbmF0ZVN0eWxlTmFtZShwcm9wKSArIFwiOlwiICsgdmFsICsgXCI7XCI7XG4gICAgfVxuICB9IC8vIHRyaW0gdHJhaWxpbmcgc2VtaWNvbG9uXG5cblxuICByZXR1cm4gY3NzLnNsaWNlKDAsIC0xKTtcbn1cbmZ1bmN0aW9uIGtleWZyYW1lc0Jsb2NrVG9SdWxlKGlkLCBibG9jaykge1xuICByZXR1cm4gXCJAa2V5ZnJhbWVzIFwiICsgaWQgKyBcIntcIiArIGJsb2NrICsgXCJ9XCI7XG59XG5mdW5jdGlvbiBmb250RmFjZUJsb2NrVG9SdWxlKGlkLCBibG9jaykge1xuICByZXR1cm4gXCJAZm9udC1mYWNle2ZvbnQtZmFtaWx5OlwiICsgaWQgKyBcIjtcIiArIGJsb2NrICsgXCJ9XCI7XG59XG5mdW5jdGlvbiBzdHlsZUJsb2NrVG9SdWxlKHNlbGVjdG9yLCBibG9jaykge1xuICByZXR1cm4gc2VsZWN0b3IgKyBcIntcIiArIGJsb2NrICsgXCJ9XCI7XG59XG5cbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xudmFyIFNUWUxFU19IWURSQVRPUiA9IC9cXC4oW157Ol0rKSg6W157XSspP3soPzpbXn1dKjspPyhbXn1dKj8pfS9nO1xudmFyIEtFWUZSQU1FU19IWVJEQVRPUiA9IC9Aa2V5ZnJhbWVzIChbXntdKylcXHsoKD86W157XStcXHtbXn1dKlxcfSkqKVxcfS9nO1xudmFyIEZPTlRfRkFDRV9IWURSQVRPUiA9IC9AZm9udC1mYWNlXFx7Zm9udC1mYW1pbHk6KFteO10rKTsoW159XSopXFx9L2c7XG5cbmZ1bmN0aW9uIGh5ZHJhdGVTdHlsZXMoY2FjaGUsIGh5ZHJhdG9yLCBjc3MpIHtcbiAgdmFyIG1hdGNoO1xuXG4gIHdoaWxlIChtYXRjaCA9IGh5ZHJhdG9yLmV4ZWMoY3NzKSkge1xuICAgIHZhciBfbWF0Y2ggPSBtYXRjaCxcbiAgICAgICAgaWQgPSBfbWF0Y2hbMV0sXG4gICAgICAgIF9wc2V1ZG8gPSBfbWF0Y2hbMl0sXG4gICAgICAgIGtleSA9IF9tYXRjaFszXTtcbiAgICB2YXIgZnVsbEtleSA9IF9wc2V1ZG8gPyBcIlwiICsgX3BzZXVkbyArIGtleSA6IGtleTtcbiAgICBjYWNoZS5jYWNoZVtmdWxsS2V5XSA9IGlkOyAvLyBzZXQgY2FjaGUgd2l0aG91dCB0cmlnZ2VyaW5nIHNpZGUgZWZmZWN0c1xuXG4gICAgY2FjaGUuaWRHZW5lcmF0b3IuaW5jcmVtZW50KCk7IC8vIGluY3JlbWVudCBpZFxuICB9XG59XG5cbmZ1bmN0aW9uIGh5ZHJhdGUoY2FjaGUsIGh5ZHJhdG9yLCBjc3MpIHtcbiAgdmFyIG1hdGNoO1xuXG4gIHdoaWxlIChtYXRjaCA9IGh5ZHJhdG9yLmV4ZWMoY3NzKSkge1xuICAgIHZhciBfbWF0Y2gyID0gbWF0Y2gsXG4gICAgICAgIGlkID0gX21hdGNoMlsxXSxcbiAgICAgICAga2V5ID0gX21hdGNoMlsyXTtcbiAgICBjYWNoZS5jYWNoZVtrZXldID0gaWQ7IC8vIHNldCBjYWNoZSB3aXRob3V0IHRyaWdnZXJpbmcgc2lkZSBlZmZlY3RzXG5cbiAgICBjYWNoZS5pZEdlbmVyYXRvci5pbmNyZW1lbnQoKTsgLy8gaW5jcmVtZW50IGlkXG4gIH1cbn1cblxudmFyIFN0eWxldHJvbkNsaWVudCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0eWxldHJvbkNsaWVudChvcHRzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICB0aGlzLnN0eWxlRWxlbWVudHMgPSB7fTtcbiAgICB2YXIgc3R5bGVJZEdlbmVyYXRvciA9IG5ldyBTZXF1ZW50aWFsSURHZW5lcmF0b3Iob3B0cy5wcmVmaXgpO1xuXG4gICAgdmFyIG9uTmV3U3R5bGUgPSBmdW5jdGlvbiBvbk5ld1N0eWxlKGNhY2hlLCBpZCwgdmFsdWUpIHtcbiAgICAgIHZhciBwc2V1ZG8gPSB2YWx1ZS5wc2V1ZG8sXG4gICAgICAgICAgYmxvY2sgPSB2YWx1ZS5ibG9jaztcbiAgICAgIHZhciBzaGVldCA9IF90aGlzLnN0eWxlRWxlbWVudHNbY2FjaGUua2V5XS5zaGVldDtcbiAgICAgIHNoZWV0Lmluc2VydFJ1bGUoc3R5bGVCbG9ja1RvUnVsZShhdG9taWNTZWxlY3RvcihpZCwgcHNldWRvKSwgYmxvY2spLCBzaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH07IC8vIFNldHVwIHN0eWxlIGNhY2hlXG5cblxuICAgIHRoaXMuc3R5bGVDYWNoZSA9IG5ldyBNdWx0aUNhY2hlKHN0eWxlSWRHZW5lcmF0b3IsIGZ1bmN0aW9uIChtZWRpYSkge1xuICAgICAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgIHN0eWxlRWxlbWVudC5tZWRpYSA9IG1lZGlhO1xuXG4gICAgICBfdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcblxuICAgICAgX3RoaXMuc3R5bGVFbGVtZW50c1ttZWRpYV0gPSBzdHlsZUVsZW1lbnQ7XG4gICAgfSwgb25OZXdTdHlsZSk7XG4gICAgdGhpcy5rZXlmcmFtZXNDYWNoZSA9IG5ldyBDYWNoZShuZXcgU2VxdWVudGlhbElER2VuZXJhdG9yKG9wdHMucHJlZml4KSwgZnVuY3Rpb24gKGNhY2hlLCBpZCwgdmFsdWUpIHtcbiAgICAgIF90aGlzLnN0eWxlQ2FjaGUuZ2V0Q2FjaGUoXCJcIik7XG5cbiAgICAgIHZhciBzaGVldCA9IF90aGlzLnN0eWxlRWxlbWVudHNbXCJcIl0uc2hlZXQ7XG4gICAgICBzaGVldC5pbnNlcnRSdWxlKGtleWZyYW1lc0Jsb2NrVG9SdWxlKGlkLCBrZXlmcmFtZXNUb0Jsb2NrKHZhbHVlKSksIHNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfSk7XG4gICAgdGhpcy5mb250RmFjZUNhY2hlID0gbmV3IENhY2hlKG5ldyBTZXF1ZW50aWFsSURHZW5lcmF0b3Iob3B0cy5wcmVmaXgpLCBmdW5jdGlvbiAoY2FjaGUsIGlkLCB2YWx1ZSkge1xuICAgICAgX3RoaXMuc3R5bGVDYWNoZS5nZXRDYWNoZShcIlwiKTtcblxuICAgICAgdmFyIHNoZWV0ID0gX3RoaXMuc3R5bGVFbGVtZW50c1tcIlwiXS5zaGVldDtcbiAgICAgIHNoZWV0Lmluc2VydFJ1bGUoZm9udEZhY2VCbG9ja1RvUnVsZShpZCwgZGVjbGFyYXRpb25zVG9CbG9jayh2YWx1ZSkpLCBzaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH0pO1xuXG4gICAgaWYgKG9wdHMuY29udGFpbmVyKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lciA9IG9wdHMuY29udGFpbmVyO1xuICAgIH0gLy8gSHlkcmF0ZVxuXG5cbiAgICBpZiAob3B0cy5oeWRyYXRlICYmIG9wdHMuaHlkcmF0ZS5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBpbmZlciBjb250YWluZXIgZnJvbSBwYXJlbnQgZWxlbWVudFxuICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IG9wdHMuaHlkcmF0ZVswXS5wYXJlbnRFbGVtZW50O1xuXG4gICAgICAgIGlmIChwYXJlbnRFbGVtZW50ICE9PSBudWxsICYmIHBhcmVudEVsZW1lbnQgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gcGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdHMuaHlkcmF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IG9wdHMuaHlkcmF0ZVtpXTtcbiAgICAgICAgdmFyIGh5ZHJhdGVUeXBlID0gZWxlbWVudC5kYXRhc2V0Lmh5ZHJhdGU7XG5cbiAgICAgICAgaWYgKGh5ZHJhdGVUeXBlID09PSBcImZvbnQtZmFjZVwiKSB7XG4gICAgICAgICAgaHlkcmF0ZSh0aGlzLmZvbnRGYWNlQ2FjaGUsIEZPTlRfRkFDRV9IWURSQVRPUiwgZWxlbWVudC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaHlkcmF0ZVR5cGUgPT09IFwia2V5ZnJhbWVzXCIpIHtcbiAgICAgICAgICBoeWRyYXRlKHRoaXMua2V5ZnJhbWVzQ2FjaGUsIEtFWUZSQU1FU19IWVJEQVRPUiwgZWxlbWVudC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5ID0gZWxlbWVudC5tZWRpYSA/IGVsZW1lbnQubWVkaWEgOiBcIlwiO1xuICAgICAgICB0aGlzLnN0eWxlRWxlbWVudHNba2V5XSA9IGVsZW1lbnQ7XG4gICAgICAgIHZhciBjYWNoZSA9IG5ldyBDYWNoZShzdHlsZUlkR2VuZXJhdG9yLCBvbk5ld1N0eWxlKTtcbiAgICAgICAgY2FjaGUua2V5ID0ga2V5O1xuICAgICAgICBoeWRyYXRlU3R5bGVzKGNhY2hlLCBTVFlMRVNfSFlEUkFUT1IsIGVsZW1lbnQudGV4dENvbnRlbnQpO1xuICAgICAgICB0aGlzLnN0eWxlQ2FjaGUuY2FjaGVzW2tleV0gPSBjYWNoZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuY29udGFpbmVyKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGVhZCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjb250YWluZXIgcHJvdmlkZWQgYW5kIGBkb2N1bWVudC5oZWFkYCB3YXMgbnVsbFwiKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5oZWFkO1xuICAgIH1cbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTdHlsZXRyb25DbGllbnQucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXJTdHlsZSA9IGZ1bmN0aW9uIHJlbmRlclN0eWxlKHN0eWxlKSB7XG4gICAgcmV0dXJuIGluamVjdFN0eWxlUHJlZml4ZWQodGhpcy5zdHlsZUNhY2hlLCBzdHlsZSwgXCJcIiwgXCJcIik7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlckZvbnRGYWNlID0gZnVuY3Rpb24gcmVuZGVyRm9udEZhY2UoZm9udEZhY2UpIHtcbiAgICB2YXIga2V5ID0gZGVjbGFyYXRpb25zVG9CbG9jayhmb250RmFjZSk7XG4gICAgcmV0dXJuIHRoaXMuZm9udEZhY2VDYWNoZS5hZGRWYWx1ZShrZXksIGZvbnRGYWNlKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyS2V5ZnJhbWVzID0gZnVuY3Rpb24gcmVuZGVyS2V5ZnJhbWVzKGtleWZyYW1lcykge1xuICAgIHZhciBrZXkgPSBrZXlmcmFtZXNUb0Jsb2NrKGtleWZyYW1lcyk7XG4gICAgcmV0dXJuIHRoaXMua2V5ZnJhbWVzQ2FjaGUuYWRkVmFsdWUoa2V5LCBrZXlmcmFtZXMpO1xuICB9O1xuXG4gIHJldHVybiBTdHlsZXRyb25DbGllbnQ7XG59KCk7XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIFN0eWxldHJvblNlcnZlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0eWxldHJvblNlcnZlcihvcHRzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICB0aGlzLnN0eWxlUnVsZXMgPSB7XG4gICAgICBcIlwiOiBcIlwiXG4gICAgfTtcbiAgICB0aGlzLnN0eWxlQ2FjaGUgPSBuZXcgTXVsdGlDYWNoZShuZXcgU2VxdWVudGlhbElER2VuZXJhdG9yKG9wdHMucHJlZml4KSwgZnVuY3Rpb24gKG1lZGlhKSB7XG4gICAgICBfdGhpcy5zdHlsZVJ1bGVzW21lZGlhXSA9IFwiXCI7XG4gICAgfSwgZnVuY3Rpb24gKGNhY2hlLCBpZCwgdmFsdWUpIHtcbiAgICAgIHZhciBwc2V1ZG8gPSB2YWx1ZS5wc2V1ZG8sXG4gICAgICAgICAgYmxvY2sgPSB2YWx1ZS5ibG9jaztcbiAgICAgIF90aGlzLnN0eWxlUnVsZXNbY2FjaGUua2V5XSArPSBzdHlsZUJsb2NrVG9SdWxlKGF0b21pY1NlbGVjdG9yKGlkLCBwc2V1ZG8pLCBibG9jayk7XG4gICAgfSk7XG4gICAgdGhpcy5mb250RmFjZVJ1bGVzID0gXCJcIjtcbiAgICB0aGlzLmZvbnRGYWNlQ2FjaGUgPSBuZXcgQ2FjaGUobmV3IFNlcXVlbnRpYWxJREdlbmVyYXRvcihvcHRzLnByZWZpeCksIGZ1bmN0aW9uIChjYWNoZSwgaWQsIHZhbHVlKSB7XG4gICAgICBfdGhpcy5mb250RmFjZVJ1bGVzICs9IGZvbnRGYWNlQmxvY2tUb1J1bGUoaWQsIGRlY2xhcmF0aW9uc1RvQmxvY2sodmFsdWUpKTtcbiAgICB9KTtcbiAgICB0aGlzLmtleWZyYW1lc1J1bGVzID0gXCJcIjtcbiAgICB0aGlzLmtleWZyYW1lc0NhY2hlID0gbmV3IENhY2hlKG5ldyBTZXF1ZW50aWFsSURHZW5lcmF0b3Iob3B0cy5wcmVmaXgpLCBmdW5jdGlvbiAoY2FjaGUsIGlkLCB2YWx1ZSkge1xuICAgICAgX3RoaXMua2V5ZnJhbWVzUnVsZXMgKz0ga2V5ZnJhbWVzQmxvY2tUb1J1bGUoaWQsIGtleWZyYW1lc1RvQmxvY2sodmFsdWUpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTdHlsZXRyb25TZXJ2ZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5yZW5kZXJTdHlsZSA9IGZ1bmN0aW9uIHJlbmRlclN0eWxlKHN0eWxlKSB7XG4gICAgcmV0dXJuIGluamVjdFN0eWxlUHJlZml4ZWQodGhpcy5zdHlsZUNhY2hlLCBzdHlsZSwgXCJcIiwgXCJcIik7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlckZvbnRGYWNlID0gZnVuY3Rpb24gcmVuZGVyRm9udEZhY2UoZm9udEZhY2UpIHtcbiAgICB2YXIga2V5ID0gSlNPTi5zdHJpbmdpZnkoZm9udEZhY2UpO1xuICAgIHJldHVybiB0aGlzLmZvbnRGYWNlQ2FjaGUuYWRkVmFsdWUoa2V5LCBmb250RmFjZSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlcktleWZyYW1lcyA9IGZ1bmN0aW9uIHJlbmRlcktleWZyYW1lcyhrZXlmcmFtZXMpIHtcbiAgICB2YXIga2V5ID0gSlNPTi5zdHJpbmdpZnkoa2V5ZnJhbWVzKTtcbiAgICByZXR1cm4gdGhpcy5rZXlmcmFtZXNDYWNoZS5hZGRWYWx1ZShrZXksIGtleWZyYW1lcyk7XG4gIH07XG5cbiAgX3Byb3RvLmdldFN0eWxlc2hlZXRzID0gZnVuY3Rpb24gZ2V0U3R5bGVzaGVldHMoKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdCh0aGlzLmZvbnRGYWNlUnVsZXMubGVuZ3RoID8gW3tcbiAgICAgIGNzczogdGhpcy5mb250RmFjZVJ1bGVzLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgXCJkYXRhLWh5ZHJhdGVcIjogXCJmb250LWZhY2VcIlxuICAgICAgfVxuICAgIH1dIDogW10sIHNoZWV0aWZ5KHRoaXMuc3R5bGVSdWxlcyksIHRoaXMua2V5ZnJhbWVzUnVsZXMubGVuZ3RoID8gW3tcbiAgICAgIGNzczogdGhpcy5rZXlmcmFtZXNSdWxlcyxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIFwiZGF0YS1oeWRyYXRlXCI6IFwia2V5ZnJhbWVzXCJcbiAgICAgIH1cbiAgICB9XSA6IFtdKTtcbiAgfTtcblxuICBfcHJvdG8uZ2V0U3R5bGVzaGVldHNIdG1sID0gZnVuY3Rpb24gZ2V0U3R5bGVzaGVldHNIdG1sKGNsYXNzTmFtZSkge1xuICAgIGlmIChjbGFzc05hbWUgPT09IHZvaWQgMCkge1xuICAgICAgY2xhc3NOYW1lID0gXCJfc3R5bGV0cm9uX2h5ZHJhdGVfXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdlbmVyYXRlSHRtbFN0cmluZyh0aGlzLmdldFN0eWxlc2hlZXRzKCksIGNsYXNzTmFtZSk7XG4gIH07XG5cbiAgX3Byb3RvLmdldENzcyA9IGZ1bmN0aW9uIGdldENzcygpIHtcbiAgICByZXR1cm4gdGhpcy5mb250RmFjZVJ1bGVzICsgc3RyaW5naWZ5KHRoaXMuc3R5bGVSdWxlcykgKyB0aGlzLmtleWZyYW1lc1J1bGVzO1xuICB9O1xuXG4gIHJldHVybiBTdHlsZXRyb25TZXJ2ZXI7XG59KCk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSHRtbFN0cmluZyhzaGVldHMsIGNsYXNzTmFtZSkge1xuICB2YXIgaHRtbCA9IFwiXCI7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc2hlZXQgPSBzaGVldHNbaV07XG5cbiAgICB2YXIgX3NoZWV0JGF0dHJzID0gc2hlZXQuYXR0cnMsXG4gICAgICAgIG9yaWdpbmFsQ2xhc3NOYW1lID0gX3NoZWV0JGF0dHJzLmNsYXNzLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9zaGVldCRhdHRycywgW1wiY2xhc3NcIl0pO1xuXG4gICAgdmFyIF9hdHRycyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgY2xhc3M6IG9yaWdpbmFsQ2xhc3NOYW1lID8gY2xhc3NOYW1lICsgXCIgXCIgKyBvcmlnaW5hbENsYXNzTmFtZSA6IGNsYXNzTmFtZVxuICAgIH0sIHJlc3QpO1xuXG4gICAgaHRtbCArPSBcIjxzdHlsZVwiICsgYXR0cnNUb1N0cmluZyhfYXR0cnMpICsgXCI+XCIgKyBzaGVldC5jc3MgKyBcIjwvc3R5bGU+XCI7XG4gIH1cblxuICByZXR1cm4gaHRtbDtcbn1cblxuZnVuY3Rpb24gYXR0cnNUb1N0cmluZyhhdHRycykge1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcblxuICBmb3IgKHZhciBhdHRyIGluIGF0dHJzKSB7XG4gICAgdmFyIHZhbHVlID0gYXR0cnNbYXR0cl07XG5cbiAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgIHJlc3VsdCArPSBcIiBcIiArIGF0dHI7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgIHJlc3VsdCArPSBcIiBcIiArIGF0dHIgKyBcIj1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIlwiO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShzdHlsZVJ1bGVzKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuXG4gIGZvciAodmFyIG1lZGlhIGluIHN0eWxlUnVsZXMpIHtcbiAgICB2YXIgcnVsZXMgPSBzdHlsZVJ1bGVzW21lZGlhXTtcblxuICAgIGlmIChtZWRpYSkge1xuICAgICAgcmVzdWx0ICs9IFwiQG1lZGlhIFwiICsgbWVkaWEgKyBcIntcIiArIHJ1bGVzICsgXCJ9XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCArPSBydWxlcztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBzaGVldGlmeShzdHlsZVJ1bGVzKSB7XG4gIHZhciBzaGVldHMgPSBbXTtcblxuICBmb3IgKHZhciBtZWRpYSBpbiBzdHlsZVJ1bGVzKSB7XG4gICAgLy8gb21pdCBtZWRpYSBhdHRyaWJ1dGUgaWYgZW1wdHlcbiAgICB2YXIgX2F0dHJzMiA9IG1lZGlhID8ge1xuICAgICAgbWVkaWE6IG1lZGlhXG4gICAgfSA6IHt9O1xuXG4gICAgc2hlZXRzLnB1c2goe1xuICAgICAgY3NzOiBzdHlsZVJ1bGVzW21lZGlhXSxcbiAgICAgIGF0dHJzOiBfYXR0cnMyXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc2hlZXRzO1xufVxuXG5leHBvcnQgeyBTdHlsZXRyb25DbGllbnQgYXMgQ2xpZW50LCBTdHlsZXRyb25TZXJ2ZXIgYXMgU2VydmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyLmVzNS5lcy5qcy5tYXBcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBQb3BvdmVyRXhhbXBsZXMgZnJvbSAnLi4vc3JjL3BvcG92ZXIvZXhhbXBsZXMnO1xuaW1wb3J0IGRvY3VtZW50IGZyb20gJ2dsb2JhbC9kb2N1bWVudCc7XG5pbXBvcnQge1Byb3ZpZGVyIGFzIFN0eWxldHJvblByb3ZpZGVyfSBmcm9tICdzdHlsZXRyb24tcmVhY3QnO1xuaW1wb3J0IHtDbGllbnQgYXMgU3R5bGV0cm9ufSBmcm9tICdzdHlsZXRyb24tZW5naW5lLWF0b21pYyc7XG5pbXBvcnQgREVGQVVMVF9USEVNRSBmcm9tICcuLi9zcmMvdGhlbWVzL2xpZ2h0LXRoZW1lJztcbmltcG9ydCB7VGhlbWVQcm92aWRlcn0gZnJvbSAnLi4vc3JjL3N0eWxlcyc7XG5cbmNvbnN0IGVuZ2luZSA9IG5ldyBTdHlsZXRyb24oKTtcblxuY29uc3QgYXBwID0gKFxuICA8U3R5bGV0cm9uUHJvdmlkZXIgdmFsdWU9e2VuZ2luZX0+XG4gICAgPFRoZW1lUHJvdmlkZXIgdGhlbWU9e0RFRkFVTFRfVEhFTUV9PlxuICAgICAge1BvcG92ZXJFeGFtcGxlcy5tYXAoKGV4YW1wbGUsIGkpID0+IChcbiAgICAgICAgPGRpdiBrZXk9e2BleGFtcGxlJHtpfWB9IGlkPXtgcG9wb3Zlcl9zdG9yeSR7aX1gfT5cbiAgICAgICAgICB7ZXhhbXBsZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApKX1cbiAgICA8L1RoZW1lUHJvdmlkZXI+XG4gIDwvU3R5bGV0cm9uUHJvdmlkZXI+XG4pO1xuXG5SZWFjdERPTS5yZW5kZXIoYXBwLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKTtcbiJdLCJuYW1lcyI6WyJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJPYmplY3QiLCJoYXNPd25Qcm9wZXJ0eSIsInByb3RvdHlwZSIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvT2JqZWN0IiwidmFsIiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwic2hvdWxkVXNlTmF0aXZlIiwiYXNzaWduIiwidGVzdDEiLCJTdHJpbmciLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidGVzdDIiLCJpIiwiZnJvbUNoYXJDb2RlIiwib3JkZXIyIiwibWFwIiwibiIsImpvaW4iLCJ0ZXN0MyIsInNwbGl0IiwiZm9yRWFjaCIsImxldHRlciIsImtleXMiLCJlcnIiLCJ0YXJnZXQiLCJzb3VyY2UiLCJmcm9tIiwidG8iLCJzeW1ib2xzIiwicyIsImFyZ3VtZW50cyIsImxlbmd0aCIsImtleSIsImNhbGwiLCJpbnZhcmlhbnQiLCJjb25kaXRpb24iLCJmb3JtYXQiLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJ2YWxpZGF0ZUZvcm1hdCIsImVycm9yIiwiRXJyb3IiLCJhcmdzIiwiYXJnSW5kZXgiLCJyZXBsYWNlIiwibmFtZSIsImZyYW1lc1RvUG9wIiwiZW1wdHlPYmplY3QiLCJtYWtlRW1wdHlGdW5jdGlvbiIsImFyZyIsImVtcHR5RnVuY3Rpb24iLCJ0aGF0UmV0dXJucyIsInRoYXRSZXR1cm5zRmFsc2UiLCJ0aGF0UmV0dXJuc1RydWUiLCJ0aGF0UmV0dXJuc051bGwiLCJ0aGF0UmV0dXJuc1RoaXMiLCJ0aGF0UmV0dXJuc0FyZ3VtZW50IiwiciIsIlN5bWJvbCIsImZvciIsInQiLCJ1IiwidiIsInciLCJ4IiwieSIsInoiLCJBIiwiQiIsIkMiLCJpdGVyYXRvciIsIkQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJFIiwiaXNNb3VudGVkIiwiZW5xdWV1ZUZvcmNlVXBkYXRlIiwiZW5xdWV1ZVJlcGxhY2VTdGF0ZSIsImVucXVldWVTZXRTdGF0ZSIsIkYiLCJwcm9wcyIsImNvbnRleHQiLCJyZWZzIiwicCIsInVwZGF0ZXIiLCJpc1JlYWN0Q29tcG9uZW50Iiwic2V0U3RhdGUiLCJmb3JjZVVwZGF0ZSIsIkciLCJIIiwiSSIsImNvbnN0cnVjdG9yIiwiayIsImlzUHVyZVJlYWN0Q29tcG9uZW50IiwiSiIsImN1cnJlbnQiLCJLIiwiTCIsInJlZiIsIl9fc2VsZiIsIl9fc291cmNlIiwiTSIsImciLCJoIiwiY2hpbGRyZW4iLCJsIiwiQXJyYXkiLCJtIiwiZGVmYXVsdFByb3BzIiwiJCR0eXBlb2YiLCJ0eXBlIiwiX293bmVyIiwiTiIsImVzY2FwZSIsIk8iLCJQIiwiUSIsInBvcCIsInJlc3VsdCIsImtleVByZWZpeCIsImZ1bmMiLCJjb3VudCIsIlIiLCJwdXNoIiwiUyIsIlQiLCJpc0FycmF5IiwibmV4dCIsImRvbmUiLCJ2YWx1ZSIsInRvU3RyaW5nIiwiVSIsIlYiLCJXIiwicSIsIlgiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJvbmx5IiwiY3JlYXRlUmVmIiwiQ29tcG9uZW50IiwiUHVyZUNvbXBvbmVudCIsImNyZWF0ZUNvbnRleHQiLCJfY2FsY3VsYXRlQ2hhbmdlZEJpdHMiLCJfZGVmYXVsdFZhbHVlIiwiX2N1cnJlbnRWYWx1ZSIsIl9jdXJyZW50VmFsdWUyIiwiX2NoYW5nZWRCaXRzIiwiX2NoYW5nZWRCaXRzMiIsIlByb3ZpZGVyIiwiQ29uc3VtZXIiLCJfY29udGV4dCIsImZvcndhcmRSZWYiLCJyZW5kZXIiLCJGcmFnbWVudCIsIlN0cmljdE1vZGUiLCJ1bnN0YWJsZV9Bc3luY01vZGUiLCJ1bnN0YWJsZV9Qcm9maWxlciIsImNyZWF0ZUVsZW1lbnQiLCJjbG9uZUVsZW1lbnQiLCJjcmVhdGVGYWN0b3J5IiwiYmluZCIsImlzVmFsaWRFbGVtZW50IiwidmVyc2lvbiIsIl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEIiwiUmVhY3RDdXJyZW50T3duZXIiLCJZIiwiZGVmYXVsdCIsIloiLCJ3YXJuaW5nIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJtb2R1bGUiLCJyZXF1aXJlJCQwIiwiY2FuVXNlRE9NIiwid2luZG93IiwiZG9jdW1lbnQiLCJFeGVjdXRpb25FbnZpcm9ubWVudCIsImNhblVzZVdvcmtlcnMiLCJXb3JrZXIiLCJjYW5Vc2VFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsImNhblVzZVZpZXdwb3J0Iiwic2NyZWVuIiwiaXNJbldvcmtlciIsImdldEFjdGl2ZUVsZW1lbnQiLCJkb2MiLCJhY3RpdmVFbGVtZW50IiwiYm9keSIsImlzIiwic2hhbGxvd0VxdWFsIiwib2JqQSIsIm9iakIiLCJrZXlzQSIsImtleXNCIiwiaXNOb2RlIiwib2JqZWN0Iiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiTm9kZSIsIm5vZGVUeXBlIiwibm9kZU5hbWUiLCJpc1RleHROb2RlIiwiY29udGFpbnNOb2RlIiwib3V0ZXJOb2RlIiwiaW5uZXJOb2RlIiwicGFyZW50Tm9kZSIsImNvbnRhaW5zIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJhYSIsImlhIiwiX2hhc0NhdWdodEVycm9yIiwiX2NhdWdodEVycm9yIiwic2xpY2UiLCJhcHBseSIsIl9yZXRocm93RXJyb3IiLCJfaGFzUmV0aHJvd0Vycm9yIiwiaW52b2tlR3VhcmRlZENhbGxiYWNrIiwiaW52b2tlR3VhcmRlZENhbGxiYWNrQW5kQ2F0Y2hGaXJzdEVycm9yIiwiaGFzQ2F1Z2h0RXJyb3IiLCJjbGVhckNhdWdodEVycm9yIiwicmV0aHJvd0NhdWdodEVycm9yIiwia2EiLCJsYSIsIm1hIiwibmEiLCJpbmRleE9mIiwib2EiLCJleHRyYWN0RXZlbnRzIiwiZXZlbnRUeXBlcyIsInBhIiwicGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMiLCJxYSIsInJlZ2lzdHJhdGlvbk5hbWUiLCJyYSIsInNhIiwiZGVwZW5kZW5jaWVzIiwidGEiLCJ1YSIsInZhIiwicGx1Z2lucyIsImV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyIsInJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzIiwicmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyIsInBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMiLCJpbmplY3RFdmVudFBsdWdpbk9yZGVyIiwiaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lIiwid2EiLCJ4YSIsInlhIiwiemEiLCJjdXJyZW50VGFyZ2V0IiwiQWEiLCJjb25jYXQiLCJCYSIsIkNhIiwiRGEiLCJfZGlzcGF0Y2hMaXN0ZW5lcnMiLCJfZGlzcGF0Y2hJbnN0YW5jZXMiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsImlzUGVyc2lzdGVudCIsInJlbGVhc2UiLCJFYSIsIkZhIiwiR2EiLCJIYSIsInN0YXRlTm9kZSIsImRpc2FibGVkIiwiSWEiLCJKYSIsIkthIiwiaW5qZWN0aW9uIiwiZ2V0TGlzdGVuZXIiLCJydW5FdmVudHNJbkJhdGNoIiwicnVuRXh0cmFjdGVkRXZlbnRzSW5CYXRjaCIsIkxhIiwiTWF0aCIsInJhbmRvbSIsIk1hIiwiTmEiLCJ0YWciLCJPYSIsIlBhIiwiUWEiLCJwcmVjYWNoZUZpYmVyTm9kZSIsImdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlIiwiZ2V0SW5zdGFuY2VGcm9tTm9kZSIsImdldE5vZGVGcm9tSW5zdGFuY2UiLCJnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlIiwidXBkYXRlRmliZXJQcm9wcyIsInJldHVybiIsIlJhIiwiU2EiLCJkaXNwYXRjaENvbmZpZyIsIlRhIiwiX3RhcmdldEluc3QiLCJVYSIsIlZhIiwiWGEiLCJZYSIsIlphIiwiYWx0ZXJuYXRlIiwiJGEiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQiLCJhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMiLCJhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyIsImFiIiwidG9Mb3dlckNhc2UiLCJiYiIsImFuaW1hdGlvbmVuZCIsImFuaW1hdGlvbml0ZXJhdGlvbiIsImFuaW1hdGlvbnN0YXJ0IiwidHJhbnNpdGlvbmVuZCIsImNiIiwiZGIiLCJzdHlsZSIsImFuaW1hdGlvbiIsInRyYW5zaXRpb24iLCJlYiIsImZiIiwiZ2IiLCJoYiIsImliIiwiamIiLCJrYiIsImxiIiwiZG9jdW1lbnRFbGVtZW50IiwiX3Jvb3QiLCJfc3RhcnRUZXh0IiwiX2ZhbGxiYWNrVGV4dCIsIm1iIiwibmIiLCJvYiIsInBiIiwiZXZlbnRQaGFzZSIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidGltZVN0YW1wIiwiRGF0ZSIsIm5vdyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJpc1RydXN0ZWQiLCJuYXRpdmVFdmVudCIsIkludGVyZmFjZSIsImlzRGVmYXVsdFByZXZlbnRlZCIsInJldHVyblZhbHVlIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJwZXJzaXN0IiwiZGVzdHJ1Y3RvciIsImV4dGVuZCIsInFiIiwicmIiLCJldmVudFBvb2wiLCJzYiIsImdldFBvb2xlZCIsInRiIiwiZGF0YSIsInViIiwidmIiLCJ3YiIsInhiIiwiZG9jdW1lbnRNb2RlIiwieWIiLCJ6YiIsIkFiIiwiQmIiLCJiZWZvcmVJbnB1dCIsImJ1YmJsZWQiLCJjYXB0dXJlZCIsImNvbXBvc2l0aW9uRW5kIiwiY29tcG9zaXRpb25TdGFydCIsImNvbXBvc2l0aW9uVXBkYXRlIiwiQ2IiLCJEYiIsImtleUNvZGUiLCJFYiIsImRldGFpbCIsIkZiIiwiR2IiLCJ3aGljaCIsIkhiIiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJjaGFyIiwiSWIiLCJKYiIsIktiIiwiaW5qZWN0RmliZXJDb250cm9sbGVkSG9zdENvbXBvbmVudCIsIkxiIiwiTWIiLCJOYiIsInJlc3RvcmVDb250cm9sbGVkU3RhdGUiLCJPYiIsIlBiIiwiUWIiLCJSYiIsImVucXVldWVTdGF0ZVJlc3RvcmUiLCJuZWVkc1N0YXRlUmVzdG9yZSIsInJlc3RvcmVTdGF0ZUlmTmVlZGVkIiwiU2IiLCJUYiIsIlViIiwiVmIiLCJXYiIsIlhiIiwiY29sb3IiLCJkYXRlIiwiZGF0ZXRpbWUiLCJlbWFpbCIsIm1vbnRoIiwibnVtYmVyIiwicGFzc3dvcmQiLCJyYW5nZSIsInNlYXJjaCIsInRlbCIsInRleHQiLCJ0aW1lIiwidXJsIiwid2VlayIsIlliIiwiWmIiLCJzcmNFbGVtZW50IiwiY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQiLCIkYiIsInNldEF0dHJpYnV0ZSIsImFjIiwiYmMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXQiLCJzZXQiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXRWYWx1ZSIsInNldFZhbHVlIiwic3RvcFRyYWNraW5nIiwiX3ZhbHVlVHJhY2tlciIsImNjIiwiZGMiLCJjaGVja2VkIiwiZWMiLCJiYSIsImZjIiwiZ2MiLCJoYyIsImljIiwiamMiLCJrYyIsImxjIiwibWMiLCJwYyIsInFjIiwicmMiLCJzYyIsInRjIiwidWMiLCJkaXNwbGF5TmFtZSIsInBlbmRpbmdQcm9wcyIsImlkIiwidmMiLCJfZGVidWdPd25lciIsIl9kZWJ1Z1NvdXJjZSIsImZpbGVOYW1lIiwibGluZU51bWJlciIsIndjIiwieGMiLCJ6YyIsIkFjIiwidGVzdCIsIkJjIiwiYWNjZXB0c0Jvb2xlYW5zIiwiQ2MiLCJpc05hTiIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyaWJ1dGVOYW1lc3BhY2UiLCJtdXN0VXNlUHJvcGVydHkiLCJwcm9wZXJ0eU5hbWUiLCJEYyIsIkVjIiwidG9VcHBlckNhc2UiLCJ0YWJJbmRleCIsIkZjIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlTlMiLCJHYyIsImRlZmF1bHRDaGVja2VkIiwiZGVmYXVsdFZhbHVlIiwiX3dyYXBwZXJTdGF0ZSIsImluaXRpYWxDaGVja2VkIiwiSGMiLCJJYyIsImluaXRpYWxWYWx1ZSIsImNvbnRyb2xsZWQiLCJKYyIsIktjIiwiTGMiLCJNYyIsIk5jIiwiY2hhbmdlIiwiT2MiLCJQYyIsIlFjIiwiUmMiLCJTYyIsIlRjIiwiVWMiLCJWYyIsImRldGFjaEV2ZW50IiwiV2MiLCJYYyIsIlljIiwiWmMiLCIkYyIsImFkIiwiX2lzSW5wdXRFdmVudFN1cHBvcnRlZCIsImJkIiwidmlldyIsImNkIiwiQWx0IiwiQ29udHJvbCIsIk1ldGEiLCJTaGlmdCIsImRkIiwiZ2V0TW9kaWZpZXJTdGF0ZSIsImVkIiwiZmQiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwicGFnZVgiLCJwYWdlWSIsInNoaWZ0S2V5IiwiYnV0dG9uIiwiYnV0dG9ucyIsInJlbGF0ZWRUYXJnZXQiLCJmcm9tRWxlbWVudCIsInRvRWxlbWVudCIsImdkIiwicG9pbnRlcklkIiwid2lkdGgiLCJoZWlnaHQiLCJwcmVzc3VyZSIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsImlzUHJpbWFyeSIsImhkIiwibW91c2VFbnRlciIsIm1vdXNlTGVhdmUiLCJwb2ludGVyRW50ZXIiLCJwb2ludGVyTGVhdmUiLCJwYXJlbnRXaW5kb3ciLCJqZCIsImVmZmVjdFRhZyIsImtkIiwibGQiLCJjaGlsZCIsInNpYmxpbmciLCJtZCIsIm5kIiwib2QiLCJhbmltYXRpb25OYW1lIiwiZWxhcHNlZFRpbWUiLCJwc2V1ZG9FbGVtZW50IiwicGQiLCJjbGlwYm9hcmREYXRhIiwicWQiLCJyZCIsImNoYXJDb2RlIiwic2QiLCJFc2MiLCJTcGFjZWJhciIsIkxlZnQiLCJVcCIsIlJpZ2h0IiwiRG93biIsIkRlbCIsIldpbiIsIk1lbnUiLCJBcHBzIiwiU2Nyb2xsIiwiTW96UHJpbnRhYmxlS2V5IiwidGQiLCJ1ZCIsImxvY2F0aW9uIiwicmVwZWF0IiwibG9jYWxlIiwidmQiLCJkYXRhVHJhbnNmZXIiLCJ3ZCIsInRvdWNoZXMiLCJ0YXJnZXRUb3VjaGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJ4ZCIsInlkIiwiZGVsdGFYIiwid2hlZWxEZWx0YVgiLCJkZWx0YVkiLCJ3aGVlbERlbHRhWSIsIndoZWVsRGVsdGEiLCJkZWx0YVoiLCJkZWx0YU1vZGUiLCJ6ZCIsIkFkIiwiQmQiLCJDZCIsImlzSW50ZXJhY3RpdmUiLCJEZCIsImlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZSIsIkVkIiwiRmQiLCJHZCIsInRhcmdldEluc3QiLCJhbmNlc3RvcnMiLCJjb250YWluZXJJbmZvIiwidG9wTGV2ZWxUeXBlIiwiSGQiLCJJZCIsIktkIiwiTGQiLCJNZCIsIk5kIiwiX2VuYWJsZWQiLCJzZXRFbmFibGVkIiwiaXNFbmFibGVkIiwidHJhcEJ1YmJsZWRFdmVudCIsInRyYXBDYXB0dXJlZEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIk9kIiwiUGQiLCJRZCIsIlJkIiwiU2QiLCJmaXJzdENoaWxkIiwiVGQiLCJ0ZXh0Q29udGVudCIsIm5vZGUiLCJvZmZzZXQiLCJuZXh0U2libGluZyIsIlVkIiwiY29udGVudEVkaXRhYmxlIiwiVmQiLCJXZCIsInNlbGVjdCIsIlhkIiwiWWQiLCJaZCIsIiRkIiwiYWUiLCJkYSIsInN0YXJ0Iiwic2VsZWN0aW9uU3RhcnQiLCJlbmQiLCJzZWxlY3Rpb25FbmQiLCJnZXRTZWxlY3Rpb24iLCJhbmNob3JOb2RlIiwiYW5jaG9yT2Zmc2V0IiwiZm9jdXNOb2RlIiwiZm9jdXNPZmZzZXQiLCJlYSIsImJlIiwib25TZWxlY3QiLCJTaW1wbGVFdmVudFBsdWdpbiIsIkVudGVyTGVhdmVFdmVudFBsdWdpbiIsIkNoYW5nZUV2ZW50UGx1Z2luIiwiU2VsZWN0RXZlbnRQbHVnaW4iLCJCZWZvcmVJbnB1dEV2ZW50UGx1Z2luIiwiY2UiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkZSIsImVlIiwic2V0VGltZW91dCIsImZlIiwiY2xlYXJUaW1lb3V0IiwiZ2UiLCJwZXJmb3JtYW5jZSIsImhlIiwiaWUiLCJqZSIsImtlIiwibGUiLCJtZSIsIm5lIiwib2UiLCJwZSIsInFlIiwicmUiLCJzZSIsImRpZFRpbWVvdXQiLCJ0aW1lUmVtYWluaW5nIiwidWUiLCJzY2hlZHVsZWRDYWxsYmFjayIsInBvc3RNZXNzYWdlIiwidGUiLCJ0aW1lb3V0VGltZSIsInZlIiwidGltZW91dCIsInByZXYiLCJ3ZSIsIk1hcCIsIkluZmluaXR5IiwiZGVsZXRlIiwieGUiLCJ5ZSIsInplIiwib3B0aW9ucyIsInNlbGVjdGVkIiwiZGVmYXVsdFNlbGVjdGVkIiwiQWUiLCJ3YXNNdWx0aXBsZSIsIm11bHRpcGxlIiwiQmUiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIkNlIiwiRGUiLCJFZSIsIkZlIiwiaHRtbCIsIm1hdGhtbCIsInN2ZyIsIkdlIiwiSGUiLCJJZSIsIkplIiwiTVNBcHAiLCJleGVjVW5zYWZlTG9jYWxGdW5jdGlvbiIsIm5hbWVzcGFjZVVSSSIsImlubmVySFRNTCIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJLZSIsImxhc3RDaGlsZCIsIm5vZGVWYWx1ZSIsIkxlIiwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQiLCJib3JkZXJJbWFnZU91dHNldCIsImJvcmRlckltYWdlU2xpY2UiLCJib3JkZXJJbWFnZVdpZHRoIiwiYm94RmxleCIsImJveEZsZXhHcm91cCIsImJveE9yZGluYWxHcm91cCIsImNvbHVtbkNvdW50IiwiY29sdW1ucyIsImZsZXgiLCJmbGV4R3JvdyIsImZsZXhQb3NpdGl2ZSIsImZsZXhTaHJpbmsiLCJmbGV4TmVnYXRpdmUiLCJmbGV4T3JkZXIiLCJncmlkUm93IiwiZ3JpZFJvd0VuZCIsImdyaWRSb3dTcGFuIiwiZ3JpZFJvd1N0YXJ0IiwiZ3JpZENvbHVtbiIsImdyaWRDb2x1bW5FbmQiLCJncmlkQ29sdW1uU3BhbiIsImdyaWRDb2x1bW5TdGFydCIsImZvbnRXZWlnaHQiLCJsaW5lQ2xhbXAiLCJsaW5lSGVpZ2h0Iiwib3BhY2l0eSIsIm9yZGVyIiwib3JwaGFucyIsInRhYlNpemUiLCJ3aWRvd3MiLCJ6SW5kZXgiLCJ6b29tIiwiZmlsbE9wYWNpdHkiLCJmbG9vZE9wYWNpdHkiLCJzdG9wT3BhY2l0eSIsInN0cm9rZURhc2hhcnJheSIsInN0cm9rZURhc2hvZmZzZXQiLCJzdHJva2VNaXRlcmxpbWl0Iiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdpZHRoIiwiTWUiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJOZSIsInRyaW0iLCJzZXRQcm9wZXJ0eSIsIk9lIiwibWVudWl0ZW0iLCJhcmVhIiwiYmFzZSIsImJyIiwiY29sIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInRyYWNrIiwid2JyIiwiUGUiLCJRZSIsIlJlIiwiU2UiLCJibHVyIiwiZm9jdXMiLCJUZSIsImNyZWF0ZUVsZW1lbnROUyIsIlVlIiwiY3JlYXRlVGV4dE5vZGUiLCJWZSIsIl9faHRtbCIsIm9uQ2xpY2siLCJvbmNsaWNrIiwiV2UiLCJYZSIsIlllIiwiWmUiLCIkZSIsInNldEluaXRpYWxQcm9wZXJ0aWVzIiwiZGlmZlByb3BlcnRpZXMiLCJ1cGRhdGVQcm9wZXJ0aWVzIiwiZGlmZkh5ZHJhdGVkUHJvcGVydGllcyIsImRpZmZIeWRyYXRlZFRleHQiLCJ3YXJuRm9yVW5tYXRjaGVkVGV4dCIsIndhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQiLCJ3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0Iiwid2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50Iiwid2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0IiwicXVlcnlTZWxlY3RvckFsbCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmb3JtIiwiYWYiLCJiZiIsImNmIiwiYXV0b0ZvY3VzIiwiZGYiLCJlZiIsImZmIiwiZ2YiLCJoZiIsImpmIiwia2YiLCJsZiIsIm1mIiwibmYiLCJoYSIsIm9mIiwicGYiLCJxZiIsInJmIiwiY29udGV4dFR5cGVzIiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCIsIl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0IiwiY2hpbGRDb250ZXh0VHlwZXMiLCJzZiIsInRmIiwidWYiLCJ2ZiIsImdldENoaWxkQ29udGV4dCIsIndmIiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQiLCJ4ZiIsInlmIiwiaW5kZXgiLCJtZW1vaXplZFN0YXRlIiwidXBkYXRlUXVldWUiLCJtZW1vaXplZFByb3BzIiwibW9kZSIsImxhc3RFZmZlY3QiLCJmaXJzdEVmZmVjdCIsIm5leHRFZmZlY3QiLCJleHBpcmF0aW9uVGltZSIsInpmIiwiQWYiLCJCZiIsIkNmIiwiRGYiLCJwZW5kaW5nQ2hpbGRyZW4iLCJpbXBsZW1lbnRhdGlvbiIsIkVmIiwiZWFybGllc3RQZW5kaW5nVGltZSIsImxhdGVzdFBlbmRpbmdUaW1lIiwiZWFybGllc3RTdXNwZW5kZWRUaW1lIiwibGF0ZXN0U3VzcGVuZGVkVGltZSIsImxhdGVzdFBpbmdlZFRpbWUiLCJwZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUiLCJmaW5pc2hlZFdvcmsiLCJwZW5kaW5nQ29udGV4dCIsImh5ZHJhdGUiLCJyZW1haW5pbmdFeHBpcmF0aW9uVGltZSIsImZpcnN0QmF0Y2giLCJuZXh0U2NoZWR1bGVkUm9vdCIsIkZmIiwiR2YiLCJIZiIsIklmIiwiX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fIiwiaXNEaXNhYmxlZCIsInN1cHBvcnRzRmliZXIiLCJpbmplY3QiLCJvbkNvbW1pdEZpYmVyUm9vdCIsIm9uQ29tbWl0RmliZXJVbm1vdW50IiwiSmYiLCJLZiIsIkxmIiwiTWYiLCJiYXNlU3RhdGUiLCJmaXJzdFVwZGF0ZSIsImxhc3RVcGRhdGUiLCJmaXJzdENhcHR1cmVkVXBkYXRlIiwibGFzdENhcHR1cmVkVXBkYXRlIiwiZmlyc3RDYXB0dXJlZEVmZmVjdCIsImxhc3RDYXB0dXJlZEVmZmVjdCIsIk5mIiwiT2YiLCJwYXlsb2FkIiwiY2FsbGJhY2siLCJQZiIsIlFmIiwiUmYiLCJTZiIsIlRmIiwiVWYiLCJWZiIsIldmIiwiWGYiLCJzdGFjayIsIllmIiwiWmYiLCIkZiIsImFnIiwiYmciLCJjZyIsImRnIiwiZWciLCJmZyIsImdnIiwiaWciLCJ0YWdOYW1lIiwiamciLCJrZyIsImxnIiwicGciLCJfcmVhY3RJbnRlcm5hbEZpYmVyIiwibWciLCJuZyIsIm9nIiwicWciLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJyZyIsInN0YXRlIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwic2ciLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSIsIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnREaWRNb3VudCIsInRnIiwidWciLCJfc3RyaW5nUmVmIiwidmciLCJ3ZyIsIm5jIiwiSmQiLCJ4ZyIsInlnIiwiemciLCJBZyIsIkJnIiwiQ2ciLCJEZyIsIkVnIiwiRmciLCJHZyIsIkhnIiwiSWciLCJKZyIsIktnIiwiTGciLCJNZyIsIlFnIiwiUmciLCJVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJjb21wb25lbnREaWRVcGRhdGUiLCJlbGVtZW50IiwiaGlkZGVuIiwidW5zdGFibGVfb2JzZXJ2ZWRCaXRzIiwiU2ciLCJUZyIsIlVnIiwiVmciLCJXZyIsIlhnIiwic3VwcHJlc3NSZWFjdEVycm9yTG9nZ2luZyIsImNvbnNvbGUiLCJZZyIsIlpnIiwiJGciLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImFoIiwiYmgiLCJjaCIsImluc2VydEJlZm9yZSIsImRoIiwiZWgiLCJmaCIsImdoIiwiY29tcG9uZW50RGlkQ2F0Y2giLCJoaCIsIlNldCIsImFkZCIsImNvbXBvbmVudFN0YWNrIiwiaWgiLCJoYXMiLCJqaCIsImtoIiwibGgiLCJtaCIsIm5oIiwib2giLCJwaCIsInFoIiwicmgiLCJzaCIsInRoIiwidWgiLCJ2aCIsIndoIiwieGgiLCJ5aCIsInpoIiwiQWgiLCJCaCIsImdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCIsIkNoIiwiRGgiLCJFaCIsIkZoIiwiR2giLCJIaCIsIkloIiwiSmgiLCJLaCIsIkxoIiwiTWgiLCJOaCIsIk9oIiwiUGgiLCJRaCIsIlJoIiwiU2giLCJUaCIsIlVoIiwiVmgiLCJXaCIsIlhoIiwiWWgiLCJaaCIsIiRoIiwiX29uQ29tcGxldGUiLCJhaSIsIl9leHBpcmF0aW9uVGltZSIsIl9kZWZlciIsInJhbmdlQ291bnQiLCJXYSIsImZvY3VzZWRFbGVtIiwic2VsZWN0aW9uUmFuZ2UiLCJqYSIsIm1pIiwiX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGUiLCJmYSIsIm1pbiIsImNyZWF0ZVJhbmdlIiwic2V0U3RhcnQiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsInNldEVuZCIsImxlZnQiLCJzY3JvbGxMZWZ0IiwidG9wIiwic2Nyb2xsVG9wIiwiaGciLCJvYyIsImNhIiwid2kiLCJ4aSIsIk5nIiwiT2ciLCJ5aSIsInljIiwiUGciLCJ6aSIsImJpIiwiY2kiLCJkaSIsImVpIiwiZmkiLCJnaSIsImhpIiwiaWkiLCJqaSIsImtpIiwiZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UiLCJmaW5kSG9zdEluc3RhbmNlQnlGaWJlciIsImxpIiwidXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZSIsImNyZWF0ZUNvbnRhaW5lciIsInVwZGF0ZUNvbnRhaW5lciIsImZsdXNoUm9vdCIsInJlcXVlc3RXb3JrIiwiY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbiIsImJhdGNoZWRVcGRhdGVzIiwidW5iYXRjaGVkVXBkYXRlcyIsImRlZmVycmVkVXBkYXRlcyIsInN5bmNVcGRhdGVzIiwiaW50ZXJhY3RpdmVVcGRhdGVzIiwiZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMiLCJmbHVzaENvbnRyb2xsZWQiLCJmbHVzaFN5bmMiLCJnZXRQdWJsaWNSb290SW5zdGFuY2UiLCJmaW5kSG9zdEluc3RhbmNlIiwiZmluZEhvc3RJbnN0YW5jZVdpdGhOb1BvcnRhbHMiLCJpbmplY3RJbnRvRGV2VG9vbHMiLCJuaSIsIm9pIiwiX2NhbGxiYWNrcyIsIl9uZXh0IiwiX2hhc0NoaWxkcmVuIiwiX2RpZENvbXBsZXRlIiwiX2NoaWxkcmVuIiwiX2ludGVybmFsUm9vdCIsInBpIiwiX29uQ29tbWl0IiwidGhlbiIsImNvbW1pdCIsIl9kaWRDb21taXQiLCJxaSIsInVubW91bnQiLCJsZWdhY3lfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIiLCJjcmVhdGVCYXRjaCIsInJpIiwic2kiLCJoYXNBdHRyaWJ1dGUiLCJ0aSIsIl9yZWFjdFJvb3RDb250YWluZXIiLCJ1aSIsInZpIiwiY3JlYXRlUG9ydGFsIiwiZmluZERPTU5vZGUiLCJ1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJ1bnN0YWJsZV9jcmVhdGVQb3J0YWwiLCJ1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyIsInVuc3RhYmxlX2RlZmVycmVkVXBkYXRlcyIsInVuc3RhYmxlX2ludGVyYWN0aXZlVXBkYXRlcyIsInVuc3RhYmxlX2ZsdXNoQ29udHJvbGxlZCIsIkV2ZW50UGx1Z2luSHViIiwiRXZlbnRQbHVnaW5SZWdpc3RyeSIsIkV2ZW50UHJvcGFnYXRvcnMiLCJSZWFjdENvbnRyb2xsZWRDb21wb25lbnQiLCJSZWFjdERPTUNvbXBvbmVudFRyZWUiLCJSZWFjdERPTUV2ZW50TGlzdGVuZXIiLCJ1bnN0YWJsZV9jcmVhdGVSb290IiwiYnVuZGxlVHlwZSIsInJlbmRlcmVyUGFja2FnZU5hbWUiLCJBaSIsIkJpIiwiY2hlY2tEQ0UiLCJzaGltIiwicHJvcE5hbWUiLCJjb21wb25lbnROYW1lIiwicHJvcEZ1bGxOYW1lIiwic2VjcmV0IiwiaXNSZXF1aXJlZCIsImdldFNoaW0iLCJSZWFjdFByb3BUeXBlcyIsImFycmF5IiwiYm9vbCIsInN0cmluZyIsInN5bWJvbCIsImFueSIsImFycmF5T2YiLCJpbnN0YW5jZU9mIiwib2JqZWN0T2YiLCJvbmVPZiIsIm9uZU9mVHlwZSIsInNoYXBlIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsIlByb3BUeXBlcyIsInJlcXVpcmUkJDEiLCJnbG9iYWwiLCJleHBvcnRzIiwiX3JlYWN0MiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcmVhY3QiLCJfcHJvcFR5cGVzMiIsIl9wcm9wVHlwZXMiLCJfZ3VkMiIsIl9ndWQiLCJfd2FybmluZzIiLCJfd2FybmluZyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJ3cml0YWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiTUFYX1NJR05FRF8zMV9CSVRfSU5UIiwib2JqZWN0SXMiLCJjcmVhdGVFdmVudEVtaXR0ZXIiLCJoYW5kbGVycyIsIm9uIiwiaGFuZGxlciIsIm9mZiIsImZpbHRlciIsIm5ld1ZhbHVlIiwiY2hhbmdlZEJpdHMiLCJvbmx5Q2hpbGQiLCJjcmVhdGVSZWFjdENvbnRleHQiLCJjYWxjdWxhdGVDaGFuZ2VkQml0cyIsIl9Qcm92aWRlciRjaGlsZENvbnRleCIsIl9Db25zdW1lciRjb250ZXh0VHlwZSIsImNvbnRleHRQcm9wIiwiX0NvbXBvbmVudCIsIl90ZW1wIiwiX3RoaXMiLCJfcmV0IiwiX2xlbiIsIl9rZXkiLCJlbWl0dGVyIiwiX3JlZiIsIm5leHRQcm9wcyIsIm9sZFZhbHVlIiwiX0NvbXBvbmVudDIiLCJfdGVtcDIiLCJfdGhpczIiLCJfcmV0MiIsIl9sZW4yIiwiX2tleTIiLCJvblVwZGF0ZSIsIm9ic2VydmVkQml0cyIsIl9pbXBsZW1lbnRhdGlvbjIiLCJfaW1wbGVtZW50YXRpb24iLCJfaW5oZXJpdHNMb29zZSIsIlN0eWxldHJvbkNvbnRleHQiLCJIeWRyYXRpb25Db250ZXh0IiwiRGVidWdFbmdpbmVDb250ZXh0IiwiRGV2UHJvdmlkZXIiLCJoeWRyYXRpbmciLCJCb29sZWFuIiwiZGVidWdBZnRlckh5ZHJhdGlvbiIsIl9wcm90byIsIlJlYWN0IiwiZGVidWciLCJjcmVhdGVTdHlsZWQiLCJnZXRJbml0aWFsU3R5bGUiLCJkcml2ZXIiLCJ3cmFwcGVyIiwic3R5bGVkIiwic3R5bGVBcmciLCJiYXNlU3R5bGV0cm9uIiwicmVkdWNlcnMiLCJjcmVhdGVTdHlsZWRFbGVtZW50Q29tcG9uZW50IiwiYXV0b0NvbXBvc2VTaGFsbG93Iiwic3R5bGV0cm9uIiwiZHluYW1pY0NvbXBvc2VTaGFsbG93Iiwic3RhdGljQ29tcG9zZVNoYWxsb3ciLCJjb21wb3NlU3RhdGljIiwicmVkdWNlciIsImNyZWF0ZVNoYWxsb3dNZXJnZVJlZHVjZXIiLCJhc3NpZ25Db21tdXRhdGl2ZSIsInN0eWxlRm4iLCJjb21wb3NlRHluYW1pYyIsInRvTWVyZ2VSZWR1Y2VyIiwic2hhbGxvd01lcmdlIiwiZm4iLCJtZXJnZUZuIiwic2hhbGxvd01lcmdlUmVkdWNlciIsImlucHV0U3R5bGUiLCJmYWN0b3J5IiwiX3N0eWxlIiwiZGVidWdTdGFja0luZGV4IiwiZGVidWdTdGFja0luZm8iLCJsYXN0IiwiY29tcG9zZWQiLCJfcmVmMiIsIm9taXRQcmVmaXhlZEtleXMiLCJTdHlsZWRFbGVtZW50IiwiZGVidWdFbmdpbmUiLCJlbGVtZW50UHJvcHMiLCJyZXNvbHZlU3R5bGUiLCJzdHlsZUNsYXNzU3RyaW5nIiwiJGFzIiwiY2xhc3NOYW1lIiwiJHJlZiIsIldyYXBwZWQiLCJfX1NUWUxFVFJPTl9fIiwiX3R5cGVvZiIsImJhYmVsSGVscGVycy50eXBlb2YiLCJ0eCIsInJlbmRlckRlY2xhcmF0aXZlUnVsZXMiLCJyZW5kZXJTdHlsZSIsInJlbmRlcktleWZyYW1lcyIsImZvbnRGYW1pbHkiLCJyZW5kZXJGb250RmFjZSIsInByaW1hcnk1MCIsInByaW1hcnkxMDAiLCJwcmltYXJ5MjAwIiwicHJpbWFyeTMwMCIsInByaW1hcnk0MDAiLCJwcmltYXJ5NTAwIiwicHJpbWFyeTYwMCIsInByaW1hcnk3MDAiLCJuZWdhdGl2ZTUwIiwibmVnYXRpdmUxMDAiLCJuZWdhdGl2ZTIwMCIsIm5lZ2F0aXZlMzAwIiwibmVnYXRpdmU0MDAiLCJuZWdhdGl2ZTUwMCIsIm5lZ2F0aXZlNjAwIiwibmVnYXRpdmU3MDAiLCJ3YXJuaW5nNTAiLCJ3YXJuaW5nMTAwIiwid2FybmluZzIwMCIsIndhcm5pbmczMDAiLCJ3YXJuaW5nNDAwIiwid2FybmluZzUwMCIsIndhcm5pbmc2MDAiLCJ3YXJuaW5nNzAwIiwicG9zaXRpdmU1MCIsInBvc2l0aXZlMTAwIiwicG9zaXRpdmUyMDAiLCJwb3NpdGl2ZTMwMCIsInBvc2l0aXZlNDAwIiwicG9zaXRpdmU1MDAiLCJwb3NpdGl2ZTYwMCIsInBvc2l0aXZlNzAwIiwibW9ubzEwMCIsIm1vbm8yMDAiLCJtb25vMzAwIiwibW9ubzQwMCIsIm1vbm81MDAiLCJtb25vNjAwIiwibW9ubzcwMCIsIm1vbm84MDAiLCJtb25vOTAwIiwibW9ubzEwMDAiLCJwcmltYXJ5Rm9udEZhbWlseSIsImNvbG9ycyIsInByaW1hcnkiLCJuZWdhdGl2ZSIsInBvc2l0aXZlIiwid2hpdGUiLCJibGFjayIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kQWx0IiwiYmFja2dyb3VuZEludiIsImZvcmVncm91bmQiLCJmb3JlZ3JvdW5kQWx0IiwiZm9yZWdyb3VuZEludiIsImJvcmRlciIsImJvcmRlckFsdCIsImJvcmRlckZvY3VzIiwiYm9yZGVyRXJyb3IiLCJidXR0b25QcmltYXJ5RmlsbCIsImJ1dHRvblByaW1hcnlUZXh0IiwiYnV0dG9uUHJpbWFyeUhvdmVyIiwiYnV0dG9uUHJpbWFyeUFjdGl2ZSIsImJ1dHRvblNlY29uZGFyeUZpbGwiLCJidXR0b25TZWNvbmRhcnlUZXh0IiwiYnV0dG9uVGVydGlhcnlGaWxsIiwiYnV0dG9uVGVydGlhcnlUZXh0IiwiYnV0dG9uTWluaW1hbEZpbGwiLCJidXR0b25NaW5pbWFsVGV4dCIsImJ1dHRvbkRpc2FibGVkRmlsbCIsImJ1dHRvbkRpc2FibGVkVGV4dCIsImxpbmtUZXh0IiwibGlua1Zpc2l0ZWQiLCJsaW5rSG92ZXIiLCJzaGFkb3dGb2N1cyIsInNoYWRvd0Vycm9yIiwidHlwb2dyYXBoeSIsImZvbnQxMDAiLCJmb250U2l6ZSIsImZvbnQyMDAiLCJmb250MjUwIiwiZm9udDMwMCIsImZvbnQzNTAiLCJmb250NDAwIiwiZm9udDQ1MCIsImZvbnQ1MDAiLCJsZXR0ZXJTcGFjaW5nIiwiZm9udDYwMCIsImZvbnQ3MDAiLCJmb250ODAwIiwiZm9udDkwMCIsImZvbnQxMDAwIiwic2l6aW5nIiwic2NhbGUwIiwic2NhbGUxMDAiLCJzY2FsZTIwMCIsInNjYWxlMzAwIiwic2NhbGU0MDAiLCJzY2FsZTUwMCIsInNjYWxlNjAwIiwic2NhbGU3MDAiLCJzY2FsZTgwMCIsInNjYWxlOTAwIiwic2NhbGUxMDAwIiwic2NhbGUxMjAwIiwic2NhbGUxNDAwIiwic2NhbGUxNjAwIiwic2NhbGUyNDAwIiwic2NhbGUzMjAwIiwic2NhbGU0ODAwIiwibGlnaHRpbmciLCJzaGFkb3c0MDAiLCJzaGFkb3c1MDAiLCJzaGFkb3c2MDAiLCJzaGFkb3c3MDAiLCJvdmVybGF5MCIsIm92ZXJsYXkxMDAiLCJvdmVybGF5MjAwIiwib3ZlcmxheTMwMCIsIm92ZXJsYXk0MDAiLCJvdmVybGF5NTAwIiwib3ZlcmxheTYwMCIsImJvcmRlcnMiLCJ1c2VSb3VuZGVkQ29ybmVycyIsInJhZGl1czEwMCIsInJhZGl1czIwMCIsInJhZGl1czMwMCIsInRpbWluZzEwMCIsInRpbWluZzQwMCIsInRpbWluZzcwMCIsImVhc2VPdXRDdXJ2ZSIsImVhc2VJbkN1cnZlIiwiZWFzZUluT3V0Q3VydmUiLCJUaGVtZUNvbnRleHQiLCJMSUdIVF9USEVNRSIsIlRoZW1lUHJvdmlkZXIiLCJ0aGVtZSIsIlJlYWN0LmNyZWF0ZUVsZW1lbnQiLCJ3aXRoVGhlbWVIT0MiLCJBUlJPV19TSVpFIiwiUE9QT1ZFUl9NQVJHSU4iLCJQTEFDRU1FTlQiLCJhdXRvIiwidG9wTGVmdCIsInRvcFJpZ2h0IiwicmlnaHRUb3AiLCJyaWdodCIsInJpZ2h0Qm90dG9tIiwiYm90dG9tUmlnaHQiLCJib3R0b20iLCJib3R0b21MZWZ0IiwibGVmdEJvdHRvbSIsImxlZnRUb3AiLCJUUklHR0VSX1RZUEUiLCJjbGljayIsImhvdmVyIiwiU1RBVEVfQ0hBTkdFX1RZUEUiLCJvcGVuIiwiY2xvc2UiLCJBQ0NFU1NJQklMSVRZX1RZUEUiLCJub25lIiwibWVudSIsInRvb2x0aXAiLCJiYXNlRGVmYXVsdFByb3BzIiwiYWNjZXNzaWJpbGl0eVR5cGUiLCJjb21wb25lbnRzIiwib25Nb3VzZUVudGVyRGVsYXkiLCJvbk1vdXNlTGVhdmVEZWxheSIsInBsYWNlbWVudCIsInNob3dBcnJvdyIsInRyaWdnZXJUeXBlIiwiZGVmYXVsdFN0YXRlUmVkdWNlciIsIm5leHRTdGF0ZSIsIlN0YXRlZnVsQ29udGFpbmVyIiwiaXNPcGVuIiwiaW5pdGlhbFN0YXRlIiwib25CbHVyIiwib25DbGlja091dHNpZGUiLCJvbkVzYyIsIm9uRm9jdXMiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJvbkNvbnRlbnRDbG9zZSIsInJlbmRlckNvbnRlbnQiLCJjb250ZW50IiwiaW50ZXJuYWxTZXRTdGF0ZSIsImNoYW5nZXMiLCJzdGF0ZVJlZHVjZXIiLCJwcmV2U3RhdGUiLCJkaXNtaXNzT25DbGlja091dHNpZGUiLCJkaXNtaXNzT25Fc2MiLCJwb3BvdmVyUHJvcHMiLCJ0b3BMZXZlbCIsImRvY2N5IiwibWluRG9jIiwiaXNCcm93c2VyIiwibG9uZ2VyVGltZW91dEJyb3dzZXJzIiwidGltZW91dER1cmF0aW9uIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWljcm90YXNrRGVib3VuY2UiLCJjYWxsZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRhc2tEZWJvdW5jZSIsInNjaGVkdWxlZCIsInN1cHBvcnRzTWljcm9UYXNrcyIsImRlYm91bmNlIiwiaXNGdW5jdGlvbiIsImZ1bmN0aW9uVG9DaGVjayIsImdldFR5cGUiLCJnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkiLCJwcm9wZXJ0eSIsImNzcyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQYXJlbnROb2RlIiwiaG9zdCIsImdldFNjcm9sbFBhcmVudCIsIl9nZXRTdHlsZUNvbXB1dGVkUHJvcCIsIm92ZXJmbG93Iiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwiaXNJRTExIiwiTVNJbnB1dE1ldGhvZENvbnRleHQiLCJpc0lFMTAiLCJpc0lFIiwiZ2V0T2Zmc2V0UGFyZW50Iiwibm9PZmZzZXRQYXJlbnQiLCJvZmZzZXRQYXJlbnQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJpc09mZnNldENvbnRhaW5lciIsImZpcnN0RWxlbWVudENoaWxkIiwiZ2V0Um9vdCIsImZpbmRDb21tb25PZmZzZXRQYXJlbnQiLCJlbGVtZW50MSIsImVsZW1lbnQyIiwiRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HIiwiY29tbW9uQW5jZXN0b3JDb250YWluZXIiLCJlbGVtZW50MXJvb3QiLCJnZXRTY3JvbGwiLCJzaWRlIiwidXBwZXJTaWRlIiwic2Nyb2xsaW5nRWxlbWVudCIsImluY2x1ZGVTY3JvbGwiLCJyZWN0Iiwic3VidHJhY3QiLCJtb2RpZmllciIsImdldEJvcmRlcnNTaXplIiwic3R5bGVzIiwiYXhpcyIsInNpZGVBIiwic2lkZUIiLCJwYXJzZUZsb2F0IiwiZ2V0U2l6ZSIsImNvbXB1dGVkU3R5bGUiLCJtYXgiLCJnZXRXaW5kb3dTaXplcyIsImNsYXNzQ2FsbENoZWNrIiwiY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9leHRlbmRzIiwiZ2V0Q2xpZW50UmVjdCIsIm9mZnNldHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzaXplcyIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiaG9yaXpTY3JvbGxiYXIiLCJvZmZzZXRXaWR0aCIsInZlcnRTY3JvbGxiYXIiLCJvZmZzZXRIZWlnaHQiLCJnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUiLCJwYXJlbnQiLCJmaXhlZFBvc2l0aW9uIiwiaXNIVE1MIiwiY2hpbGRyZW5SZWN0IiwicGFyZW50UmVjdCIsInNjcm9sbFBhcmVudCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZSIsImV4Y2x1ZGVTY3JvbGwiLCJyZWxhdGl2ZU9mZnNldCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImlzRml4ZWQiLCJnZXRGaXhlZFBvc2l0aW9uT2Zmc2V0UGFyZW50IiwicGFyZW50RWxlbWVudCIsImVsIiwiZ2V0Qm91bmRhcmllcyIsInBvcHBlciIsInJlZmVyZW5jZSIsInBhZGRpbmciLCJib3VuZGFyaWVzRWxlbWVudCIsImJvdW5kYXJpZXMiLCJib3VuZGFyaWVzTm9kZSIsIl9nZXRXaW5kb3dTaXplcyIsImdldEFyZWEiLCJjb21wdXRlQXV0b1BsYWNlbWVudCIsInJlZlJlY3QiLCJyZWN0cyIsInNvcnRlZEFyZWFzIiwic29ydCIsImZpbHRlcmVkQXJlYXMiLCJjb21wdXRlZFBsYWNlbWVudCIsInZhcmlhdGlvbiIsImdldFJlZmVyZW5jZU9mZnNldHMiLCJjb21tb25PZmZzZXRQYXJlbnQiLCJnZXRPdXRlclNpemVzIiwibWFyZ2luQm90dG9tIiwibWFyZ2luUmlnaHQiLCJnZXRPcHBvc2l0ZVBsYWNlbWVudCIsImhhc2giLCJtYXRjaGVkIiwiZ2V0UG9wcGVyT2Zmc2V0cyIsInJlZmVyZW5jZU9mZnNldHMiLCJwb3BwZXJSZWN0IiwicG9wcGVyT2Zmc2V0cyIsImlzSG9yaXoiLCJtYWluU2lkZSIsInNlY29uZGFyeVNpZGUiLCJtZWFzdXJlbWVudCIsInNlY29uZGFyeU1lYXN1cmVtZW50IiwiZmluZCIsImFyciIsImNoZWNrIiwiZmluZEluZGV4IiwicHJvcCIsImN1ciIsIm1hdGNoIiwicnVuTW9kaWZpZXJzIiwibW9kaWZpZXJzIiwiZW5kcyIsIm1vZGlmaWVyc1RvUnVuIiwid2FybiIsImVuYWJsZWQiLCJ1cGRhdGUiLCJpc0Rlc3Ryb3llZCIsImFycm93U3R5bGVzIiwiYXR0cmlidXRlcyIsImZsaXBwZWQiLCJwb3NpdGlvbkZpeGVkIiwiZmxpcCIsIm9yaWdpbmFsUGxhY2VtZW50IiwicG9zaXRpb24iLCJpc0NyZWF0ZWQiLCJvbkNyZWF0ZSIsImlzTW9kaWZpZXJFbmFibGVkIiwibW9kaWZpZXJOYW1lIiwic29tZSIsImdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSIsInByZWZpeGVzIiwidXBwZXJQcm9wIiwicHJlZml4IiwidG9DaGVjayIsImRlc3Ryb3kiLCJ3aWxsQ2hhbmdlIiwiZGlzYWJsZUV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlT25EZXN0cm95IiwiZ2V0V2luZG93IiwiYXR0YWNoVG9TY3JvbGxQYXJlbnRzIiwiZXZlbnQiLCJzY3JvbGxQYXJlbnRzIiwiaXNCb2R5IiwicGFzc2l2ZSIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJ1cGRhdGVCb3VuZCIsInNjcm9sbEVsZW1lbnQiLCJldmVudHNFbmFibGVkIiwiZW5hYmxlRXZlbnRMaXN0ZW5lcnMiLCJzY2hlZHVsZVVwZGF0ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaXNOdW1lcmljIiwiaXNGaW5pdGUiLCJzZXRTdHlsZXMiLCJ1bml0Iiwic2V0QXR0cmlidXRlcyIsImFwcGx5U3R5bGUiLCJhcnJvd0VsZW1lbnQiLCJhcHBseVN0eWxlT25Mb2FkIiwibW9kaWZpZXJPcHRpb25zIiwiY29tcHV0ZVN0eWxlIiwibGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uIiwiZ3B1QWNjZWxlcmF0aW9uIiwib2Zmc2V0UGFyZW50UmVjdCIsImZsb29yIiwicm91bmQiLCJwcmVmaXhlZFByb3BlcnR5IiwiaW52ZXJ0VG9wIiwiaW52ZXJ0TGVmdCIsImFycm93IiwiaXNNb2RpZmllclJlcXVpcmVkIiwicmVxdWVzdGluZ05hbWUiLCJyZXF1ZXN0ZWROYW1lIiwicmVxdWVzdGluZyIsIl9yZXF1ZXN0aW5nIiwicmVxdWVzdGVkIiwiX2RhdGEkb2Zmc2V0cyRhcnJvdyIsInF1ZXJ5U2VsZWN0b3IiLCJfZGF0YSRvZmZzZXRzIiwiaXNWZXJ0aWNhbCIsImxlbiIsInNpZGVDYXBpdGFsaXplZCIsImFsdFNpZGUiLCJvcFNpZGUiLCJhcnJvd0VsZW1lbnRTaXplIiwiY2VudGVyIiwicG9wcGVyTWFyZ2luU2lkZSIsInBvcHBlckJvcmRlclNpZGUiLCJzaWRlVmFsdWUiLCJnZXRPcHBvc2l0ZVZhcmlhdGlvbiIsInBsYWNlbWVudHMiLCJ2YWxpZFBsYWNlbWVudHMiLCJjbG9ja3dpc2UiLCJjb3VudGVyIiwicmV2ZXJzZSIsIkJFSEFWSU9SUyIsIkZMSVAiLCJDTE9DS1dJU0UiLCJDT1VOVEVSQ0xPQ0tXSVNFIiwicGxhY2VtZW50T3Bwb3NpdGUiLCJmbGlwT3JkZXIiLCJiZWhhdmlvciIsInN0ZXAiLCJyZWZPZmZzZXRzIiwib3ZlcmxhcHNSZWYiLCJvdmVyZmxvd3NMZWZ0Iiwib3ZlcmZsb3dzUmlnaHQiLCJvdmVyZmxvd3NUb3AiLCJvdmVyZmxvd3NCb3R0b20iLCJvdmVyZmxvd3NCb3VuZGFyaWVzIiwiZmxpcHBlZFZhcmlhdGlvbiIsImZsaXBWYXJpYXRpb25zIiwia2VlcFRvZ2V0aGVyIiwidG9WYWx1ZSIsInN0ciIsInNpemUiLCJwYXJzZU9mZnNldCIsImJhc2VQbGFjZW1lbnQiLCJ1c2VIZWlnaHQiLCJmcmFnbWVudHMiLCJmcmFnIiwiZGl2aWRlciIsInNwbGl0UmVnZXgiLCJvcHMiLCJvcCIsIm1lcmdlV2l0aFByZXZpb3VzIiwicmVkdWNlIiwiaW5kZXgyIiwicHJldmVudE92ZXJmbG93IiwidHJhbnNmb3JtUHJvcCIsInBvcHBlclN0eWxlcyIsInRyYW5zZm9ybSIsInByaW9yaXR5IiwiZXNjYXBlV2l0aFJlZmVyZW5jZSIsInNlY29uZGFyeSIsInNoaWZ0Iiwic2hpZnR2YXJpYXRpb24iLCJzaGlmdE9mZnNldHMiLCJoaWRlIiwiYm91bmQiLCJpbm5lciIsInN1YnRyYWN0TGVuZ3RoIiwib25Mb2FkIiwiRGVmYXVsdHMiLCJQb3BwZXIiLCJqcXVlcnkiLCJ1cGRhdGUkJDEiLCJkZXN0cm95JCQxIiwiZW5hYmxlRXZlbnRMaXN0ZW5lcnMkJDEiLCJkaXNhYmxlRXZlbnRMaXN0ZW5lcnMkJDEiLCJVdGlscyIsIlBvcHBlclV0aWxzIiwiZ2V0QnVpSWQiLCJPUFBPU0lURV9QT1NJVElPTlMiLCJnZXRPcHBvc2l0ZVBvc2l0aW9uIiwiY2FwaXRhbGl6ZSIsInRvUG9wcGVyUGxhY2VtZW50IiwiZnJvbVBvcHBlclBsYWNlbWVudCIsInBvcG92ZXJQbGFjZW1lbnQiLCJzcGxpdFBsYWNlbWVudCIsIm1hdGNoZXMiLCJwcmVwYXJlUG9wb3ZlclBvc2l0aW9uU3R5bGVzIiwicmVzdFN0eWxlcyIsInByZXBhcmVBcnJvd1Bvc2l0aW9uU3R5bGVzIiwicG9wcGVyQXJyb3dTdHlsZXMiLCJnZXRUcmFuc2Zvcm1PcmlnaW4iLCJhbGlnbm1lbnQiLCJ4T2Zmc2V0IiwieU9mZnNldCIsImdldFBvcG92ZXJNYXJnaW5TdHlsZXMiLCJvcHBvc2l0ZSIsIkFSUk9XX1dJRFRIIiwic3FydCIsIkFOSU1BVElPTl9TVEFSVF9LRVlGUkFNRSIsIkFOSU1BVElPTl9FTkRfS0VZRlJBTUUiLCJCb2R5IiwiJGlzT3BlbiIsIiRpc0FuaW1hdGluZyIsIiRwbGFjZW1lbnQiLCIkYXJyb3dTdHlsZXMiLCIkcG9zaXRpb25TdHlsZXMiLCIkc2hvd0Fycm93IiwiJHRoZW1lIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyUmFkaXVzIiwiYm94U2hhZG93IiwidHJhbnNmb3JtT3JpZ2luIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJhbmltYXRpb25GaWxsTW9kZSIsImFuaW1hdGlvblBsYXlTdGF0ZSIsImFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uIiwiQXJyb3ciLCJJbm5lciIsIlBhZGRpbmciLCJQb3BvdmVyIiwiZ2VuZXJhdGVkSWQiLCJhbmNob3JSZWYiLCJwb3BwZXJSZWYiLCJhcnJvd1JlZiIsImdldERlZmF1bHRTdGF0ZSIsImFuaW1hdGVJbiIsImlzQW5pbWF0aW5nIiwiYW5pbWF0ZU91dCIsImFuaW1hdGVPdXRDb21wbGV0ZVRpbWVyIiwib25BbmNob3JDbGljayIsIm9uQW5jaG9yTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZVRpbWVyIiwidHJpZ2dlck9uTW91c2VFbnRlcldpdGhEZWxheSIsIm9uQW5jaG9yTW91c2VMZWF2ZSIsInRyaWdnZXJPbk1vdXNlTGVhdmVXaXRoRGVsYXkiLCJvblBvcG92ZXJNb3VzZUVudGVyIiwib25Qb3BvdmVyTW91c2VMZWF2ZSIsIm9uS2V5UHJlc3MiLCJldnQiLCJvblBvcHBlclVwZGF0ZSIsInBvc2l0aW9uU3R5bGVzIiwiYW5pbWF0ZUluVGltZXIiLCJ0cmlnZ2VyT25Nb3VzZUxlYXZlIiwidHJpZ2dlck9uTW91c2VFbnRlciIsIm9uRG9jdW1lbnRDbGljayIsImFuY2hvciIsImluaXRpYWxpemVQb3BwZXIiLCJhZGREb21FdmVudHMiLCJwcmV2UHJvcHMiLCJkZXN0cm95UG9wb3ZlciIsInJlbW92ZURvbUV2ZW50cyIsImFuaW1hdGVPdXRUaW1lciIsImNsZWFyVGltZXJzIiwiYXBwbHlSZWFjdFN0eWxlIiwib25Nb3VzZUVudGVyVGltZXIiLCJ0aW1lcklkIiwiaXNDbGlja1RyaWdnZXIiLCJwb3BvdmVySWQiLCJnZXRQb3BvdmVySWRBdHRyIiwicmVmS2V5IiwiYW5jaG9yUHJvcHMiLCJhbmNob3JJZCIsImdldEFuY2hvcklkQXR0ciIsImlzQWNjZXNzaWJsaXR5VHlwZU1lbnUiLCJyZWxhdGlvbkF0dHIiLCJpc0FjY2Vzc2libGl0eVR5cGVUb29sdGlwIiwiaXNIb3ZlclRyaWdnZXIiLCJib2R5UHJvcHMiLCJyb2xlIiwiY2hpbGRBcnJheSIsImdldEFuY2hvckZyb21DaGlsZHJlbiIsImlzRG9tRWxlbWVudCIsImdldEFuY2hvclByb3BzIiwiU3R5bGVkQXJyb3ciLCJTdHlsZWRCb2R5IiwiU3R5bGVkSW5uZXIiLCJzaGFyZWRQcm9wcyIsImdldFNoYXJlZFByb3BzIiwiZ2V0UG9wb3ZlckJvZHlQcm9wcyIsInJlbmRlcmVkIiwicmVuZGVyQW5jaG9yIiwiUmVhY3RET00iLCJyZW5kZXJQb3BvdmVyIiwiU3RhdGVmdWxQb3BvdmVyIiwicmVzdFByb3BzIiwicG9wb3ZlckNvbnRlbnQiLCJCdXR0b24iLCJjdXJzb3IiLCJ0cmFuc2l0aW9uUHJvcGVydHkiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJDb250YWluZXIiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImp1c3RpZnlDb250ZW50IiwiR3JpZCIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJncmlkVGVtcGxhdGVSb3dzIiwibWFyZ2luIiwiR3JpZEl0ZW0iLCJyb3ciLCJ0ZXh0QWxpZ24iLCJjYXBpdGFsaXplU3RyaW5nIiwicHJlZml4UHJvcGVydHkiLCJfY2FwaXRhbGl6ZVN0cmluZzIiLCJfY2FwaXRhbGl6ZVN0cmluZyIsInByZWZpeFByb3BlcnRpZXMiLCJuZXdTdHlsZSIsInJlcXVpcmVkUHJlZml4ZXMiLCJjYXBpdGFsaXplZFByb3BlcnR5Iiwic3R5bGVQcm9wZXJ0eSIsImoiLCJwcmVmaXhWYWx1ZSIsIm1ldGFEYXRhIiwicHJvY2Vzc2VkVmFsdWUiLCJhZGROZXdWYWx1ZXNPbmx5IiwiYWRkSWZOZXciLCJsaXN0IiwidmFsdWVzIiwiaXNPYmplY3QiLCJjcmVhdGVQcmVmaXhlciIsIl9wcmVmaXhQcm9wZXJ0eTIiLCJfcHJlZml4UHJvcGVydHkiLCJfcHJlZml4VmFsdWUyIiwiX3ByZWZpeFZhbHVlIiwiX2FkZE5ld1ZhbHVlc09ubHkyIiwiX2FkZE5ld1ZhbHVlc09ubHkiLCJfaXNPYmplY3QyIiwiX2lzT2JqZWN0IiwicHJlZml4TWFwIiwicHJlZml4QWxsIiwiY29tYmluZWRWYWx1ZSIsIl9wcm9jZXNzZWRWYWx1ZSIsIm1zIiwid20iLCJ3bXMiLCJ3bW1zIiwiZ3JhYiIsImdyYWJiaW5nIiwiaXNQcmVmaXhlZFZhbHVlIiwicmVnZXgiLCJjcm9zc0ZhZGUiLCJfaXNQcmVmaXhlZFZhbHVlMiIsIl9pc1ByZWZpeGVkVmFsdWUiLCJmbGV4Ym94T2xkIiwiYWx0ZXJuYXRpdmVWYWx1ZXMiLCJ3cmFwIiwiYWx0ZXJuYXRpdmVQcm9wcyIsImFsaWduSXRlbXMiLCJmbGV4V3JhcCIsIldlYmtpdEJveE9yaWVudCIsIldlYmtpdEJveERpcmVjdGlvbiIsImdyYWRpZW50IiwiZ3JhZCIsImltYWdlU2V0IiwicHJvcGVydGllcyIsIm1heEhlaWdodCIsIm1heFdpZHRoIiwiY29sdW1uV2lkdGgiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsInVwcGVyY2FzZVBhdHRlcm4iLCJtc1BhdHRlcm4iLCJjYWNoZSIsImh5cGhlbmF0ZVN0eWxlTmFtZSIsImh5cGhlbmF0ZVByb3BlcnR5IiwiX2h5cGhlbmF0ZVN0eWxlTmFtZTIiLCJfaHlwaGVuYXRlU3R5bGVOYW1lIiwiX2h5cGhlbmF0ZVByb3BlcnR5MiIsIl9oeXBoZW5hdGVQcm9wZXJ0eSIsIldlYmtpdFRyYW5zaXRpb24iLCJXZWJraXRUcmFuc2l0aW9uUHJvcGVydHkiLCJNb3pUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvblByb3BlcnR5IiwicHJlZml4TWFwcGluZyIsIldlYmtpdCIsIk1veiIsInByb3BlcnR5UHJlZml4TWFwIiwibXVsdGlwbGVWYWx1ZXMiLCJzaW5nbGVWYWx1ZSIsImRhc2hDYXNlUHJvcGVydHkiLCJwTGVuIiwidW5zaGlmdCIsIm91dHB1dFZhbHVlIiwid2Via2l0T3V0cHV0IiwibW96T3V0cHV0IiwiX2NyZWF0ZVByZWZpeGVyMiIsIl9jcmVhdGVQcmVmaXhlciIsIl9zdGF0aWNEYXRhMiIsIl9zdGF0aWNEYXRhIiwiX2N1cnNvcjIiLCJfY3Vyc29yIiwiX2Nyb3NzRmFkZTIiLCJfY3Jvc3NGYWRlIiwiX2ZpbHRlcjIiLCJfZmlsdGVyIiwiX2ZsZXgyIiwiX2ZsZXgiLCJfZmxleGJveE9sZDIiLCJfZmxleGJveE9sZCIsIl9ncmFkaWVudDIiLCJfZ3JhZGllbnQiLCJfaW1hZ2VTZXQyIiwiX2ltYWdlU2V0IiwiX3Bvc2l0aW9uMiIsIl9wb3NpdGlvbiIsIl9zaXppbmcyIiwiX3NpemluZyIsIl90cmFuc2l0aW9uMiIsIl90cmFuc2l0aW9uIiwiU2VxdWVudGlhbElER2VuZXJhdG9yIiwibXNiIiwicG93ZXIiLCJpbmNyZW1lbnQiLCJwb3ciLCJNdWx0aUNhY2hlIiwiaWRHZW5lcmF0b3IiLCJvbk5ld0NhY2hlIiwib25OZXdWYWx1ZSIsImNhY2hlcyIsImdldENhY2hlIiwiX2NhY2hlIiwiQ2FjaGUiLCJfcHJvdG8yIiwiYWRkVmFsdWUiLCJjYWNoZWQiLCJpbmplY3RTdHlsZVByZWZpeGVkIiwic3R5bGVDYWNoZSIsIm1lZGlhIiwicHNldWRvIiwiY2xhc3NTdHJpbmciLCJvcmlnaW5hbEtleSIsIm9yaWdpbmFsVmFsIiwicHJvcFZhbFBhaXIiLCJjYWNoZWRJZCIsIl9wcmVmaXhBbGwiLCJfYmxvY2siLCJwcmVmaXhlZCIsInByZWZpeGVkS2V5IiwicHJlZml4ZWRWYWwiLCJwcmVmaXhlZFZhbFR5cGUiLCJwcmVmaXhlZFBhaXIiLCJoeXBoZW5hdGVkIiwiX3ByZWZpeGVkUGFpciIsImJsb2NrIiwic3Vic3RyIiwiYXRvbWljU2VsZWN0b3IiLCJzZWxlY3RvciIsImtleWZyYW1lc1RvQmxvY2siLCJrZXlmcmFtZXMiLCJ0aGluZyIsImRlY2xhcmF0aW9uc1RvQmxvY2siLCJrZXlmcmFtZXNCbG9ja1RvUnVsZSIsImZvbnRGYWNlQmxvY2tUb1J1bGUiLCJzdHlsZUJsb2NrVG9SdWxlIiwiU1RZTEVTX0hZRFJBVE9SIiwiS0VZRlJBTUVTX0hZUkRBVE9SIiwiRk9OVF9GQUNFX0hZRFJBVE9SIiwiaHlkcmF0ZVN0eWxlcyIsImh5ZHJhdG9yIiwiZXhlYyIsIl9tYXRjaCIsIl9wc2V1ZG8iLCJmdWxsS2V5IiwiX21hdGNoMiIsIlN0eWxldHJvbkNsaWVudCIsIm9wdHMiLCJzdHlsZUVsZW1lbnRzIiwic3R5bGVJZEdlbmVyYXRvciIsIm9uTmV3U3R5bGUiLCJzaGVldCIsImluc2VydFJ1bGUiLCJjc3NSdWxlcyIsInN0eWxlRWxlbWVudCIsImNvbnRhaW5lciIsImtleWZyYW1lc0NhY2hlIiwiZm9udEZhY2VDYWNoZSIsImh5ZHJhdGVUeXBlIiwiZGF0YXNldCIsImhlYWQiLCJmb250RmFjZSIsImVuZ2luZSIsIlN0eWxldHJvbiIsImFwcCIsIkRFRkFVTFRfVEhFTUUiLCJQb3BvdmVyRXhhbXBsZXMiLCJleGFtcGxlIiwiZ2V0RWxlbWVudEJ5SWQiXSwibWFw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
